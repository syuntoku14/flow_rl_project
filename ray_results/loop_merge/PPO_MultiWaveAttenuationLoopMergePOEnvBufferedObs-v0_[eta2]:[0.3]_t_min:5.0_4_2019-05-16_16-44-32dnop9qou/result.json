{"date": "2019-05-16_16-46-54", "timestamp": 1558025214, "timesteps_since_restore": 135000, "episodes_total": 101, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebcc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb978>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 1.3453801619877397, "cost1_min": 8.092300391144597, "system_level_velocity_mean": 3.0678014285198665, "cost1_mean": 19.45122843915829, "cost2_mean": -1.3570983606680596, "cost1_max": 50.95658007422968, "cost2_max": 0.0, "system_level_velocity_max": 7.565906033674562, "cost2_min": -18.83571007057487}, "done": false, "time_total_s": 92.32780647277832, "episode_reward_min": 40.0852031826691, "episodes_this_iter": 101, "episode_len_mean": 220.95049504950495, "iterations_since_restore": 1, "time_since_restore": 92.32780647277832, "time_this_iter_s": 92.32780647277832, "pid": 63739, "episode_reward_mean": 96.416994930872, "info": {"grad_time_ms": 34661.734, "update_time_ms": 493.675, "num_steps_trained": 135000, "num_steps_sampled": 135000, "load_time_ms": 91.179, "default": {"cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6306740641593933, "total_loss": 0.7763566374778748, "policy_loss": -0.002394858980551362, "entropy": 1.416325330734253, "kl": 0.004178755450993776, "cur_lr": 0.0005000000237487257, "vf_loss": 0.7779157757759094}, "sample_time_ms": 56775.677}, "timesteps_total": 135000, "hostname": "flow-main", "episode_reward_max": 253.20117656689965, "policy_reward_mean": {}, "training_iteration": 1, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-48-23", "timestamp": 1558025303, "timesteps_since_restore": 270000, "episodes_total": 163, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4c88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f49e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 1.3310051806610652, "cost1_min": 9.005191095042225, "system_level_velocity_mean": 2.858092742160204, "cost1_mean": 27.889914337492595, "cost2_mean": -3.1430808954714, "cost1_max": 76.33152759675903, "cost2_max": 0.0, "system_level_velocity_max": 6.660820521564439, "cost2_min": -32.48288422017298}, "done": false, "time_total_s": 180.712384223938, "episode_reward_min": 45.02595547521107, "episodes_this_iter": 62, "episode_len_mean": 339.33, "iterations_since_restore": 2, "time_since_restore": 180.712384223938, "time_this_iter_s": 88.38457775115967, "pid": 63739, "episode_reward_mean": 137.35350394614557, "info": {"grad_time_ms": 35615.722, "update_time_ms": 253.509, "num_steps_trained": 270000, "num_steps_sampled": 270000, "load_time_ms": 49.826, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.6340410113334656, "total_loss": 1.0193003416061401, "policy_loss": -0.003212921554222703, "entropy": 1.4196821451187134, "kl": 0.006171077489852905, "cur_lr": 0.0005000000237487257, "vf_loss": 1.0218961238861084}, "sample_time_ms": 54177.484}, "timesteps_total": 270000, "hostname": "flow-main", "episode_reward_max": 379.80599616797394, "policy_reward_mean": {}, "training_iteration": 2, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-49-51", "timestamp": 1558025391, "timesteps_since_restore": 405000, "episodes_total": 208, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 1.3310051806610652, "cost1_min": 9.762649572889185, "system_level_velocity_mean": 3.021568423522122, "cost1_mean": 49.47898483753722, "cost2_mean": -6.715916423712364, "cost1_max": 282.90888749695495, "cost2_max": 0.0, "system_level_velocity_max": 13.113232731291511, "cost2_min": -32.48288422017298}, "done": false, "time_total_s": 268.67712903022766, "episode_reward_min": 48.81324786444594, "episodes_this_iter": 45, "episode_len_mean": 486.72, "iterations_since_restore": 3, "time_since_restore": 268.67712903022766, "time_this_iter_s": 87.96474480628967, "pid": 63739, "episode_reward_mean": 241.45423564471497, "info": {"grad_time_ms": 35466.363, "update_time_ms": 172.04, "num_steps_trained": 405000, "num_steps_sampled": 405000, "load_time_ms": 35.865, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.47887036204338074, "total_loss": 2.4284827709198, "policy_loss": -0.0041822344064712524, "entropy": 1.3972985744476318, "kl": 0.007853571325540543, "cur_lr": 0.0005000000237487257, "vf_loss": 2.431879758834839}, "sample_time_ms": 53633.169}, "timesteps_total": 405000, "hostname": "flow-main", "episode_reward_max": 1410.2037129024907, "policy_reward_mean": {}, "training_iteration": 3, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-51-18", "timestamp": 1558025478, "timesteps_since_restore": 540000, "episodes_total": 252, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdda0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 1.6656661562443282, "cost1_min": 13.57904287421383, "system_level_velocity_mean": 3.7398508644268107, "cost1_mean": 75.4821913456692, "cost2_mean": -11.589020436760881, "cost1_max": 282.90888749695495, "cost2_max": 0.0, "system_level_velocity_max": 13.113232731291511, "cost2_min": -41.5406261637749}, "done": false, "time_total_s": 355.6168050765991, "episode_reward_min": 66.00613974170378, "episodes_this_iter": 44, "episode_len_mean": 559.02, "iterations_since_restore": 4, "time_since_restore": 355.6168050765991, "time_this_iter_s": 86.93967604637146, "pid": 63739, "episode_reward_mean": 364.8513522338819, "info": {"grad_time_ms": 35260.125, "update_time_ms": 131.285, "num_steps_trained": 540000, "num_steps_sampled": 540000, "load_time_ms": 29.068, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4501972794532776, "total_loss": 2.365394115447998, "policy_loss": -0.005180290900170803, "entropy": 1.3946757316589355, "kl": 0.009259458631277084, "cur_lr": 0.0005000000237487257, "vf_loss": 2.3696486949920654}, "sample_time_ms": 53237.629}, "timesteps_total": 540000, "hostname": "flow-main", "episode_reward_max": 1410.2037129024907, "policy_reward_mean": {}, "training_iteration": 4, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-52-43", "timestamp": 1558025563, "timesteps_since_restore": 675000, "episodes_total": 292, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f53c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5c50>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.097747105264109, "cost1_min": 14.005870008536982, "system_level_velocity_mean": 4.349614335346582, "cost1_mean": 95.93745612219071, "cost2_mean": -16.95947413023535, "cost1_max": 244.8104896697624, "cost2_max": 0.0, "system_level_velocity_max": 11.339462466842713, "cost2_min": -48.36776254801118}, "done": false, "time_total_s": 441.3955249786377, "episode_reward_min": 66.00613974170378, "episodes_this_iter": 40, "episode_len_mean": 595.8, "iterations_since_restore": 5, "time_since_restore": 441.3955249786377, "time_this_iter_s": 85.77871990203857, "pid": 63739, "episode_reward_mean": 460.28658043914436, "info": {"grad_time_ms": 35078.191, "update_time_ms": 107.095, "num_steps_trained": 675000, "num_steps_sampled": 675000, "load_time_ms": 24.484, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4502410292625427, "total_loss": 3.2398841381073, "policy_loss": -0.00485547911375761, "entropy": 1.3961567878723145, "kl": 0.008252223022282124, "cur_lr": 0.0005000000237487257, "vf_loss": 3.2439146041870117}, "sample_time_ms": 52826.319}, "timesteps_total": 675000, "hostname": "flow-main", "episode_reward_max": 1206.5719185321827, "policy_reward_mean": {}, "training_iteration": 5, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-54-10", "timestamp": 1558025650, "timesteps_since_restore": 810000, "episodes_total": 330, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d080>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.6642765121354937, "cost1_min": 15.13280429134997, "system_level_velocity_mean": 4.826370654786761, "cost1_mean": 118.15953861843045, "cost2_mean": -21.503026308025788, "cost1_max": 180.89247527624184, "cost2_max": 0.0, "system_level_velocity_max": 6.740867116410919, "cost2_min": -51.93076403055044}, "done": false, "time_total_s": 528.0529539585114, "episode_reward_min": 73.20988955634891, "episodes_this_iter": 38, "episode_len_mean": 654.61, "iterations_since_restore": 6, "time_since_restore": 528.0529539585114, "time_this_iter_s": 86.65742897987366, "pid": 63739, "episode_reward_mean": 565.5707086485348, "info": {"grad_time_ms": 34841.381, "update_time_ms": 90.806, "num_steps_trained": 810000, "num_steps_sampled": 810000, "load_time_ms": 21.789, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.42411407828330994, "total_loss": 3.70892333984375, "policy_loss": -0.005045110359787941, "entropy": 1.3895896673202515, "kl": 0.008809462189674377, "cur_lr": 0.0005000000237487257, "vf_loss": 3.713087320327759}, "sample_time_ms": 52814.409}, "timesteps_total": 810000, "hostname": "flow-main", "episode_reward_max": 868.1635344246334, "policy_reward_mean": {}, "training_iteration": 6, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-55-36", "timestamp": 1558025736, "timesteps_since_restore": 945000, "episodes_total": 366, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.241950365665261, "cost1_min": 15.13280429134997, "system_level_velocity_mean": 5.4420294807054965, "cost1_mean": 137.3840689530077, "cost2_mean": -26.269089720794064, "cost1_max": 217.20773416836295, "cost2_max": -0.07948596283058536, "system_level_velocity_max": 8.836130874930078, "cost2_min": -64.70230389173693}, "done": false, "time_total_s": 613.5408983230591, "episode_reward_min": 73.20988955634891, "episodes_this_iter": 36, "episode_len_mean": 678.75, "iterations_since_restore": 7, "time_since_restore": 613.5408983230591, "time_this_iter_s": 85.48794436454773, "pid": 63739, "episode_reward_mean": 655.8130248864949, "info": {"grad_time_ms": 34756.092, "update_time_ms": 79.187, "num_steps_trained": 945000, "num_steps_sampled": 945000, "load_time_ms": 19.68, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.45500388741493225, "total_loss": 4.3751749992370605, "policy_loss": -0.0048940181732177734, "entropy": 1.3856741189956665, "kl": 0.009751837700605392, "cur_lr": 0.0005000000237487257, "vf_loss": 4.379094123840332}, "sample_time_ms": 52556.466}, "timesteps_total": 945000, "hostname": "flow-main", "episode_reward_max": 1049.6907226599328, "policy_reward_mean": {}, "training_iteration": 7, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-57-02", "timestamp": 1558025822, "timesteps_since_restore": 1080000, "episodes_total": 403, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd260497908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f48d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.120343467460548, "cost1_min": 18.61165047229338, "system_level_velocity_mean": 5.9817588311360455, "cost1_mean": 156.9756479897409, "cost2_mean": -28.404386151760022, "cost1_max": 217.20773416836295, "cost2_max": 0.0, "system_level_velocity_max": 8.836130874930078, "cost2_min": -64.70230389173693}, "done": false, "time_total_s": 700.2205226421356, "episode_reward_min": 89.95369664226207, "episodes_this_iter": 37, "episode_len_mean": 716.7, "iterations_since_restore": 8, "time_since_restore": 700.2205226421356, "time_this_iter_s": 86.67962431907654, "pid": 63739, "episode_reward_mean": 750.4649610742375, "info": {"grad_time_ms": 34643.287, "update_time_ms": 70.342, "num_steps_trained": 1080000, "num_steps_sampled": 1080000, "load_time_ms": 18.153, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.42844316363334656, "total_loss": 5.242814540863037, "policy_loss": -0.0048379660584032536, "entropy": 1.376891016960144, "kl": 0.009056572802364826, "cur_lr": 0.0005000000237487257, "vf_loss": 5.246747016906738}, "sample_time_ms": 52562.744}, "timesteps_total": 1080000, "hostname": "flow-main", "episode_reward_max": 1074.438143569206, "policy_reward_mean": {}, "training_iteration": 8, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-58-31", "timestamp": 1558025911, "timesteps_since_restore": 1215000, "episodes_total": 440, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdd68>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.656553329423484, "cost1_min": 28.358778768540315, "system_level_velocity_mean": 6.472346041997065, "cost1_mean": 168.8955682037903, "cost2_mean": -29.098695729647634, "cost1_max": 247.3696095909415, "cost2_max": 0.0, "system_level_velocity_max": 10.687064902753137, "cost2_min": -69.49442376221108}, "done": false, "time_total_s": 788.489542722702, "episode_reward_min": 141.7938938427017, "episodes_this_iter": 37, "episode_len_mean": 729.01, "iterations_since_restore": 9, "time_since_restore": 788.489542722702, "time_this_iter_s": 88.2690200805664, "pid": 63739, "episode_reward_mean": 808.145202227769, "info": {"grad_time_ms": 34716.174, "update_time_ms": 63.356, "num_steps_trained": 1215000, "num_steps_sampled": 1215000, "load_time_ms": 16.892, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.46494045853614807, "total_loss": 6.686846733093262, "policy_loss": -0.005612470209598541, "entropy": 1.374342679977417, "kl": 0.010321682319045067, "cur_lr": 0.0005000000237487257, "vf_loss": 6.691426753997803}, "sample_time_ms": 52580.165}, "timesteps_total": 1215000, "hostname": "flow-main", "episode_reward_max": 1182.0352124835053, "policy_reward_mean": {}, "training_iteration": 9, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_16-59-59", "timestamp": 1558025999, "timesteps_since_restore": 1350000, "episodes_total": 479, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.656553329423484, "cost1_min": 28.358778768540315, "system_level_velocity_mean": 6.9871557368847, "cost1_mean": 176.73890299706767, "cost2_mean": -28.756620169100792, "cost1_max": 259.2379859993096, "cost2_max": 0.0, "system_level_velocity_max": 11.305175700534106, "cost2_min": -69.49442376221108}, "done": false, "time_total_s": 876.6233050823212, "episode_reward_min": 141.7938938427017, "episodes_this_iter": 39, "episode_len_mean": 723.38, "iterations_since_restore": 10, "time_since_restore": 876.6233050823212, "time_this_iter_s": 88.13376235961914, "pid": 63739, "episode_reward_mean": 846.7977719514591, "info": {"grad_time_ms": 34691.256, "update_time_ms": 58.0, "num_steps_trained": 1350000, "num_steps_sampled": 1350000, "load_time_ms": 15.974, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4618661403656006, "total_loss": 7.342085361480713, "policy_loss": -0.005610741209238768, "entropy": 1.3667738437652588, "kl": 0.010850775986909866, "cur_lr": 0.0005000000237487257, "vf_loss": 7.346611022949219}, "sample_time_ms": 52666.282}, "timesteps_total": 1350000, "hostname": "flow-main", "episode_reward_max": 1293.2416829755318, "policy_reward_mean": {}, "training_iteration": 10, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-01-27", "timestamp": 1558026087, "timesteps_since_restore": 1485000, "episodes_total": 516, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fde80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.985721940160435, "cost1_min": 53.710418761488846, "system_level_velocity_mean": 7.264656725284055, "cost1_mean": 180.61993123787062, "cost2_mean": -31.2624668708864, "cost1_max": 267.50354490014365, "cost2_max": -0.0075918538388707905, "system_level_velocity_max": 12.016899671320147, "cost2_min": -69.49442376221108}, "done": false, "time_total_s": 964.8617551326752, "episode_reward_min": 244.13080046589195, "episodes_this_iter": 37, "episode_len_mean": 722.55, "iterations_since_restore": 11, "time_since_restore": 964.8617551326752, "time_this_iter_s": 88.238450050354, "pid": 63739, "episode_reward_mean": 862.7083421771288, "info": {"grad_time_ms": 34711.607, "update_time_ms": 9.527, "num_steps_trained": 1485000, "num_steps_sampled": 1485000, "load_time_ms": 7.478, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4659428894519806, "total_loss": 7.414648532867432, "policy_loss": -0.005816031247377396, "entropy": 1.355806589126587, "kl": 0.011645777150988579, "cur_lr": 0.0005000000237487257, "vf_loss": 7.419300079345703}, "sample_time_ms": 52299.97}, "timesteps_total": 1485000, "hostname": "flow-main", "episode_reward_max": 1313.5545202870453, "policy_reward_mean": {}, "training_iteration": 11, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-02-55", "timestamp": 1558026175, "timesteps_since_restore": 1620000, "episodes_total": 554, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdcc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd358>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd668>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.436415725641883, "cost1_min": 38.09277849914088, "system_level_velocity_mean": 7.310707347301006, "cost1_mean": 179.78057015135045, "cost2_mean": -33.054054982121194, "cost1_max": 267.50354490014365, "cost2_max": -1.9654980140116505, "system_level_velocity_max": 12.016899671320147, "cost2_min": -76.2748277583392}, "done": false, "time_total_s": 1052.581459760666, "episode_reward_min": 175.2015543387445, "episodes_this_iter": 38, "episode_len_mean": 717.98, "iterations_since_restore": 12, "time_since_restore": 1052.581459760666, "time_this_iter_s": 87.71970462799072, "pid": 63739, "episode_reward_mean": 856.6148818635077, "info": {"grad_time_ms": 34453.742, "update_time_ms": 9.061, "num_steps_trained": 1620000, "num_steps_sampled": 1620000, "load_time_ms": 7.356, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5051013827323914, "total_loss": 7.937073707580566, "policy_loss": -0.005231020040810108, "entropy": 1.3497440814971924, "kl": 0.010822995565831661, "cur_lr": 0.0005000000237487257, "vf_loss": 7.941222667694092}, "sample_time_ms": 52491.48}, "timesteps_total": 1620000, "hostname": "flow-main", "episode_reward_max": 1318.7279361090714, "policy_reward_mean": {}, "training_iteration": 12, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-04-24", "timestamp": 1558026264, "timesteps_since_restore": 1755000, "episodes_total": 590, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd438>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.436415725641883, "cost1_min": 38.09277849914088, "system_level_velocity_mean": 7.3901474845323705, "cost1_mean": 184.4816691357695, "cost2_mean": -35.48088718229869, "cost1_max": 265.5097602301918, "cost2_max": -5.8805766945914115, "system_level_velocity_max": 11.89174744082884, "cost2_min": -76.2748277583392}, "done": false, "time_total_s": 1141.3793759346008, "episode_reward_min": 175.2015543387445, "episodes_this_iter": 36, "episode_len_mean": 729.67, "iterations_since_restore": 13, "time_since_restore": 1141.3793759346008, "time_this_iter_s": 88.79791617393494, "pid": 63739, "episode_reward_mean": 877.1182763604914, "info": {"grad_time_ms": 34356.436, "update_time_ms": 8.927, "num_steps_trained": 1755000, "num_steps_sampled": 1755000, "load_time_ms": 7.337, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5308223962783813, "total_loss": 8.38207721710205, "policy_loss": -0.006337565835565329, "entropy": 1.3547587394714355, "kl": 0.012168196961283684, "cur_lr": 0.0005000000237487257, "vf_loss": 8.38719654083252}, "sample_time_ms": 52674.437}, "timesteps_total": 1755000, "hostname": "flow-main", "episode_reward_max": 1318.7279361090714, "policy_reward_mean": {}, "training_iteration": 13, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-05-52", "timestamp": 1558026352, "timesteps_since_restore": 1890000, "episodes_total": 627, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd668>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd550>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.436415725641883, "cost1_min": 38.09277849914088, "system_level_velocity_mean": 7.624429012020418, "cost1_mean": 191.28303797368, "cost2_mean": -33.57439999884414, "cost1_max": 265.5097602301918, "cost2_max": -1.0420479323576948, "system_level_velocity_max": 11.89174744082884, "cost2_min": -76.2748277583392}, "done": false, "time_total_s": 1229.0875420570374, "episode_reward_min": 175.2015543387445, "episodes_this_iter": 37, "episode_len_mean": 736.51, "iterations_since_restore": 14, "time_since_restore": 1229.0875420570374, "time_this_iter_s": 87.70816612243652, "pid": 63739, "episode_reward_mean": 913.8000106738084, "info": {"grad_time_ms": 34328.42, "update_time_ms": 8.888, "num_steps_trained": 1890000, "num_steps_sampled": 1890000, "load_time_ms": 7.124, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.49070459604263306, "total_loss": 9.056713104248047, "policy_loss": -0.005428439471870661, "entropy": 1.3488037586212158, "kl": 0.011709567159414291, "cur_lr": 0.0005000000237487257, "vf_loss": 9.060970306396484}, "sample_time_ms": 52780.909}, "timesteps_total": 1890000, "hostname": "flow-main", "episode_reward_max": 1318.7279361090714, "policy_reward_mean": {}, "training_iteration": 14, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-07-20", "timestamp": 1558026440, "timesteps_since_restore": 2025000, "episodes_total": 665, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fda20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd400>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.6346898830781385, "cost1_min": 28.80608038850357, "system_level_velocity_mean": 7.791109399479236, "cost1_mean": 195.07401175235336, "cost2_mean": -32.38816111890767, "cost1_max": 260.4639807987826, "cost2_max": -1.0420479323576948, "system_level_velocity_max": 11.780717205702054, "cost2_min": -73.35559231752079}, "done": false, "time_total_s": 1317.013135433197, "episode_reward_min": 129.79769423806138, "episodes_this_iter": 38, "episode_len_mean": 731.07, "iterations_since_restore": 15, "time_since_restore": 1317.013135433197, "time_this_iter_s": 87.92559337615967, "pid": 63739, "episode_reward_mean": 933.1402754928607, "info": {"grad_time_ms": 34351.406, "update_time_ms": 9.137, "num_steps_trained": 2025000, "num_steps_sampled": 2025000, "load_time_ms": 7.151, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4912431240081787, "total_loss": 9.396350860595703, "policy_loss": -0.0055963750928640366, "entropy": 1.349151611328125, "kl": 0.011693684384226799, "cur_lr": 0.0005000000237487257, "vf_loss": 9.400776863098145}, "sample_time_ms": 52971.97}, "timesteps_total": 2025000, "hostname": "flow-main", "episode_reward_max": 1300.756832095371, "policy_reward_mean": {}, "training_iteration": 15, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-08-48", "timestamp": 1558026528, "timesteps_since_restore": 2160000, "episodes_total": 701, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4be0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4320>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.6346898830781385, "cost1_min": 28.80608038850357, "system_level_velocity_mean": 7.78024421575485, "cost1_mean": 194.55271557953066, "cost2_mean": -35.07974314892563, "cost1_max": 260.4639807987826, "cost2_max": -1.0420479323576948, "system_level_velocity_max": 11.780717205702054, "cost2_min": -68.34120566945744}, "done": false, "time_total_s": 1405.427850484848, "episode_reward_min": 129.79769423806138, "episodes_this_iter": 36, "episode_len_mean": 727.89, "iterations_since_restore": 16, "time_since_restore": 1405.427850484848, "time_this_iter_s": 88.414715051651, "pid": 63739, "episode_reward_mean": 927.4520859548204, "info": {"grad_time_ms": 34489.293, "update_time_ms": 9.21, "num_steps_trained": 2160000, "num_steps_sampled": 2160000, "load_time_ms": 7.035, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5030690431594849, "total_loss": 9.89038372039795, "policy_loss": -0.00573828024789691, "entropy": 1.354856252670288, "kl": 0.011857221834361553, "cur_lr": 0.0005000000237487257, "vf_loss": 9.894937515258789}, "sample_time_ms": 53007.862}, "timesteps_total": 2160000, "hostname": "flow-main", "episode_reward_max": 1300.756832095371, "policy_reward_mean": {}, "training_iteration": 16, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-10-17", "timestamp": 1558026617, "timesteps_since_restore": 2295000, "episodes_total": 737, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f47f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f49e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.6346898830781385, "cost1_min": 28.80608038850357, "system_level_velocity_mean": 7.936241371854562, "cost1_mean": 199.13008882527035, "cost2_mean": -36.11639200848874, "cost1_max": 261.15089099385773, "cost2_max": -1.6522412335349022, "system_level_velocity_max": 11.899375074984116, "cost2_min": -68.34120566945744}, "done": false, "time_total_s": 1494.2627317905426, "episode_reward_min": 129.79769423806138, "episodes_this_iter": 36, "episode_len_mean": 728.82, "iterations_since_restore": 17, "time_since_restore": 1494.2627317905426, "time_this_iter_s": 88.83488130569458, "pid": 63739, "episode_reward_mean": 949.3048787607969, "info": {"grad_time_ms": 34590.72, "update_time_ms": 9.429, "num_steps_trained": 2295000, "num_steps_sampled": 2295000, "load_time_ms": 7.281, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4529106318950653, "total_loss": 9.882854461669922, "policy_loss": -0.006300693843513727, "entropy": 1.3679052591323853, "kl": 0.012698810547590256, "cur_lr": 0.0005000000237487257, "vf_loss": 9.887885093688965}, "sample_time_ms": 53232.726}, "timesteps_total": 2295000, "hostname": "flow-main", "episode_reward_max": 1295.5357760850325, "policy_reward_mean": {}, "training_iteration": 17, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-11-44", "timestamp": 1558026704, "timesteps_since_restore": 2430000, "episodes_total": 773, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f54a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5e10>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.29251769921197, "cost1_min": 158.275572413267, "system_level_velocity_mean": 7.9159233937285505, "cost1_mean": 204.89904968496444, "cost2_mean": -36.43582258312068, "cost1_max": 261.15089099385773, "cost2_max": -1.6522412335349022, "system_level_velocity_max": 11.899375074984116, "cost2_min": -68.34120566945744}, "done": false, "time_total_s": 1581.6605293750763, "episode_reward_min": 761.4553054566576, "episodes_this_iter": 36, "episode_len_mean": 748.27, "iterations_since_restore": 18, "time_since_restore": 1581.6605293750763, "time_this_iter_s": 87.39779758453369, "pid": 63739, "episode_reward_mean": 977.2751319091387, "info": {"grad_time_ms": 34694.06, "update_time_ms": 9.803, "num_steps_trained": 2430000, "num_steps_sampled": 2430000, "load_time_ms": 7.198, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4180859923362732, "total_loss": 9.547444343566895, "policy_loss": -0.007042234763503075, "entropy": 1.361371397972107, "kl": 0.013012564741075039, "cur_lr": 0.0005000000237487257, "vf_loss": 9.55318546295166}, "sample_time_ms": 53193.212}, "timesteps_total": 2430000, "hostname": "flow-main", "episode_reward_max": 1295.5357760850325, "policy_reward_mean": {}, "training_iteration": 18, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-13-13", "timestamp": 1558026793, "timesteps_since_restore": 2565000, "episodes_total": 809, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5c18>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.29251769921197, "cost1_min": 154.79716267014174, "system_level_velocity_mean": 7.954379068547434, "cost1_mean": 208.09159067168417, "cost2_mean": -35.476751543751654, "cost1_max": 270.71227410530827, "cost2_max": -1.6522412335349022, "system_level_velocity_max": 11.812908415803642, "cost2_min": -65.42968553740577}, "done": false, "time_total_s": 1670.346347808838, "episode_reward_min": 741.958660077005, "episodes_this_iter": 36, "episode_len_mean": 746.99, "iterations_since_restore": 19, "time_since_restore": 1670.346347808838, "time_this_iter_s": 88.6858184337616, "pid": 63739, "episode_reward_mean": 993.4889131334675, "info": {"grad_time_ms": 34719.454, "update_time_ms": 10.071, "num_steps_trained": 2565000, "num_steps_sampled": 2565000, "load_time_ms": 7.231, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4568455219268799, "total_loss": 9.611946105957031, "policy_loss": -0.006519213784486055, "entropy": 1.3677371740341187, "kl": 0.012885309755802155, "cur_lr": 0.0005000000237487257, "vf_loss": 9.617176055908203}, "sample_time_ms": 53210.039}, "timesteps_total": 2565000, "hostname": "flow-main", "episode_reward_max": 1341.0157375844865, "policy_reward_mean": {}, "training_iteration": 19, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-14-43", "timestamp": 1558026883, "timesteps_since_restore": 2700000, "episodes_total": 845, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f51d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f54a8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.29251769921197, "cost1_min": 154.79716267014174, "system_level_velocity_mean": 7.867046246347459, "cost1_mean": 207.323373206867, "cost2_mean": -35.90996757742641, "cost1_max": 270.71227410530827, "cost2_max": -5.1367304734597425, "system_level_velocity_max": 11.467470502310762, "cost2_min": -65.00077170509023}, "done": false, "time_total_s": 1760.072241783142, "episode_reward_min": 741.958660077005, "episodes_this_iter": 36, "episode_len_mean": 748.04, "iterations_since_restore": 20, "time_since_restore": 1760.072241783142, "time_this_iter_s": 89.7258939743042, "pid": 63739, "episode_reward_mean": 988.9388343432972, "info": {"grad_time_ms": 34847.929, "update_time_ms": 10.339, "num_steps_trained": 2700000, "num_steps_sampled": 2700000, "load_time_ms": 7.256, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4493972361087799, "total_loss": 9.799181938171387, "policy_loss": -0.006470080465078354, "entropy": 1.3661600351333618, "kl": 0.013565100729465485, "cur_lr": 0.0005000000237487257, "vf_loss": 9.804296493530273}, "sample_time_ms": 53237.846}, "timesteps_total": 2700000, "hostname": "flow-main", "episode_reward_max": 1341.0157375844865, "policy_reward_mean": {}, "training_iteration": 20, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-16-10", "timestamp": 1558026970, "timesteps_since_restore": 2835000, "episodes_total": 881, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f52e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f57f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.314722945085899, "cost1_min": 154.79716267014174, "system_level_velocity_mean": 8.26998776138931, "cost1_mean": 213.07017710896665, "cost2_mean": -30.96823597836098, "cost1_max": 270.71227410530827, "cost2_max": -0.41629572299305734, "system_level_velocity_max": 12.127018405550533, "cost2_min": -65.00077170509023}, "done": false, "time_total_s": 1847.408361196518, "episode_reward_min": 741.958660077005, "episodes_this_iter": 36, "episode_len_mean": 748.04, "iterations_since_restore": 21, "time_since_restore": 1847.408361196518, "time_this_iter_s": 87.33611941337585, "pid": 63739, "episode_reward_mean": 1023.9523654490166, "info": {"grad_time_ms": 34793.351, "update_time_ms": 10.615, "num_steps_trained": 2835000, "num_steps_sampled": 2835000, "load_time_ms": 7.476, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4154186546802521, "total_loss": 10.683178901672363, "policy_loss": -0.005487209651619196, "entropy": 1.3565081357955933, "kl": 0.013709638267755508, "cur_lr": 0.0005000000237487257, "vf_loss": 10.687294006347656}, "sample_time_ms": 53202.336}, "timesteps_total": 2835000, "hostname": "flow-main", "episode_reward_max": 1341.0157375844865, "policy_reward_mean": {}, "training_iteration": 21, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-17-39", "timestamp": 1558027059, "timesteps_since_restore": 2970000, "episodes_total": 917, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f54e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5c50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5860>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.314722945085899, "cost1_min": 165.47097511834784, "system_level_velocity_mean": 8.495083720053712, "cost1_mean": 215.67660574434106, "cost2_mean": -28.42940104533694, "cost1_max": 264.6892211128166, "cost2_max": -0.41629572299305734, "system_level_velocity_max": 12.127018405550533, "cost2_min": -62.589132888945514}, "done": false, "time_total_s": 1936.0495474338531, "episode_reward_min": 782.1182327583086, "episodes_this_iter": 36, "episode_len_mean": 748.04, "iterations_since_restore": 22, "time_since_restore": 1936.0495474338531, "time_this_iter_s": 88.6411862373352, "pid": 63739, "episode_reward_mean": 1039.9565462139244, "info": {"grad_time_ms": 34918.204, "update_time_ms": 10.944, "num_steps_trained": 2970000, "num_steps_sampled": 2970000, "load_time_ms": 7.406, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.40531718730926514, "total_loss": 10.39527416229248, "policy_loss": -0.007560054771602154, "entropy": 1.3499454259872437, "kl": 0.015406042337417603, "cur_lr": 0.0005000000237487257, "vf_loss": 10.401293754577637}, "sample_time_ms": 53166.396}, "timesteps_total": 2970000, "hostname": "flow-main", "episode_reward_max": 1320.440346560911, "policy_reward_mean": {}, "training_iteration": 22, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-19-07", "timestamp": 1558027147, "timesteps_since_restore": 3105000, "episodes_total": 954, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5ba8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.028008345702682, "cost1_min": 95.67297030311029, "system_level_velocity_mean": 8.520050836676443, "cost1_mean": 215.1801288547853, "cost2_mean": -25.97821194895261, "cost1_max": 264.6892211128166, "cost2_max": -0.41629572299305734, "system_level_velocity_max": 12.127018405550533, "cost2_min": -57.60729601436749}, "done": false, "time_total_s": 2023.7436759471893, "episode_reward_min": 451.313951846567, "episodes_this_iter": 37, "episode_len_mean": 743.99, "iterations_since_restore": 23, "time_since_restore": 2023.7436759471893, "time_this_iter_s": 87.69412851333618, "pid": 63739, "episode_reward_mean": 1040.4695889019401, "info": {"grad_time_ms": 34946.778, "update_time_ms": 11.096, "num_steps_trained": 3105000, "num_steps_sampled": 3105000, "load_time_ms": 7.451, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.40222787857055664, "total_loss": 10.586197853088379, "policy_loss": -0.005522063933312893, "entropy": 1.3489599227905273, "kl": 0.013190396130084991, "cur_lr": 0.0005000000237487257, "vf_loss": 10.590401649475098}, "sample_time_ms": 53020.375}, "timesteps_total": 3105000, "hostname": "flow-main", "episode_reward_max": 1320.440346560911, "policy_reward_mean": {}, "training_iteration": 23, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-20-35", "timestamp": 1558027235, "timesteps_since_restore": 3240000, "episodes_total": 990, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fda20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdd30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd518>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.028008345702682, "cost1_min": 95.67297030311029, "system_level_velocity_mean": 8.468641582539828, "cost1_mean": 216.8360857121035, "cost2_mean": -27.031182050241682, "cost1_max": 259.9910479383185, "cost2_max": -1.359583257523757, "system_level_velocity_max": 11.804542988097477, "cost2_min": -54.84815454736082}, "done": false, "time_total_s": 2112.140978574753, "episode_reward_min": 451.313951846567, "episodes_this_iter": 36, "episode_len_mean": 745.27, "iterations_since_restore": 24, "time_since_restore": 2112.140978574753, "time_this_iter_s": 88.39730262756348, "pid": 63739, "episode_reward_mean": 1046.6961331194525, "info": {"grad_time_ms": 35020.349, "update_time_ms": 11.454, "num_steps_trained": 3240000, "num_steps_sampled": 3240000, "load_time_ms": 7.614, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3032871186733246, "total_loss": 10.492720603942871, "policy_loss": -0.006452847737818956, "entropy": 1.356930136680603, "kl": 0.014524313621222973, "cur_lr": 0.0005000000237487257, "vf_loss": 10.497719764709473}, "sample_time_ms": 53011.963}, "timesteps_total": 3240000, "hostname": "flow-main", "episode_reward_max": 1295.0528159426099, "policy_reward_mean": {}, "training_iteration": 24, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-22-03", "timestamp": 1558027323, "timesteps_since_restore": 3375000, "episodes_total": 1026, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd710>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.028008345702682, "cost1_min": 95.67297030311029, "system_level_velocity_mean": 8.42579610078982, "cost1_mean": 217.9290765814421, "cost2_mean": -26.001914027093758, "cost1_max": 256.78607833945784, "cost2_max": -0.41163865080488893, "system_level_velocity_max": 11.390460439210864, "cost2_min": -54.84815454736082}, "done": false, "time_total_s": 2199.9412417411804, "episode_reward_min": 451.313951846567, "episodes_this_iter": 36, "episode_len_mean": 745.27, "iterations_since_restore": 25, "time_since_restore": 2199.9412417411804, "time_this_iter_s": 87.80026316642761, "pid": 63739, "episode_reward_mean": 1053.523524007318, "info": {"grad_time_ms": 35082.733, "update_time_ms": 11.313, "num_steps_trained": 3375000, "num_steps_sampled": 3375000, "load_time_ms": 7.666, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3074674904346466, "total_loss": 9.87623405456543, "policy_loss": -0.007856481708586216, "entropy": 1.3461838960647583, "kl": 0.015641506761312485, "cur_lr": 0.0005000000237487257, "vf_loss": 9.882527351379395}, "sample_time_ms": 52932.425}, "timesteps_total": 3375000, "hostname": "flow-main", "episode_reward_max": 1280.1115907720455, "policy_reward_mean": {}, "training_iteration": 25, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-23-31", "timestamp": 1558027411, "timesteps_since_restore": 3510000, "episodes_total": 1062, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa049e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04550>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 7.143230498971824, "cost1_min": 186.61796842695537, "system_level_velocity_mean": 8.461728350027421, "cost1_mean": 221.34211173604953, "cost2_mean": -25.641486930939845, "cost1_max": 259.5194918819103, "cost2_max": -0.41163865080488893, "system_level_velocity_max": 10.718506576908684, "cost2_min": -54.84815454736082}, "done": false, "time_total_s": 2287.9077939987183, "episode_reward_min": 894.0081390808639, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 26, "time_since_restore": 2287.9077939987183, "time_this_iter_s": 87.96655225753784, "pid": 63739, "episode_reward_mean": 1070.9839313652467, "info": {"grad_time_ms": 35157.27, "update_time_ms": 11.668, "num_steps_trained": 3510000, "num_steps_sampled": 3510000, "load_time_ms": 7.783, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.31607186794281006, "total_loss": 10.090195655822754, "policy_loss": -0.006394253112375736, "entropy": 1.3372770547866821, "kl": 0.014899397268891335, "cur_lr": 0.0005000000237487257, "vf_loss": 10.095100402832031}, "sample_time_ms": 52806.248}, "timesteps_total": 3510000, "hostname": "flow-main", "episode_reward_max": 1283.4912047043692, "policy_reward_mean": {}, "training_iteration": 26, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-25-00", "timestamp": 1558027500, "timesteps_since_restore": 3645000, "episodes_total": 1098, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa048d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 7.148175159446536, "cost1_min": 186.61796842695537, "system_level_velocity_mean": 8.434670191512442, "cost1_mean": 220.93515837327345, "cost2_mean": -23.989797466696313, "cost1_max": 259.5194918819103, "cost2_max": -0.41163865080488893, "system_level_velocity_max": 10.718506576908684, "cost2_min": -52.69228859776521}, "done": false, "time_total_s": 2376.7822694778442, "episode_reward_min": 894.0081390808639, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 27, "time_since_restore": 2376.7822694778442, "time_this_iter_s": 88.87447547912598, "pid": 63739, "episode_reward_mean": 1071.2979512208042, "info": {"grad_time_ms": 35309.586, "update_time_ms": 11.571, "num_steps_trained": 3645000, "num_steps_sampled": 3645000, "load_time_ms": 7.501, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.30588024854660034, "total_loss": 9.812761306762695, "policy_loss": -0.0064337849617004395, "entropy": 1.335922122001648, "kl": 0.014918787404894829, "cur_lr": 0.0005000000237487257, "vf_loss": 9.817703247070312}, "sample_time_ms": 52666.3}, "timesteps_total": 3645000, "hostname": "flow-main", "episode_reward_max": 1283.4912047043692, "policy_reward_mean": {}, "training_iteration": 27, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-26-28", "timestamp": 1558027588, "timesteps_since_restore": 3780000, "episodes_total": 1134, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a7f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a780>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.8297161394061305, "cost1_min": 157.1792786278973, "system_level_velocity_mean": 8.364885698771435, "cost1_mean": 217.0357007879853, "cost2_mean": -19.51778666263643, "cost1_max": 259.5194918819103, "cost2_max": -0.08669082814167411, "system_level_velocity_max": 10.718506576908684, "cost2_min": -52.69228859776521}, "done": false, "time_total_s": 2464.4601216316223, "episode_reward_min": 784.3066783875213, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 28, "time_since_restore": 2464.4601216316223, "time_this_iter_s": 87.67785215377808, "pid": 63739, "episode_reward_mean": 1057.899202013351, "info": {"grad_time_ms": 35357.671, "update_time_ms": 11.472, "num_steps_trained": 3780000, "num_steps_sampled": 3780000, "load_time_ms": 7.747, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3171100616455078, "total_loss": 9.951309204101562, "policy_loss": -0.006055755540728569, "entropy": 1.3283380270004272, "kl": 0.014928842894732952, "cur_lr": 0.0005000000237487257, "vf_loss": 9.95587158203125}, "sample_time_ms": 52651.53}, "timesteps_total": 3780000, "hostname": "flow-main", "episode_reward_max": 1283.4912047043692, "policy_reward_mean": {}, "training_iteration": 28, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-27-54", "timestamp": 1558027674, "timesteps_since_restore": 3915000, "episodes_total": 1170, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3db70>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.8043938974459195, "cost1_min": 156.54222123000574, "system_level_velocity_mean": 8.373323265691573, "cost1_mean": 215.9665722765428, "cost2_mean": -17.156535589689817, "cost1_max": 244.89476112460258, "cost2_max": -0.08669082814167411, "system_level_velocity_max": 10.236982783751197, "cost2_min": -52.69228859776521}, "done": false, "time_total_s": 2550.794408082962, "episode_reward_min": 751.3105092480196, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 29, "time_since_restore": 2550.794408082962, "time_this_iter_s": 86.33428645133972, "pid": 63739, "episode_reward_mean": 1055.616591918907, "info": {"grad_time_ms": 35214.864, "update_time_ms": 11.38, "num_steps_trained": 3915000, "num_steps_sampled": 3915000, "load_time_ms": 7.847, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.27905628085136414, "total_loss": 10.338011741638184, "policy_loss": -0.00600266782566905, "entropy": 1.3242173194885254, "kl": 0.015287453308701515, "cur_lr": 0.0005000000237487257, "vf_loss": 10.342485427856445}, "sample_time_ms": 52558.063}, "timesteps_total": 3915000, "hostname": "flow-main", "episode_reward_max": 1210.1548346522454, "policy_reward_mean": {}, "training_iteration": 29, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-29-21", "timestamp": 1558027761, "timesteps_since_restore": 4050000, "episodes_total": 1206, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04d68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.8043938974459195, "cost1_min": 156.54222123000574, "system_level_velocity_mean": 8.391252883253763, "cost1_mean": 215.59699426953946, "cost2_mean": -16.487624381687603, "cost1_max": 249.0400998152592, "cost2_max": -0.08669082814167411, "system_level_velocity_max": 10.784704798443967, "cost2_min": -49.566094393256975}, "done": false, "time_total_s": 2637.266988992691, "episode_reward_min": 751.3105092480196, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 30, "time_since_restore": 2637.266988992691, "time_this_iter_s": 86.472580909729, "pid": 63739, "episode_reward_mean": 1054.633420879695, "info": {"grad_time_ms": 35088.906, "update_time_ms": 11.28, "num_steps_trained": 4050000, "num_steps_sampled": 4050000, "load_time_ms": 7.858, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.28696465492248535, "total_loss": 10.343798637390137, "policy_loss": -0.005757833831012249, "entropy": 1.3356471061706543, "kl": 0.015121855773031712, "cur_lr": 0.0005000000237487257, "vf_loss": 10.348044395446777}, "sample_time_ms": 52360.051}, "timesteps_total": 4050000, "hostname": "flow-main", "episode_reward_max": 1241.4900546177166, "policy_reward_mean": {}, "training_iteration": 30, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-30-47", "timestamp": 1558027847, "timesteps_since_restore": 4185000, "episodes_total": 1242, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a748>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.8043938974459195, "cost1_min": 156.54222123000574, "system_level_velocity_mean": 8.445292140352585, "cost1_mean": 216.67017316410994, "cost2_mean": -19.769883182676082, "cost1_max": 256.4160248327887, "cost2_max": -0.6580316905776908, "system_level_velocity_max": 10.784704798443967, "cost2_min": -53.577330714487836}, "done": false, "time_total_s": 2723.0710899829865, "episode_reward_min": 751.3105092480196, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 31, "time_since_restore": 2723.0710899829865, "time_this_iter_s": 85.80410099029541, "pid": 63739, "episode_reward_mean": 1055.2092272252269, "info": {"grad_time_ms": 35061.907, "update_time_ms": 11.084, "num_steps_trained": 4185000, "num_steps_sampled": 4185000, "load_time_ms": 7.768, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.30632728338241577, "total_loss": 10.136335372924805, "policy_loss": -0.005790073424577713, "entropy": 1.3362411260604858, "kl": 0.016063693910837173, "cur_lr": 0.0005000000237487257, "vf_loss": 10.140518188476562}, "sample_time_ms": 52232.585}, "timesteps_total": 4185000, "hostname": "flow-main", "episode_reward_max": 1265.7673643547832, "policy_reward_mean": {}, "training_iteration": 31, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-32-12", "timestamp": 1558027932, "timesteps_since_restore": 4320000, "episodes_total": 1278, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.474545753191861, "cost1_min": 175.02931006385262, "system_level_velocity_mean": 8.579597694102613, "cost1_mean": 217.49407902542654, "cost2_mean": -19.078695527440786, "cost1_max": 270.84125617588694, "cost2_max": -1.1605004840651296, "system_level_velocity_max": 12.968798751748992, "cost2_min": -53.577330714487836}, "done": false, "time_total_s": 2808.5251438617706, "episode_reward_min": 831.658412041971, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 32, "time_since_restore": 2808.5251438617706, "time_this_iter_s": 85.45405387878418, "pid": 63739, "episode_reward_mean": 1060.159762908976, "info": {"grad_time_ms": 34937.644, "update_time_ms": 10.921, "num_steps_trained": 4320000, "num_steps_sampled": 4320000, "load_time_ms": 7.94, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.2839456796646118, "total_loss": 10.398258209228516, "policy_loss": -0.005397382192313671, "entropy": 1.3446077108383179, "kl": 0.01553704496473074, "cur_lr": 0.0005000000237487257, "vf_loss": 10.402100563049316}, "sample_time_ms": 52038.981}, "timesteps_total": 4320000, "hostname": "flow-main", "episode_reward_max": 1346.1526858082702, "policy_reward_mean": {}, "training_iteration": 32, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-33-38", "timestamp": 1558028018, "timesteps_since_restore": 4455000, "episodes_total": 1314, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fddd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aa90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.662288523595584, "cost1_min": 153.48694386196422, "system_level_velocity_mean": 8.54754414858342, "cost1_mean": 215.65242310446422, "cost2_mean": -20.101599970522756, "cost1_max": 270.84125617588694, "cost2_max": -1.5032652511341773, "system_level_velocity_max": 12.968798751748992, "cost2_min": -56.780216668122804}, "done": false, "time_total_s": 2894.2275223731995, "episode_reward_min": 750.0367428616634, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 33, "time_since_restore": 2894.2275223731995, "time_this_iter_s": 85.70237851142883, "pid": 63739, "episode_reward_mean": 1049.5434803780086, "info": {"grad_time_ms": 34947.752, "update_time_ms": 11.13, "num_steps_trained": 4455000, "num_steps_sampled": 4455000, "load_time_ms": 7.829, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3114047050476074, "total_loss": 10.500828742980957, "policy_loss": -0.006162569858133793, "entropy": 1.3316974639892578, "kl": 0.015422028489410877, "cur_lr": 0.0005000000237487257, "vf_loss": 10.505448341369629}, "sample_time_ms": 51834.538}, "timesteps_total": 4455000, "hostname": "flow-main", "episode_reward_max": 1346.1526858082702, "policy_reward_mean": {}, "training_iteration": 33, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-35-05", "timestamp": 1558028105, "timesteps_since_restore": 4590000, "episodes_total": 1350, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a0b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a748>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.588811473484753, "cost1_min": 70.98042353512695, "system_level_velocity_mean": 8.527638359102433, "cost1_mean": 213.7190576787881, "cost2_mean": -16.58269594006915, "cost1_max": 270.84125617588694, "cost2_max": -1.5032652511341773, "system_level_velocity_max": 12.968798751748992, "cost2_min": -56.780216668122804}, "done": false, "time_total_s": 2981.3911962509155, "episode_reward_min": 344.08332729393004, "episodes_this_iter": 36, "episode_len_mean": 746.02, "iterations_since_restore": 34, "time_since_restore": 2981.3911962509155, "time_this_iter_s": 87.16367387771606, "pid": 63739, "episode_reward_mean": 1044.8021238792128, "info": {"grad_time_ms": 35021.919, "update_time_ms": 11.034, "num_steps_trained": 4590000, "num_steps_sampled": 4590000, "load_time_ms": 7.782, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3240440785884857, "total_loss": 10.840291976928711, "policy_loss": -0.006087906192988157, "entropy": 1.3292028903961182, "kl": 0.016016772016882896, "cur_lr": 0.0005000000237487257, "vf_loss": 10.844779014587402}, "sample_time_ms": 51634.049}, "timesteps_total": 4590000, "hostname": "flow-main", "episode_reward_max": 1346.1526858082702, "policy_reward_mean": {}, "training_iteration": 34, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-36-31", "timestamp": 1558028191, "timesteps_since_restore": 4725000, "episodes_total": 1386, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0acc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a978>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.588811473484753, "cost1_min": 70.98042353512695, "system_level_velocity_mean": 8.609756624466218, "cost1_mean": 214.71508777093018, "cost2_mean": -13.752942814858962, "cost1_max": 270.59254479454404, "cost2_max": -0.7891424420998316, "system_level_velocity_max": 12.58096518373972, "cost2_min": -55.12515158965412}, "done": false, "time_total_s": 3067.0673265457153, "episode_reward_min": 344.08332729393004, "episodes_this_iter": 36, "episode_len_mean": 746.02, "iterations_since_restore": 35, "time_since_restore": 3067.0673265457153, "time_this_iter_s": 85.6761302947998, "pid": 63739, "episode_reward_mean": 1053.8779600914193, "info": {"grad_time_ms": 34959.481, "update_time_ms": 11.139, "num_steps_trained": 4725000, "num_steps_sampled": 4725000, "load_time_ms": 7.782, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.31209638714790344, "total_loss": 10.993924140930176, "policy_loss": -0.0061170849949121475, "entropy": 1.3242580890655518, "kl": 0.01632699929177761, "cur_lr": 0.0005000000237487257, "vf_loss": 10.998408317565918}, "sample_time_ms": 51484.945}, "timesteps_total": 4725000, "hostname": "flow-main", "episode_reward_max": 1344.9503170076555, "policy_reward_mean": {}, "training_iteration": 35, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-37-57", "timestamp": 1558028277, "timesteps_since_restore": 4860000, "episodes_total": 1422, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aa90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.461137814593775, "cost1_min": 70.98042353512695, "system_level_velocity_mean": 8.647066647093755, "cost1_mean": 214.4554381733009, "cost2_mean": -12.692412697136081, "cost1_max": 270.59254479454404, "cost2_max": -0.7891424420998316, "system_level_velocity_max": 12.58096518373972, "cost2_min": -43.886234877279215}, "done": false, "time_total_s": 3152.8876638412476, "episode_reward_min": 344.08332729393004, "episodes_this_iter": 36, "episode_len_mean": 742.58, "iterations_since_restore": 36, "time_since_restore": 3152.8876638412476, "time_this_iter_s": 85.82033729553223, "pid": 63739, "episode_reward_mean": 1054.4029177409452, "info": {"grad_time_ms": 34837.365, "update_time_ms": 10.953, "num_steps_trained": 4860000, "num_steps_sampled": 4860000, "load_time_ms": 7.764, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3712432384490967, "total_loss": 11.004236221313477, "policy_loss": -0.006019274704158306, "entropy": 1.3356854915618896, "kl": 0.015060187317430973, "cur_lr": 0.0005000000237487257, "vf_loss": 11.008749008178711}, "sample_time_ms": 51401.537}, "timesteps_total": 4860000, "hostname": "flow-main", "episode_reward_max": 1344.9503170076555, "policy_reward_mean": {}, "training_iteration": 36, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-39-24", "timestamp": 1558028364, "timesteps_since_restore": 4995000, "episodes_total": 1458, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a9e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6a0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.461137814593775, "cost1_min": 99.76779307241155, "system_level_velocity_mean": 8.711812422294495, "cost1_mean": 215.7518019225684, "cost2_mean": -15.46411652652028, "cost1_max": 270.59254479454404, "cost2_max": -0.7891424420998316, "system_level_velocity_max": 12.58096518373972, "cost2_min": -48.99212708731524}, "done": false, "time_total_s": 3239.9357690811157, "episode_reward_min": 470.8793532501842, "episodes_this_iter": 36, "episode_len_mean": 746.56, "iterations_since_restore": 37, "time_since_restore": 3239.9357690811157, "time_this_iter_s": 87.04810523986816, "pid": 63739, "episode_reward_mean": 1057.1680312800027, "info": {"grad_time_ms": 34673.777, "update_time_ms": 11.093, "num_steps_trained": 4995000, "num_steps_sampled": 4995000, "load_time_ms": 7.916, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.364235520362854, "total_loss": 11.025819778442383, "policy_loss": -0.007000348065048456, "entropy": 1.3454680442810059, "kl": 0.018597299233078957, "cur_lr": 0.0005000000237487257, "vf_loss": 11.030961036682129}, "sample_time_ms": 51380.551}, "timesteps_total": 4995000, "hostname": "flow-main", "episode_reward_max": 1344.9503170076555, "policy_reward_mean": {}, "training_iteration": 37, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-40-51", "timestamp": 1558028451, "timesteps_since_restore": 5130000, "episodes_total": 1494, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ab70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a4a8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.14105544313146, "cost1_min": 99.76779307241155, "system_level_velocity_mean": 8.638266647158677, "cost1_mean": 213.97685104238255, "cost2_mean": -18.34157426426671, "cost1_max": 274.9831890256366, "cost2_max": -0.9496604063941018, "system_level_velocity_max": 13.164603699096192, "cost2_min": -55.3647444146265}, "done": false, "time_total_s": 3326.9626591205597, "episode_reward_min": 470.8793532501842, "episodes_this_iter": 36, "episode_len_mean": 746.56, "iterations_since_restore": 38, "time_since_restore": 3326.9626591205597, "time_this_iter_s": 87.02689003944397, "pid": 63739, "episode_reward_mean": 1044.0698240386416, "info": {"grad_time_ms": 34627.268, "update_time_ms": 10.99, "num_steps_trained": 5130000, "num_steps_sampled": 5130000, "load_time_ms": 7.844, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.34413444995880127, "total_loss": 11.586499214172363, "policy_loss": -0.005854406394064426, "entropy": 1.336003303527832, "kl": 0.01618063449859619, "cur_lr": 0.0005000000237487257, "vf_loss": 11.59073543548584}, "sample_time_ms": 51360.081}, "timesteps_total": 5130000, "hostname": "flow-main", "episode_reward_max": 1367.5661746596577, "policy_reward_mean": {}, "training_iteration": 38, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-42-18", "timestamp": 1558028538, "timesteps_since_restore": 5265000, "episodes_total": 1530, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aa90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a240>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.14105544313146, "cost1_min": 141.13743286489753, "system_level_velocity_mean": 8.918675504652787, "cost1_mean": 220.06282015764074, "cost2_mean": -20.679973676961712, "cost1_max": 274.9831890256366, "cost2_max": -0.9500801590845188, "system_level_velocity_max": 13.164603699096192, "cost2_min": -55.3647444146265}, "done": false, "time_total_s": 3413.901047706604, "episode_reward_min": 693.4885704840871, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 39, "time_since_restore": 3413.901047706604, "time_this_iter_s": 86.93838858604431, "pid": 63739, "episode_reward_mean": 1070.713115902953, "info": {"grad_time_ms": 34736.094, "update_time_ms": 11.118, "num_steps_trained": 5265000, "num_steps_sampled": 5265000, "load_time_ms": 7.65, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.34001415967941284, "total_loss": 11.284083366394043, "policy_loss": -0.005964791867882013, "entropy": 1.3264402151107788, "kl": 0.015353177674114704, "cur_lr": 0.0005000000237487257, "vf_loss": 11.288514137268066}, "sample_time_ms": 51311.875}, "timesteps_total": 5265000, "hostname": "flow-main", "episode_reward_max": 1367.5661746596577, "policy_reward_mean": {}, "training_iteration": 39, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-43-44", "timestamp": 1558028624, "timesteps_since_restore": 5400000, "episodes_total": 1566, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ae10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aba8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.14105544313146, "cost1_min": 141.13743286489753, "system_level_velocity_mean": 9.056392834391085, "cost1_mean": 222.78208959590117, "cost2_mean": -22.42719160024728, "cost1_max": 269.5410730234757, "cost2_max": -1.555409956742818, "system_level_velocity_max": 12.297625544267712, "cost2_min": -55.3647444146265}, "done": false, "time_total_s": 3500.0352370738983, "episode_reward_min": 693.4885704840871, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 40, "time_since_restore": 3500.0352370738983, "time_this_iter_s": 86.13418936729431, "pid": 63739, "episode_reward_mean": 1081.2980733484646, "info": {"grad_time_ms": 34783.254, "update_time_ms": 10.931, "num_steps_trained": 5400000, "num_steps_sampled": 5400000, "load_time_ms": 7.653, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.33699265122413635, "total_loss": 11.078400611877441, "policy_loss": -0.005995034705847502, "entropy": 1.3091447353363037, "kl": 0.017825186252593994, "cur_lr": 0.0005000000237487257, "vf_loss": 11.082612991333008}, "sample_time_ms": 51229.703}, "timesteps_total": 5400000, "hostname": "flow-main", "episode_reward_max": 1342.9699416489527, "policy_reward_mean": {}, "training_iteration": 40, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-45-12", "timestamp": 1558028712, "timesteps_since_restore": 5535000, "episodes_total": 1602, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a4a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a390>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.179176803094223, "cost1_min": 165.3427016897938, "system_level_velocity_mean": 9.195050283346793, "cost1_mean": 225.34551999848009, "cost2_mean": -23.55232832510616, "cost1_max": 269.5410730234757, "cost2_max": -1.5155114501684532, "system_level_velocity_max": 12.297625544267712, "cost2_min": -52.48302900191551}, "done": false, "time_total_s": 3587.677255630493, "episode_reward_min": 784.763134993352, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 41, "time_since_restore": 3587.677255630493, "time_this_iter_s": 87.64201855659485, "pid": 63739, "episode_reward_mean": 1092.3208660591126, "info": {"grad_time_ms": 34970.742, "update_time_ms": 11.083, "num_steps_trained": 5535000, "num_steps_sampled": 5535000, "load_time_ms": 7.601, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3241283595561981, "total_loss": 11.268719673156738, "policy_loss": -0.006446125451475382, "entropy": 1.31317937374115, "kl": 0.01691003330051899, "cur_lr": 0.0005000000237487257, "vf_loss": 11.27347469329834}, "sample_time_ms": 51224.588}, "timesteps_total": 5535000, "hostname": "flow-main", "episode_reward_max": 1342.9699416489527, "policy_reward_mean": {}, "training_iteration": 41, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-46-39", "timestamp": 1558028799, "timesteps_since_restore": 5670000, "episodes_total": 1638, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0af28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0abe0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.214902835286669, "cost1_min": 167.2410796375208, "system_level_velocity_mean": 9.112258689572075, "cost1_mean": 223.74654451500604, "cost2_mean": -23.683843817632834, "cost1_max": 272.15807028608936, "cost2_max": -0.06484120838883059, "system_level_velocity_max": 13.29197777964737, "cost2_min": -49.56133930695317}, "done": false, "time_total_s": 3674.688751220703, "episode_reward_min": 784.763134993352, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 42, "time_since_restore": 3674.688751220703, "time_this_iter_s": 87.01149559020996, "pid": 63739, "episode_reward_mean": 1083.9402328900183, "info": {"grad_time_ms": 35080.601, "update_time_ms": 11.415, "num_steps_trained": 5670000, "num_steps_sampled": 5670000, "load_time_ms": 7.608, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3050979673862457, "total_loss": 10.800812721252441, "policy_loss": -0.006101433653384447, "entropy": 1.3051109313964844, "kl": 0.016808800399303436, "cur_lr": 0.0005000000237487257, "vf_loss": 10.805232048034668}, "sample_time_ms": 51267.926}, "timesteps_total": 5670000, "hostname": "flow-main", "episode_reward_max": 1359.4610817783755, "policy_reward_mean": {}, "training_iteration": 42, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-48-05", "timestamp": 1558028885, "timesteps_since_restore": 5805000, "episodes_total": 1674, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a860>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.046331265804837, "cost1_min": 137.3254424391726, "system_level_velocity_mean": 9.050931865961573, "cost1_mean": 222.03618979196253, "cost2_mean": -23.110129345862955, "cost1_max": 272.15807028608936, "cost2_max": -0.06484120838883059, "system_level_velocity_max": 13.29197777964737, "cost2_min": -50.95431416477827}, "done": false, "time_total_s": 3760.733459711075, "episode_reward_min": 665.6528618039715, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 43, "time_since_restore": 3760.733459711075, "time_this_iter_s": 86.0447084903717, "pid": 63739, "episode_reward_mean": 1076.442260245518, "info": {"grad_time_ms": 35102.897, "update_time_ms": 11.418, "num_steps_trained": 5805000, "num_steps_sampled": 5805000, "load_time_ms": 7.503, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3455304503440857, "total_loss": 10.807400703430176, "policy_loss": -0.006931337993592024, "entropy": 1.3033133745193481, "kl": 0.019545257091522217, "cur_lr": 0.0005000000237487257, "vf_loss": 10.812376976013184}, "sample_time_ms": 51281.352}, "timesteps_total": 5805000, "hostname": "flow-main", "episode_reward_max": 1359.4610817783755, "policy_reward_mean": {}, "training_iteration": 43, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-49-31", "timestamp": 1558028971, "timesteps_since_restore": 5940000, "episodes_total": 1710, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0af60>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0acc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.046331265804837, "cost1_min": 137.3254424391726, "system_level_velocity_mean": 8.94181909345764, "cost1_mean": 220.25013434792615, "cost2_mean": -21.164363706308738, "cost1_max": 272.7336704851974, "cost2_max": -0.06484120838883059, "system_level_velocity_max": 12.005061397194934, "cost2_min": -50.95431416477827}, "done": false, "time_total_s": 3846.907089948654, "episode_reward_min": 665.6528618039715, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 44, "time_since_restore": 3846.907089948654, "time_this_iter_s": 86.17363023757935, "pid": 63739, "episode_reward_mean": 1070.410665849875, "info": {"grad_time_ms": 35025.964, "update_time_ms": 11.482, "num_steps_trained": 5940000, "num_steps_sampled": 5940000, "load_time_ms": 7.591, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3019152283668518, "total_loss": 10.984184265136719, "policy_loss": -0.005761389620602131, "entropy": 1.3047703504562378, "kl": 0.016602547839283943, "cur_lr": 0.0005000000237487257, "vf_loss": 10.988285064697266}, "sample_time_ms": 51265.321}, "timesteps_total": 5940000, "hostname": "flow-main", "episode_reward_max": 1336.0639563658578, "policy_reward_mean": {}, "training_iteration": 44, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-50-59", "timestamp": 1558029059, "timesteps_since_restore": 6075000, "episodes_total": 1746, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a3c8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.046331265804837, "cost1_min": 137.3254424391726, "system_level_velocity_mean": 8.666320487785773, "cost1_mean": 214.7109033256976, "cost2_mean": -20.228665410408215, "cost1_max": 272.7336704851974, "cost2_max": -1.6078044214441962, "system_level_velocity_max": 12.005061397194934, "cost2_min": -50.95431416477827}, "done": false, "time_total_s": 3934.644606590271, "episode_reward_min": 665.6528618039715, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 45, "time_since_restore": 3934.644606590271, "time_this_iter_s": 87.73751664161682, "pid": 63739, "episode_reward_mean": 1044.4460515967407, "info": {"grad_time_ms": 35116.868, "update_time_ms": 11.221, "num_steps_trained": 6075000, "num_steps_sampled": 6075000, "load_time_ms": 7.713, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3608192205429077, "total_loss": 10.718146324157715, "policy_loss": -0.0067432294599711895, "entropy": 1.3138444423675537, "kl": 0.017501700669527054, "cur_lr": 0.0005000000237487257, "vf_loss": 10.723139762878418}, "sample_time_ms": 51383.681}, "timesteps_total": 6075000, "hostname": "flow-main", "episode_reward_max": 1336.0639563658578, "policy_reward_mean": {}, "training_iteration": 45, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-52-26", "timestamp": 1558029146, "timesteps_since_restore": 6210000, "episodes_total": 1782, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa046a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa047f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa044a8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.115189861483054, "cost1_min": 138.09167286800445, "system_level_velocity_mean": 8.502286480633648, "cost1_mean": 212.31726112724914, "cost2_mean": -17.510756187943326, "cost1_max": 272.7336704851974, "cost2_max": -2.5465315863871556, "system_level_velocity_max": 11.96708298630753, "cost2_min": -56.14136153892575}, "done": false, "time_total_s": 4021.6772940158844, "episode_reward_min": 659.3426480938499, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 46, "time_since_restore": 4021.6772940158844, "time_this_iter_s": 87.0326874256134, "pid": 63739, "episode_reward_mean": 1036.4152718431733, "info": {"grad_time_ms": 35235.37, "update_time_ms": 11.204, "num_steps_trained": 6210000, "num_steps_sampled": 6210000, "load_time_ms": 7.662, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3570413589477539, "total_loss": 10.402756690979004, "policy_loss": -0.0069131371565163136, "entropy": 1.2953637838363647, "kl": 0.01807904615998268, "cur_lr": 0.0005000000237487257, "vf_loss": 10.407861709594727}, "sample_time_ms": 51386.417}, "timesteps_total": 6210000, "hostname": "flow-main", "episode_reward_max": 1336.0639563658578, "policy_reward_mean": {}, "training_iteration": 46, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-53-53", "timestamp": 1558029233, "timesteps_since_restore": 6345000, "episodes_total": 1818, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd400>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.260408045776089, "cost1_min": 58.69281064397294, "system_level_velocity_mean": 8.384036705350539, "cost1_mean": 209.3808387248819, "cost2_mean": -15.460568279522686, "cost1_max": 272.2233917568129, "cost2_max": -1.2478132722889377, "system_level_velocity_max": 13.303058624252404, "cost2_min": -56.14136153892575}, "done": false, "time_total_s": 4108.257793188095, "episode_reward_min": 282.0438285708911, "episodes_this_iter": 36, "episode_len_mean": 746.44, "iterations_since_restore": 47, "time_since_restore": 4108.257793188095, "time_this_iter_s": 86.5804991722107, "pid": 63739, "episode_reward_mean": 1024.6653059760024, "info": {"grad_time_ms": 35254.805, "update_time_ms": 11.177, "num_steps_trained": 6345000, "num_steps_sampled": 6345000, "load_time_ms": 7.727, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.35734108090400696, "total_loss": 10.48454475402832, "policy_loss": -0.006509767845273018, "entropy": 1.2876272201538086, "kl": 0.019703233614563942, "cur_lr": 0.0005000000237487257, "vf_loss": 10.489083290100098}, "sample_time_ms": 51321.423}, "timesteps_total": 6345000, "hostname": "flow-main", "episode_reward_max": 1359.2452388756326, "policy_reward_mean": {}, "training_iteration": 47, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-55-19", "timestamp": 1558029319, "timesteps_since_restore": 6480000, "episodes_total": 1854, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5710>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f53c8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.260408045776089, "cost1_min": 58.69281064397294, "system_level_velocity_mean": 8.373996376484307, "cost1_mean": 209.46442275593364, "cost2_mean": -12.270044730587449, "cost1_max": 272.2233917568129, "cost2_max": -0.2703404070894985, "system_level_velocity_max": 13.303058624252404, "cost2_min": -35.908982897428444}, "done": false, "time_total_s": 4194.286546230316, "episode_reward_min": 282.0438285708911, "episodes_this_iter": 36, "episode_len_mean": 746.44, "iterations_since_restore": 48, "time_since_restore": 4194.286546230316, "time_this_iter_s": 86.02875304222107, "pid": 63739, "episode_reward_mean": 1029.7093549717692, "info": {"grad_time_ms": 35281.641, "update_time_ms": 11.41, "num_steps_trained": 6480000, "num_steps_sampled": 6480000, "load_time_ms": 7.679, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.37007179856300354, "total_loss": 10.432402610778809, "policy_loss": -0.0063147409819066525, "entropy": 1.2979944944381714, "kl": 0.017923880368471146, "cur_lr": 0.0005000000237487257, "vf_loss": 10.43692398071289}, "sample_time_ms": 51195.429}, "timesteps_total": 6480000, "hostname": "flow-main", "episode_reward_max": 1359.2452388756326, "policy_reward_mean": {}, "training_iteration": 48, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-56-45", "timestamp": 1558029405, "timesteps_since_restore": 6615000, "episodes_total": 1890, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a320>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.34221683759099, "cost1_min": 129.3062875503946, "system_level_velocity_mean": 8.399889268876027, "cost1_mean": 209.26406337266934, "cost2_mean": -11.91498179113532, "cost1_max": 272.2233917568129, "cost2_max": -0.2703404070894985, "system_level_velocity_max": 13.303058624252404, "cost2_min": -37.554934055406974}, "done": false, "time_total_s": 4280.7271955013275, "episode_reward_min": 626.8539292954264, "episodes_this_iter": 36, "episode_len_mean": 748.23, "iterations_since_restore": 49, "time_since_restore": 4280.7271955013275, "time_this_iter_s": 86.44064927101135, "pid": 63739, "episode_reward_mean": 1029.5546010375213, "info": {"grad_time_ms": 35266.598, "update_time_ms": 11.611, "num_steps_trained": 6615000, "num_steps_sampled": 6615000, "load_time_ms": 7.79, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3713332712650299, "total_loss": 10.197169303894043, "policy_loss": -0.006772017106413841, "entropy": 1.3087451457977295, "kl": 0.01804160326719284, "cur_lr": 0.0005000000237487257, "vf_loss": 10.202136993408203}, "sample_time_ms": 51155.914}, "timesteps_total": 6615000, "hostname": "flow-main", "episode_reward_max": 1359.2452388756326, "policy_reward_mean": {}, "training_iteration": 49, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-58-12", "timestamp": 1558029492, "timesteps_since_restore": 6750000, "episodes_total": 1926, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ae48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a710>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.34221683759099, "cost1_min": 129.3062875503946, "system_level_velocity_mean": 8.23341338852324, "cost1_mean": 207.78240465304182, "cost2_mean": -11.79097338338687, "cost1_max": 267.1477562670788, "cost2_max": -0.2703404070894985, "system_level_velocity_max": 11.617442479397017, "cost2_min": -37.554934055406974}, "done": false, "time_total_s": 4367.296704292297, "episode_reward_min": 626.8539292954264, "episodes_this_iter": 36, "episode_len_mean": 748.23, "iterations_since_restore": 50, "time_since_restore": 4367.296704292297, "time_this_iter_s": 86.56950879096985, "pid": 63739, "episode_reward_mean": 1022.3979647135831, "info": {"grad_time_ms": 35318.051, "update_time_ms": 11.482, "num_steps_trained": 6750000, "num_steps_sampled": 6750000, "load_time_ms": 7.749, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.35748371481895447, "total_loss": 9.935548782348633, "policy_loss": -0.005900425836443901, "entropy": 1.294891595840454, "kl": 0.017737651243805885, "cur_lr": 0.0005000000237487257, "vf_loss": 9.939674377441406}, "sample_time_ms": 51149.383}, "timesteps_total": 6750000, "hostname": "flow-main", "episode_reward_max": 1322.1251652936244, "policy_reward_mean": {}, "training_iteration": 50, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_17-59-39", "timestamp": 1558029579, "timesteps_since_restore": 6885000, "episodes_total": 1963, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5eb8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.426739326376211, "cost1_min": 61.74407372574656, "system_level_velocity_mean": 8.232686224913081, "cost1_mean": 206.90173364986288, "cost2_mean": -11.534723915058668, "cost1_max": 267.1477562670788, "cost2_max": -0.40148884339151475, "system_level_velocity_max": 12.277210456383143, "cost2_min": -37.554934055406974}, "done": false, "time_total_s": 4454.626734495163, "episode_reward_min": 300.86281970954303, "episodes_this_iter": 37, "episode_len_mean": 744.55, "iterations_since_restore": 51, "time_since_restore": 4454.626734495163, "time_this_iter_s": 87.3300302028656, "pid": 63739, "episode_reward_mean": 1018.1317782500572, "info": {"grad_time_ms": 35248.649, "update_time_ms": 11.351, "num_steps_trained": 6885000, "num_steps_sampled": 6885000, "load_time_ms": 7.907, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3623400032520294, "total_loss": 10.32423210144043, "policy_loss": -0.006553598679602146, "entropy": 1.3160595893859863, "kl": 0.018780678510665894, "cur_lr": 0.0005000000237487257, "vf_loss": 10.32890796661377}, "sample_time_ms": 51190.514}, "timesteps_total": 6885000, "hostname": "flow-main", "episode_reward_max": 1315.0566665096344, "policy_reward_mean": {}, "training_iteration": 51, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-01-06", "timestamp": 1558029666, "timesteps_since_restore": 7020000, "episodes_total": 1999, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdd68>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.426739326376211, "cost1_min": 61.74407372574656, "system_level_velocity_mean": 8.143013812406126, "cost1_mean": 206.00354228071336, "cost2_mean": -10.321028261414583, "cost1_max": 266.3132224259498, "cost2_max": -0.40148884339151475, "system_level_velocity_max": 12.277210456383143, "cost2_min": -36.65594614148722}, "done": false, "time_total_s": 4541.101814508438, "episode_reward_min": 300.86281970954303, "episodes_this_iter": 36, "episode_len_mean": 746.32, "iterations_since_restore": 52, "time_since_restore": 4541.101814508438, "time_this_iter_s": 86.47508001327515, "pid": 63739, "episode_reward_mean": 1015.3079495913823, "info": {"grad_time_ms": 35316.756, "update_time_ms": 11.143, "num_steps_trained": 7020000, "num_steps_sampled": 7020000, "load_time_ms": 7.912, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3718516528606415, "total_loss": 10.159643173217773, "policy_loss": -0.007474498823285103, "entropy": 1.3208335638046265, "kl": 0.018648508936166763, "cur_lr": 0.0005000000237487257, "vf_loss": 10.165252685546875}, "sample_time_ms": 51071.325}, "timesteps_total": 7020000, "hostname": "flow-main", "episode_reward_max": 1315.0566665096344, "policy_reward_mean": {}, "training_iteration": 52, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-02-31", "timestamp": 1558029751, "timesteps_since_restore": 7155000, "episodes_total": 2035, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f54e0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.426739326376211, "cost1_min": 61.74407372574656, "system_level_velocity_mean": 8.14984600361626, "cost1_mean": 206.14631802507884, "cost2_mean": -11.094371515508117, "cost1_max": 266.3132224259498, "cost2_max": -0.09488035502277267, "system_level_velocity_max": 12.277210456383143, "cost2_min": -48.274503763325654}, "done": false, "time_total_s": 4626.524141788483, "episode_reward_min": 300.86281970954303, "episodes_this_iter": 36, "episode_len_mean": 746.32, "iterations_since_restore": 53, "time_since_restore": 4626.524141788483, "time_this_iter_s": 85.42232728004456, "pid": 63739, "episode_reward_mean": 1014.9795894350412, "info": {"grad_time_ms": 35289.519, "update_time_ms": 11.213, "num_steps_trained": 7155000, "num_steps_sampled": 7155000, "load_time_ms": 8.189, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.35308635234832764, "total_loss": 10.133974075317383, "policy_loss": -0.007227201480418444, "entropy": 1.3047953844070435, "kl": 0.01917087659239769, "cur_lr": 0.0005000000237487257, "vf_loss": 10.13928508758545}, "sample_time_ms": 51032.142}, "timesteps_total": 7155000, "hostname": "flow-main", "episode_reward_max": 1315.0566665096344, "policy_reward_mean": {}, "training_iteration": 53, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-03-57", "timestamp": 1558029837, "timesteps_since_restore": 7290000, "episodes_total": 2071, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4898>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.833635887689753, "cost1_min": 124.31974036089827, "system_level_velocity_mean": 8.297290963007232, "cost1_mean": 210.06332657452714, "cost2_mean": -10.332560347991073, "cost1_max": 261.0657889399117, "cost2_max": -0.02298599286587219, "system_level_velocity_max": 11.585435254706603, "cost2_min": -48.274503763325654}, "done": false, "time_total_s": 4711.786270856857, "episode_reward_min": 608.6221215958768, "episodes_this_iter": 36, "episode_len_mean": 749.54, "iterations_since_restore": 54, "time_since_restore": 4711.786270856857, "time_this_iter_s": 85.26212906837463, "pid": 63739, "episode_reward_mean": 1035.841777373329, "info": {"grad_time_ms": 35239.299, "update_time_ms": 11.145, "num_steps_trained": 7290000, "num_steps_sampled": 7290000, "load_time_ms": 8.075, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.35203689336776733, "total_loss": 10.539224624633789, "policy_loss": -0.006750316824764013, "entropy": 1.2973814010620117, "kl": 0.018438726663589478, "cur_lr": 0.0005000000237487257, "vf_loss": 10.5441312789917}, "sample_time_ms": 50990.15}, "timesteps_total": 7290000, "hostname": "flow-main", "episode_reward_max": 1301.7428537621015, "policy_reward_mean": {}, "training_iteration": 54, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-05-23", "timestamp": 1558029923, "timesteps_since_restore": 7425000, "episodes_total": 2107, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.588780499327034, "cost1_min": 122.12851934010774, "system_level_velocity_mean": 8.323602582913937, "cost1_mean": 210.74478284085143, "cost2_mean": -9.96077187129793, "cost1_max": 258.68496396083816, "cost2_max": -0.02298599286587219, "system_level_velocity_max": 11.585435254706603, "cost2_min": -48.274503763325654}, "done": false, "time_total_s": 4797.815112352371, "episode_reward_min": 596.1968929387341, "episodes_this_iter": 36, "episode_len_mean": 749.54, "iterations_since_restore": 55, "time_since_restore": 4797.815112352371, "time_this_iter_s": 86.02884149551392, "pid": 63739, "episode_reward_mean": 1039.7886262584598, "info": {"grad_time_ms": 35169.354, "update_time_ms": 11.179, "num_steps_trained": 7425000, "num_steps_sampled": 7425000, "load_time_ms": 8.116, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.363796591758728, "total_loss": 10.152484893798828, "policy_loss": -0.007713343016803265, "entropy": 1.3165044784545898, "kl": 0.02026178315281868, "cur_lr": 0.0005000000237487257, "vf_loss": 10.158171653747559}, "sample_time_ms": 50889.167}, "timesteps_total": 7425000, "hostname": "flow-main", "episode_reward_max": 1290.2471335126913, "policy_reward_mean": {}, "training_iteration": 55, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-06-49", "timestamp": 1558030009, "timesteps_since_restore": 7560000, "episodes_total": 2143, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd518>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.588780499327034, "cost1_min": 122.12851934010774, "system_level_velocity_mean": 8.253869602305825, "cost1_mean": 208.52689999045705, "cost2_mean": -8.8282095467358, "cost1_max": 259.3281688931196, "cost2_max": -0.02298599286587219, "system_level_velocity_max": 11.585435254706603, "cost2_min": -54.800624504833834}, "done": false, "time_total_s": 4883.535157203674, "episode_reward_min": 596.1968929387341, "episodes_this_iter": 36, "episode_len_mean": 749.54, "iterations_since_restore": 56, "time_since_restore": 4883.535157203674, "time_this_iter_s": 85.7200448513031, "pid": 63739, "episode_reward_mean": 1030.371592326649, "info": {"grad_time_ms": 35013.845, "update_time_ms": 11.151, "num_steps_trained": 7560000, "num_steps_sampled": 7560000, "load_time_ms": 8.093, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3829379379749298, "total_loss": 10.457738876342773, "policy_loss": -0.006548809353262186, "entropy": 1.3133012056350708, "kl": 0.015925390645861626, "cur_lr": 0.0005000000237487257, "vf_loss": 10.461898803710938}, "sample_time_ms": 50910.248}, "timesteps_total": 7560000, "hostname": "flow-main", "episode_reward_max": 1290.2471335126913, "policy_reward_mean": {}, "training_iteration": 56, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-08-14", "timestamp": 1558030094, "timesteps_since_restore": 7695000, "episodes_total": 2179, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f45c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f48d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.588780499327034, "cost1_min": 122.12851934010774, "system_level_velocity_mean": 8.302531691857713, "cost1_mean": 210.00865215922377, "cost2_mean": -9.313880322378244, "cost1_max": 261.87017624039606, "cost2_max": -0.20264277592444954, "system_level_velocity_max": 11.443585741913504, "cost2_min": -54.800624504833834}, "done": false, "time_total_s": 4968.580455541611, "episode_reward_min": 596.1968929387341, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 57, "time_since_restore": 4968.580455541611, "time_this_iter_s": 85.0452983379364, "pid": 63739, "episode_reward_mean": 1036.9249406745307, "info": {"grad_time_ms": 34915.697, "update_time_ms": 11.201, "num_steps_trained": 7695000, "num_steps_sampled": 7695000, "load_time_ms": 7.96, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3387852609157562, "total_loss": 10.578682899475098, "policy_loss": -0.006945314351469278, "entropy": 1.3136032819747925, "kl": 0.01664305292069912, "cur_lr": 0.0005000000237487257, "vf_loss": 10.583131790161133}, "sample_time_ms": 50855.227}, "timesteps_total": 7695000, "hostname": "flow-main", "episode_reward_max": 1289.2651030367158, "policy_reward_mean": {}, "training_iteration": 57, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-09-39", "timestamp": 1558030179, "timesteps_since_restore": 7830000, "episodes_total": 2215, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c44a8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.119887881322458, "cost1_min": 133.7137764647648, "system_level_velocity_mean": 8.23526445577894, "cost1_mean": 209.00846833394473, "cost2_mean": -9.438350442614814, "cost1_max": 261.87017624039606, "cost2_max": -0.09890356371725875, "system_level_velocity_max": 11.443585741913504, "cost2_min": -44.11773851135635}, "done": false, "time_total_s": 5053.982909917831, "episode_reward_min": 653.3711803532208, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 58, "time_since_restore": 5053.982909917831, "time_this_iter_s": 85.4024543762207, "pid": 63739, "episode_reward_mean": 1031.8692401216845, "info": {"grad_time_ms": 34876.902, "update_time_ms": 11.049, "num_steps_trained": 7830000, "num_steps_sampled": 7830000, "load_time_ms": 7.814, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3573433756828308, "total_loss": 10.409544944763184, "policy_loss": -0.0071028959937393665, "entropy": 1.3138830661773682, "kl": 0.016549281775951385, "cur_lr": 0.0005000000237487257, "vf_loss": 10.414164543151855}, "sample_time_ms": 50832.976}, "timesteps_total": 7830000, "hostname": "flow-main", "episode_reward_max": 1289.2651030367158, "policy_reward_mean": {}, "training_iteration": 58, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-11-05", "timestamp": 1558030265, "timesteps_since_restore": 7965000, "episodes_total": 2251, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f45c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4710>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.5693935581753, "cost1_min": 125.73291279751118, "system_level_velocity_mean": 8.079622361158842, "cost1_mean": 206.89615333367774, "cost2_mean": -9.588801590894555, "cost1_max": 261.87017624039606, "cost2_max": -0.09890356371725875, "system_level_velocity_max": 11.443585741913504, "cost2_min": -44.11773851135635}, "done": false, "time_total_s": 5139.816968202591, "episode_reward_min": 628.3363617735703, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 59, "time_since_restore": 5139.816968202591, "time_this_iter_s": 85.83405828475952, "pid": 63739, "episode_reward_mean": 1021.1243095538256, "info": {"grad_time_ms": 34821.604, "update_time_ms": 10.872, "num_steps_trained": 7965000, "num_steps_sampled": 7965000, "load_time_ms": 7.848, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.33203354477882385, "total_loss": 10.034645080566406, "policy_loss": -0.007732496131211519, "entropy": 1.3069487810134888, "kl": 0.017325907945632935, "cur_lr": 0.0005000000237487257, "vf_loss": 10.039779663085938}, "sample_time_ms": 50830.939}, "timesteps_total": 7965000, "hostname": "flow-main", "episode_reward_max": 1289.2651030367158, "policy_reward_mean": {}, "training_iteration": 59, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-12-31", "timestamp": 1558030351, "timesteps_since_restore": 8100000, "episodes_total": 2287, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4eb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4128>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.5693935581753, "cost1_min": 125.73291279751118, "system_level_velocity_mean": 7.891394062334756, "cost1_mean": 203.85896450868327, "cost2_mean": -11.040559488130198, "cost1_max": 256.9574772056037, "cost2_max": -0.07745509040513816, "system_level_velocity_max": 10.772995405484332, "cost2_min": -50.43431505928946}, "done": false, "time_total_s": 5226.033729791641, "episode_reward_min": 628.3363617735703, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 60, "time_since_restore": 5226.033729791641, "time_this_iter_s": 86.2167615890503, "pid": 63739, "episode_reward_mean": 1004.6443253350126, "info": {"grad_time_ms": 34735.545, "update_time_ms": 11.426, "num_steps_trained": 8100000, "num_steps_sampled": 8100000, "load_time_ms": 7.656, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.4082152247428894, "total_loss": 9.981431007385254, "policy_loss": -0.0076086255721747875, "entropy": 1.3377488851547241, "kl": 0.01666339859366417, "cur_lr": 0.0005000000237487257, "vf_loss": 9.986540794372559}, "sample_time_ms": 50879.972}, "timesteps_total": 8100000, "hostname": "flow-main", "episode_reward_max": 1274.0333712323104, "policy_reward_mean": {}, "training_iteration": 60, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-13-57", "timestamp": 1558030437, "timesteps_since_restore": 8235000, "episodes_total": 2323, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4588>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.020682174103751, "cost1_min": 111.06376582486772, "system_level_velocity_mean": 7.856063624414166, "cost1_mean": 203.2321190105009, "cost2_mean": -10.905680340845068, "cost1_max": 262.6565095465661, "cost2_max": 0.0, "system_level_velocity_max": 11.211018873017352, "cost2_min": -50.43431505928946}, "done": false, "time_total_s": 5311.35191488266, "episode_reward_min": 544.2319131024949, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 61, "time_since_restore": 5311.35191488266, "time_this_iter_s": 85.31818509101868, "pid": 63739, "episode_reward_mean": 1001.6117554042715, "info": {"grad_time_ms": 34673.711, "update_time_ms": 11.694, "num_steps_trained": 8235000, "num_steps_sampled": 8235000, "load_time_ms": 7.765, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.37630781531333923, "total_loss": 9.79352855682373, "policy_loss": -0.007727022282779217, "entropy": 1.3075320720672607, "kl": 0.01804928667843342, "cur_lr": 0.0005000000237487257, "vf_loss": 9.798548698425293}, "sample_time_ms": 50738.829}, "timesteps_total": 8235000, "hostname": "flow-main", "episode_reward_max": 1311.2579802185091, "policy_reward_mean": {}, "training_iteration": 61, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-15-22", "timestamp": 1558030522, "timesteps_since_restore": 8370000, "episodes_total": 2360, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa042b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04ac8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.020682174103751, "cost1_min": 44.97870837160803, "system_level_velocity_mean": 7.8077794000845415, "cost1_mean": 200.39819894091522, "cost2_mean": -9.468646211020804, "cost1_max": 262.6565095465661, "cost2_max": 0.0, "system_level_velocity_max": 11.211018873017352, "cost2_min": -39.966795404722745}, "done": false, "time_total_s": 5396.7267327308655, "episode_reward_min": 206.08169764443883, "episodes_this_iter": 37, "episode_len_mean": 741.72, "iterations_since_restore": 62, "time_since_restore": 5396.7267327308655, "time_this_iter_s": 85.37481784820557, "pid": 63739, "episode_reward_mean": 989.1572391036193, "info": {"grad_time_ms": 34567.693, "update_time_ms": 11.685, "num_steps_trained": 8370000, "num_steps_sampled": 8370000, "load_time_ms": 7.665, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3901749551296234, "total_loss": 9.991284370422363, "policy_loss": -0.006847452372312546, "entropy": 1.3022961616516113, "kl": 0.01644279807806015, "cur_lr": 0.0005000000237487257, "vf_loss": 9.995665550231934}, "sample_time_ms": 50735.596}, "timesteps_total": 8370000, "hostname": "flow-main", "episode_reward_max": 1311.2579802185091, "policy_reward_mean": {}, "training_iteration": 62, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-16-49", "timestamp": 1558030609, "timesteps_since_restore": 8505000, "episodes_total": 2396, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.215440513747526, "cost1_min": 44.97870837160803, "system_level_velocity_mean": 7.7139829789461904, "cost1_mean": 196.40227203500638, "cost2_mean": -9.036959467239422, "cost1_max": 262.6565095465661, "cost2_max": 0.0, "system_level_velocity_max": 11.211018873017352, "cost2_min": -38.33937105372769}, "done": false, "time_total_s": 5483.286112308502, "episode_reward_min": 206.08169764443883, "episodes_this_iter": 36, "episode_len_mean": 734.92, "iterations_since_restore": 63, "time_since_restore": 5483.286112308502, "time_this_iter_s": 86.55937957763672, "pid": 63739, "episode_reward_mean": 970.1091201986014, "info": {"grad_time_ms": 34689.815, "update_time_ms": 11.374, "num_steps_trained": 8505000, "num_steps_sampled": 8505000, "load_time_ms": 7.629, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.48815426230430603, "total_loss": 9.620530128479004, "policy_loss": -0.008073508739471436, "entropy": 1.3207958936691284, "kl": 0.017512599006295204, "cur_lr": 0.0005000000237487257, "vf_loss": 9.6259765625}, "sample_time_ms": 50730.538}, "timesteps_total": 8505000, "hostname": "flow-main", "episode_reward_max": 1311.2579802185091, "policy_reward_mean": {}, "training_iteration": 63, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-18-14", "timestamp": 1558030694, "timesteps_since_restore": 8640000, "episodes_total": 2432, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4710>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b00>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.5683113207628194, "cost1_min": 44.97870837160803, "system_level_velocity_mean": 7.650243839862852, "cost1_mean": 194.17728763471342, "cost2_mean": -10.013335677633258, "cost1_max": 275.1785572425331, "cost2_max": -0.0013982122365963435, "system_level_velocity_max": 13.105564606235056, "cost2_min": -44.898615394182585}, "done": false, "time_total_s": 5568.573190689087, "episode_reward_min": 206.08169764443883, "episodes_this_iter": 36, "episode_len_mean": 734.92, "iterations_since_restore": 64, "time_since_restore": 5568.573190689087, "time_this_iter_s": 85.28707838058472, "pid": 63739, "episode_reward_mean": 958.4452100925497, "info": {"grad_time_ms": 34688.427, "update_time_ms": 11.416, "num_steps_trained": 8640000, "num_steps_sampled": 8640000, "load_time_ms": 7.611, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.42567533254623413, "total_loss": 10.232522964477539, "policy_loss": -0.007616272196173668, "entropy": 1.2931265830993652, "kl": 0.017329812049865723, "cur_lr": 0.0005000000237487257, "vf_loss": 10.237540245056152}, "sample_time_ms": 50730.176}, "timesteps_total": 8640000, "hostname": "flow-main", "episode_reward_max": 1375.228154716299, "policy_reward_mean": {}, "training_iteration": 64, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-19-40", "timestamp": 1558030780, "timesteps_since_restore": 8775000, "episodes_total": 2468, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdfd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.5683113207628194, "cost1_min": 70.69967963596059, "system_level_velocity_mean": 8.002608599000432, "cost1_mean": 203.2453799111299, "cost2_mean": -10.984114830434319, "cost1_max": 275.1785572425331, "cost2_max": -0.012944663174126063, "system_level_velocity_max": 13.105564606235056, "cost2_min": -44.898615394182585}, "done": false, "time_total_s": 5654.579886674881, "episode_reward_min": 351.66399190315366, "episodes_this_iter": 36, "episode_len_mean": 747.58, "iterations_since_restore": 65, "time_since_restore": 5654.579886674881, "time_this_iter_s": 86.00669598579407, "pid": 63739, "episode_reward_mean": 1002.0363694950773, "info": {"grad_time_ms": 34740.183, "update_time_ms": 11.401, "num_steps_trained": 8775000, "num_steps_sampled": 8775000, "load_time_ms": 7.535, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.432054728269577, "total_loss": 10.572428703308105, "policy_loss": -0.007555002346634865, "entropy": 1.2993664741516113, "kl": 0.01754116453230381, "cur_lr": 0.0005000000237487257, "vf_loss": 10.577352523803711}, "sample_time_ms": 50670.37}, "timesteps_total": 8775000, "hostname": "flow-main", "episode_reward_max": 1375.228154716299, "policy_reward_mean": {}, "training_iteration": 65, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-21-05", "timestamp": 1558030865, "timesteps_since_restore": 8910000, "episodes_total": 2504, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4898>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.7491765796117305, "cost1_min": 132.8573666536331, "system_level_velocity_mean": 8.499595905121028, "cost1_mean": 212.95002393133046, "cost2_mean": -12.397168999813482, "cost1_max": 276.4819465790532, "cost2_max": -0.012944663174126063, "system_level_velocity_max": 13.262860010300681, "cost2_min": -44.898615394182585}, "done": false, "time_total_s": 5738.918934345245, "episode_reward_min": 648.2115305218712, "episodes_this_iter": 36, "episode_len_mean": 749.28, "iterations_since_restore": 66, "time_since_restore": 5738.918934345245, "time_this_iter_s": 84.33904767036438, "pid": 63739, "episode_reward_mean": 1048.276573214573, "info": {"grad_time_ms": 34705.591, "update_time_ms": 11.418, "num_steps_trained": 8910000, "num_steps_sampled": 8910000, "load_time_ms": 7.503, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3730551600456238, "total_loss": 10.313148498535156, "policy_loss": -0.007377299480140209, "entropy": 1.3057714700698853, "kl": 0.016896463930606842, "cur_lr": 0.0005000000237487257, "vf_loss": 10.317991256713867}, "sample_time_ms": 50567.842}, "timesteps_total": 8910000, "hostname": "flow-main", "episode_reward_max": 1381.5363750035278, "policy_reward_mean": {}, "training_iteration": 66, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-22-32", "timestamp": 1558030952, "timesteps_since_restore": 9045000, "episodes_total": 2540, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.7491765796117305, "cost1_min": 134.82729052352911, "system_level_velocity_mean": 8.72797947936397, "cost1_mean": 217.33056119489538, "cost2_mean": -13.359516308879542, "cost1_max": 276.4819465790532, "cost2_max": -0.03716922932009357, "system_level_velocity_max": 13.262860010300681, "cost2_min": -43.757094264715505}, "done": false, "time_total_s": 5825.840118646622, "episode_reward_min": 648.2115305218712, "episodes_this_iter": 36, "episode_len_mean": 749.28, "iterations_since_restore": 67, "time_since_restore": 5825.840118646622, "time_this_iter_s": 86.92118430137634, "pid": 63739, "episode_reward_mean": 1068.014663815994, "info": {"grad_time_ms": 34785.51, "update_time_ms": 11.346, "num_steps_trained": 9045000, "num_steps_sampled": 9045000, "load_time_ms": 7.535, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.34106242656707764, "total_loss": 10.68393611907959, "policy_loss": -0.00778114004060626, "entropy": 1.3204609155654907, "kl": 0.018049830570816994, "cur_lr": 0.0005000000237487257, "vf_loss": 10.689010620117188}, "sample_time_ms": 50673.727}, "timesteps_total": 9045000, "hostname": "flow-main", "episode_reward_max": 1381.5363750035278, "policy_reward_mean": {}, "training_iteration": 67, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-23-57", "timestamp": 1558031037, "timesteps_since_restore": 9180000, "episodes_total": 2576, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.966364434351163, "cost1_min": 134.96223855918893, "system_level_velocity_mean": 8.801112268017233, "cost1_mean": 218.22167557786022, "cost2_mean": -14.531400120044106, "cost1_max": 276.4819465790532, "cost2_max": -0.03716922932009357, "system_level_velocity_max": 13.262860010300681, "cost2_min": -45.22595781493584}, "done": false, "time_total_s": 5911.579113483429, "episode_reward_min": 648.2115305218712, "episodes_this_iter": 36, "episode_len_mean": 749.28, "iterations_since_restore": 68, "time_since_restore": 5911.579113483429, "time_this_iter_s": 85.73899483680725, "pid": 63739, "episode_reward_mean": 1070.7047383054878, "info": {"grad_time_ms": 34810.581, "update_time_ms": 11.17, "num_steps_trained": 9180000, "num_steps_sampled": 9180000, "load_time_ms": 7.626, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.292380690574646, "total_loss": 10.550715446472168, "policy_loss": -0.007599794305860996, "entropy": 1.3165971040725708, "kl": 0.017848113551735878, "cur_lr": 0.0005000000237487257, "vf_loss": 10.555638313293457}, "sample_time_ms": 50679.704}, "timesteps_total": 9180000, "hostname": "flow-main", "episode_reward_max": 1381.5363750035278, "policy_reward_mean": {}, "training_iteration": 68, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-25-24", "timestamp": 1558031124, "timesteps_since_restore": 9315000, "episodes_total": 2612, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c44a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c47f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.552117671674018, "cost1_min": 156.0077780370114, "system_level_velocity_mean": 8.676465552021737, "cost1_mean": 216.59674308482917, "cost2_mean": -15.006917695798975, "cost1_max": 273.68815449846466, "cost2_max": 0.0, "system_level_velocity_max": 12.963472219799087, "cost2_min": -45.22595781493584}, "done": false, "time_total_s": 5998.106382369995, "episode_reward_min": 744.740286767626, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 69, "time_since_restore": 5998.106382369995, "time_this_iter_s": 86.52726888656616, "pid": 63739, "episode_reward_mean": 1061.9455085318002, "info": {"grad_time_ms": 34888.228, "update_time_ms": 11.242, "num_steps_trained": 9315000, "num_steps_sampled": 9315000, "load_time_ms": 7.598, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3208853006362915, "total_loss": 10.803802490234375, "policy_loss": -0.006961935665458441, "entropy": 1.3171396255493164, "kl": 0.01735508441925049, "cur_lr": 0.0005000000237487257, "vf_loss": 10.808161735534668}, "sample_time_ms": 50674.296}, "timesteps_total": 9315000, "hostname": "flow-main", "episode_reward_max": 1367.0590722611507, "policy_reward_mean": {}, "training_iteration": 69, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-26-51", "timestamp": 1558031211, "timesteps_since_restore": 9450000, "episodes_total": 2648, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4588>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.5069908589263585, "cost1_min": 172.9109767492406, "system_level_velocity_mean": 8.776722473625258, "cost1_mean": 219.21226777512663, "cost2_mean": -13.062386556850077, "cost1_max": 265.0994541680972, "cost2_max": 0.0, "system_level_velocity_max": 11.870499686417306, "cost2_min": -63.311892291302414}, "done": false, "time_total_s": 6085.1056270599365, "episode_reward_min": 849.1667228788754, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 70, "time_since_restore": 6085.1056270599365, "time_this_iter_s": 86.9992446899414, "pid": 63739, "episode_reward_mean": 1077.6632121344367, "info": {"grad_time_ms": 35075.488, "update_time_ms": 11.081, "num_steps_trained": 9450000, "num_steps_sampled": 9450000, "load_time_ms": 7.805, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.29764848947525024, "total_loss": 10.644678115844727, "policy_loss": -0.007576634641736746, "entropy": 1.3285359144210815, "kl": 0.01838320679962635, "cur_lr": 0.0005000000237487257, "vf_loss": 10.649497032165527}, "sample_time_ms": 50560.678}, "timesteps_total": 9450000, "hostname": "flow-main", "episode_reward_max": 1318.390983974818, "policy_reward_mean": {}, "training_iteration": 70, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-28-16", "timestamp": 1558031296, "timesteps_since_restore": 9585000, "episodes_total": 2684, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c47b8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.5069908589263585, "cost1_min": 172.68577328306327, "system_level_velocity_mean": 8.619414392311862, "cost1_mean": 216.87622019259052, "cost2_mean": -13.02723547828946, "cost1_max": 263.38540864645597, "cost2_max": 0.0, "system_level_velocity_max": 11.870499686417306, "cost2_min": -63.311892291302414}, "done": false, "time_total_s": 6169.915540933609, "episode_reward_min": 842.6466419006806, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 71, "time_since_restore": 6169.915540933609, "time_this_iter_s": 84.80991387367249, "pid": 63739, "episode_reward_mean": 1066.3420543919958, "info": {"grad_time_ms": 35104.38, "update_time_ms": 10.691, "num_steps_trained": 9585000, "num_steps_sampled": 9585000, "load_time_ms": 7.761, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.2986013889312744, "total_loss": 10.918172836303711, "policy_loss": -0.008256440982222557, "entropy": 1.345171332359314, "kl": 0.01930416375398636, "cur_lr": 0.0005000000237487257, "vf_loss": 10.92353343963623}, "sample_time_ms": 50482.754}, "timesteps_total": 9585000, "hostname": "flow-main", "episode_reward_max": 1306.5040293294076, "policy_reward_mean": {}, "training_iteration": 71, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-29-43", "timestamp": 1558031383, "timesteps_since_restore": 9720000, "episodes_total": 2720, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4eb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4898>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.613021164064862, "cost1_min": 109.1981208156228, "system_level_velocity_mean": 8.638236447668529, "cost1_mean": 217.0026158756538, "cost2_mean": -12.28647851403165, "cost1_max": 275.3017385854612, "cost2_max": -0.18931087434895713, "system_level_velocity_max": 13.246458767268026, "cost2_min": -39.95354156289636}, "done": false, "time_total_s": 6256.701608657837, "episode_reward_min": 510.9892414513622, "episodes_this_iter": 36, "episode_len_mean": 746.37, "iterations_since_restore": 72, "time_since_restore": 6256.701608657837, "time_this_iter_s": 86.7860677242279, "pid": 63739, "episode_reward_mean": 1067.9609321000296, "info": {"grad_time_ms": 35224.331, "update_time_ms": 10.531, "num_steps_trained": 9720000, "num_steps_sampled": 9720000, "load_time_ms": 7.817, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.2738609313964844, "total_loss": 10.78220272064209, "policy_loss": -0.006805276032537222, "entropy": 1.3325406312942505, "kl": 0.01772691123187542, "cur_lr": 0.0005000000237487257, "vf_loss": 10.786348342895508}, "sample_time_ms": 50505.198}, "timesteps_total": 9720000, "hostname": "flow-main", "episode_reward_max": 1375.6053542642667, "policy_reward_mean": {}, "training_iteration": 72, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-31-09", "timestamp": 1558031469, "timesteps_since_restore": 9855000, "episodes_total": 2759, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4a20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4588>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.156505964539331, "cost1_min": 45.97187343098949, "system_level_velocity_mean": 8.327326623165543, "cost1_mean": 210.29612251955038, "cost2_mean": -13.331304830475652, "cost1_max": 275.3017385854612, "cost2_max": -0.19653498677860265, "system_level_velocity_max": 13.246458767268026, "cost2_min": -39.95354156289636}, "done": false, "time_total_s": 6342.5401084423065, "episode_reward_min": 213.2735073955059, "episodes_this_iter": 39, "episode_len_mean": 734.28, "iterations_since_restore": 73, "time_since_restore": 6342.5401084423065, "time_this_iter_s": 85.8384997844696, "pid": 63739, "episode_reward_mean": 1032.9694473125958, "info": {"grad_time_ms": 35085.548, "update_time_ms": 10.636, "num_steps_trained": 9855000, "num_steps_sampled": 9855000, "load_time_ms": 7.609, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.34788110852241516, "total_loss": 10.817218780517578, "policy_loss": -0.008848892524838448, "entropy": 1.3309962749481201, "kl": 0.020124778151512146, "cur_lr": 0.0005000000237487257, "vf_loss": 10.82304859161377}, "sample_time_ms": 50572.247}, "timesteps_total": 9855000, "hostname": "flow-main", "episode_reward_max": 1375.6053542642667, "policy_reward_mean": {}, "training_iteration": 73, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-32-34", "timestamp": 1558031554, "timesteps_since_restore": 9990000, "episodes_total": 2795, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4358>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.5126083215993615, "cost1_min": 45.97187343098949, "system_level_velocity_mean": 8.222247342684652, "cost1_mean": 209.831774672039, "cost2_mean": -12.308697124194843, "cost1_max": 257.0648275220876, "cost2_max": -0.006998363544762505, "system_level_velocity_max": 11.366752744663502, "cost2_min": -28.910985781887078}, "done": false, "time_total_s": 6428.209146976471, "episode_reward_min": 213.2735073955059, "episodes_this_iter": 36, "episode_len_mean": 737.91, "iterations_since_restore": 74, "time_since_restore": 6428.209146976471, "time_this_iter_s": 85.66903853416443, "pid": 63739, "episode_reward_mean": 1032.239229970678, "info": {"grad_time_ms": 35055.399, "update_time_ms": 10.579, "num_steps_trained": 9990000, "num_steps_sampled": 9990000, "load_time_ms": 7.676, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.32773423194885254, "total_loss": 10.292560577392578, "policy_loss": -0.007576992269605398, "entropy": 1.3274478912353516, "kl": 0.014849042519927025, "cur_lr": 0.0005000000237487257, "vf_loss": 10.296794891357422}, "sample_time_ms": 50639.964}, "timesteps_total": 9990000, "hostname": "flow-main", "episode_reward_max": 1284.430310997932, "policy_reward_mean": {}, "training_iteration": 74, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-34-00", "timestamp": 1558031640, "timesteps_since_restore": 10125000, "episodes_total": 2832, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd5c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.102762778224105, "cost1_min": 103.34918826166177, "system_level_velocity_mean": 8.042183789413409, "cost1_mean": 206.78018782636715, "cost2_mean": -12.174076675835856, "cost1_max": 257.0648275220876, "cost2_max": -0.006998363544762505, "system_level_velocity_max": 11.366752744663502, "cost2_min": -35.769556016607524}, "done": false, "time_total_s": 6513.847854137421, "episode_reward_min": 500.6758924261934, "episodes_this_iter": 37, "episode_len_mean": 740.32, "iterations_since_restore": 75, "time_since_restore": 6513.847854137421, "time_this_iter_s": 85.6387071609497, "pid": 63739, "episode_reward_mean": 1017.2504871602498, "info": {"grad_time_ms": 35037.278, "update_time_ms": 10.492, "num_steps_trained": 10125000, "num_steps_sampled": 10125000, "load_time_ms": 7.755, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.35092693567276, "total_loss": 10.629345893859863, "policy_loss": -0.0075006308034062386, "entropy": 1.3283809423446655, "kl": 0.016823360696434975, "cur_lr": 0.0005000000237487257, "vf_loss": 10.633060455322266}, "sample_time_ms": 50625.595}, "timesteps_total": 10125000, "hostname": "flow-main", "episode_reward_max": 1284.430310997932, "policy_reward_mean": {}, "training_iteration": 75, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-35-27", "timestamp": 1558031727, "timesteps_since_restore": 10260000, "episodes_total": 2869, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4a58>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.99065754956508, "cost1_min": 45.001799445939994, "system_level_velocity_mean": 7.960826612753242, "cost1_mean": 204.05362703971113, "cost2_mean": -12.129191807605743, "cost1_max": 255.02814651572203, "cost2_max": 0.0, "system_level_velocity_max": 11.159662314463882, "cost2_min": -35.769556016607524}, "done": false, "time_total_s": 6600.452276706696, "episode_reward_min": 211.91534509763943, "episodes_this_iter": 37, "episode_len_mean": 733.96, "iterations_since_restore": 76, "time_since_restore": 6600.452276706696, "time_this_iter_s": 86.6044225692749, "pid": 63739, "episode_reward_mean": 1003.7840343254469, "info": {"grad_time_ms": 35185.004, "update_time_ms": 10.514, "num_steps_trained": 10260000, "num_steps_sampled": 10260000, "load_time_ms": 7.826, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4106977581977844, "total_loss": 10.857303619384766, "policy_loss": -0.00842730700969696, "entropy": 1.3600322008132935, "kl": 0.016662003472447395, "cur_lr": 0.0005000000237487257, "vf_loss": 10.861980438232422}, "sample_time_ms": 50706.911}, "timesteps_total": 10260000, "hostname": "flow-main", "episode_reward_max": 1274.0293458489061, "policy_reward_mean": {}, "training_iteration": 76, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-36-52", "timestamp": 1558031812, "timesteps_since_restore": 10395000, "episodes_total": 2906, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa040f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04ef0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04860>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.3007782974206523, "cost1_min": 45.001799445939994, "system_level_velocity_mean": 7.992056780866831, "cost1_mean": 202.50209418452246, "cost2_mean": -14.268101758323532, "cost1_max": 255.02814651572203, "cost2_max": 0.0, "system_level_velocity_max": 11.159662314463882, "cost2_min": -40.50980558405324}, "done": false, "time_total_s": 6686.123148679733, "episode_reward_min": 211.91534509763943, "episodes_this_iter": 37, "episode_len_mean": 722.69, "iterations_since_restore": 77, "time_since_restore": 6686.123148679733, "time_this_iter_s": 85.67087197303772, "pid": 63739, "episode_reward_mean": 993.2164194345635, "info": {"grad_time_ms": 35125.777, "update_time_ms": 10.597, "num_steps_trained": 10395000, "num_steps_sampled": 10395000, "load_time_ms": 7.876, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.453497052192688, "total_loss": 10.341376304626465, "policy_loss": -0.008355570025742054, "entropy": 1.3709830045700073, "kl": 0.016131486743688583, "cur_lr": 0.0005000000237487257, "vf_loss": 10.346101760864258}, "sample_time_ms": 50642.65}, "timesteps_total": 10395000, "hostname": "flow-main", "episode_reward_max": 1274.0293458489061, "policy_reward_mean": {}, "training_iteration": 77, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-38-19", "timestamp": 1558031899, "timesteps_since_restore": 10530000, "episodes_total": 2943, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4358>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.3007782974206523, "cost1_min": 45.001799445939994, "system_level_velocity_mean": 8.000002016019142, "cost1_mean": 202.84398522138557, "cost2_mean": -15.431964494905156, "cost1_max": 256.9193830837339, "cost2_max": 0.0, "system_level_velocity_max": 11.394748423394189, "cost2_min": -46.30051617943505}, "done": false, "time_total_s": 6772.538455486298, "episode_reward_min": 211.91534509763943, "episodes_this_iter": 37, "episode_len_mean": 723.26, "iterations_since_restore": 78, "time_since_restore": 6772.538455486298, "time_this_iter_s": 86.41530680656433, "pid": 63739, "episode_reward_mean": 993.7155366984715, "info": {"grad_time_ms": 35122.435, "update_time_ms": 10.612, "num_steps_trained": 10530000, "num_steps_sampled": 10530000, "load_time_ms": 8.036, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3536777198314667, "total_loss": 10.567963600158691, "policy_loss": -0.00867422204464674, "entropy": 1.3586034774780273, "kl": 0.01570458710193634, "cur_lr": 0.0005000000237487257, "vf_loss": 10.573104858398438}, "sample_time_ms": 50706.915}, "timesteps_total": 10530000, "hostname": "flow-main", "episode_reward_max": 1283.9244132274296, "policy_reward_mean": {}, "training_iteration": 78, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-39-45", "timestamp": 1558031985, "timesteps_since_restore": 10665000, "episodes_total": 2979, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5ba8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.3007782974206523, "cost1_min": 67.34361808746785, "system_level_velocity_mean": 8.114873935640123, "cost1_mean": 207.67179653132396, "cost2_mean": -15.641508758560967, "cost1_max": 264.6328632448226, "cost2_max": 0.0, "system_level_velocity_max": 12.047174139469663, "cost2_min": -46.30051617943505}, "done": false, "time_total_s": 6858.661288022995, "episode_reward_min": 320.0166705692678, "episodes_this_iter": 36, "episode_len_mean": 734.61, "iterations_since_restore": 79, "time_since_restore": 6858.661288022995, "time_this_iter_s": 86.12283253669739, "pid": 63739, "episode_reward_mean": 1017.292239077962, "info": {"grad_time_ms": 35122.751, "update_time_ms": 10.599, "num_steps_trained": 10665000, "num_steps_sampled": 10665000, "load_time_ms": 8.037, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33840131759643555, "total_loss": 10.21142578125, "policy_loss": -0.008046112023293972, "entropy": 1.3514058589935303, "kl": 0.015583968721330166, "cur_lr": 0.0005000000237487257, "vf_loss": 10.215965270996094}, "sample_time_ms": 50664.574}, "timesteps_total": 10665000, "hostname": "flow-main", "episode_reward_max": 1319.7490304891364, "policy_reward_mean": {}, "training_iteration": 79, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-41-12", "timestamp": 1558032072, "timesteps_since_restore": 10800000, "episodes_total": 3015, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04c88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04470>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.10400551721685, "cost1_min": 93.79225851044067, "system_level_velocity_mean": 8.256942586271151, "cost1_mean": 212.32316441940998, "cost2_mean": -15.947717559571911, "cost1_max": 264.6328632448226, "cost2_max": 0.0, "system_level_velocity_max": 12.047174139469663, "cost2_min": -49.77041687338723}, "done": false, "time_total_s": 6945.89578461647, "episode_reward_min": 432.09953948842514, "episodes_this_iter": 36, "episode_len_mean": 745.49, "iterations_since_restore": 80, "time_since_restore": 6945.89578461647, "time_this_iter_s": 87.23449659347534, "pid": 63739, "episode_reward_mean": 1039.9393320913703, "info": {"grad_time_ms": 35037.21, "update_time_ms": 10.265, "num_steps_trained": 10800000, "num_steps_sampled": 10800000, "load_time_ms": 8.085, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3102264404296875, "total_loss": 10.005926132202148, "policy_loss": -0.008445050567388535, "entropy": 1.3731396198272705, "kl": 0.015758099034428596, "cur_lr": 0.0005000000237487257, "vf_loss": 10.010825157165527}, "sample_time_ms": 50778.864}, "timesteps_total": 10800000, "hostname": "flow-main", "episode_reward_max": 1319.7490304891364, "policy_reward_mean": {}, "training_iteration": 80, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-42-41", "timestamp": 1558032161, "timesteps_since_restore": 10935000, "episodes_total": 3051, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04b70>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.584332598935693, "cost1_min": 116.89910924249976, "system_level_velocity_mean": 8.319772307915771, "cost1_mean": 213.2058262445112, "cost2_mean": -16.244013816047026, "cost1_max": 274.76394532715267, "cost2_max": -0.05320799508460497, "system_level_velocity_max": 13.398355402631703, "cost2_min": -51.78187420975306}, "done": false, "time_total_s": 7034.11443901062, "episode_reward_min": 563.7451536296204, "episodes_this_iter": 36, "episode_len_mean": 748.29, "iterations_since_restore": 81, "time_since_restore": 7034.11443901062, "time_this_iter_s": 88.21865439414978, "pid": 63739, "episode_reward_mean": 1044.191395940396, "info": {"grad_time_ms": 35237.306, "update_time_ms": 10.509, "num_steps_trained": 10935000, "num_steps_sampled": 10935000, "load_time_ms": 7.957, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3528318405151367, "total_loss": 10.16580581665039, "policy_loss": -0.007655625231564045, "entropy": 1.3884330987930298, "kl": 0.015847407281398773, "cur_lr": 0.0005000000237487257, "vf_loss": 10.169896125793457}, "sample_time_ms": 50915.758}, "timesteps_total": 10935000, "hostname": "flow-main", "episode_reward_max": 1371.12785172934, "policy_reward_mean": {}, "training_iteration": 81, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-44-07", "timestamp": 1558032247, "timesteps_since_restore": 11070000, "episodes_total": 3087, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4d68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e48>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.584332598935693, "cost1_min": 116.89910924249976, "system_level_velocity_mean": 8.282220110348717, "cost1_mean": 212.67672604831384, "cost2_mean": -17.196916521179805, "cost1_max": 274.76394532715267, "cost2_max": -0.359357407199871, "system_level_velocity_max": 13.398355402631703, "cost2_min": -51.78187420975306}, "done": false, "time_total_s": 7120.454427719116, "episode_reward_min": 563.7451536296204, "episodes_this_iter": 36, "episode_len_mean": 748.29, "iterations_since_restore": 82, "time_since_restore": 7120.454427719116, "time_this_iter_s": 86.3399887084961, "pid": 63739, "episode_reward_mean": 1040.291787802107, "info": {"grad_time_ms": 35208.853, "update_time_ms": 10.69, "num_steps_trained": 11070000, "num_steps_sampled": 11070000, "load_time_ms": 7.858, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.34345969557762146, "total_loss": 10.288618087768555, "policy_loss": -0.008559569716453552, "entropy": 1.3814302682876587, "kl": 0.01702939160168171, "cur_lr": 0.0005000000237487257, "vf_loss": 10.29334545135498}, "sample_time_ms": 50894.792}, "timesteps_total": 11070000, "hostname": "flow-main", "episode_reward_max": 1371.12785172934, "policy_reward_mean": {}, "training_iteration": 82, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-45-33", "timestamp": 1558032333, "timesteps_since_restore": 11205000, "episodes_total": 3124, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa049b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04908>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.249651304437762, "cost1_min": 57.44460893033138, "system_level_velocity_mean": 8.30408484597125, "cost1_mean": 212.38024204685757, "cost2_mean": -16.395427198667885, "cost1_max": 261.4669386264696, "cost2_max": -0.32814286254578495, "system_level_velocity_max": 11.855057032651558, "cost2_min": -51.78187420975306}, "done": false, "time_total_s": 7206.555385828018, "episode_reward_min": 266.48774155922854, "episodes_this_iter": 37, "episode_len_mean": 743.75, "iterations_since_restore": 83, "time_since_restore": 7206.555385828018, "time_this_iter_s": 86.10095810890198, "pid": 63739, "episode_reward_mean": 1040.176639989447, "info": {"grad_time_ms": 35254.356, "update_time_ms": 10.858, "num_steps_trained": 11205000, "num_steps_sampled": 11205000, "load_time_ms": 7.906, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3531295657157898, "total_loss": 10.466471672058105, "policy_loss": -0.006944507360458374, "entropy": 1.353485107421875, "kl": 0.016220493242144585, "cur_lr": 0.0005000000237487257, "vf_loss": 10.469766616821289}, "sample_time_ms": 50873.669}, "timesteps_total": 11205000, "hostname": "flow-main", "episode_reward_max": 1305.535331573883, "policy_reward_mean": {}, "training_iteration": 83, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-46-58", "timestamp": 1558032418, "timesteps_since_restore": 11340000, "episodes_total": 3161, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4cc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.249651304437762, "cost1_min": 57.44460893033138, "system_level_velocity_mean": 8.495044830404098, "cost1_mean": 215.15887310310842, "cost2_mean": -15.097287440475863, "cost1_max": 261.4669386264696, "cost2_max": -0.18584219544844283, "system_level_velocity_max": 11.855057032651558, "cost2_min": -40.666510924720264}, "done": false, "time_total_s": 7291.6863758563995, "episode_reward_min": 266.48774155922854, "episodes_this_iter": 37, "episode_len_mean": 740.4, "iterations_since_restore": 84, "time_since_restore": 7291.6863758563995, "time_this_iter_s": 85.13099002838135, "pid": 63739, "episode_reward_mean": 1055.1715085239196, "info": {"grad_time_ms": 35249.564, "update_time_ms": 10.927, "num_steps_trained": 11340000, "num_steps_sampled": 11340000, "load_time_ms": 7.911, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.329340398311615, "total_loss": 10.274062156677246, "policy_loss": -0.007958400063216686, "entropy": 1.3614211082458496, "kl": 0.016410650685429573, "cur_lr": 0.0005000000237487257, "vf_loss": 10.278327941894531}, "sample_time_ms": 50823.129}, "timesteps_total": 11340000, "hostname": "flow-main", "episode_reward_max": 1305.535331573883, "policy_reward_mean": {}, "training_iteration": 84, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-48-25", "timestamp": 1558032505, "timesteps_since_restore": 11475000, "episodes_total": 3197, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a748>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.233393372314958, "cost1_min": 68.73798943449978, "system_level_velocity_mean": 8.629030030015679, "cost1_mean": 218.61722165958804, "cost2_mean": -14.169222392617003, "cost1_max": 261.4669386264696, "cost2_max": 0.0, "system_level_velocity_max": 11.855057032651558, "cost2_min": -40.85146618004937}, "done": false, "time_total_s": 7377.959151029587, "episode_reward_min": 325.52056882402513, "episodes_this_iter": 36, "episode_len_mean": 744.94, "iterations_since_restore": 85, "time_since_restore": 7377.959151029587, "time_this_iter_s": 86.27277517318726, "pid": 63739, "episode_reward_mean": 1073.2987518652762, "info": {"grad_time_ms": 35227.124, "update_time_ms": 11.175, "num_steps_trained": 11475000, "num_steps_sampled": 11475000, "load_time_ms": 7.787, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3277941942214966, "total_loss": 10.123291969299316, "policy_loss": -0.008683803491294384, "entropy": 1.360430121421814, "kl": 0.0165548212826252, "cur_lr": 0.0005000000237487257, "vf_loss": 10.128251075744629}, "sample_time_ms": 50912.558}, "timesteps_total": 11475000, "hostname": "flow-main", "episode_reward_max": 1305.535331573883, "policy_reward_mean": {}, "training_iteration": 85, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-49-51", "timestamp": 1558032591, "timesteps_since_restore": 11610000, "episodes_total": 3233, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fda90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.040923644893997, "cost1_min": 68.73798943449978, "system_level_velocity_mean": 8.436279835505204, "cost1_mean": 215.11307882619639, "cost2_mean": -13.836328122824249, "cost1_max": 259.4386933144307, "cost2_max": 0.0, "system_level_velocity_max": 11.641451352433611, "cost2_min": -40.85146618004937}, "done": false, "time_total_s": 7464.418958425522, "episode_reward_min": 325.52056882402513, "episodes_this_iter": 36, "episode_len_mean": 743.73, "iterations_since_restore": 86, "time_since_restore": 7464.418958425522, "time_this_iter_s": 86.45980739593506, "pid": 63739, "episode_reward_mean": 1056.4121992383323, "info": {"grad_time_ms": 35230.466, "update_time_ms": 11.151, "num_steps_trained": 11610000, "num_steps_sampled": 11610000, "load_time_ms": 7.784, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.35788092017173767, "total_loss": 9.542991638183594, "policy_loss": -0.007832584902644157, "entropy": 1.3675264120101929, "kl": 0.01615426130592823, "cur_lr": 0.0005000000237487257, "vf_loss": 9.547188758850098}, "sample_time_ms": 50890.033}, "timesteps_total": 11610000, "hostname": "flow-main", "episode_reward_max": 1296.7229093011597, "policy_reward_mean": {}, "training_iteration": 86, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-51-19", "timestamp": 1558032679, "timesteps_since_restore": 11745000, "episodes_total": 3270, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.040923644893997, "cost1_min": 61.893295366793616, "system_level_velocity_mean": 8.193342330529186, "cost1_mean": 210.2254732706879, "cost2_mean": -12.478322645239803, "cost1_max": 278.06760505351144, "cost2_max": 0.0, "system_level_velocity_max": 13.405434469769306, "cost2_min": -40.85146618004937}, "done": false, "time_total_s": 7551.982820749283, "episode_reward_min": 286.1761616867277, "episodes_this_iter": 37, "episode_len_mean": 743.87, "iterations_since_restore": 87, "time_since_restore": 7551.982820749283, "time_this_iter_s": 87.56386232376099, "pid": 63739, "episode_reward_mean": 1033.9085406739498, "info": {"grad_time_ms": 35316.613, "update_time_ms": 11.085, "num_steps_trained": 11745000, "num_steps_sampled": 11745000, "load_time_ms": 7.679, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3790481388568878, "total_loss": 10.484688758850098, "policy_loss": -0.008512604050338268, "entropy": 1.3595213890075684, "kl": 0.016073834151029587, "cur_lr": 0.0005000000237487257, "vf_loss": 10.489584922790527}, "sample_time_ms": 50986.714}, "timesteps_total": 11745000, "hostname": "flow-main", "episode_reward_max": 1386.2923974003677, "policy_reward_mean": {}, "training_iteration": 87, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-52-46", "timestamp": 1558032766, "timesteps_since_restore": 11880000, "episodes_total": 3306, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c44e0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c44a8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.040923644893997, "cost1_min": 61.893295366793616, "system_level_velocity_mean": 8.270824347247805, "cost1_mean": 211.66190810619904, "cost2_mean": -12.045867720475925, "cost1_max": 278.06760505351144, "cost2_max": -0.13369998086704357, "system_level_velocity_max": 13.405434469769306, "cost2_min": -44.208640097741394}, "done": false, "time_total_s": 7638.690540790558, "episode_reward_min": 286.1761616867277, "episodes_this_iter": 36, "episode_len_mean": 743.49, "iterations_since_restore": 88, "time_since_restore": 7638.690540790558, "time_this_iter_s": 86.70772004127502, "pid": 63739, "episode_reward_mean": 1041.6463491193965, "info": {"grad_time_ms": 35374.023, "update_time_ms": 11.186, "num_steps_trained": 11880000, "num_steps_sampled": 11880000, "load_time_ms": 7.564, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3781406581401825, "total_loss": 10.190348625183105, "policy_loss": -0.007989904843270779, "entropy": 1.3518778085708618, "kl": 0.015070458874106407, "cur_lr": 0.0005000000237487257, "vf_loss": 10.194947242736816}, "sample_time_ms": 50963.68}, "timesteps_total": 11880000, "hostname": "flow-main", "episode_reward_max": 1386.2923974003677, "policy_reward_mean": {}, "training_iteration": 88, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-54-13", "timestamp": 1558032853, "timesteps_since_restore": 12015000, "episodes_total": 3342, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd710>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd5f8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.041342184992124, "cost1_min": 61.893295366793616, "system_level_velocity_mean": 8.401296257301304, "cost1_mean": 213.56721262592274, "cost2_mean": -11.811069883680839, "cost1_max": 278.06760505351144, "cost2_max": -0.028112387236975102, "system_level_velocity_max": 13.405434469769306, "cost2_min": -44.208640097741394}, "done": false, "time_total_s": 7726.154047250748, "episode_reward_min": 286.1761616867277, "episodes_this_iter": 36, "episode_len_mean": 744.7, "iterations_since_restore": 89, "time_since_restore": 7726.154047250748, "time_this_iter_s": 87.46350646018982, "pid": 63739, "episode_reward_mean": 1051.357202112194, "info": {"grad_time_ms": 35519.931, "update_time_ms": 11.05, "num_steps_trained": 12015000, "num_steps_sampled": 12015000, "load_time_ms": 7.549, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.34872910380363464, "total_loss": 10.215279579162598, "policy_loss": -0.008267605677247047, "entropy": 1.3698296546936035, "kl": 0.015708986669778824, "cur_lr": 0.0005000000237487257, "vf_loss": 10.220011711120605}, "sample_time_ms": 50953.461}, "timesteps_total": 12015000, "hostname": "flow-main", "episode_reward_max": 1386.2923974003677, "policy_reward_mean": {}, "training_iteration": 89, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-55-38", "timestamp": 1558032938, "timesteps_since_restore": 12150000, "episodes_total": 3380, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4908>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.836984634678165, "cost1_min": 50.49857064976936, "system_level_velocity_mean": 8.289884864721527, "cost1_mean": 209.34559308034005, "cost2_mean": -11.512162793227064, "cost1_max": 272.3201188360837, "cost2_max": -0.028112387236975102, "system_level_velocity_max": 13.139895199853806, "cost2_min": -44.208640097741394}, "done": false, "time_total_s": 7811.0242919921875, "episode_reward_min": 228.61600389191793, "episodes_this_iter": 38, "episode_len_mean": 737.04, "iterations_since_restore": 90, "time_since_restore": 7811.0242919921875, "time_this_iter_s": 84.87024474143982, "pid": 63739, "episode_reward_mean": 1030.6847873300992, "info": {"grad_time_ms": 35434.68, "update_time_ms": 11.265, "num_steps_trained": 12150000, "num_steps_sampled": 12150000, "load_time_ms": 7.437, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3326002061367035, "total_loss": 10.695627212524414, "policy_loss": -0.008013337850570679, "entropy": 1.3793673515319824, "kl": 0.015476157888770103, "cur_lr": 0.0005000000237487257, "vf_loss": 10.70015811920166}, "sample_time_ms": 50803.539}, "timesteps_total": 12150000, "hostname": "flow-main", "episode_reward_max": 1360.1114504647296, "policy_reward_mean": {}, "training_iteration": 90, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-57-02", "timestamp": 1558033022, "timesteps_since_restore": 12285000, "episodes_total": 3417, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdf60>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.836984634678165, "cost1_min": 50.49857064976936, "system_level_velocity_mean": 8.120511312782714, "cost1_mean": 203.31353064820178, "cost2_mean": -13.262957572765385, "cost1_max": 251.91695119009307, "cost2_max": -0.6288893629353305, "system_level_velocity_max": 10.74590209214018, "cost2_min": -39.5861278109696}, "done": false, "time_total_s": 7895.23357129097, "episode_reward_min": 228.61600389191793, "episodes_this_iter": 37, "episode_len_mean": 729.55, "iterations_since_restore": 91, "time_since_restore": 7895.23357129097, "time_this_iter_s": 84.20927929878235, "pid": 63739, "episode_reward_mean": 998.0295450854522, "info": {"grad_time_ms": 35135.011, "update_time_ms": 11.293, "num_steps_trained": 12285000, "num_steps_sampled": 12285000, "load_time_ms": 7.34, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.36343178153038025, "total_loss": 10.75854778289795, "policy_loss": -0.007934313267469406, "entropy": 1.3733550310134888, "kl": 0.015312026254832745, "cur_lr": 0.0005000000237487257, "vf_loss": 10.76303768157959}, "sample_time_ms": 50706.177}, "timesteps_total": 12285000, "hostname": "flow-main", "episode_reward_max": 1239.199585696888, "policy_reward_mean": {}, "training_iteration": 91, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-58-29", "timestamp": 1558033109, "timesteps_since_restore": 12420000, "episodes_total": 3454, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04b70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ba8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.822768173846174, "cost1_min": 52.292578951524945, "system_level_velocity_mean": 8.463812677608281, "cost1_mean": 211.16795612962855, "cost2_mean": -13.038103059594423, "cost1_max": 261.64605530558606, "cost2_max": -0.3280603238337337, "system_level_velocity_max": 11.843571704681588, "cost2_min": -34.79057353006343}, "done": false, "time_total_s": 7982.234074115753, "episode_reward_min": 257.29167861437156, "episodes_this_iter": 37, "episode_len_mean": 737.98, "iterations_since_restore": 92, "time_since_restore": 7982.234074115753, "time_this_iter_s": 87.00050282478333, "pid": 63739, "episode_reward_mean": 1037.4853178928092, "info": {"grad_time_ms": 35127.254, "update_time_ms": 11.271, "num_steps_trained": 12420000, "num_steps_sampled": 12420000, "load_time_ms": 7.317, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.31921589374542236, "total_loss": 10.668821334838867, "policy_loss": -0.008144895546138287, "entropy": 1.391367793083191, "kl": 0.015820853412151337, "cur_lr": 0.0005000000237487257, "vf_loss": 10.673405647277832}, "sample_time_ms": 50781.571}, "timesteps_total": 12420000, "hostname": "flow-main", "episode_reward_max": 1307.7381860421785, "policy_reward_mean": {}, "training_iteration": 92, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_18-59-58", "timestamp": 1558033198, "timesteps_since_restore": 12555000, "episodes_total": 3493, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8d30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8780>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.822768173846174, "cost1_min": 52.292578951524945, "system_level_velocity_mean": 8.591746380218707, "cost1_mean": 211.82806977590684, "cost2_mean": -14.4053637344539, "cost1_max": 264.57732834159685, "cost2_max": -0.3280603238337337, "system_level_velocity_max": 11.843571704681588, "cost2_min": -41.84762959490155}, "done": false, "time_total_s": 8070.65984249115, "episode_reward_min": 257.29167861437156, "episodes_this_iter": 39, "episode_len_mean": 727.55, "iterations_since_restore": 93, "time_since_restore": 8070.65984249115, "time_this_iter_s": 88.42576837539673, "pid": 63739, "episode_reward_mean": 1038.8446624886217, "info": {"grad_time_ms": 35237.387, "update_time_ms": 11.159, "num_steps_trained": 12555000, "num_steps_sampled": 12555000, "load_time_ms": 7.329, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3892631530761719, "total_loss": 10.963961601257324, "policy_loss": -0.007492265198379755, "entropy": 1.4243453741073608, "kl": 0.015184055082499981, "cur_lr": 0.0005000000237487257, "vf_loss": 10.968037605285645}, "sample_time_ms": 50904.163}, "timesteps_total": 12555000, "hostname": "flow-main", "episode_reward_max": 1307.7381860421785, "policy_reward_mean": {}, "training_iteration": 93, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-01-24", "timestamp": 1558033284, "timesteps_since_restore": 12690000, "episodes_total": 3529, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c85c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a58>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c81d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.880038434021295, "cost1_min": 64.6441695898281, "system_level_velocity_mean": 8.46993121654331, "cost1_mean": 211.59507886223477, "cost2_mean": -15.839865995992472, "cost1_max": 270.43381155238467, "cost2_max": -0.3280603238337337, "system_level_velocity_max": 11.879313811750112, "cost2_min": -42.1807332283536}, "done": false, "time_total_s": 8157.052446603775, "episode_reward_min": 296.05802138618026, "episodes_this_iter": 36, "episode_len_mean": 732.87, "iterations_since_restore": 94, "time_since_restore": 8157.052446603775, "time_this_iter_s": 86.39260411262512, "pid": 63739, "episode_reward_mean": 1035.7129433525747, "info": {"grad_time_ms": 35375.076, "update_time_ms": 11.086, "num_steps_trained": 12690000, "num_steps_sampled": 12690000, "load_time_ms": 7.278, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.38206183910369873, "total_loss": 10.062939643859863, "policy_loss": -0.008992763236165047, "entropy": 1.4098423719406128, "kl": 0.017116257920861244, "cur_lr": 0.0005000000237487257, "vf_loss": 10.068081855773926}, "sample_time_ms": 50898.661}, "timesteps_total": 12690000, "hostname": "flow-main", "episode_reward_max": 1341.1935349150965, "policy_reward_mean": {}, "training_iteration": 94, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-02-50", "timestamp": 1558033370, "timesteps_since_restore": 12825000, "episodes_total": 3566, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa041d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e10>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.272009608825705, "cost1_min": 59.21122814909174, "system_level_velocity_mean": 8.39770528134467, "cost1_mean": 209.9808427540094, "cost2_mean": -14.82989496504243, "cost1_max": 270.43381155238467, "cost2_max": -0.5832149368763603, "system_level_velocity_max": 11.879313811750112, "cost2_min": -42.1807332283536}, "done": false, "time_total_s": 8242.93179821968, "episode_reward_min": 280.74662778175605, "episodes_this_iter": 37, "episode_len_mean": 733.58, "iterations_since_restore": 95, "time_since_restore": 8242.93179821968, "time_this_iter_s": 85.87935161590576, "pid": 63739, "episode_reward_mean": 1029.1145119162022, "info": {"grad_time_ms": 35378.527, "update_time_ms": 11.084, "num_steps_trained": 12825000, "num_steps_sampled": 12825000, "load_time_ms": 7.258, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33860448002815247, "total_loss": 10.389384269714355, "policy_loss": -0.007083494681864977, "entropy": 1.3995765447616577, "kl": 0.014634311199188232, "cur_lr": 0.0005000000237487257, "vf_loss": 10.39317512512207}, "sample_time_ms": 50846.259}, "timesteps_total": 12825000, "hostname": "flow-main", "episode_reward_max": 1341.1935349150965, "policy_reward_mean": {}, "training_iteration": 95, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-04-16", "timestamp": 1558033456, "timesteps_since_restore": 12960000, "episodes_total": 3603, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4278>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.272009608825705, "cost1_min": 59.21122814909174, "system_level_velocity_mean": 8.483868308375252, "cost1_mean": 212.15167402706095, "cost2_mean": -13.450101284134131, "cost1_max": 270.43381155238467, "cost2_max": -0.9235686265908245, "system_level_velocity_max": 11.879313811750112, "cost2_min": -59.38106395874266}, "done": false, "time_total_s": 8328.97165608406, "episode_reward_min": 280.74662778175605, "episodes_this_iter": 37, "episode_len_mean": 740.86, "iterations_since_restore": 96, "time_since_restore": 8328.97165608406, "time_this_iter_s": 86.03985786437988, "pid": 63739, "episode_reward_mean": 1042.4207687784253, "info": {"grad_time_ms": 35433.52, "update_time_ms": 11.147, "num_steps_trained": 12960000, "num_steps_sampled": 12960000, "load_time_ms": 7.167, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3206365406513214, "total_loss": 11.289878845214844, "policy_loss": -0.008572876453399658, "entropy": 1.4198417663574219, "kl": 0.016249047592282295, "cur_lr": 0.0005000000237487257, "vf_loss": 11.294795036315918}, "sample_time_ms": 50751.278}, "timesteps_total": 12960000, "hostname": "flow-main", "episode_reward_max": 1341.1935349150965, "policy_reward_mean": {}, "training_iteration": 96, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-05-42", "timestamp": 1558033542, "timesteps_since_restore": 13095000, "episodes_total": 3640, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c87f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8588>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.272009608825705, "cost1_min": 54.51241555248183, "system_level_velocity_mean": 8.590456690981307, "cost1_mean": 214.01837625267052, "cost2_mean": -13.976908762684227, "cost1_max": 264.5066665230347, "cost2_max": -0.6289896803395792, "system_level_velocity_max": 11.726996890651918, "cost2_min": -59.38106395874266}, "done": false, "time_total_s": 8414.875628948212, "episode_reward_min": 254.80600537081494, "episodes_this_iter": 37, "episode_len_mean": 736.09, "iterations_since_restore": 97, "time_since_restore": 8414.875628948212, "time_this_iter_s": 85.903972864151, "pid": 63739, "episode_reward_mean": 1051.217571036233, "info": {"grad_time_ms": 35395.667, "update_time_ms": 11.238, "num_steps_trained": 13095000, "num_steps_sampled": 13095000, "load_time_ms": 7.181, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.2812536060810089, "total_loss": 11.045990943908691, "policy_loss": -0.007748086471110582, "entropy": 1.4034451246261597, "kl": 0.015298910439014435, "cur_lr": 0.0005000000237487257, "vf_loss": 11.050297737121582}, "sample_time_ms": 50626.538}, "timesteps_total": 13095000, "hostname": "flow-main", "episode_reward_max": 1314.318201728534, "policy_reward_mean": {}, "training_iteration": 97, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-07-08", "timestamp": 1558033628, "timesteps_since_restore": 13230000, "episodes_total": 3677, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8550>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.107385411792069, "cost1_min": 54.51241555248183, "system_level_velocity_mean": 8.66279733931625, "cost1_mean": 216.5492148238974, "cost2_mean": -15.767322709694007, "cost1_max": 264.8168478488654, "cost2_max": -0.5881495618110768, "system_level_velocity_max": 11.741071672574108, "cost2_min": -59.38106395874266}, "done": false, "time_total_s": 8500.132541418076, "episode_reward_min": 254.80600537081494, "episodes_this_iter": 37, "episode_len_mean": 739.92, "iterations_since_restore": 98, "time_since_restore": 8500.132541418076, "time_this_iter_s": 85.25691246986389, "pid": 63739, "episode_reward_mean": 1061.5002824069202, "info": {"grad_time_ms": 35291.847, "update_time_ms": 11.337, "num_steps_trained": 13230000, "num_steps_sampled": 13230000, "load_time_ms": 7.047, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3139208257198334, "total_loss": 11.223790168762207, "policy_loss": -0.008563517592847347, "entropy": 1.4278829097747803, "kl": 0.016790149733424187, "cur_lr": 0.0005000000237487257, "vf_loss": 11.22857666015625}, "sample_time_ms": 50583.64}, "timesteps_total": 13230000, "hostname": "flow-main", "episode_reward_max": 1314.318201728534, "policy_reward_mean": {}, "training_iteration": 98, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-08-34", "timestamp": 1558033714, "timesteps_since_restore": 13365000, "episodes_total": 3715, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f40f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8668>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.107385411792069, "cost1_min": 39.48014143239784, "system_level_velocity_mean": 8.402299757922794, "cost1_mean": 209.23598355643753, "cost2_mean": -16.229271433865268, "cost1_max": 264.8168478488654, "cost2_max": -0.5881495618110768, "system_level_velocity_max": 11.741071672574108, "cost2_min": -51.360853880324136}, "done": false, "time_total_s": 8585.988537073135, "episode_reward_min": 179.99693714738964, "episodes_this_iter": 38, "episode_len_mean": 728.03, "iterations_since_restore": 99, "time_since_restore": 8585.988537073135, "time_this_iter_s": 85.85599565505981, "pid": 63739, "episode_reward_mean": 1023.9909691055608, "info": {"grad_time_ms": 35142.784, "update_time_ms": 11.365, "num_steps_trained": 13365000, "num_steps_sampled": 13365000, "load_time_ms": 7.203, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.39578381180763245, "total_loss": 10.663434982299805, "policy_loss": -0.008155333809554577, "entropy": 1.4287991523742676, "kl": 0.01555867213755846, "cur_lr": 0.0005000000237487257, "vf_loss": 10.668088912963867}, "sample_time_ms": 50570.9}, "timesteps_total": 13365000, "hostname": "flow-main", "episode_reward_max": 1311.9122584199504, "policy_reward_mean": {}, "training_iteration": 99, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-10-02", "timestamp": 1558033802, "timesteps_since_restore": 13500000, "episodes_total": 3752, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4320>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4860>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.107385411792069, "cost1_min": 39.48014143239784, "system_level_velocity_mean": 8.227783589202684, "cost1_mean": 204.35597607933207, "cost2_mean": -15.714169413712998, "cost1_max": 262.47563939518693, "cost2_max": -0.47137861672589393, "system_level_velocity_max": 11.670604407882594, "cost2_min": -51.360853880324136}, "done": false, "time_total_s": 8673.977408409119, "episode_reward_min": 179.99693714738964, "episodes_this_iter": 37, "episode_len_mean": 725.03, "iterations_since_restore": 100, "time_since_restore": 8673.977408409119, "time_this_iter_s": 87.98887133598328, "pid": 63739, "episode_reward_mean": 1000.1104504449381, "info": {"grad_time_ms": 35386.709, "update_time_ms": 11.464, "num_steps_trained": 13500000, "num_steps_sampled": 13500000, "load_time_ms": 7.205, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.35021713376045227, "total_loss": 10.731461524963379, "policy_loss": -0.008204538375139236, "entropy": 1.4287797212600708, "kl": 0.016260696575045586, "cur_lr": 0.0005000000237487257, "vf_loss": 10.736007690429688}, "sample_time_ms": 50633.123}, "timesteps_total": 13500000, "hostname": "flow-main", "episode_reward_max": 1308.7424572448679, "policy_reward_mean": {}, "training_iteration": 100, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-11-27", "timestamp": 1558033887, "timesteps_since_restore": 13635000, "episodes_total": 3788, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4748>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.338485211309588, "cost1_min": 45.9027943362001, "system_level_velocity_mean": 8.27276576934812, "cost1_mean": 202.7075010850726, "cost2_mean": -15.030143162767768, "cost1_max": 266.53544158163487, "cost2_max": -0.45198474584200077, "system_level_velocity_max": 11.697504888781422, "cost2_min": -38.525860468081326}, "done": false, "time_total_s": 8759.40073633194, "episode_reward_min": 207.31480001175558, "episodes_this_iter": 36, "episode_len_mean": 717.39, "iterations_since_restore": 101, "time_since_restore": 8759.40073633194, "time_this_iter_s": 85.42332792282104, "pid": 63739, "episode_reward_mean": 993.18009922638, "info": {"grad_time_ms": 35510.279, "update_time_ms": 11.229, "num_steps_trained": 13635000, "num_steps_sampled": 13635000, "load_time_ms": 7.305, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.40240025520324707, "total_loss": 10.19577693939209, "policy_loss": -0.008708280511200428, "entropy": 1.3952460289001465, "kl": 0.016027487814426422, "cur_lr": 0.0005000000237487257, "vf_loss": 10.20088005065918}, "sample_time_ms": 50631.058}, "timesteps_total": 13635000, "hostname": "flow-main", "episode_reward_max": 1320.3434897952745, "policy_reward_mean": {}, "training_iteration": 101, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-12-53", "timestamp": 1558033973, "timesteps_since_restore": 13770000, "episodes_total": 3824, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0acf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0af28>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.533130178045053, "cost1_min": 45.9027943362001, "system_level_velocity_mean": 8.405625906449831, "cost1_mean": 206.81638656804896, "cost2_mean": -14.636386855064693, "cost1_max": 266.53544158163487, "cost2_max": -0.45198474584200077, "system_level_velocity_max": 11.704796914327463, "cost2_min": -48.737830549375275}, "done": false, "time_total_s": 8845.514677762985, "episode_reward_min": 207.31480001175558, "episodes_this_iter": 36, "episode_len_mean": 724.0, "iterations_since_restore": 102, "time_since_restore": 8845.514677762985, "time_this_iter_s": 86.11394143104553, "pid": 63739, "episode_reward_mean": 1014.233835029897, "info": {"grad_time_ms": 35475.21, "update_time_ms": 11.106, "num_steps_trained": 13770000, "num_steps_sampled": 13770000, "load_time_ms": 7.338, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.38028714060783386, "total_loss": 10.135543823242188, "policy_loss": -0.008299333974719048, "entropy": 1.3790595531463623, "kl": 0.015639500692486763, "cur_lr": 0.0005000000237487257, "vf_loss": 10.140323638916016}, "sample_time_ms": 50576.918}, "timesteps_total": 13770000, "hostname": "flow-main", "episode_reward_max": 1320.3434897952745, "policy_reward_mean": {}, "training_iteration": 102, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-14-20", "timestamp": 1558034060, "timesteps_since_restore": 13905000, "episodes_total": 3861, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.533130178045053, "cost1_min": 45.9027943362001, "system_level_velocity_mean": 8.630272941008574, "cost1_mean": 213.41255048680935, "cost2_mean": -12.903269593839719, "cost1_max": 266.53544158163487, "cost2_max": -0.3021764760205405, "system_level_velocity_max": 11.704796914327463, "cost2_min": -48.737830549375275}, "done": false, "time_total_s": 8931.639617681503, "episode_reward_min": 207.31480001175558, "episodes_this_iter": 37, "episode_len_mean": 735.25, "iterations_since_restore": 103, "time_since_restore": 8931.639617681503, "time_this_iter_s": 86.12493991851807, "pid": 63739, "episode_reward_mean": 1049.2320569559283, "info": {"grad_time_ms": 35442.133, "update_time_ms": 11.081, "num_steps_trained": 13905000, "num_steps_sampled": 13905000, "load_time_ms": 7.476, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33750975131988525, "total_loss": 10.892399787902832, "policy_loss": -0.007379910908639431, "entropy": 1.4005640745162964, "kl": 0.015581543557345867, "cur_lr": 0.0005000000237487257, "vf_loss": 10.89627456665039}, "sample_time_ms": 50382.485}, "timesteps_total": 13905000, "hostname": "flow-main", "episode_reward_max": 1320.3434897952745, "policy_reward_mean": {}, "training_iteration": 103, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-15-45", "timestamp": 1558034145, "timesteps_since_restore": 14040000, "episodes_total": 3897, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f40f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04dd8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.97356821092587, "cost1_min": 53.10411259063801, "system_level_velocity_mean": 8.584100479851251, "cost1_mean": 215.345564213486, "cost2_mean": -13.040112019058883, "cost1_max": 262.5082377228655, "cost2_max": -0.3021764760205405, "system_level_velocity_max": 11.512141751354275, "cost2_min": -48.737830549375275}, "done": false, "time_total_s": 9017.413716316223, "episode_reward_min": 246.50205290870582, "episodes_this_iter": 36, "episode_len_mean": 744.57, "iterations_since_restore": 104, "time_since_restore": 9017.413716316223, "time_this_iter_s": 85.77409863471985, "pid": 63739, "episode_reward_mean": 1058.39409875141, "info": {"grad_time_ms": 35401.477, "update_time_ms": 11.18, "num_steps_trained": 14040000, "num_steps_sampled": 14040000, "load_time_ms": 7.555, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33126696944236755, "total_loss": 10.549619674682617, "policy_loss": -0.008420667611062527, "entropy": 1.4212534427642822, "kl": 0.016377493739128113, "cur_lr": 0.0005000000237487257, "vf_loss": 10.55435562133789}, "sample_time_ms": 50356.204}, "timesteps_total": 14040000, "hostname": "flow-main", "episode_reward_max": 1304.597614571431, "policy_reward_mean": {}, "training_iteration": 104, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-17-10", "timestamp": 1558034230, "timesteps_since_restore": 14175000, "episodes_total": 3933, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f28>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.97356821092587, "cost1_min": 53.10411259063801, "system_level_velocity_mean": 8.282017771263508, "cost1_mean": 209.4153579033218, "cost2_mean": -14.490497535256909, "cost1_max": 262.5082377228655, "cost2_max": -0.9579161558460881, "system_level_velocity_max": 11.512141751354275, "cost2_min": -68.41869782438033}, "done": false, "time_total_s": 9101.994042158127, "episode_reward_min": 246.50205290870582, "episodes_this_iter": 36, "episode_len_mean": 744.57, "iterations_since_restore": 105, "time_since_restore": 9101.994042158127, "time_this_iter_s": 84.58032584190369, "pid": 63739, "episode_reward_mean": 1027.962452157255, "info": {"grad_time_ms": 35411.99, "update_time_ms": 11.793, "num_steps_trained": 14175000, "num_steps_sampled": 14175000, "load_time_ms": 7.645, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3867642879486084, "total_loss": 10.356128692626953, "policy_loss": -0.009159707464277744, "entropy": 1.437899112701416, "kl": 0.01676914468407631, "cur_lr": 0.0005000000237487257, "vf_loss": 10.361515998840332}, "sample_time_ms": 50222.928}, "timesteps_total": 14175000, "hostname": "flow-main", "episode_reward_max": 1304.597614571431, "policy_reward_mean": {}, "training_iteration": 105, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-18-35", "timestamp": 1558034315, "timesteps_since_restore": 14310000, "episodes_total": 3969, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8f98>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.97356821092587, "cost1_min": 47.02726488592934, "system_level_velocity_mean": 8.005273223850986, "cost1_mean": 205.34712435953455, "cost2_mean": -15.37398122078327, "cost1_max": 249.47942777380547, "cost2_max": -0.5232017128763291, "system_level_velocity_max": 10.45375710432733, "cost2_min": -68.41869782438033}, "done": false, "time_total_s": 9186.781065940857, "episode_reward_min": 218.9061084938019, "episodes_this_iter": 36, "episode_len_mean": 744.22, "iterations_since_restore": 106, "time_since_restore": 9186.781065940857, "time_this_iter_s": 84.7870237827301, "pid": 63739, "episode_reward_mean": 1006.7844097771313, "info": {"grad_time_ms": 35331.886, "update_time_ms": 11.614, "num_steps_trained": 14310000, "num_steps_sampled": 14310000, "load_time_ms": 7.796, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.39999622106552124, "total_loss": 10.384637832641602, "policy_loss": -0.008372114039957523, "entropy": 1.455880045890808, "kl": 0.017214860767126083, "cur_lr": 0.0005000000237487257, "vf_loss": 10.389137268066406}, "sample_time_ms": 50178.497}, "timesteps_total": 14310000, "hostname": "flow-main", "episode_reward_max": 1235.9562625639414, "policy_reward_mean": {}, "training_iteration": 106, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-20-02", "timestamp": 1558034402, "timesteps_since_restore": 14445000, "episodes_total": 4006, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8be0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.948964243912801, "cost1_min": 40.36137783404186, "system_level_velocity_mean": 7.995809166913853, "cost1_mean": 203.51993170796123, "cost2_mean": -15.762261081827742, "cost1_max": 272.51417172564646, "cost2_max": -0.051641794622527465, "system_level_velocity_max": 12.67341703400428, "cost2_min": -74.69694996974803}, "done": false, "time_total_s": 9273.56142449379, "episode_reward_min": 181.7076850533387, "episodes_this_iter": 37, "episode_len_mean": 736.61, "iterations_since_restore": 107, "time_since_restore": 9273.56142449379, "time_this_iter_s": 86.78035855293274, "pid": 63739, "episode_reward_mean": 997.7902077361213, "info": {"grad_time_ms": 35505.327, "update_time_ms": 11.492, "num_steps_trained": 14445000, "num_steps_sampled": 14445000, "load_time_ms": 7.802, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4715690314769745, "total_loss": 10.410615921020508, "policy_loss": -0.008534809574484825, "entropy": 1.4419883489608765, "kl": 0.01739814691245556, "cur_lr": 0.0005000000237487257, "vf_loss": 10.41523551940918}, "sample_time_ms": 50094.155}, "timesteps_total": 14445000, "hostname": "flow-main", "episode_reward_max": 1354.8215556623861, "policy_reward_mean": {}, "training_iteration": 107, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-21-29", "timestamp": 1558034489, "timesteps_since_restore": 14580000, "episodes_total": 4044, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c83c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.948964243912801, "cost1_min": 40.36137783404186, "system_level_velocity_mean": 8.038951374459065, "cost1_mean": 202.9376195477872, "cost2_mean": -16.3861657444084, "cost1_max": 272.51417172564646, "cost2_max": -0.051641794622527465, "system_level_velocity_max": 12.67341703400428, "cost2_min": -74.69694996974803}, "done": false, "time_total_s": 9360.98423576355, "episode_reward_min": 181.7076850533387, "episodes_this_iter": 38, "episode_len_mean": 729.25, "iterations_since_restore": 108, "time_since_restore": 9360.98423576355, "time_this_iter_s": 87.42281126976013, "pid": 63739, "episode_reward_mean": 993.6593657644308, "info": {"grad_time_ms": 35622.826, "update_time_ms": 11.352, "num_steps_trained": 14580000, "num_steps_sampled": 14580000, "load_time_ms": 7.856, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.36985644698143005, "total_loss": 10.695646286010742, "policy_loss": -0.007795501966029406, "entropy": 1.4290810823440552, "kl": 0.016202224418520927, "cur_lr": 0.0005000000237487257, "vf_loss": 10.69979476928711}, "sample_time_ms": 50192.432}, "timesteps_total": 14580000, "hostname": "flow-main", "episode_reward_max": 1354.8215556623861, "policy_reward_mean": {}, "training_iteration": 108, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-22-54", "timestamp": 1558034574, "timesteps_since_restore": 14715000, "episodes_total": 4080, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8588>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 2.948964243912801, "cost1_min": 40.36137783404186, "system_level_velocity_mean": 8.183535257601175, "cost1_mean": 205.81249984109175, "cost2_mean": -15.617814368567362, "cost1_max": 266.88596475462623, "cost2_max": -0.051641794622527465, "system_level_velocity_max": 11.336601699521218, "cost2_min": -74.69694996974803}, "done": false, "time_total_s": 9445.992040395737, "episode_reward_min": 181.7076850533387, "episodes_this_iter": 36, "episode_len_mean": 729.37, "iterations_since_restore": 109, "time_since_restore": 9445.992040395737, "time_this_iter_s": 85.00780463218689, "pid": 63739, "episode_reward_mean": 1008.9568411266517, "info": {"grad_time_ms": 35559.143, "update_time_ms": 11.466, "num_steps_trained": 14715000, "num_steps_sampled": 14715000, "load_time_ms": 7.904, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3611983060836792, "total_loss": 10.329437255859375, "policy_loss": -0.008515591733157635, "entropy": 1.396400809288025, "kl": 0.01706857979297638, "cur_lr": 0.0005000000237487257, "vf_loss": 10.334112167358398}, "sample_time_ms": 50169.244}, "timesteps_total": 14715000, "hostname": "flow-main", "episode_reward_max": 1323.4739214904625, "policy_reward_mean": {}, "training_iteration": 109, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-24-19", "timestamp": 1558034659, "timesteps_since_restore": 14850000, "episodes_total": 4118, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0add8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.353455009822579, "cost1_min": 45.012525208149434, "system_level_velocity_mean": 8.35628360958632, "cost1_mean": 208.82907597188682, "cost2_mean": -13.398969338552432, "cost1_max": 283.9736156441728, "cost2_max": 0.0, "system_level_velocity_max": 13.214102453230458, "cost2_min": -46.83236510599112}, "done": false, "time_total_s": 9530.561360120773, "episode_reward_min": 207.96263535077398, "episodes_this_iter": 38, "episode_len_mean": 729.79, "iterations_since_restore": 110, "time_since_restore": 9530.561360120773, "time_this_iter_s": 84.56931972503662, "pid": 63739, "episode_reward_mean": 1025.9971881845754, "info": {"grad_time_ms": 35314.687, "update_time_ms": 11.413, "num_steps_trained": 14850000, "num_steps_sampled": 14850000, "load_time_ms": 7.915, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3953801691532135, "total_loss": 10.503594398498535, "policy_loss": -0.008091972209513187, "entropy": 1.411218285560608, "kl": 0.017371956259012222, "cur_lr": 0.0005000000237487257, "vf_loss": 10.507777214050293}, "sample_time_ms": 50076.95}, "timesteps_total": 14850000, "hostname": "flow-main", "episode_reward_max": 1408.6839024512326, "policy_reward_mean": {}, "training_iteration": 110, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-25-45", "timestamp": 1558034745, "timesteps_since_restore": 14985000, "episodes_total": 4155, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8b70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8cc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.353455009822579, "cost1_min": 59.70076871634423, "system_level_velocity_mean": 8.302597616286471, "cost1_mean": 208.96639570993383, "cost2_mean": -12.856220268930336, "cost1_max": 283.9736156441728, "cost2_max": 0.0, "system_level_velocity_max": 13.214102453230458, "cost2_min": -46.83236510599112}, "done": false, "time_total_s": 9616.183948040009, "episode_reward_min": 277.0082002443198, "episodes_this_iter": 37, "episode_len_mean": 736.4, "iterations_since_restore": 111, "time_since_restore": 9616.183948040009, "time_this_iter_s": 85.62258791923523, "pid": 63739, "episode_reward_mean": 1027.6446255110284, "info": {"grad_time_ms": 35304.227, "update_time_ms": 11.639, "num_steps_trained": 14985000, "num_steps_sampled": 14985000, "load_time_ms": 7.941, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3555727005004883, "total_loss": 10.79380989074707, "policy_loss": -0.008225323632359505, "entropy": 1.4361592531204224, "kl": 0.01689888723194599, "cur_lr": 0.0005000000237487257, "vf_loss": 10.798233032226562}, "sample_time_ms": 50102.759}, "timesteps_total": 14985000, "hostname": "flow-main", "episode_reward_max": 1408.6839024512326, "policy_reward_mean": {}, "training_iteration": 111, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-27-08", "timestamp": 1558034828, "timesteps_since_restore": 15120000, "episodes_total": 4191, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8710>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.744835950071185, "cost1_min": 59.70076871634423, "system_level_velocity_mean": 8.258788146467436, "cost1_mean": 208.86261596907522, "cost2_mean": -14.07144348421258, "cost1_max": 263.9977735161974, "cost2_max": 0.0, "system_level_velocity_max": 11.237032988992922, "cost2_min": -46.83236510599112}, "done": false, "time_total_s": 9699.583129405975, "episode_reward_min": 277.0082002443198, "episodes_this_iter": 36, "episode_len_mean": 736.4, "iterations_since_restore": 112, "time_since_restore": 9699.583129405975, "time_this_iter_s": 83.3991813659668, "pid": 63739, "episode_reward_mean": 1025.8113753323735, "info": {"grad_time_ms": 35209.767, "update_time_ms": 11.881, "num_steps_trained": 15120000, "num_steps_sampled": 15120000, "load_time_ms": 7.832, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3461056649684906, "total_loss": 10.295236587524414, "policy_loss": -0.008996936492621899, "entropy": 1.4423185586929321, "kl": 0.016735540702939034, "cur_lr": 0.0005000000237487257, "vf_loss": 10.300468444824219}, "sample_time_ms": 49927.314}, "timesteps_total": 15120000, "hostname": "flow-main", "episode_reward_max": 1299.5849248176876, "policy_reward_mean": {}, "training_iteration": 112, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-28-31", "timestamp": 1558034911, "timesteps_since_restore": 15255000, "episodes_total": 4227, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fddd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd5f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a58>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.744835950071185, "cost1_min": 70.96584480866619, "system_level_velocity_mean": 8.311281620382243, "cost1_mean": 213.2028418362062, "cost2_mean": -14.611729215067516, "cost1_max": 263.9977735161974, "cost2_max": -0.38664482694903496, "system_level_velocity_max": 11.093549487953243, "cost2_min": -46.651612069661766}, "done": false, "time_total_s": 9782.965702056885, "episode_reward_min": 351.64085533248027, "episodes_this_iter": 36, "episode_len_mean": 746.44, "iterations_since_restore": 113, "time_since_restore": 9782.965702056885, "time_this_iter_s": 83.38257265090942, "pid": 63739, "episode_reward_mean": 1046.574651088339, "info": {"grad_time_ms": 35099.007, "update_time_ms": 11.974, "num_steps_trained": 15255000, "num_steps_sampled": 15255000, "load_time_ms": 7.87, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3426019847393036, "total_loss": 10.11659049987793, "policy_loss": -0.007821258157491684, "entropy": 1.4409931898117065, "kl": 0.01576767861843109, "cur_lr": 0.0005000000237487257, "vf_loss": 10.120865821838379}, "sample_time_ms": 49761.614}, "timesteps_total": 15255000, "hostname": "flow-main", "episode_reward_max": 1299.5849248176876, "policy_reward_mean": {}, "training_iteration": 113, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-29-56", "timestamp": 1558034996, "timesteps_since_restore": 15390000, "episodes_total": 4263, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8cc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8240>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.554034934848103, "cost1_min": 62.52740745501512, "system_level_velocity_mean": 8.414718146218794, "cost1_mean": 215.17351885677255, "cost2_mean": -14.576469058474261, "cost1_max": 263.9977735161974, "cost2_max": -0.49176563276982505, "system_level_velocity_max": 11.186608919830357, "cost2_min": -46.651612069661766}, "done": false, "time_total_s": 9867.470233678818, "episode_reward_min": 280.5949976031193, "episodes_this_iter": 36, "episode_len_mean": 745.63, "iterations_since_restore": 114, "time_since_restore": 9867.470233678818, "time_this_iter_s": 84.50453162193298, "pid": 63739, "episode_reward_mean": 1056.1693294672411, "info": {"grad_time_ms": 35093.981, "update_time_ms": 11.861, "num_steps_trained": 15390000, "num_steps_sampled": 15390000, "load_time_ms": 7.772, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33489713072776794, "total_loss": 10.091532707214355, "policy_loss": -0.007498490158468485, "entropy": 1.4333213567733765, "kl": 0.01655266247689724, "cur_lr": 0.0005000000237487257, "vf_loss": 10.095306396484375}, "sample_time_ms": 49646.052}, "timesteps_total": 15390000, "hostname": "flow-main", "episode_reward_max": 1299.5849248176876, "policy_reward_mean": {}, "training_iteration": 114, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-31-21", "timestamp": 1558035081, "timesteps_since_restore": 15525000, "episodes_total": 4299, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8710>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.554034934848103, "cost1_min": 62.52740745501512, "system_level_velocity_mean": 8.300714582509226, "cost1_mean": 213.10512526139493, "cost2_mean": -14.576334100014614, "cost1_max": 261.06230098014373, "cost2_max": -0.49176563276982505, "system_level_velocity_max": 11.186608919830357, "cost2_min": -38.64333632983632}, "done": false, "time_total_s": 9952.802047729492, "episode_reward_min": 280.5949976031193, "episodes_this_iter": 36, "episode_len_mean": 745.63, "iterations_since_restore": 115, "time_since_restore": 9952.802047729492, "time_this_iter_s": 85.33181405067444, "pid": 63739, "episode_reward_mean": 1045.7574259886965, "info": {"grad_time_ms": 35085.178, "update_time_ms": 11.248, "num_steps_trained": 15525000, "num_steps_sampled": 15525000, "load_time_ms": 7.856, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3622184097766876, "total_loss": 9.887702941894531, "policy_loss": -0.007948891259729862, "entropy": 1.4552390575408936, "kl": 0.016961637884378433, "cur_lr": 0.0005000000237487257, "vf_loss": 9.89183521270752}, "sample_time_ms": 49732.429}, "timesteps_total": 15525000, "hostname": "flow-main", "episode_reward_max": 1292.7657557808814, "policy_reward_mean": {}, "training_iteration": 115, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-32-46", "timestamp": 1558035166, "timesteps_since_restore": 15660000, "episodes_total": 4335, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b38>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.727699946150778, "cost1_min": 155.66975521681096, "system_level_velocity_mean": 8.388346963507308, "cost1_mean": 215.14935076682258, "cost2_mean": -14.839121115265156, "cost1_max": 261.06230098014373, "cost2_max": -0.49176563276982505, "system_level_velocity_max": 11.186608919830357, "cost2_min": -38.64333632983632}, "done": false, "time_total_s": 10037.16772389412, "episode_reward_min": 754.2970296530862, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 116, "time_since_restore": 10037.16772389412, "time_this_iter_s": 84.36567616462708, "pid": 63739, "episode_reward_mean": 1055.425687229999, "info": {"grad_time_ms": 35034.887, "update_time_ms": 11.169, "num_steps_trained": 15660000, "num_steps_sampled": 15660000, "load_time_ms": 7.817, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3347149193286896, "total_loss": 10.035683631896973, "policy_loss": -0.007788923103362322, "entropy": 1.4672824144363403, "kl": 0.01549401506781578, "cur_lr": 0.0005000000237487257, "vf_loss": 10.039986610412598}, "sample_time_ms": 49740.479}, "timesteps_total": 15660000, "hostname": "flow-main", "episode_reward_max": 1292.7657557808814, "policy_reward_mean": {}, "training_iteration": 116, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-34-12", "timestamp": 1558035252, "timesteps_since_restore": 15795000, "episodes_total": 4373, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a748>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0af28>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.727699946150778, "cost1_min": 54.914972588705226, "system_level_velocity_mean": 8.275623320623785, "cost1_mean": 210.20200180344884, "cost2_mean": -15.533984403884629, "cost1_max": 265.21872403344094, "cost2_max": -0.5033047327450089, "system_level_velocity_max": 11.526815550817844, "cost2_min": -51.16835373718604}, "done": false, "time_total_s": 10123.127437353134, "episode_reward_min": 254.91708384796536, "episodes_this_iter": 38, "episode_len_mean": 741.36, "iterations_since_restore": 117, "time_since_restore": 10123.127437353134, "time_this_iter_s": 85.95971345901489, "pid": 63739, "episode_reward_mean": 1030.0400836241038, "info": {"grad_time_ms": 34888.159, "update_time_ms": 10.94, "num_steps_trained": 15795000, "num_steps_sampled": 15795000, "load_time_ms": 7.846, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3815099000930786, "total_loss": 10.406291007995605, "policy_loss": -0.00946765672415495, "entropy": 1.4603607654571533, "kl": 0.018414970487356186, "cur_lr": 0.0005000000237487257, "vf_loss": 10.411615371704102}, "sample_time_ms": 49804.903}, "timesteps_total": 15795000, "hostname": "flow-main", "episode_reward_max": 1323.9978142533243, "policy_reward_mean": {}, "training_iteration": 117, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-35-39", "timestamp": 1558035339, "timesteps_since_restore": 15930000, "episodes_total": 4409, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc358>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc390>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.363247026618603, "cost1_min": 54.914972588705226, "system_level_velocity_mean": 8.298978119341239, "cost1_mean": 210.25997282634208, "cost2_mean": -15.842769636364654, "cost1_max": 265.21872403344094, "cost2_max": -0.019729159028717226, "system_level_velocity_max": 11.526815550817844, "cost2_min": -51.16835373718604}, "done": false, "time_total_s": 10210.331350803375, "episode_reward_min": 254.91708384796536, "episodes_this_iter": 36, "episode_len_mean": 741.36, "iterations_since_restore": 118, "time_since_restore": 10210.331350803375, "time_this_iter_s": 87.20391345024109, "pid": 63739, "episode_reward_mean": 1030.1253595998653, "info": {"grad_time_ms": 35000.608, "update_time_ms": 10.95, "num_steps_trained": 15930000, "num_steps_sampled": 15930000, "load_time_ms": 7.959, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.35089659690856934, "total_loss": 10.236742973327637, "policy_loss": -0.008945116773247719, "entropy": 1.477386474609375, "kl": 0.017310943454504013, "cur_lr": 0.0005000000237487257, "vf_loss": 10.241792678833008}, "sample_time_ms": 49672.675}, "timesteps_total": 15930000, "hostname": "flow-main", "episode_reward_max": 1323.9978142533243, "policy_reward_mean": {}, "training_iteration": 118, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-37-04", "timestamp": 1558035424, "timesteps_since_restore": 16065000, "episodes_total": 4445, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc278>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.363247026618603, "cost1_min": 54.914972588705226, "system_level_velocity_mean": 8.394429306058708, "cost1_mean": 212.86433857143732, "cost2_mean": -15.400163963659487, "cost1_max": 282.3732246482035, "cost2_max": -0.019729159028717226, "system_level_velocity_max": 13.223304141049622, "cost2_min": -46.11634758918298}, "done": false, "time_total_s": 10294.707658290863, "episode_reward_min": 254.91708384796536, "episodes_this_iter": 36, "episode_len_mean": 741.36, "iterations_since_restore": 119, "time_since_restore": 10294.707658290863, "time_this_iter_s": 84.3763074874878, "pid": 63739, "episode_reward_mean": 1043.2362299890508, "info": {"grad_time_ms": 34980.394, "update_time_ms": 10.831, "num_steps_trained": 16065000, "num_steps_sampled": 16065000, "load_time_ms": 7.828, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3311212658882141, "total_loss": 10.44250202178955, "policy_loss": -0.008822493255138397, "entropy": 1.4920052289962769, "kl": 0.016195278614759445, "cur_lr": 0.0005000000237487257, "vf_loss": 10.447680473327637}, "sample_time_ms": 49631.042}, "timesteps_total": 16065000, "hostname": "flow-main", "episode_reward_max": 1397.3669367409657, "policy_reward_mean": {}, "training_iteration": 119, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-38-29", "timestamp": 1558035509, "timesteps_since_restore": 16200000, "episodes_total": 4481, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc9e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccba8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.84523148696092, "cost1_min": 148.37538993879204, "system_level_velocity_mean": 8.365666750566877, "cost1_mean": 215.37862138311758, "cost2_mean": -16.56843199398146, "cost1_max": 282.3732246482035, "cost2_max": -0.019729159028717226, "system_level_velocity_max": 13.223304141049622, "cost2_min": -51.24251500463392}, "done": false, "time_total_s": 10380.277383565903, "episode_reward_min": 717.3154528130023, "episodes_this_iter": 36, "episode_len_mean": 747.48, "iterations_since_restore": 120, "time_since_restore": 10380.277383565903, "time_this_iter_s": 85.56972527503967, "pid": 63739, "episode_reward_mean": 1054.1359145477509, "info": {"grad_time_ms": 35017.706, "update_time_ms": 10.856, "num_steps_trained": 16200000, "num_steps_sampled": 16200000, "load_time_ms": 7.855, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33078038692474365, "total_loss": 10.789243698120117, "policy_loss": -0.009227007627487183, "entropy": 1.493873119354248, "kl": 0.016751203685998917, "cur_lr": 0.0005000000237487257, "vf_loss": 10.79470157623291}, "sample_time_ms": 49692.666}, "timesteps_total": 16200000, "hostname": "flow-main", "episode_reward_max": 1397.3669367409657, "policy_reward_mean": {}, "training_iteration": 120, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-39-55", "timestamp": 1558035595, "timesteps_since_restore": 16335000, "episodes_total": 4517, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc1d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.84523148696092, "cost1_min": 148.37538993879204, "system_level_velocity_mean": 8.382162800293624, "cost1_mean": 215.9902119391899, "cost2_mean": -16.771575286046335, "cost1_max": 282.3732246482035, "cost2_max": -1.0922526357390214, "system_level_velocity_max": 13.223304141049622, "cost2_min": -51.24251500463392}, "done": false, "time_total_s": 10465.536368846893, "episode_reward_min": 717.3154528130023, "episodes_this_iter": 36, "episode_len_mean": 747.48, "iterations_since_restore": 121, "time_since_restore": 10465.536368846893, "time_this_iter_s": 85.2589852809906, "pid": 63739, "episode_reward_mean": 1056.8652101910818, "info": {"grad_time_ms": 34990.521, "update_time_ms": 10.773, "num_steps_trained": 16335000, "num_steps_sampled": 16335000, "load_time_ms": 7.843, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3744294345378876, "total_loss": 9.791284561157227, "policy_loss": -0.008031747303903103, "entropy": 1.4683698415756226, "kl": 0.01563284732401371, "cur_lr": 0.0005000000237487257, "vf_loss": 9.795798301696777}, "sample_time_ms": 49688.563}, "timesteps_total": 16335000, "hostname": "flow-main", "episode_reward_max": 1397.3669367409657, "policy_reward_mean": {}, "training_iteration": 121, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-41-20", "timestamp": 1558035680, "timesteps_since_restore": 16470000, "episodes_total": 4553, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc6a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc9e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.84523148696092, "cost1_min": 148.37538993879204, "system_level_velocity_mean": 8.398122661663058, "cost1_mean": 216.21140007783092, "cost2_mean": -16.595528657158358, "cost1_max": 265.027705222711, "cost2_max": -0.916361956795978, "system_level_velocity_max": 11.668036114460827, "cost2_min": -53.30372525621026}, "done": false, "time_total_s": 10551.307764530182, "episode_reward_min": 717.3154528130023, "episodes_this_iter": 36, "episode_len_mean": 747.48, "iterations_since_restore": 122, "time_since_restore": 10551.307764530182, "time_this_iter_s": 85.77139568328857, "pid": 63739, "episode_reward_mean": 1058.2672777083776, "info": {"grad_time_ms": 35057.518, "update_time_ms": 10.657, "num_steps_trained": 16470000, "num_steps_sampled": 16470000, "load_time_ms": 8.005, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3462661802768707, "total_loss": 10.091446876525879, "policy_loss": -0.00832779798656702, "entropy": 1.4565019607543945, "kl": 0.017387796193361282, "cur_lr": 0.0005000000237487257, "vf_loss": 10.09586238861084}, "sample_time_ms": 49860.787}, "timesteps_total": 16470000, "hostname": "flow-main", "episode_reward_max": 1319.0203765407086, "policy_reward_mean": {}, "training_iteration": 122, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-42-45", "timestamp": 1558035765, "timesteps_since_restore": 16605000, "episodes_total": 4589, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8710>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.628175912459631, "cost1_min": 178.16284016851307, "system_level_velocity_mean": 8.58212274228056, "cost1_mean": 218.926158385321, "cost2_mean": -13.49681680977785, "cost1_max": 265.027705222711, "cost2_max": -0.916361956795978, "system_level_velocity_max": 11.668036114460827, "cost2_min": -53.30372525621026}, "done": false, "time_total_s": 10636.216418266296, "episode_reward_min": 876.3693296166456, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 123, "time_since_restore": 10636.216418266296, "time_this_iter_s": 84.9086537361145, "pid": 63739, "episode_reward_mean": 1075.7502570881443, "info": {"grad_time_ms": 35089.202, "update_time_ms": 10.612, "num_steps_trained": 16605000, "num_steps_sampled": 16605000, "load_time_ms": 7.878, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3300308287143707, "total_loss": 9.939008712768555, "policy_loss": -0.00745032075792551, "entropy": 1.4594240188598633, "kl": 0.015884291380643845, "cur_lr": 0.0005000000237487257, "vf_loss": 9.942885398864746}, "sample_time_ms": 49983.13}, "timesteps_total": 16605000, "hostname": "flow-main", "episode_reward_max": 1319.0203765407086, "policy_reward_mean": {}, "training_iteration": 123, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-44-12", "timestamp": 1558035852, "timesteps_since_restore": 16740000, "episodes_total": 4626, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.875062187843222, "cost1_min": 37.92519589150792, "system_level_velocity_mean": 8.502588066008759, "cost1_mean": 216.16151664084018, "cost2_mean": -14.261695891593906, "cost1_max": 268.6202554819034, "cost2_max": -0.916361956795978, "system_level_velocity_max": 11.668036114460827, "cost2_min": -53.30372525621026}, "done": false, "time_total_s": 10722.673569440842, "episode_reward_min": 174.348221347439, "episodes_this_iter": 37, "episode_len_mean": 744.71, "iterations_since_restore": 124, "time_since_restore": 10722.673569440842, "time_this_iter_s": 86.45715117454529, "pid": 63739, "episode_reward_mean": 1060.8861520361718, "info": {"grad_time_ms": 35040.341, "update_time_ms": 10.681, "num_steps_trained": 16740000, "num_steps_sampled": 16740000, "load_time_ms": 7.852, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3381696939468384, "total_loss": 10.681553840637207, "policy_loss": -0.00799779873341322, "entropy": 1.472196102142334, "kl": 0.01690703257918358, "cur_lr": 0.0005000000237487257, "vf_loss": 10.685747146606445}, "sample_time_ms": 50227.432}, "timesteps_total": 16740000, "hostname": "flow-main", "episode_reward_max": 1340.4792546077888, "policy_reward_mean": {}, "training_iteration": 124, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-45-38", "timestamp": 1558035938, "timesteps_since_restore": 16875000, "episodes_total": 4663, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0afd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ad30>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.875062187843222, "cost1_min": 37.92519589150792, "system_level_velocity_mean": 8.306626282494518, "cost1_mean": 211.48875965922434, "cost2_mean": -15.756157490264345, "cost1_max": 268.6202554819034, "cost2_max": -1.1415578859209201, "system_level_velocity_max": 11.85422600756517, "cost2_min": -57.5756144032121}, "done": false, "time_total_s": 10809.063761472702, "episode_reward_min": 174.348221347439, "episodes_this_iter": 37, "episode_len_mean": 740.37, "iterations_since_restore": 125, "time_since_restore": 10809.063761472702, "time_this_iter_s": 86.39019203186035, "pid": 63739, "episode_reward_mean": 1036.0982655938265, "info": {"grad_time_ms": 35084.883, "update_time_ms": 10.551, "num_steps_trained": 16875000, "num_steps_sampled": 16875000, "load_time_ms": 7.701, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3598848879337311, "total_loss": 10.584477424621582, "policy_loss": -0.00939165335148573, "entropy": 1.5207983255386353, "kl": 0.016845202073454857, "cur_lr": 0.0005000000237487257, "vf_loss": 10.590079307556152}, "sample_time_ms": 50286.802}, "timesteps_total": 16875000, "hostname": "flow-main", "episode_reward_max": 1340.4792546077888, "policy_reward_mean": {}, "training_iteration": 125, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-47-04", "timestamp": 1558036024, "timesteps_since_restore": 17010000, "episodes_total": 4699, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce10>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.875062187843222, "cost1_min": 37.92519589150792, "system_level_velocity_mean": 8.314069885691799, "cost1_mean": 210.0757857793282, "cost2_mean": -18.00196219531496, "cost1_max": 268.6202554819034, "cost2_max": -1.3766651931539993, "system_level_velocity_max": 11.85422600756517, "cost2_min": -57.5756144032121}, "done": false, "time_total_s": 10894.251925468445, "episode_reward_min": 174.348221347439, "episodes_this_iter": 36, "episode_len_mean": 731.46, "iterations_since_restore": 126, "time_since_restore": 10894.251925468445, "time_this_iter_s": 85.1881639957428, "pid": 63739, "episode_reward_mean": 1026.7388871829376, "info": {"grad_time_ms": 35028.663, "update_time_ms": 10.813, "num_steps_trained": 17010000, "num_steps_sampled": 17010000, "load_time_ms": 7.576, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.35656532645225525, "total_loss": 10.18966007232666, "policy_loss": -0.008078797720372677, "entropy": 1.5079336166381836, "kl": 0.01655641570687294, "cur_lr": 0.0005000000237487257, "vf_loss": 10.194012641906738}, "sample_time_ms": 50427.414}, "timesteps_total": 17010000, "hostname": "flow-main", "episode_reward_max": 1340.4792546077888, "policy_reward_mean": {}, "training_iteration": 126, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-48-29", "timestamp": 1558036109, "timesteps_since_restore": 17145000, "episodes_total": 4735, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5f60>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5fd0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.0337708534716645, "cost1_min": 55.98000655032323, "system_level_velocity_mean": 8.327204848738859, "cost1_mean": 211.33676008439596, "cost2_mean": -19.304691207981758, "cost1_max": 264.6032183989315, "cost2_max": -1.701316327907277, "system_level_velocity_max": 11.85422600756517, "cost2_min": -57.5756144032121}, "done": false, "time_total_s": 10979.740324258804, "episode_reward_min": 250.64791432674096, "episodes_this_iter": 36, "episode_len_mean": 733.45, "iterations_since_restore": 127, "time_since_restore": 10979.740324258804, "time_this_iter_s": 85.4883987903595, "pid": 63739, "episode_reward_mean": 1031.1101632289021, "info": {"grad_time_ms": 34974.081, "update_time_ms": 10.977, "num_steps_trained": 17145000, "num_steps_sampled": 17145000, "load_time_ms": 7.59, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.32205745577812195, "total_loss": 10.184640884399414, "policy_loss": -0.00970158725976944, "entropy": 1.5284278392791748, "kl": 0.01699339784681797, "cur_lr": 0.0005000000237487257, "vf_loss": 10.190518379211426}, "sample_time_ms": 50434.149}, "timesteps_total": 17145000, "hostname": "flow-main", "episode_reward_max": 1320.4641175028, "policy_reward_mean": {}, "training_iteration": 127, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-49-56", "timestamp": 1558036196, "timesteps_since_restore": 17280000, "episodes_total": 4771, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ae80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.076614450586469, "cost1_min": 58.58772069867428, "system_level_velocity_mean": 8.435601324611874, "cost1_mean": 213.66625683594148, "cost2_mean": -18.361820643933722, "cost1_max": 268.1516442101155, "cost2_max": -2.20149508358877, "system_level_velocity_max": 11.953041093720245, "cost2_min": -45.939077046341545}, "done": false, "time_total_s": 11066.189946174622, "episode_reward_min": 264.76581964866847, "episodes_this_iter": 36, "episode_len_mean": 734.61, "iterations_since_restore": 128, "time_since_restore": 11066.189946174622, "time_this_iter_s": 86.44962191581726, "pid": 63739, "episode_reward_mean": 1043.7231803042278, "info": {"grad_time_ms": 34808.328, "update_time_ms": 11.12, "num_steps_trained": 17280000, "num_steps_sampled": 17280000, "load_time_ms": 7.507, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.37335899472236633, "total_loss": 10.333649635314941, "policy_loss": -0.00790349394083023, "entropy": 1.4717962741851807, "kl": 0.01597968116402626, "cur_lr": 0.0005000000237487257, "vf_loss": 10.337957382202148}, "sample_time_ms": 50522.324}, "timesteps_total": 17280000, "hostname": "flow-main", "episode_reward_max": 1336.9441937731121, "policy_reward_mean": {}, "training_iteration": 128, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-51-24", "timestamp": 1558036284, "timesteps_since_restore": 17415000, "episodes_total": 4807, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5c18>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.11504367635799, "cost1_min": 59.60560434263479, "system_level_velocity_mean": 8.677630789352328, "cost1_mean": 218.56609264885353, "cost2_mean": -17.925206583420476, "cost1_max": 268.1516442101155, "cost2_max": -2.20149508358877, "system_level_velocity_max": 12.506978827142738, "cost2_min": -69.87321523423861}, "done": false, "time_total_s": 11154.887636184692, "episode_reward_min": 274.89172811130214, "episodes_this_iter": 36, "episode_len_mean": 741.49, "iterations_since_restore": 129, "time_since_restore": 11154.887636184692, "time_this_iter_s": 88.6976900100708, "pid": 63739, "episode_reward_mean": 1068.4120034970529, "info": {"grad_time_ms": 35101.416, "update_time_ms": 11.392, "num_steps_trained": 17415000, "num_steps_sampled": 17415000, "load_time_ms": 7.468, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3393361270427704, "total_loss": 10.50695514678955, "policy_loss": -0.008107991889119148, "entropy": 1.5098075866699219, "kl": 0.01606791466474533, "cur_lr": 0.0005000000237487257, "vf_loss": 10.51144790649414}, "sample_time_ms": 50662.073}, "timesteps_total": 17415000, "hostname": "flow-main", "episode_reward_max": 1336.9441937731121, "policy_reward_mean": {}, "training_iteration": 129, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-52-51", "timestamp": 1558036371, "timesteps_since_restore": 17550000, "episodes_total": 4843, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f51d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.11504367635799, "cost1_min": 59.60560434263479, "system_level_velocity_mean": 8.74607846930793, "cost1_mean": 218.3326301544959, "cost2_mean": -18.0042199741804, "cost1_max": 268.1516442101155, "cost2_max": -2.20149508358877, "system_level_velocity_max": 12.506978827142738, "cost2_min": -69.87321523423861}, "done": false, "time_total_s": 11241.70268368721, "episode_reward_min": 274.89172811130214, "episodes_this_iter": 36, "episode_len_mean": 741.49, "iterations_since_restore": 130, "time_since_restore": 11241.70268368721, "time_this_iter_s": 86.8150475025177, "pid": 63739, "episode_reward_mean": 1067.5616466389577, "info": {"grad_time_ms": 35109.026, "update_time_ms": 11.267, "num_steps_trained": 17550000, "num_steps_sampled": 17550000, "load_time_ms": 7.556, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3558017909526825, "total_loss": 10.82284164428711, "policy_loss": -0.00970518123358488, "entropy": 1.5208654403686523, "kl": 0.01736551895737648, "cur_lr": 0.0005000000237487257, "vf_loss": 10.82863998413086}, "sample_time_ms": 50778.376}, "timesteps_total": 17550000, "hostname": "flow-main", "episode_reward_max": 1336.9441937731121, "policy_reward_mean": {}, "training_iteration": 130, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-54-17", "timestamp": 1558036457, "timesteps_since_restore": 17685000, "episodes_total": 4880, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccbe0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.11504367635799, "cost1_min": 27.70564599497557, "system_level_velocity_mean": 8.591371794059057, "cost1_mean": 215.28026092611321, "cost2_mean": -18.70245865171991, "cost1_max": 266.76391140126464, "cost2_max": -3.425505266796846, "system_level_velocity_max": 12.506978827142738, "cost2_min": -69.87321523423861}, "done": false, "time_total_s": 11327.061414003372, "episode_reward_min": 122.71209332666824, "episodes_this_iter": 37, "episode_len_mean": 738.22, "iterations_since_restore": 131, "time_since_restore": 11327.061414003372, "time_this_iter_s": 85.35873031616211, "pid": 63739, "episode_reward_mean": 1051.4383278773366, "info": {"grad_time_ms": 35104.47, "update_time_ms": 11.346, "num_steps_trained": 17685000, "num_steps_sampled": 17685000, "load_time_ms": 7.457, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3389500677585602, "total_loss": 10.964621543884277, "policy_loss": -0.009907943196594715, "entropy": 1.5299139022827148, "kl": 0.018621057271957397, "cur_lr": 0.0005000000237487257, "vf_loss": 10.97033977508545}, "sample_time_ms": 50793.795}, "timesteps_total": 17685000, "hostname": "flow-main", "episode_reward_max": 1323.8801296232325, "policy_reward_mean": {}, "training_iteration": 131, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-55-43", "timestamp": 1558036543, "timesteps_since_restore": 17820000, "episodes_total": 4917, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.194811249602553, "cost1_min": 27.70564599497557, "system_level_velocity_mean": 8.375067263425638, "cost1_mean": 210.90913374345928, "cost2_mean": -18.125293588205103, "cost1_max": 266.1826363138491, "cost2_max": -1.5638329645918865, "system_level_velocity_max": 12.112904693793956, "cost2_min": -50.31218920492307}, "done": false, "time_total_s": 11413.601025342941, "episode_reward_min": 122.71209332666824, "episodes_this_iter": 37, "episode_len_mean": 738.38, "iterations_since_restore": 132, "time_since_restore": 11413.601025342941, "time_this_iter_s": 86.53961133956909, "pid": 63739, "episode_reward_mean": 1030.58654240482, "info": {"grad_time_ms": 35122.647, "update_time_ms": 11.232, "num_steps_trained": 17820000, "num_steps_sampled": 17820000, "load_time_ms": 7.416, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.32750988006591797, "total_loss": 10.893805503845215, "policy_loss": -0.0093165198341012, "entropy": 1.5517494678497314, "kl": 0.018041785806417465, "cur_lr": 0.0005000000237487257, "vf_loss": 10.899063110351562}, "sample_time_ms": 50852.839}, "timesteps_total": 17820000, "hostname": "flow-main", "episode_reward_max": 1322.0441935664815, "policy_reward_mean": {}, "training_iteration": 132, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-57-10", "timestamp": 1558036630, "timesteps_since_restore": 17955000, "episodes_total": 4955, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cca58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccd30>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.054853420553995, "cost1_min": 72.9583669554703, "system_level_velocity_mean": 8.215918189210717, "cost1_mean": 209.06105286106222, "cost2_mean": -17.631044027391997, "cost1_max": 272.1413508413697, "cost2_max": -1.5638329645918865, "system_level_velocity_max": 11.584810592872644, "cost2_min": -50.31218920492307}, "done": false, "time_total_s": 11500.37301492691, "episode_reward_min": 352.8275032182017, "episodes_this_iter": 38, "episode_len_mean": 737.93, "iterations_since_restore": 133, "time_since_restore": 11500.37301492691, "time_this_iter_s": 86.77198958396912, "pid": 63739, "episode_reward_mean": 1021.9271909973573, "info": {"grad_time_ms": 35130.354, "update_time_ms": 11.359, "num_steps_trained": 17955000, "num_steps_sampled": 17955000, "load_time_ms": 7.421, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33861449360847473, "total_loss": 10.859291076660156, "policy_loss": -0.009376268833875656, "entropy": 1.540751338005066, "kl": 0.01854487881064415, "cur_lr": 0.0005000000237487257, "vf_loss": 10.864494323730469}, "sample_time_ms": 51027.922}, "timesteps_total": 17955000, "hostname": "flow-main", "episode_reward_max": 1344.7070379826596, "policy_reward_mean": {}, "training_iteration": 133, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_19-58-36", "timestamp": 1558036716, "timesteps_since_restore": 18090000, "episodes_total": 4991, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccbe0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc390>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.273098738111344, "cost1_min": 72.9583669554703, "system_level_velocity_mean": 8.295812545814844, "cost1_mean": 210.03903149713327, "cost2_mean": -16.751595044717238, "cost1_max": 275.6273607580199, "cost2_max": -1.5638329645918865, "system_level_velocity_max": 11.990399940837952, "cost2_min": -50.21918931537883}, "done": false, "time_total_s": 11586.481637716293, "episode_reward_min": 352.8275032182017, "episodes_this_iter": 36, "episode_len_mean": 737.93, "iterations_since_restore": 134, "time_since_restore": 11586.481637716293, "time_this_iter_s": 86.10862278938293, "pid": 63739, "episode_reward_mean": 1027.7354241044832, "info": {"grad_time_ms": 35173.565, "update_time_ms": 11.463, "num_steps_trained": 18090000, "num_steps_sampled": 18090000, "load_time_ms": 7.354, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3139640986919403, "total_loss": 10.481317520141602, "policy_loss": -0.008651211857795715, "entropy": 1.5591155290603638, "kl": 0.01775166764855385, "cur_lr": 0.0005000000237487257, "vf_loss": 10.485974311828613}, "sample_time_ms": 50942.114}, "timesteps_total": 18090000, "hostname": "flow-main", "episode_reward_max": 1372.6384526727963, "policy_reward_mean": {}, "training_iteration": 134, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-00-03", "timestamp": 1558036803, "timesteps_since_restore": 18225000, "episodes_total": 5027, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.273098738111344, "cost1_min": 88.77509398091932, "system_level_velocity_mean": 8.127621847883598, "cost1_mean": 209.59871816469314, "cost2_mean": -16.36736705059622, "cost1_max": 275.6273607580199, "cost2_max": -1.6024806188902092, "system_level_velocity_max": 11.990399940837952, "cost2_min": -50.21918931537883}, "done": false, "time_total_s": 11673.100985765457, "episode_reward_min": 413.70338282038387, "episodes_this_iter": 36, "episode_len_mean": 743.1, "iterations_since_restore": 135, "time_since_restore": 11673.100985765457, "time_this_iter_s": 86.61934804916382, "pid": 63739, "episode_reward_mean": 1025.904990984764, "info": {"grad_time_ms": 35192.275, "update_time_ms": 11.468, "num_steps_trained": 18225000, "num_steps_sampled": 18225000, "load_time_ms": 7.394, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.29783013463020325, "total_loss": 10.426475524902344, "policy_loss": -0.009448697790503502, "entropy": 1.5819693803787231, "kl": 0.017183691263198853, "cur_lr": 0.0005000000237487257, "vf_loss": 10.432058334350586}, "sample_time_ms": 50948.235}, "timesteps_total": 18225000, "hostname": "flow-main", "episode_reward_max": 1372.6384526727963, "policy_reward_mean": {}, "training_iteration": 135, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-01-31", "timestamp": 1558036891, "timesteps_since_restore": 18360000, "episodes_total": 5063, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a748>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.88624039314299, "cost1_min": 109.72016717934525, "system_level_velocity_mean": 7.963051160464516, "cost1_mean": 207.62754983864266, "cost2_mean": -15.724720520669202, "cost1_max": 275.6273607580199, "cost2_max": -1.6024806188902092, "system_level_velocity_max": 11.990399940837952, "cost2_min": -61.47086611542088}, "done": false, "time_total_s": 11760.768594264984, "episode_reward_min": 522.186425091396, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 136, "time_since_restore": 11760.768594264984, "time_this_iter_s": 87.66760849952698, "pid": 63739, "episode_reward_mean": 1017.2211662842815, "info": {"grad_time_ms": 35476.842, "update_time_ms": 11.305, "num_steps_trained": 18360000, "num_steps_sampled": 18360000, "load_time_ms": 7.516, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4017915427684784, "total_loss": 9.86462116241455, "policy_loss": -0.010217461735010147, "entropy": 1.5884428024291992, "kl": 0.0197280403226614, "cur_lr": 0.0005000000237487257, "vf_loss": 9.870399475097656}, "sample_time_ms": 50911.589}, "timesteps_total": 18360000, "hostname": "flow-main", "episode_reward_max": 1372.6384526727963, "policy_reward_mean": {}, "training_iteration": 136, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-02-56", "timestamp": 1558036976, "timesteps_since_restore": 18495000, "episodes_total": 5099, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc780>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.88624039314299, "cost1_min": 93.21183420969847, "system_level_velocity_mean": 7.946049672425101, "cost1_mean": 206.5253978578265, "cost2_mean": -14.995531158697679, "cost1_max": 263.3115899396071, "cost2_max": -0.2594152756500463, "system_level_velocity_max": 11.460173543885983, "cost2_min": -61.47086611542088}, "done": false, "time_total_s": 11845.643898010254, "episode_reward_min": 459.33809919138764, "episodes_this_iter": 36, "episode_len_mean": 748.32, "iterations_since_restore": 137, "time_since_restore": 11845.643898010254, "time_this_iter_s": 84.87530374526978, "pid": 63739, "episode_reward_mean": 1012.6939426572455, "info": {"grad_time_ms": 35393.495, "update_time_ms": 11.187, "num_steps_trained": 18495000, "num_steps_sampled": 18495000, "load_time_ms": 7.415, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3666374385356903, "total_loss": 9.872249603271484, "policy_loss": -0.009573038667440414, "entropy": 1.5574790239334106, "kl": 0.018042946234345436, "cur_lr": 0.0005000000237487257, "vf_loss": 9.877762794494629}, "sample_time_ms": 50936.412}, "timesteps_total": 18495000, "hostname": "flow-main", "episode_reward_max": 1304.8527885032863, "policy_reward_mean": {}, "training_iteration": 137, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-04-22", "timestamp": 1558037062, "timesteps_since_restore": 18630000, "episodes_total": 5135, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccdd8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 3.88624039314299, "cost1_min": 93.21183420969847, "system_level_velocity_mean": 8.157353025519178, "cost1_mean": 208.83909831364997, "cost2_mean": -14.42174671634788, "cost1_max": 263.3115899396071, "cost2_max": -0.2594152756500463, "system_level_velocity_max": 11.460173543885983, "cost2_min": -57.589892495342845}, "done": false, "time_total_s": 11931.552874803543, "episode_reward_min": 459.33809919138764, "episodes_this_iter": 36, "episode_len_mean": 747.28, "iterations_since_restore": 138, "time_since_restore": 11931.552874803543, "time_this_iter_s": 85.90897679328918, "pid": 63739, "episode_reward_mean": 1025.3884713313446, "info": {"grad_time_ms": 35376.599, "update_time_ms": 11.345, "num_steps_trained": 18630000, "num_steps_sampled": 18630000, "load_time_ms": 7.451, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3487592339515686, "total_loss": 10.013232231140137, "policy_loss": -0.009752766229212284, "entropy": 1.5536185503005981, "kl": 0.018087701871991158, "cur_lr": 0.0005000000237487257, "vf_loss": 10.018916130065918}, "sample_time_ms": 50904.036}, "timesteps_total": 18630000, "hostname": "flow-main", "episode_reward_max": 1304.8527885032863, "policy_reward_mean": {}, "training_iteration": 138, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-05-49", "timestamp": 1558037149, "timesteps_since_restore": 18765000, "episodes_total": 5172, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccc50>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.181343965979753, "cost1_min": 93.21183420969847, "system_level_velocity_mean": 8.312137025152307, "cost1_mean": 211.34339471074836, "cost2_mean": -14.220990406199942, "cost1_max": 268.3079011530634, "cost2_max": -0.2594152756500463, "system_level_velocity_max": 11.708954107762407, "cost2_min": -57.589892495342845}, "done": false, "time_total_s": 12018.5499355793, "episode_reward_min": 459.33809919138764, "episodes_this_iter": 37, "episode_len_mean": 744.06, "iterations_since_restore": 139, "time_since_restore": 12018.5499355793, "time_this_iter_s": 86.99706077575684, "pid": 63739, "episode_reward_mean": 1038.1636349532675, "info": {"grad_time_ms": 35172.462, "update_time_ms": 11.248, "num_steps_trained": 18765000, "num_steps_sampled": 18765000, "load_time_ms": 7.313, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33194833993911743, "total_loss": 10.648948669433594, "policy_loss": -0.008079065009951591, "entropy": 1.5519777536392212, "kl": 0.018104154616594315, "cur_lr": 0.0005000000237487257, "vf_loss": 10.6529541015625}, "sample_time_ms": 50936.716}, "timesteps_total": 18765000, "hostname": "flow-main", "episode_reward_max": 1323.7175784350327, "policy_reward_mean": {}, "training_iteration": 139, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-07-16", "timestamp": 1558037236, "timesteps_since_restore": 18900000, "episodes_total": 5208, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccbe0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccd68>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.0034444303775025, "cost1_min": 96.34677862924912, "system_level_velocity_mean": 8.267817957369635, "cost1_mean": 211.36791111311769, "cost2_mean": -15.124648324270792, "cost1_max": 269.05504992802764, "cost2_max": -1.0818076161904138, "system_level_velocity_max": 12.082945182627878, "cost2_min": -73.56322209076738}, "done": false, "time_total_s": 12105.955512285233, "episode_reward_min": 474.89693896119434, "episodes_this_iter": 36, "episode_len_mean": 745.74, "iterations_since_restore": 140, "time_since_restore": 12105.955512285233, "time_this_iter_s": 87.40557670593262, "pid": 63739, "episode_reward_mean": 1037.2751411009092, "info": {"grad_time_ms": 35121.324, "update_time_ms": 11.24, "num_steps_trained": 18900000, "num_steps_sampled": 18900000, "load_time_ms": 7.208, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.34065544605255127, "total_loss": 10.444231986999512, "policy_loss": -0.00991961732506752, "entropy": 1.5602811574935913, "kl": 0.018906880170106888, "cur_lr": 0.0005000000237487257, "vf_loss": 10.449896812438965}, "sample_time_ms": 51047.197}, "timesteps_total": 18900000, "hostname": "flow-main", "episode_reward_max": 1334.4645562087098, "policy_reward_mean": {}, "training_iteration": 140, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-08-43", "timestamp": 1558037323, "timesteps_since_restore": 19035000, "episodes_total": 5244, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cccf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc9b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.0034444303775025, "cost1_min": 98.57909184301221, "system_level_velocity_mean": 8.269729699662879, "cost1_mean": 211.3785966187243, "cost2_mean": -15.715718348476257, "cost1_max": 269.05504992802764, "cost2_max": -1.3825111902819593, "system_level_velocity_max": 12.082945182627878, "cost2_min": -73.56322209076738}, "done": false, "time_total_s": 12192.273477077484, "episode_reward_min": 481.6631184870929, "episodes_this_iter": 36, "episode_len_mean": 746.41, "iterations_since_restore": 141, "time_since_restore": 12192.273477077484, "time_this_iter_s": 86.31796479225159, "pid": 63739, "episode_reward_mean": 1036.5513879492023, "info": {"grad_time_ms": 35117.508, "update_time_ms": 11.285, "num_steps_trained": 19035000, "num_steps_sampled": 19035000, "load_time_ms": 7.245, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3448895514011383, "total_loss": 10.355311393737793, "policy_loss": -0.009757996536791325, "entropy": 1.565224051475525, "kl": 0.018902188166975975, "cur_lr": 0.0005000000237487257, "vf_loss": 10.360816955566406}, "sample_time_ms": 51147.085}, "timesteps_total": 19035000, "hostname": "flow-main", "episode_reward_max": 1334.4645562087098, "policy_reward_mean": {}, "training_iteration": 141, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-10-09", "timestamp": 1558037409, "timesteps_since_restore": 19170000, "episodes_total": 5280, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc9e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc320>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.0034444303775025, "cost1_min": 98.57909184301221, "system_level_velocity_mean": 8.295763815079997, "cost1_mean": 211.51107024249075, "cost2_mean": -16.473248015719367, "cost1_max": 269.05504992802764, "cost2_max": -1.3825111902819593, "system_level_velocity_max": 12.082945182627878, "cost2_min": -73.56322209076738}, "done": false, "time_total_s": 12278.872136592865, "episode_reward_min": 481.6631184870929, "episodes_this_iter": 36, "episode_len_mean": 746.01, "iterations_since_restore": 142, "time_since_restore": 12278.872136592865, "time_this_iter_s": 86.59865951538086, "pid": 63739, "episode_reward_mean": 1036.5411185492583, "info": {"grad_time_ms": 35159.934, "update_time_ms": 11.433, "num_steps_trained": 19170000, "num_steps_sampled": 19170000, "load_time_ms": 7.291, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.33079665899276733, "total_loss": 10.301676750183105, "policy_loss": -0.008396854624152184, "entropy": 1.5793074369430542, "kl": 0.01919708028435707, "cur_lr": 0.0005000000237487257, "vf_loss": 10.305752754211426}, "sample_time_ms": 51107.809}, "timesteps_total": 19170000, "hostname": "flow-main", "episode_reward_max": 1334.4645562087098, "policy_reward_mean": {}, "training_iteration": 142, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-11-36", "timestamp": 1558037496, "timesteps_since_restore": 19305000, "episodes_total": 5316, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc2e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc668>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.546503307867139, "cost1_min": 98.57909184301221, "system_level_velocity_mean": 8.296503594553418, "cost1_mean": 211.53247678459311, "cost2_mean": -16.745618069517153, "cost1_max": 268.5370268038352, "cost2_max": -1.4687076063492943, "system_level_velocity_max": 11.807951396911298, "cost2_min": -43.743685145302024}, "done": false, "time_total_s": 12365.813177347183, "episode_reward_min": 481.6631184870929, "episodes_this_iter": 36, "episode_len_mean": 744.98, "iterations_since_restore": 143, "time_since_restore": 12365.813177347183, "time_this_iter_s": 86.94104075431824, "pid": 63739, "episode_reward_mean": 1035.5982022598862, "info": {"grad_time_ms": 35232.575, "update_time_ms": 11.227, "num_steps_trained": 19305000, "num_steps_sampled": 19305000, "load_time_ms": 7.155, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.32426461577415466, "total_loss": 10.074527740478516, "policy_loss": -0.01001778244972229, "entropy": 1.5726230144500732, "kl": 0.01909630186855793, "cur_lr": 0.0005000000237487257, "vf_loss": 10.080248832702637}, "sample_time_ms": 51053.996}, "timesteps_total": 19305000, "hostname": "flow-main", "episode_reward_max": 1331.860943562939, "policy_reward_mean": {}, "training_iteration": 143, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-13-03", "timestamp": 1558037583, "timesteps_since_restore": 19440000, "episodes_total": 5352, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cca58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc710>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.546503307867139, "cost1_min": 78.3786830937453, "system_level_velocity_mean": 8.33616283652005, "cost1_mean": 211.63585512049337, "cost2_mean": -15.924575879042791, "cost1_max": 268.5370268038352, "cost2_max": -0.8549319316250004, "system_level_velocity_max": 11.807951396911298, "cost2_min": -52.664464212223585}, "done": false, "time_total_s": 12452.142648935318, "episode_reward_min": 379.4985471213641, "episodes_this_iter": 36, "episode_len_mean": 743.97, "iterations_since_restore": 144, "time_since_restore": 12452.142648935318, "time_this_iter_s": 86.32947158813477, "pid": 63739, "episode_reward_mean": 1036.7962819246802, "info": {"grad_time_ms": 35183.218, "update_time_ms": 11.105, "num_steps_trained": 19440000, "num_steps_sampled": 19440000, "load_time_ms": 7.153, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3292820453643799, "total_loss": 10.129249572753906, "policy_loss": -0.008583847433328629, "entropy": 1.5521823167800903, "kl": 0.019635459408164024, "cur_lr": 0.0005000000237487257, "vf_loss": 10.133415222167969}, "sample_time_ms": 51132.808}, "timesteps_total": 19440000, "hostname": "flow-main", "episode_reward_max": 1331.860943562939, "policy_reward_mean": {}, "training_iteration": 144, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-14-28", "timestamp": 1558037668, "timesteps_since_restore": 19575000, "episodes_total": 5389, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc2e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.546503307867139, "cost1_min": 78.3786830937453, "system_level_velocity_mean": 8.375284907810162, "cost1_mean": 211.7564691685939, "cost2_mean": -15.568128734776629, "cost1_max": 266.84682698444965, "cost2_max": -0.8549319316250004, "system_level_velocity_max": 11.628794790013092, "cost2_min": -52.664464212223585}, "done": false, "time_total_s": 12537.773218631744, "episode_reward_min": 379.4985471213641, "episodes_this_iter": 37, "episode_len_mean": 741.36, "iterations_since_restore": 145, "time_since_restore": 12537.773218631744, "time_this_iter_s": 85.63056969642639, "pid": 63739, "episode_reward_mean": 1038.02369982222, "info": {"grad_time_ms": 35120.626, "update_time_ms": 11.353, "num_steps_trained": 19575000, "num_steps_sampled": 19575000, "load_time_ms": 7.162, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.34463629126548767, "total_loss": 10.28632926940918, "policy_loss": -0.008507732301950455, "entropy": 1.5532768964767456, "kl": 0.017213691025972366, "cur_lr": 0.0005000000237487257, "vf_loss": 10.290964126586914}, "sample_time_ms": 51094.663}, "timesteps_total": 19575000, "hostname": "flow-main", "episode_reward_max": 1322.9081474661848, "policy_reward_mean": {}, "training_iteration": 145, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-15-53", "timestamp": 1558037753, "timesteps_since_restore": 19710000, "episodes_total": 5425, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccc18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cccc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.723026143992515, "cost1_min": 102.45524694551796, "system_level_velocity_mean": 8.33201385754295, "cost1_mean": 211.76837304789814, "cost2_mean": -15.267975496307853, "cost1_max": 266.84682698444965, "cost2_max": -1.9369838887847355, "system_level_velocity_max": 11.628794790013092, "cost2_min": -52.664464212223585}, "done": false, "time_total_s": 12622.778988599777, "episode_reward_min": 486.0035885846568, "episodes_this_iter": 36, "episode_len_mean": 745.54, "iterations_since_restore": 146, "time_since_restore": 12622.778988599777, "time_this_iter_s": 85.00576996803284, "pid": 63739, "episode_reward_mean": 1038.5877686068088, "info": {"grad_time_ms": 34904.969, "update_time_ms": 11.451, "num_steps_trained": 19710000, "num_steps_sampled": 19710000, "load_time_ms": 7.08, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3196655809879303, "total_loss": 10.250897407531738, "policy_loss": -0.009519998915493488, "entropy": 1.5955893993377686, "kl": 0.018453391268849373, "cur_lr": 0.0005000000237487257, "vf_loss": 10.256266593933105}, "sample_time_ms": 51041.563}, "timesteps_total": 19710000, "hostname": "flow-main", "episode_reward_max": 1322.9081474661848, "policy_reward_mean": {}, "training_iteration": 146, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-17-20", "timestamp": 1558037840, "timesteps_since_restore": 19845000, "episodes_total": 5461, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc7b8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.723026143992515, "cost1_min": 102.45524694551796, "system_level_velocity_mean": 8.239012866568391, "cost1_mean": 209.4211927064164, "cost2_mean": -14.230936350896215, "cost1_max": 266.84682698444965, "cost2_max": -0.48493887777521594, "system_level_velocity_max": 11.628794790013092, "cost2_min": -40.6593164411119}, "done": false, "time_total_s": 12708.98719239235, "episode_reward_min": 486.0035885846568, "episodes_this_iter": 36, "episode_len_mean": 745.54, "iterations_since_restore": 147, "time_since_restore": 12708.98719239235, "time_this_iter_s": 86.20820379257202, "pid": 63739, "episode_reward_mean": 1028.4619331838992, "info": {"grad_time_ms": 35125.461, "update_time_ms": 11.437, "num_steps_trained": 19845000, "num_steps_sampled": 19845000, "load_time_ms": 7.153, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3027607202529907, "total_loss": 9.592348098754883, "policy_loss": -0.008189660497009754, "entropy": 1.568109393119812, "kl": 0.017252501100301743, "cur_lr": 0.0005000000237487257, "vf_loss": 9.59665584564209}, "sample_time_ms": 50954.468}, "timesteps_total": 19845000, "hostname": "flow-main", "episode_reward_max": 1322.9081474661848, "policy_reward_mean": {}, "training_iteration": 147, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-18-44", "timestamp": 1558037924, "timesteps_since_restore": 19980000, "episodes_total": 5497, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c50>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.723026143992515, "cost1_min": 129.56997665404992, "system_level_velocity_mean": 8.14603093427585, "cost1_mean": 208.27146841722032, "cost2_mean": -14.710063364578989, "cost1_max": 259.7538965591981, "cost2_max": -0.48493887777521594, "system_level_velocity_max": 11.425113925397323, "cost2_min": -47.807973174422116}, "done": false, "time_total_s": 12793.798681020737, "episode_reward_min": 631.2990648021488, "episodes_this_iter": 36, "episode_len_mean": 748.15, "iterations_since_restore": 148, "time_since_restore": 12793.798681020737, "time_this_iter_s": 84.81148862838745, "pid": 63739, "episode_reward_mean": 1022.133838440869, "info": {"grad_time_ms": 35088.53, "update_time_ms": 11.26, "num_steps_trained": 19980000, "num_steps_sampled": 19980000, "load_time_ms": 7.131, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.30168119072914124, "total_loss": 10.20562744140625, "policy_loss": -0.009592057205736637, "entropy": 1.5704853534698486, "kl": 0.018393104895949364, "cur_lr": 0.0005000000237487257, "vf_loss": 10.211080551147461}, "sample_time_ms": 50881.844}, "timesteps_total": 19980000, "hostname": "flow-main", "episode_reward_max": 1291.3501411011198, "policy_reward_mean": {}, "training_iteration": 148, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-20-09", "timestamp": 1558038009, "timesteps_since_restore": 20115000, "episodes_total": 5533, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.303379048642142, "cost1_min": 147.44474537492286, "system_level_velocity_mean": 8.135876725996688, "cost1_mean": 209.19115935112288, "cost2_mean": -14.714937066712409, "cost1_max": 261.36359009168893, "cost2_max": -0.48493887777521594, "system_level_velocity_max": 11.641021361526073, "cost2_min": -77.72712707893288}, "done": false, "time_total_s": 12878.679588794708, "episode_reward_min": 714.1275287354746, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 149, "time_since_restore": 12878.679588794708, "time_this_iter_s": 84.88090777397156, "pid": 63739, "episode_reward_mean": 1026.8471985620645, "info": {"grad_time_ms": 35017.662, "update_time_ms": 11.287, "num_steps_trained": 20115000, "num_steps_sampled": 20115000, "load_time_ms": 7.262, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3198518455028534, "total_loss": 10.478737831115723, "policy_loss": -0.00968429259955883, "entropy": 1.6188231706619263, "kl": 0.018525198101997375, "cur_lr": 0.0005000000237487257, "vf_loss": 10.484254837036133}, "sample_time_ms": 50742.157}, "timesteps_total": 20115000, "hostname": "flow-main", "episode_reward_max": 1304.2174589469237, "policy_reward_mean": {}, "training_iteration": 149, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-21-35", "timestamp": 1558038095, "timesteps_since_restore": 20250000, "episodes_total": 5569, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0acf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ada0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.303379048642142, "cost1_min": 147.44474537492286, "system_level_velocity_mean": 8.134604828815037, "cost1_mean": 210.38245338003603, "cost2_mean": -16.186863812654327, "cost1_max": 262.5797743632757, "cost2_max": -1.1722234286890183, "system_level_velocity_max": 11.641021361526073, "cost2_min": -77.72712707893288}, "done": false, "time_total_s": 12964.036137580872, "episode_reward_min": 714.1275287354746, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 150, "time_since_restore": 12964.036137580872, "time_this_iter_s": 85.35654878616333, "pid": 63739, "episode_reward_mean": 1030.87876991109, "info": {"grad_time_ms": 35009.669, "update_time_ms": 11.381, "num_steps_trained": 20250000, "num_steps_sampled": 20250000, "load_time_ms": 7.294, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.29669153690338135, "total_loss": 9.883851051330566, "policy_loss": -0.009580538608133793, "entropy": 1.6142737865447998, "kl": 0.018961302936077118, "cur_lr": 0.0005000000237487257, "vf_loss": 9.889165878295898}, "sample_time_ms": 50544.855}, "timesteps_total": 20250000, "hostname": "flow-main", "episode_reward_max": 1304.2174589469237, "policy_reward_mean": {}, "training_iteration": 150, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-23-01", "timestamp": 1558038181, "timesteps_since_restore": 20385000, "episodes_total": 5605, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc7b8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.441253512689372, "cost1_min": 147.44474537492286, "system_level_velocity_mean": 8.16604785216614, "cost1_mean": 210.2898415986383, "cost2_mean": -15.034865623809043, "cost1_max": 262.5797743632757, "cost2_max": -0.5677773380066875, "system_level_velocity_max": 11.641021361526073, "cost2_min": -43.63773474071251}, "done": false, "time_total_s": 13049.655137062073, "episode_reward_min": 714.1275287354746, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 151, "time_since_restore": 13049.655137062073, "time_this_iter_s": 85.61899948120117, "pid": 63739, "episode_reward_mean": 1031.6493804388258, "info": {"grad_time_ms": 34977.636, "update_time_ms": 11.341, "num_steps_trained": 20385000, "num_steps_sampled": 20385000, "load_time_ms": 7.423, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3056522607803345, "total_loss": 9.901626586914062, "policy_loss": -0.010013927705585957, "entropy": 1.6217228174209595, "kl": 0.01966402493417263, "cur_lr": 0.0005000000237487257, "vf_loss": 9.907217025756836}, "sample_time_ms": 50496.869}, "timesteps_total": 20385000, "hostname": "flow-main", "episode_reward_max": 1304.2174589469237, "policy_reward_mean": {}, "training_iteration": 151, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-24-26", "timestamp": 1558038266, "timesteps_since_restore": 20520000, "episodes_total": 5641, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa040b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa047f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e10>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.36346826741752, "cost1_min": 123.71219839386907, "system_level_velocity_mean": 8.043461040429252, "cost1_mean": 207.95386772076446, "cost2_mean": -14.75375148344436, "cost1_max": 262.5797743632757, "cost2_max": -0.5677773380066875, "system_level_velocity_max": 11.311903640689541, "cost2_min": -43.63773474071251}, "done": false, "time_total_s": 13135.110621213913, "episode_reward_min": 612.1820738985257, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 152, "time_since_restore": 13135.110621213913, "time_this_iter_s": 85.45548415184021, "pid": 63739, "episode_reward_mean": 1020.347267014581, "info": {"grad_time_ms": 34915.423, "update_time_ms": 11.3, "num_steps_trained": 20520000, "num_steps_sampled": 20520000, "load_time_ms": 7.47, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.31008249521255493, "total_loss": 9.693467140197754, "policy_loss": -0.010648309253156185, "entropy": 1.6744213104248047, "kl": 0.01921066641807556, "cur_lr": 0.0005000000237487257, "vf_loss": 9.699792861938477}, "sample_time_ms": 50438.332}, "timesteps_total": 20520000, "hostname": "flow-main", "episode_reward_max": 1298.2780095906962, "policy_reward_mean": {}, "training_iteration": 152, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-25-52", "timestamp": 1558038352, "timesteps_since_restore": 20655000, "episodes_total": 5678, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8dd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c85c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.36346826741752, "cost1_min": 16.462158424564933, "system_level_velocity_mean": 7.879018538310357, "cost1_mean": 202.24188048597674, "cost2_mean": -15.339500045532978, "cost1_max": 261.0318402625058, "cost2_max": -0.07378161387224758, "system_level_velocity_max": 11.498410386611276, "cost2_min": -43.63773474071251}, "done": false, "time_total_s": 13220.788232803345, "episode_reward_min": 82.31079212282467, "episodes_this_iter": 37, "episode_len_mean": 742.73, "iterations_since_restore": 153, "time_since_restore": 13220.788232803345, "time_this_iter_s": 85.67761158943176, "pid": 63739, "episode_reward_mean": 991.5781065070859, "info": {"grad_time_ms": 34859.088, "update_time_ms": 11.334, "num_steps_trained": 20655000, "num_steps_sampled": 20655000, "load_time_ms": 7.574, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3263062536716461, "total_loss": 10.1647310256958, "policy_loss": -0.010308622382581234, "entropy": 1.6579457521438599, "kl": 0.01936265081167221, "cur_lr": 0.0005000000237487257, "vf_loss": 10.170682907104492}, "sample_time_ms": 50361.537}, "timesteps_total": 20655000, "hostname": "flow-main", "episode_reward_max": 1296.5916863682041, "policy_reward_mean": {}, "training_iteration": 153, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-27-18", "timestamp": 1558038438, "timesteps_since_restore": 20790000, "episodes_total": 5714, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a20>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.36346826741752, "cost1_min": 16.462158424564933, "system_level_velocity_mean": 7.906713733916181, "cost1_mean": 203.5057561240132, "cost2_mean": -16.120255912741413, "cost1_max": 268.8233678052468, "cost2_max": -0.07378161387224758, "system_level_velocity_max": 12.47687072900117, "cost2_min": -39.100469439125945}, "done": false, "time_total_s": 13306.89480638504, "episode_reward_min": 82.31079212282467, "episodes_this_iter": 36, "episode_len_mean": 742.73, "iterations_since_restore": 154, "time_since_restore": 13306.89480638504, "time_this_iter_s": 86.10657358169556, "pid": 63739, "episode_reward_mean": 997.0243722142217, "info": {"grad_time_ms": 35004.745, "update_time_ms": 11.207, "num_steps_trained": 20790000, "num_steps_sampled": 20790000, "load_time_ms": 7.687, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.3141992390155792, "total_loss": 9.783381462097168, "policy_loss": -0.009252293035387993, "entropy": 1.6173714399337769, "kl": 0.017858216539025307, "cur_lr": 0.0005000000237487257, "vf_loss": 9.788616180419922}, "sample_time_ms": 50192.949}, "timesteps_total": 20790000, "hostname": "flow-main", "episode_reward_max": 1336.717391473922, "policy_reward_mean": {}, "training_iteration": 154, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-28-42", "timestamp": 1558038522, "timesteps_since_restore": 20925000, "episodes_total": 5750, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cceb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc1d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.163528343350205, "cost1_min": 16.462158424564933, "system_level_velocity_mean": 7.997460282341484, "cost1_mean": 205.66394042767422, "cost2_mean": -15.683852087236062, "cost1_max": 268.8233678052468, "cost2_max": -0.07378161387224758, "system_level_velocity_max": 12.47687072900117, "cost2_min": -50.743011162402574}, "done": false, "time_total_s": 13391.331846475601, "episode_reward_min": 82.31079212282467, "episodes_this_iter": 36, "episode_len_mean": 742.73, "iterations_since_restore": 155, "time_since_restore": 13391.331846475601, "time_this_iter_s": 84.43704009056091, "pid": 63739, "episode_reward_mean": 1008.1181255857887, "info": {"grad_time_ms": 34943.507, "update_time_ms": 11.077, "num_steps_trained": 20925000, "num_steps_sampled": 20925000, "load_time_ms": 7.531, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.325998991727829, "total_loss": 10.187511444091797, "policy_loss": -0.009544514119625092, "entropy": 1.666146993637085, "kl": 0.020125364884734154, "cur_lr": 0.0005000000237487257, "vf_loss": 10.192527770996094}, "sample_time_ms": 50134.64}, "timesteps_total": 20925000, "hostname": "flow-main", "episode_reward_max": 1336.717391473922, "policy_reward_mean": {}, "training_iteration": 155, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-30-08", "timestamp": 1558038608, "timesteps_since_restore": 21060000, "episodes_total": 5786, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8dd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8be0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.0771117496388865, "cost1_min": 137.20744572228554, "system_level_velocity_mean": 8.052592033534081, "cost1_mean": 208.72410863287587, "cost2_mean": -15.949753580601778, "cost1_max": 275.71453475532405, "cost2_max": -1.4969740765759072, "system_level_velocity_max": 13.038339529138359, "cost2_min": -56.971661642684374}, "done": false, "time_total_s": 13476.748582839966, "episode_reward_min": 677.660975842734, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 156, "time_since_restore": 13476.748582839966, "time_this_iter_s": 85.41673636436462, "pid": 63739, "episode_reward_mean": 1023.133503549827, "info": {"grad_time_ms": 34948.969, "update_time_ms": 11.07, "num_steps_trained": 21060000, "num_steps_sampled": 21060000, "load_time_ms": 7.609, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.31739041209220886, "total_loss": 9.702375411987305, "policy_loss": -0.009252075105905533, "entropy": 1.6684391498565674, "kl": 0.014588245190680027, "cur_lr": 0.0005000000237487257, "vf_loss": 9.706703186035156}, "sample_time_ms": 50172.638}, "timesteps_total": 21060000, "hostname": "flow-main", "episode_reward_max": 1371.2489958158371, "policy_reward_mean": {}, "training_iteration": 156, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-31-34", "timestamp": 1558038694, "timesteps_since_restore": 21195000, "episodes_total": 5823, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a20>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.840995464247614, "cost1_min": 82.3048643394328, "system_level_velocity_mean": 7.930390437547467, "cost1_mean": 204.73312138310396, "cost2_mean": -18.108979759810133, "cost1_max": 275.71453475532405, "cost2_max": -2.083254440130816, "system_level_velocity_max": 13.038339529138359, "cost2_min": -59.488776029406594}, "done": false, "time_total_s": 13562.45542883873, "episode_reward_min": 396.30172234793906, "episodes_this_iter": 37, "episode_len_mean": 738.53, "iterations_since_restore": 157, "time_since_restore": 13562.45542883873, "time_this_iter_s": 85.70684599876404, "pid": 63739, "episode_reward_mean": 1000.6691791955801, "info": {"grad_time_ms": 34829.746, "update_time_ms": 11.111, "num_steps_trained": 21195000, "num_steps_sampled": 21195000, "load_time_ms": 7.568, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.34594470262527466, "total_loss": 10.688356399536133, "policy_loss": -0.010125977918505669, "entropy": 1.7286497354507446, "kl": 0.015099972486495972, "cur_lr": 0.0005000000237487257, "vf_loss": 10.69338607788086}, "sample_time_ms": 50240.292}, "timesteps_total": 21195000, "hostname": "flow-main", "episode_reward_max": 1371.2489958158371, "policy_reward_mean": {}, "training_iteration": 157, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-32-59", "timestamp": 1558038779, "timesteps_since_restore": 21330000, "episodes_total": 5859, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccf28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cceb8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.840995464247614, "cost1_min": 72.37054496128727, "system_level_velocity_mean": 7.979206572405677, "cost1_mean": 203.51238774801078, "cost2_mean": -17.851428879830998, "cost1_max": 275.71453475532405, "cost2_max": -0.04250999460630801, "system_level_velocity_max": 13.038339529138359, "cost2_min": -59.488776029406594}, "done": false, "time_total_s": 13648.01230096817, "episode_reward_min": 338.8705638759791, "episodes_this_iter": 36, "episode_len_mean": 728.9, "iterations_since_restore": 158, "time_since_restore": 13648.01230096817, "time_this_iter_s": 85.55687212944031, "pid": 63739, "episode_reward_mean": 995.2217530031863, "info": {"grad_time_ms": 34801.52, "update_time_ms": 10.893, "num_steps_trained": 21330000, "num_steps_sampled": 21330000, "load_time_ms": 7.522, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4006144106388092, "total_loss": 10.240379333496094, "policy_loss": -0.009016641415655613, "entropy": 1.6605594158172607, "kl": 0.014676066115498543, "cur_lr": 0.0005000000237487257, "vf_loss": 10.2444429397583}, "sample_time_ms": 50342.259}, "timesteps_total": 21330000, "hostname": "flow-main", "episode_reward_max": 1371.2489958158371, "policy_reward_mean": {}, "training_iteration": 158, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-34-26", "timestamp": 1558038866, "timesteps_since_restore": 21465000, "episodes_total": 5896, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c45c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.055614951003902, "cost1_min": 39.7212921697598, "system_level_velocity_mean": 7.938446366715414, "cost1_mean": 204.32278189610338, "cost2_mean": -18.333956771918483, "cost1_max": 265.1265225541497, "cost2_max": -0.04250999460630801, "system_level_velocity_max": 11.526841105954952, "cost2_min": -59.488776029406594}, "done": false, "time_total_s": 13734.383601903915, "episode_reward_min": 179.2187632765728, "episodes_this_iter": 37, "episode_len_mean": 730.19, "iterations_since_restore": 159, "time_since_restore": 13734.383601903915, "time_this_iter_s": 86.37130093574524, "pid": 63739, "episode_reward_mean": 998.7775635837725, "info": {"grad_time_ms": 34847.761, "update_time_ms": 10.707, "num_steps_trained": 21465000, "num_steps_sampled": 21465000, "load_time_ms": 7.624, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.33936071395874023, "total_loss": 10.210911750793457, "policy_loss": -0.009746775962412357, "entropy": 1.6725728511810303, "kl": 0.015810837969183922, "cur_lr": 0.0005000000237487257, "vf_loss": 10.215322494506836}, "sample_time_ms": 50439.91}, "timesteps_total": 21465000, "hostname": "flow-main", "episode_reward_max": 1316.308139011466, "policy_reward_mean": {}, "training_iteration": 159, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-35-51", "timestamp": 1558038951, "timesteps_since_restore": 21600000, "episodes_total": 5932, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8748>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.055614951003902, "cost1_min": 39.7212921697598, "system_level_velocity_mean": 8.01126159614285, "cost1_mean": 206.1512222951674, "cost2_mean": -17.958643715100173, "cost1_max": 265.1265225541497, "cost2_max": -0.04250999460630801, "system_level_velocity_max": 11.526841105954952, "cost2_min": -72.94004536717465}, "done": false, "time_total_s": 13819.882876873016, "episode_reward_min": 179.2187632765728, "episodes_this_iter": 36, "episode_len_mean": 734.83, "iterations_since_restore": 160, "time_since_restore": 13819.882876873016, "time_this_iter_s": 85.49927496910095, "pid": 63739, "episode_reward_mean": 1008.5244306558783, "info": {"grad_time_ms": 34881.999, "update_time_ms": 10.619, "num_steps_trained": 21600000, "num_steps_sampled": 21600000, "load_time_ms": 7.622, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3477816879749298, "total_loss": 10.04978084564209, "policy_loss": -0.008827392011880875, "entropy": 1.6851719617843628, "kl": 0.015160624869167805, "cur_lr": 0.0005000000237487257, "vf_loss": 10.053492546081543}, "sample_time_ms": 50422.299}, "timesteps_total": 21600000, "hostname": "flow-main", "episode_reward_max": 1316.308139011466, "policy_reward_mean": {}, "training_iteration": 160, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-37-17", "timestamp": 1558039037, "timesteps_since_restore": 21735000, "episodes_total": 5968, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa047f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ac8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ac8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.249728374887181, "cost1_min": 39.7212921697598, "system_level_velocity_mean": 7.941438717476115, "cost1_mean": 205.77250952929938, "cost2_mean": -16.775882434192173, "cost1_max": 262.43173255136446, "cost2_max": -0.4850809286985249, "system_level_velocity_max": 11.293524350524274, "cost2_min": -72.94004536717465}, "done": false, "time_total_s": 13905.146735191345, "episode_reward_min": 179.2187632765728, "episodes_this_iter": 36, "episode_len_mean": 743.3, "iterations_since_restore": 161, "time_since_restore": 13905.146735191345, "time_this_iter_s": 85.26385831832886, "pid": 63739, "episode_reward_mean": 1007.9775530829568, "info": {"grad_time_ms": 34886.866, "update_time_ms": 10.463, "num_steps_trained": 21735000, "num_steps_sampled": 21735000, "load_time_ms": 7.579, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3525995910167694, "total_loss": 9.912303924560547, "policy_loss": -0.009638985618948936, "entropy": 1.7144955396652222, "kl": 0.015596592798829079, "cur_lr": 0.0005000000237487257, "vf_loss": 9.916679382324219}, "sample_time_ms": 50387.319}, "timesteps_total": 21735000, "hostname": "flow-main", "episode_reward_max": 1304.8489250579862, "policy_reward_mean": {}, "training_iteration": 161, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-38-42", "timestamp": 1558039122, "timesteps_since_restore": 21870000, "episodes_total": 6004, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4860>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.249728374887181, "cost1_min": 120.08854942147258, "system_level_velocity_mean": 7.872116025391858, "cost1_mean": 205.6912921721918, "cost2_mean": -16.748543143689268, "cost1_max": 253.00282793867714, "cost2_max": -0.4850809286985249, "system_level_velocity_max": 10.890827584272246, "cost2_min": -72.94004536717465}, "done": false, "time_total_s": 13990.82724404335, "episode_reward_min": 590.3643044304522, "episodes_this_iter": 36, "episode_len_mean": 747.87, "iterations_since_restore": 162, "time_since_restore": 13990.82724404335, "time_this_iter_s": 85.680508852005, "pid": 63739, "episode_reward_mean": 1007.7490848327332, "info": {"grad_time_ms": 34808.92, "update_time_ms": 10.309, "num_steps_trained": 21870000, "num_steps_sampled": 21870000, "load_time_ms": 7.538, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.32003548741340637, "total_loss": 9.997944831848145, "policy_loss": -0.009514323435723782, "entropy": 1.6989312171936035, "kl": 0.015193428844213486, "cur_lr": 0.0005000000237487257, "vf_loss": 10.002330780029297}, "sample_time_ms": 50494.93}, "timesteps_total": 21870000, "hostname": "flow-main", "episode_reward_max": 1256.222018322649, "policy_reward_mean": {}, "training_iteration": 162, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-40-08", "timestamp": 1558039208, "timesteps_since_restore": 22005000, "episodes_total": 6040, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc4a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccf28>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.249728374887181, "cost1_min": 120.08854942147258, "system_level_velocity_mean": 7.869908973064518, "cost1_mean": 206.4051749854593, "cost2_mean": -15.908446575273935, "cost1_max": 266.7815776807351, "cost2_max": -0.9026222487728046, "system_level_velocity_max": 11.254485578162823, "cost2_min": -55.49857465981751}, "done": false, "time_total_s": 14076.15596652031, "episode_reward_min": 590.3643044304522, "episodes_this_iter": 36, "episode_len_mean": 747.87, "iterations_since_restore": 163, "time_since_restore": 14076.15596652031, "time_this_iter_s": 85.32872247695923, "pid": 63739, "episode_reward_mean": 1011.9029955509167, "info": {"grad_time_ms": 34733.563, "update_time_ms": 10.39, "num_steps_trained": 22005000, "num_steps_sampled": 22005000, "load_time_ms": 7.712, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.30337467789649963, "total_loss": 9.791353225708008, "policy_loss": -0.010608273558318615, "entropy": 1.7470479011535645, "kl": 0.015402035787701607, "cur_lr": 0.0005000000237487257, "vf_loss": 9.796761512756348}, "sample_time_ms": 50542.015}, "timesteps_total": 22005000, "hostname": "flow-main", "episode_reward_max": 1324.7185577293185, "policy_reward_mean": {}, "training_iteration": 163, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-41-34", "timestamp": 1558039294, "timesteps_since_restore": 22140000, "episodes_total": 6076, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.900679573071237, "cost1_min": 145.61627646598646, "system_level_velocity_mean": 7.827262809010136, "cost1_mean": 206.52607452673237, "cost2_mean": -17.561644876455503, "cost1_max": 266.7815776807351, "cost2_max": -0.7382529073437072, "system_level_velocity_max": 11.254485578162823, "cost2_min": -55.49857465981751}, "done": false, "time_total_s": 14162.444207906723, "episode_reward_min": 697.5850987390677, "episodes_this_iter": 36, "episode_len_mean": 748.09, "iterations_since_restore": 164, "time_since_restore": 14162.444207906723, "time_this_iter_s": 86.28824138641357, "pid": 63739, "episode_reward_mean": 1010.1821481526782, "info": {"grad_time_ms": 34636.193, "update_time_ms": 10.406, "num_steps_trained": 22140000, "num_steps_sampled": 22140000, "load_time_ms": 7.823, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3014209568500519, "total_loss": 9.811634063720703, "policy_loss": -0.01029903069138527, "entropy": 1.7435177564620972, "kl": 0.01565331220626831, "cur_lr": 0.0005000000237487257, "vf_loss": 9.816649436950684}, "sample_time_ms": 50656.797}, "timesteps_total": 22140000, "hostname": "flow-main", "episode_reward_max": 1324.7185577293185, "policy_reward_mean": {}, "training_iteration": 164, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-43-00", "timestamp": 1558039380, "timesteps_since_restore": 22275000, "episodes_total": 6113, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5f60>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d20f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.099808762279629, "cost1_min": 75.82669789184703, "system_level_velocity_mean": 7.74958560170007, "cost1_mean": 202.3985945946243, "cost2_mean": -17.411460567535276, "cost1_max": 266.7815776807351, "cost2_max": -0.007884745644939066, "system_level_velocity_max": 11.254485578162823, "cost2_min": -46.837317163027755}, "done": false, "time_total_s": 14248.728282213211, "episode_reward_min": 363.5091672979874, "episodes_this_iter": 37, "episode_len_mean": 736.98, "iterations_since_restore": 165, "time_since_restore": 14248.728282213211, "time_this_iter_s": 86.28407430648804, "pid": 63739, "episode_reward_mean": 989.7014600265505, "info": {"grad_time_ms": 34713.883, "update_time_ms": 10.157, "num_steps_trained": 22275000, "num_steps_sampled": 22275000, "load_time_ms": 8.054, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3374801278114319, "total_loss": 10.05374526977539, "policy_loss": -0.009822603315114975, "entropy": 1.690743088722229, "kl": 0.015776872634887695, "cur_lr": 0.0005000000237487257, "vf_loss": 10.058243751525879}, "sample_time_ms": 50764.659}, "timesteps_total": 22275000, "hostname": "flow-main", "episode_reward_max": 1324.7185577293185, "policy_reward_mean": {}, "training_iteration": 165, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-44-26", "timestamp": 1558039466, "timesteps_since_restore": 22410000, "episodes_total": 6149, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2780>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.1943653566250125, "cost1_min": 75.82669789184703, "system_level_velocity_mean": 7.831434741481903, "cost1_mean": 203.47860616546419, "cost2_mean": -17.250697088843435, "cost1_max": 247.93407398223675, "cost2_max": -0.007884745644939066, "system_level_velocity_max": 10.588989866067376, "cost2_min": -54.81507676378412}, "done": false, "time_total_s": 14333.908076763153, "episode_reward_min": 363.5091672979874, "episodes_this_iter": 36, "episode_len_mean": 736.98, "iterations_since_restore": 166, "time_since_restore": 14333.908076763153, "time_this_iter_s": 85.17979454994202, "pid": 63739, "episode_reward_mean": 995.0689136960831, "info": {"grad_time_ms": 34629.779, "update_time_ms": 10.174, "num_steps_trained": 22410000, "num_steps_sampled": 22410000, "load_time_ms": 8.021, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.35142454504966736, "total_loss": 9.280694007873535, "policy_loss": -0.009340858086943626, "entropy": 1.743592619895935, "kl": 0.014976290054619312, "cur_lr": 0.0005000000237487257, "vf_loss": 9.284979820251465}, "sample_time_ms": 50823.439}, "timesteps_total": 22410000, "hostname": "flow-main", "episode_reward_max": 1235.4315809850505, "policy_reward_mean": {}, "training_iteration": 166, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-45-52", "timestamp": 1558039552, "timesteps_since_restore": 22545000, "episodes_total": 6185, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d20b8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.1943653566250125, "cost1_min": 68.69374602015682, "system_level_velocity_mean": 7.963778727549763, "cost1_mean": 205.68697857403902, "cost2_mean": -17.355315737704036, "cost1_max": 247.93407398223675, "cost2_max": -1.4342091888055624, "system_level_velocity_max": 10.588989866067376, "cost2_min": -54.81507676378412}, "done": false, "time_total_s": 14419.754614114761, "episode_reward_min": 306.1312368374996, "episodes_this_iter": 36, "episode_len_mean": 735.44, "iterations_since_restore": 167, "time_since_restore": 14419.754614114761, "time_this_iter_s": 85.84653735160828, "pid": 63739, "episode_reward_mean": 1005.3473476546817, "info": {"grad_time_ms": 34570.09, "update_time_ms": 10.337, "num_steps_trained": 22545000, "num_steps_sampled": 22545000, "load_time_ms": 8.001, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.36168229579925537, "total_loss": 10.196948051452637, "policy_loss": -0.011018702760338783, "entropy": 1.7366961240768433, "kl": 0.015302605926990509, "cur_lr": 0.0005000000237487257, "vf_loss": 10.202801704406738}, "sample_time_ms": 50896.951}, "timesteps_total": 22545000, "hostname": "flow-main", "episode_reward_max": 1235.4315809850505, "policy_reward_mean": {}, "training_iteration": 167, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-47-17", "timestamp": 1558039637, "timesteps_since_restore": 22680000, "episodes_total": 6221, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a2b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e10>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.229795736834355, "cost1_min": 68.69374602015682, "system_level_velocity_mean": 8.123567359818736, "cost1_mean": 211.9760313192151, "cost2_mean": -18.311764200679498, "cost1_max": 264.08945377058023, "cost2_max": -0.3554508756962592, "system_level_velocity_max": 11.33335346717295, "cost2_min": -54.81507676378412}, "done": false, "time_total_s": 14505.337102890015, "episode_reward_min": 306.1312368374996, "episodes_this_iter": 36, "episode_len_mean": 742.4, "iterations_since_restore": 168, "time_since_restore": 14505.337102890015, "time_this_iter_s": 85.5824887752533, "pid": 63739, "episode_reward_mean": 1035.0021627614594, "info": {"grad_time_ms": 34548.839, "update_time_ms": 10.423, "num_steps_trained": 22680000, "num_steps_sampled": 22680000, "load_time_ms": 8.032, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.32965514063835144, "total_loss": 9.91271686553955, "policy_loss": -0.009388579986989498, "entropy": 1.73408842086792, "kl": 0.01484084501862526, "cur_lr": 0.0005000000237487257, "vf_loss": 9.917097091674805}, "sample_time_ms": 50917.295}, "timesteps_total": 22680000, "hostname": "flow-main", "episode_reward_max": 1312.1016138214668, "policy_reward_mean": {}, "training_iteration": 168, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-48-43", "timestamp": 1558039723, "timesteps_since_restore": 22815000, "episodes_total": 6257, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0afd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ac8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.229795736834355, "cost1_min": 68.69374602015682, "system_level_velocity_mean": 8.123701998248242, "cost1_mean": 209.8673588425832, "cost2_mean": -18.678702979286406, "cost1_max": 264.08945377058023, "cost2_max": -0.3554508756962592, "system_level_velocity_max": 11.629484052596823, "cost2_min": -53.6350945339676}, "done": false, "time_total_s": 14591.260932445526, "episode_reward_min": 306.1312368374996, "episodes_this_iter": 36, "episode_len_mean": 737.67, "iterations_since_restore": 169, "time_since_restore": 14591.260932445526, "time_this_iter_s": 85.92382955551147, "pid": 63739, "episode_reward_mean": 1024.62772070112, "info": {"grad_time_ms": 34435.079, "update_time_ms": 10.279, "num_steps_trained": 22815000, "num_steps_sampled": 22815000, "load_time_ms": 8.058, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.38151147961616516, "total_loss": 10.041857719421387, "policy_loss": -0.009747358970344067, "entropy": 1.730974793434143, "kl": 0.015415684320032597, "cur_lr": 0.0005000000237487257, "vf_loss": 10.046402931213379}, "sample_time_ms": 50992.362}, "timesteps_total": 22815000, "hostname": "flow-main", "episode_reward_max": 1312.1016138214668, "policy_reward_mean": {}, "training_iteration": 169, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-50-10", "timestamp": 1558039810, "timesteps_since_restore": 22950000, "episodes_total": 6294, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2f60>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2a90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.093091036532893, "cost1_min": 58.61943125665294, "system_level_velocity_mean": 8.01728420121122, "cost1_mean": 208.30166298650795, "cost2_mean": -18.467904351042318, "cost1_max": 264.08945377058023, "cost2_max": -0.3554508756962592, "system_level_velocity_max": 11.629484052596823, "cost2_min": -53.6350945339676}, "done": false, "time_total_s": 14677.608416557312, "episode_reward_min": 288.27024082928676, "episodes_this_iter": 37, "episode_len_mean": 741.75, "iterations_since_restore": 170, "time_since_restore": 14677.608416557312, "time_this_iter_s": 86.34748411178589, "pid": 63739, "episode_reward_mean": 1017.2143289525636, "info": {"grad_time_ms": 34352.799, "update_time_ms": 10.101, "num_steps_trained": 22950000, "num_steps_sampled": 22950000, "load_time_ms": 8.12, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.34048715233802795, "total_loss": 10.35515022277832, "policy_loss": -0.00975856464356184, "entropy": 1.6921966075897217, "kl": 0.014745257794857025, "cur_lr": 0.0005000000237487257, "vf_loss": 10.359932899475098}, "sample_time_ms": 51157.509}, "timesteps_total": 22950000, "hostname": "flow-main", "episode_reward_max": 1312.1016138214668, "policy_reward_mean": {}, "training_iteration": 170, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-51-35", "timestamp": 1558039895, "timesteps_since_restore": 23085000, "episodes_total": 6330, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2470>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.093091036532893, "cost1_min": 58.61943125665294, "system_level_velocity_mean": 8.02239132942221, "cost1_mean": 207.73711275873254, "cost2_mean": -19.763321299173484, "cost1_max": 255.77331901199295, "cost2_max": -1.702338902538121, "system_level_velocity_max": 10.975384326597487, "cost2_min": -54.839545770571796}, "done": false, "time_total_s": 14762.613480567932, "episode_reward_min": 288.27024082928676, "episodes_this_iter": 36, "episode_len_mean": 741.75, "iterations_since_restore": 171, "time_since_restore": 14762.613480567932, "time_this_iter_s": 85.00506401062012, "pid": 63739, "episode_reward_mean": 1013.0687859545029, "info": {"grad_time_ms": 34305.612, "update_time_ms": 10.113, "num_steps_trained": 23085000, "num_steps_sampled": 23085000, "load_time_ms": 8.048, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.305688738822937, "total_loss": 10.171741485595703, "policy_loss": -0.009696724824607372, "entropy": 1.7504135370254517, "kl": 0.015918724238872528, "cur_lr": 0.0005000000237487257, "vf_loss": 10.176066398620605}, "sample_time_ms": 51180.711}, "timesteps_total": 23085000, "hostname": "flow-main", "episode_reward_max": 1271.4238454710114, "policy_reward_mean": {}, "training_iteration": 171, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-53-00", "timestamp": 1558039980, "timesteps_since_restore": 23220000, "episodes_total": 6366, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2160>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.093091036532893, "cost1_min": 58.61943125665294, "system_level_velocity_mean": 8.014492184261496, "cost1_mean": 209.73489965537988, "cost2_mean": -21.030076360360518, "cost1_max": 254.28101376995792, "cost2_max": -1.702338902538121, "system_level_velocity_max": 10.783584216861751, "cost2_min": -60.880035982928675}, "done": false, "time_total_s": 14847.891085863113, "episode_reward_min": 288.27024082928676, "episodes_this_iter": 36, "episode_len_mean": 746.48, "iterations_since_restore": 172, "time_since_restore": 14847.891085863113, "time_this_iter_s": 85.27760529518127, "pid": 63739, "episode_reward_mean": 1020.9772301936824, "info": {"grad_time_ms": 34319.286, "update_time_ms": 10.256, "num_steps_trained": 23220000, "num_steps_sampled": 23220000, "load_time_ms": 8.007, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3120955228805542, "total_loss": 10.241812705993652, "policy_loss": -0.00955114234238863, "entropy": 1.7759029865264893, "kl": 0.015747040510177612, "cur_lr": 0.0005000000237487257, "vf_loss": 10.246048927307129}, "sample_time_ms": 51126.82}, "timesteps_total": 23220000, "hostname": "flow-main", "episode_reward_max": 1261.803434686747, "policy_reward_mean": {}, "training_iteration": 172, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-54-26", "timestamp": 1558040066, "timesteps_since_restore": 23355000, "episodes_total": 6402, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2a90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2908>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.3510295075722905, "cost1_min": 150.86900643154522, "system_level_velocity_mean": 8.011336028725928, "cost1_mean": 210.01433082146076, "cost2_mean": -20.871082815682886, "cost1_max": 262.5052733580377, "cost2_max": -0.9475548953713774, "system_level_velocity_max": 11.069614455238042, "cost2_min": -60.880035982928675}, "done": false, "time_total_s": 14934.228324174881, "episode_reward_min": 737.4659562751426, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 173, "time_since_restore": 14934.228324174881, "time_this_iter_s": 86.33723831176758, "pid": 63739, "episode_reward_mean": 1022.608381168377, "info": {"grad_time_ms": 34341.41, "update_time_ms": 10.007, "num_steps_trained": 23355000, "num_steps_sampled": 23355000, "load_time_ms": 7.8, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3124394416809082, "total_loss": 9.930212020874023, "policy_loss": -0.009352395310997963, "entropy": 1.7503001689910889, "kl": 0.015423682518303394, "cur_lr": 0.0005000000237487257, "vf_loss": 9.934358596801758}, "sample_time_ms": 51208.196}, "timesteps_total": 23355000, "hostname": "flow-main", "episode_reward_max": 1303.6041001341487, "policy_reward_mean": {}, "training_iteration": 173, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-55-51", "timestamp": 1558040151, "timesteps_since_restore": 23490000, "episodes_total": 6438, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2080>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.3510295075722905, "cost1_min": 150.86900643154522, "system_level_velocity_mean": 7.954294322439429, "cost1_mean": 209.6970279972949, "cost2_mean": -22.79997733052349, "cost1_max": 262.5052733580377, "cost2_max": -0.9475548953713774, "system_level_velocity_max": 11.069614455238042, "cost2_min": -60.880035982928675}, "done": false, "time_total_s": 15019.086556911469, "episode_reward_min": 737.4659562751426, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 174, "time_since_restore": 15019.086556911469, "time_this_iter_s": 84.85823273658752, "pid": 63739, "episode_reward_mean": 1018.5554865959343, "info": {"grad_time_ms": 34233.391, "update_time_ms": 10.014, "num_steps_trained": 23490000, "num_steps_sampled": 23490000, "load_time_ms": 7.786, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.28571534156799316, "total_loss": 9.99262523651123, "policy_loss": -0.010332579724490643, "entropy": 1.7781208753585815, "kl": 0.016191931441426277, "cur_lr": 0.0005000000237487257, "vf_loss": 9.997492790222168}, "sample_time_ms": 51171.426}, "timesteps_total": 23490000, "hostname": "flow-main", "episode_reward_max": 1303.6041001341487, "policy_reward_mean": {}, "training_iteration": 174, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-57-20", "timestamp": 1558040240, "timesteps_since_restore": 23625000, "episodes_total": 6474, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccf98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc2e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cca90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.242187056004656, "cost1_min": 167.34734699813254, "system_level_velocity_mean": 8.074226398550213, "cost1_mean": 212.1821936606704, "cost2_mean": -22.68053963447123, "cost1_max": 262.5052733580377, "cost2_max": -2.033360539059583, "system_level_velocity_max": 11.069614455238042, "cost2_min": -50.568424197647104}, "done": false, "time_total_s": 15107.25521826744, "episode_reward_min": 788.9946692571866, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 175, "time_since_restore": 15107.25521826744, "time_this_iter_s": 88.16866135597229, "pid": 63739, "episode_reward_mean": 1030.5366606881553, "info": {"grad_time_ms": 34416.993, "update_time_ms": 10.201, "num_steps_trained": 23625000, "num_steps_sampled": 23625000, "load_time_ms": 7.836, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.29770585894584656, "total_loss": 10.41610050201416, "policy_loss": -0.009026682935655117, "entropy": 1.7560529708862305, "kl": 0.015108968131244183, "cur_lr": 0.0005000000237487257, "vf_loss": 10.420027732849121}, "sample_time_ms": 51173.92}, "timesteps_total": 23625000, "hostname": "flow-main", "episode_reward_max": 1303.6041001341487, "policy_reward_mean": {}, "training_iteration": 175, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_20-58-47", "timestamp": 1558040327, "timesteps_since_restore": 23760000, "episodes_total": 6512, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc940>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.948601617355621, "cost1_min": 65.33601267454047, "system_level_velocity_mean": 8.113169263359973, "cost1_mean": 211.6082949574017, "cost2_mean": -23.123585427061307, "cost1_max": 265.3090272693697, "cost2_max": -2.033360539059583, "system_level_velocity_max": 11.472627822952195, "cost2_min": -53.7328369338758}, "done": false, "time_total_s": 15194.502130270004, "episode_reward_min": 299.53246477320937, "episodes_this_iter": 38, "episode_len_mean": 742.73, "iterations_since_restore": 176, "time_since_restore": 15194.502130270004, "time_this_iter_s": 87.24691200256348, "pid": 63739, "episode_reward_mean": 1027.1100856957935, "info": {"grad_time_ms": 34606.169, "update_time_ms": 10.095, "num_steps_trained": 23760000, "num_steps_sampled": 23760000, "load_time_ms": 7.926, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3573102056980133, "total_loss": 10.798630714416504, "policy_loss": -0.009600040502846241, "entropy": 1.783746361732483, "kl": 0.014814123511314392, "cur_lr": 0.0005000000237487257, "vf_loss": 10.803231239318848}, "sample_time_ms": 51192.575}, "timesteps_total": 23760000, "hostname": "flow-main", "episode_reward_max": 1315.8609627619408, "policy_reward_mean": {}, "training_iteration": 176, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-00-12", "timestamp": 1558040412, "timesteps_since_restore": 23895000, "episodes_total": 6548, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.948601617355621, "cost1_min": 65.33601267454047, "system_level_velocity_mean": 8.081328816953604, "cost1_mean": 211.4844256406282, "cost2_mean": -23.630985861553526, "cost1_max": 265.3090272693697, "cost2_max": -2.7037394133417116, "system_level_velocity_max": 11.472627822952195, "cost2_min": -53.7328369338758}, "done": false, "time_total_s": 15279.242091655731, "episode_reward_min": 299.53246477320937, "episodes_this_iter": 36, "episode_len_mean": 741.35, "iterations_since_restore": 177, "time_since_restore": 15279.242091655731, "time_this_iter_s": 84.73996138572693, "pid": 63739, "episode_reward_mean": 1025.5292457679136, "info": {"grad_time_ms": 34548.851, "update_time_ms": 10.086, "num_steps_trained": 23895000, "num_steps_sampled": 23895000, "load_time_ms": 7.929, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.30058565735816956, "total_loss": 10.228075981140137, "policy_loss": -0.009256765246391296, "entropy": 1.7815830707550049, "kl": 0.01571802608668804, "cur_lr": 0.0005000000237487257, "vf_loss": 10.23202896118164}, "sample_time_ms": 51140.335}, "timesteps_total": 23895000, "hostname": "flow-main", "episode_reward_max": 1315.8609627619408, "policy_reward_mean": {}, "training_iteration": 177, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-01-37", "timestamp": 1558040497, "timesteps_since_restore": 24030000, "episodes_total": 6584, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2710>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2d68>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.985704950791639, "cost1_min": 73.53835272731885, "system_level_velocity_mean": 8.061925211537986, "cost1_mean": 211.5567544690226, "cost2_mean": -23.11720369666828, "cost1_max": 253.5132772951219, "cost2_max": -2.9633421725618363, "system_level_velocity_max": 10.585177193628725, "cost2_min": -53.7328369338758}, "done": false, "time_total_s": 15364.4779484272, "episode_reward_min": 351.2744785656854, "episodes_this_iter": 36, "episode_len_mean": 743.91, "iterations_since_restore": 178, "time_since_restore": 15364.4779484272, "time_this_iter_s": 85.23585677146912, "pid": 63739, "episode_reward_mean": 1026.626432397749, "info": {"grad_time_ms": 34584.808, "update_time_ms": 10.087, "num_steps_trained": 24030000, "num_steps_sampled": 24030000, "load_time_ms": 7.977, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.28634846210479736, "total_loss": 9.985748291015625, "policy_loss": -0.010139240883290768, "entropy": 1.7567460536956787, "kl": 0.015354344621300697, "cur_lr": 0.0005000000237487257, "vf_loss": 9.990705490112305}, "sample_time_ms": 51069.376}, "timesteps_total": 24030000, "hostname": "flow-main", "episode_reward_max": 1261.5384384088547, "policy_reward_mean": {}, "training_iteration": 178, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-03-01", "timestamp": 1558040581, "timesteps_since_restore": 24165000, "episodes_total": 6620, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04470>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.605923157509122, "cost1_min": 73.53835272731885, "system_level_velocity_mean": 8.053086773556116, "cost1_mean": 211.01137324426782, "cost2_mean": -22.743909277193534, "cost1_max": 251.64943539113943, "cost2_max": -2.378428121931608, "system_level_velocity_max": 10.227317481287386, "cost2_min": -49.88947108214931}, "done": false, "time_total_s": 15448.868059396744, "episode_reward_min": 351.2744785656854, "episodes_this_iter": 36, "episode_len_mean": 745.29, "iterations_since_restore": 179, "time_since_restore": 15448.868059396744, "time_this_iter_s": 84.39011096954346, "pid": 63739, "episode_reward_mean": 1024.8613448986741, "info": {"grad_time_ms": 34548.991, "update_time_ms": 10.203, "num_steps_trained": 24165000, "num_steps_sampled": 24165000, "load_time_ms": 7.823, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.2702779769897461, "total_loss": 10.182967185974121, "policy_loss": -0.01006222516298294, "entropy": 1.7812360525131226, "kl": 0.016009926795959473, "cur_lr": 0.0005000000237487257, "vf_loss": 10.187625885009766}, "sample_time_ms": 50951.275}, "timesteps_total": 24165000, "hostname": "flow-main", "episode_reward_max": 1214.313667382882, "policy_reward_mean": {}, "training_iteration": 179, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-04-28", "timestamp": 1558040668, "timesteps_since_restore": 24300000, "episodes_total": 6658, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d29e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2a20>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.7224769716386685, "cost1_min": 54.40311956879215, "system_level_velocity_mean": 8.021093994168417, "cost1_mean": 208.49405418699055, "cost2_mean": -22.431668020530662, "cost1_max": 246.21869192112968, "cost2_max": -2.378428121931608, "system_level_velocity_max": 10.227317481287386, "cost2_min": -53.92684443920844}, "done": false, "time_total_s": 15535.075364112854, "episode_reward_min": 266.6526694279315, "episodes_this_iter": 38, "episode_len_mean": 736.39, "iterations_since_restore": 180, "time_since_restore": 15535.075364112854, "time_this_iter_s": 86.20730471611023, "pid": 63739, "episode_reward_mean": 1012.8113018070627, "info": {"grad_time_ms": 34591.523, "update_time_ms": 10.221, "num_steps_trained": 24300000, "num_steps_sampled": 24300000, "load_time_ms": 7.696, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.29237571358680725, "total_loss": 10.538605690002441, "policy_loss": -0.010939382947981358, "entropy": 1.8135167360305786, "kl": 0.016331594437360764, "cur_lr": 0.0005000000237487257, "vf_loss": 10.54403305053711}, "sample_time_ms": 50897.194}, "timesteps_total": 24300000, "hostname": "flow-main", "episode_reward_max": 1213.8600165021787, "policy_reward_mean": {}, "training_iteration": 180, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-05-53", "timestamp": 1558040753, "timesteps_since_restore": 24435000, "episodes_total": 6695, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d23c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2d68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2470>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.7224769716386685, "cost1_min": 54.40311956879215, "system_level_velocity_mean": 8.054743120171358, "cost1_mean": 207.54450040400124, "cost2_mean": -21.50744441299123, "cost1_max": 283.86635886209, "cost2_max": -2.378428121931608, "system_level_velocity_max": 12.873824424771456, "cost2_min": -53.92684443920844}, "done": false, "time_total_s": 15620.82117342949, "episode_reward_min": 266.6526694279315, "episodes_this_iter": 37, "episode_len_mean": 731.88, "iterations_since_restore": 181, "time_since_restore": 15620.82117342949, "time_this_iter_s": 85.74580931663513, "pid": 63739, "episode_reward_mean": 1009.0028675127953, "info": {"grad_time_ms": 34681.198, "update_time_ms": 10.377, "num_steps_trained": 24435000, "num_steps_sampled": 24435000, "load_time_ms": 7.733, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3516744077205658, "total_loss": 10.217204093933105, "policy_loss": -0.01018568966537714, "entropy": 1.772926926612854, "kl": 0.015958301723003387, "cur_lr": 0.0005000000237487257, "vf_loss": 10.222003936767578}, "sample_time_ms": 50882.443}, "timesteps_total": 24435000, "hostname": "flow-main", "episode_reward_max": 1402.8368688719734, "policy_reward_mean": {}, "training_iteration": 181, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-07-19", "timestamp": 1558040839, "timesteps_since_restore": 24570000, "episodes_total": 6731, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d22e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2be0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2240>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.7224769716386685, "cost1_min": 54.40311956879215, "system_level_velocity_mean": 8.003955574862742, "cost1_mean": 206.6052148625548, "cost2_mean": -22.24580775015304, "cost1_max": 283.86635886209, "cost2_max": -2.486452965765146, "system_level_velocity_max": 12.873824424771456, "cost2_min": -61.2408013031864}, "done": false, "time_total_s": 15705.958817958832, "episode_reward_min": 266.6526694279315, "episodes_this_iter": 36, "episode_len_mean": 731.88, "iterations_since_restore": 182, "time_since_restore": 15705.958817958832, "time_this_iter_s": 85.13764452934265, "pid": 63739, "episode_reward_mean": 1003.3899540132335, "info": {"grad_time_ms": 34665.942, "update_time_ms": 10.211, "num_steps_trained": 24570000, "num_steps_sampled": 24570000, "load_time_ms": 7.752, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3283177316188812, "total_loss": 10.088772773742676, "policy_loss": -0.010872996412217617, "entropy": 1.7888551950454712, "kl": 0.015792187303304672, "cur_lr": 0.0005000000237487257, "vf_loss": 10.094315528869629}, "sample_time_ms": 50883.726}, "timesteps_total": 24570000, "hostname": "flow-main", "episode_reward_max": 1402.8368688719734, "policy_reward_mean": {}, "training_iteration": 182, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-08-50", "timestamp": 1558040930, "timesteps_since_restore": 24705000, "episodes_total": 6768, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2a20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d29e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.02619208271437, "cost1_min": 70.19149928615141, "system_level_velocity_mean": 8.087716016663276, "cost1_mean": 209.46124770398742, "cost2_mean": -21.071228886890854, "cost1_max": 283.86635886209, "cost2_max": -3.137102741907468, "system_level_velocity_max": 12.873824424771456, "cost2_min": -61.2408013031864}, "done": false, "time_total_s": 15797.569699764252, "episode_reward_min": 326.6966317230192, "episodes_this_iter": 37, "episode_len_mean": 741.27, "iterations_since_restore": 183, "time_since_restore": 15797.569699764252, "time_this_iter_s": 91.61088180541992, "pid": 63739, "episode_reward_mean": 1019.2388347625462, "info": {"grad_time_ms": 34784.281, "update_time_ms": 10.573, "num_steps_trained": 24705000, "num_steps_sampled": 24705000, "load_time_ms": 7.849, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3320602476596832, "total_loss": 10.670877456665039, "policy_loss": -0.01025488693267107, "entropy": 1.7471094131469727, "kl": 0.015367680229246616, "cur_lr": 0.0005000000237487257, "vf_loss": 10.675945281982422}, "sample_time_ms": 51287.476}, "timesteps_total": 24705000, "hostname": "flow-main", "episode_reward_max": 1402.8368688719734, "policy_reward_mean": {}, "training_iteration": 183, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-10-17", "timestamp": 1558041017, "timesteps_since_restore": 24840000, "episodes_total": 6804, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d23c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d29b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2278>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.02619208271437, "cost1_min": 73.41786938171612, "system_level_velocity_mean": 8.20774580142472, "cost1_mean": 213.04374753033852, "cost2_mean": -19.68701768601624, "cost1_max": 261.61541109504253, "cost2_max": -3.6524458936700746, "system_level_velocity_max": 11.307699114461405, "cost2_min": -47.99642759100191}, "done": false, "time_total_s": 15883.934981822968, "episode_reward_min": 326.6966317230192, "episodes_this_iter": 36, "episode_len_mean": 743.48, "iterations_since_restore": 184, "time_since_restore": 15883.934981822968, "time_this_iter_s": 86.36528205871582, "pid": 63739, "episode_reward_mean": 1038.7820071747262, "info": {"grad_time_ms": 34884.638, "update_time_ms": 10.645, "num_steps_trained": 24840000, "num_steps_sampled": 24840000, "load_time_ms": 7.799, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.2781837284564972, "total_loss": 9.996284484863281, "policy_loss": -0.00987765658646822, "entropy": 1.7624205350875854, "kl": 0.015491264872252941, "cur_lr": 0.0005000000237487257, "vf_loss": 10.000933647155762}, "sample_time_ms": 51339.849}, "timesteps_total": 24840000, "hostname": "flow-main", "episode_reward_max": 1298.3787293186417, "policy_reward_mean": {}, "training_iteration": 184, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-11-43", "timestamp": 1558041103, "timesteps_since_restore": 24975000, "episodes_total": 6840, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c85c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8240>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.02619208271437, "cost1_min": 73.41786938171612, "system_level_velocity_mean": 8.149778140365955, "cost1_mean": 211.72398854309563, "cost2_mean": -18.925507621529096, "cost1_max": 261.61541109504253, "cost2_max": -2.5309466184627167, "system_level_velocity_max": 11.219125858974387, "cost2_min": -42.179776997236615}, "done": false, "time_total_s": 15970.219930171967, "episode_reward_min": 326.6966317230192, "episodes_this_iter": 36, "episode_len_mean": 743.48, "iterations_since_restore": 185, "time_since_restore": 15970.219930171967, "time_this_iter_s": 86.28494834899902, "pid": 63739, "episode_reward_mean": 1033.2970902844163, "info": {"grad_time_ms": 34691.46, "update_time_ms": 10.834, "num_steps_trained": 24975000, "num_steps_sampled": 24975000, "load_time_ms": 7.755, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.266053706407547, "total_loss": 10.261993408203125, "policy_loss": -0.009326314553618431, "entropy": 1.7821838855743408, "kl": 0.01542353443801403, "cur_lr": 0.0005000000237487257, "vf_loss": 10.266114234924316}, "sample_time_ms": 51348.039}, "timesteps_total": 24975000, "hostname": "flow-main", "episode_reward_max": 1298.3787293186417, "policy_reward_mean": {}, "training_iteration": 185, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-13-08", "timestamp": 1558041188, "timesteps_since_restore": 25110000, "episodes_total": 6876, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d29e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.485583454050417, "cost1_min": 146.12687876508477, "system_level_velocity_mean": 8.137806074003153, "cost1_mean": 211.43931972414282, "cost2_mean": -18.620533460206076, "cost1_max": 261.61541109504253, "cost2_max": -1.4558492328574257, "system_level_velocity_max": 11.219125858974387, "cost2_min": -39.691665612782515}, "done": false, "time_total_s": 16055.48914718628, "episode_reward_min": 702.1566630545173, "episodes_this_iter": 36, "episode_len_mean": 747.47, "iterations_since_restore": 186, "time_since_restore": 16055.48914718628, "time_this_iter_s": 85.26921701431274, "pid": 63739, "episode_reward_mean": 1032.0138244972418, "info": {"grad_time_ms": 34541.824, "update_time_ms": 10.831, "num_steps_trained": 25110000, "num_steps_sampled": 25110000, "load_time_ms": 7.64, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.27521151304244995, "total_loss": 10.058837890625, "policy_loss": -0.01055829506367445, "entropy": 1.800105094909668, "kl": 0.015537175349891186, "cur_lr": 0.0005000000237487257, "vf_loss": 10.064152717590332}, "sample_time_ms": 51297.623}, "timesteps_total": 25110000, "hostname": "flow-main", "episode_reward_max": 1298.3787293186417, "policy_reward_mean": {}, "training_iteration": 186, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-14-37", "timestamp": 1558041277, "timesteps_since_restore": 25245000, "episodes_total": 6913, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d28d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2780>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.11114529949528, "cost1_min": 84.35950280418356, "system_level_velocity_mean": 8.022584301874412, "cost1_mean": 208.02860650280527, "cost2_mean": -19.673955195130088, "cost1_max": 253.35804391706836, "cost2_max": -1.248892869634499, "system_level_velocity_max": 10.734825681636309, "cost2_min": -44.14658559362731}, "done": false, "time_total_s": 16143.972777366638, "episode_reward_min": 392.9293002832793, "episodes_this_iter": 37, "episode_len_mean": 743.7, "iterations_since_restore": 187, "time_since_restore": 16143.972777366638, "time_this_iter_s": 88.48363018035889, "pid": 63739, "episode_reward_mean": 1013.986990315416, "info": {"grad_time_ms": 34668.679, "update_time_ms": 10.76, "num_steps_trained": 25245000, "num_steps_sampled": 25245000, "load_time_ms": 7.723, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.2994614243507385, "total_loss": 10.674914360046387, "policy_loss": -0.009954635053873062, "entropy": 1.7929396629333496, "kl": 0.01598101481795311, "cur_lr": 0.0005000000237487257, "vf_loss": 10.679474830627441}, "sample_time_ms": 51543.876}, "timesteps_total": 25245000, "hostname": "flow-main", "episode_reward_max": 1263.235028486207, "policy_reward_mean": {}, "training_iteration": 187, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-16-03", "timestamp": 1558041363, "timesteps_since_restore": 25380000, "episodes_total": 6950, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d22e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.606088298387335, "cost1_min": 61.90094913332394, "system_level_velocity_mean": 8.0019120260822, "cost1_mean": 207.54020689967547, "cost2_mean": -20.275984414921723, "cost1_max": 241.46125713732306, "cost2_max": -1.248892869634499, "system_level_velocity_max": 9.916690576720514, "cost2_min": -50.715900502667}, "done": false, "time_total_s": 16230.09550857544, "episode_reward_min": 305.0902154849245, "episodes_this_iter": 37, "episode_len_mean": 739.85, "iterations_since_restore": 188, "time_since_restore": 16230.09550857544, "time_this_iter_s": 86.12273120880127, "pid": 63739, "episode_reward_mean": 1010.8029828194697, "info": {"grad_time_ms": 34693.871, "update_time_ms": 10.738, "num_steps_trained": 25380000, "num_steps_sampled": 25380000, "load_time_ms": 7.748, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3339207172393799, "total_loss": 10.337810516357422, "policy_loss": -0.009288134053349495, "entropy": 1.81777822971344, "kl": 0.015003466047346592, "cur_lr": 0.0005000000237487257, "vf_loss": 10.342036247253418}, "sample_time_ms": 51609.511}, "timesteps_total": 25380000, "hostname": "flow-main", "episode_reward_max": 1204.9899291015024, "policy_reward_mean": {}, "training_iteration": 188, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-17-30", "timestamp": 1558041450, "timesteps_since_restore": 25515000, "episodes_total": 6987, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2b38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d26a0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.606088298387335, "cost1_min": 61.09817767121429, "system_level_velocity_mean": 8.06500017945693, "cost1_mean": 206.27856581844338, "cost2_mean": -18.851660208102704, "cost1_max": 247.8188691736721, "cost2_max": -1.5442377234094258, "system_level_velocity_max": 10.538994318001743, "cost2_min": -50.715900502667}, "done": false, "time_total_s": 16317.024051904678, "episode_reward_min": 281.5734840140276, "episodes_this_iter": 37, "episode_len_mean": 730.82, "iterations_since_restore": 189, "time_since_restore": 16317.024051904678, "time_this_iter_s": 86.92854332923889, "pid": 63739, "episode_reward_mean": 1006.4850110201622, "info": {"grad_time_ms": 34852.677, "update_time_ms": 10.593, "num_steps_trained": 25515000, "num_steps_sampled": 25515000, "load_time_ms": 7.759, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.35287612676620483, "total_loss": 10.396425247192383, "policy_loss": -0.008150641806423664, "entropy": 1.7762420177459717, "kl": 0.016012713313102722, "cur_lr": 0.0005000000237487257, "vf_loss": 10.399171829223633}, "sample_time_ms": 51704.047}, "timesteps_total": 25515000, "hostname": "flow-main", "episode_reward_max": 1226.989484900473, "policy_reward_mean": {}, "training_iteration": 189, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-18-56", "timestamp": 1558041536, "timesteps_since_restore": 25650000, "episodes_total": 7023, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc518>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.606088298387335, "cost1_min": 61.09817767121429, "system_level_velocity_mean": 8.068784682910874, "cost1_mean": 207.54122045984528, "cost2_mean": -17.56869177699424, "cost1_max": 247.8188691736721, "cost2_max": -0.733607907534981, "system_level_velocity_max": 10.538994318001743, "cost2_min": -50.715900502667}, "done": false, "time_total_s": 16402.33041858673, "episode_reward_min": 281.5734840140276, "episodes_this_iter": 36, "episode_len_mean": 737.12, "iterations_since_restore": 190, "time_since_restore": 16402.33041858673, "time_this_iter_s": 85.30636668205261, "pid": 63739, "episode_reward_mean": 1014.2175302067494, "info": {"grad_time_ms": 34838.105, "update_time_ms": 10.937, "num_steps_trained": 25650000, "num_steps_sampled": 25650000, "load_time_ms": 7.723, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.2961518466472626, "total_loss": 10.632706642150879, "policy_loss": -0.009786861017346382, "entropy": 1.8046448230743408, "kl": 0.016065316274762154, "cur_lr": 0.0005000000237487257, "vf_loss": 10.63707160949707}, "sample_time_ms": 51624.87}, "timesteps_total": 25650000, "hostname": "flow-main", "episode_reward_max": 1226.989484900473, "policy_reward_mean": {}, "training_iteration": 190, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-20-22", "timestamp": 1558041622, "timesteps_since_restore": 25785000, "episodes_total": 7059, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8240>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.270540823686335, "cost1_min": 61.09817767121429, "system_level_velocity_mean": 8.08358542174476, "cost1_mean": 208.3519387386245, "cost2_mean": -18.551687705175723, "cost1_max": 247.8188691736721, "cost2_max": -0.733607907534981, "system_level_velocity_max": 10.538994318001743, "cost2_min": -47.26978012478132}, "done": false, "time_total_s": 16488.435829877853, "episode_reward_min": 281.5734840140276, "episodes_this_iter": 36, "episode_len_mean": 740.97, "iterations_since_restore": 191, "time_since_restore": 16488.435829877853, "time_this_iter_s": 86.10541129112244, "pid": 63739, "episode_reward_mean": 1017.2319063170527, "info": {"grad_time_ms": 34832.691, "update_time_ms": 11.035, "num_steps_trained": 25785000, "num_steps_sampled": 25785000, "load_time_ms": 7.604, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.2915986180305481, "total_loss": 10.505244255065918, "policy_loss": -0.010483484715223312, "entropy": 1.8262146711349487, "kl": 0.015843257308006287, "cur_lr": 0.0005000000237487257, "vf_loss": 10.510380744934082}, "sample_time_ms": 51666.241}, "timesteps_total": 25785000, "hostname": "flow-main", "episode_reward_max": 1226.989484900473, "policy_reward_mean": {}, "training_iteration": 191, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-21-47", "timestamp": 1558041707, "timesteps_since_restore": 25920000, "episodes_total": 7095, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc668>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.950635458835953, "cost1_min": 160.4275207640025, "system_level_velocity_mean": 8.09237902994522, "cost1_mean": 211.96113916700523, "cost2_mean": -20.058882584778004, "cost1_max": 248.17621191800174, "cost2_max": -2.05386386519175, "system_level_velocity_max": 10.391022444850673, "cost2_min": -47.26978012478132}, "done": false, "time_total_s": 16574.02855372429, "episode_reward_min": 779.6768234191306, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 192, "time_since_restore": 16574.02855372429, "time_this_iter_s": 85.59272384643555, "pid": 63739, "episode_reward_mean": 1033.303699154234, "info": {"grad_time_ms": 34907.44, "update_time_ms": 11.113, "num_steps_trained": 25920000, "num_steps_sampled": 25920000, "load_time_ms": 7.52, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.27321213483810425, "total_loss": 10.39670467376709, "policy_loss": -0.009745814837515354, "entropy": 1.8033297061920166, "kl": 0.015408337116241455, "cur_lr": 0.0005000000237487257, "vf_loss": 10.401249885559082}, "sample_time_ms": 51630.302}, "timesteps_total": 25920000, "hostname": "flow-main", "episode_reward_max": 1229.6293972102278, "policy_reward_mean": {}, "training_iteration": 192, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-23-11", "timestamp": 1558041791, "timesteps_since_restore": 26055000, "episodes_total": 7131, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc518>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.950635458835953, "cost1_min": 160.4275207640025, "system_level_velocity_mean": 8.137551444183238, "cost1_mean": 213.41130944243866, "cost2_mean": -22.16515862729925, "cost1_max": 248.17621191800174, "cost2_max": -0.6847827096618305, "system_level_velocity_max": 10.391022444850673, "cost2_min": -47.26978012478132}, "done": false, "time_total_s": 16657.65633893013, "episode_reward_min": 779.6768234191306, "episodes_this_iter": 36, "episode_len_mean": 749.29, "iterations_since_restore": 193, "time_since_restore": 16657.65633893013, "time_this_iter_s": 83.62778520584106, "pid": 63739, "episode_reward_mean": 1037.3656197051357, "info": {"grad_time_ms": 34723.204, "update_time_ms": 10.755, "num_steps_trained": 26055000, "num_steps_sampled": 26055000, "load_time_ms": 7.429, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.29281213879585266, "total_loss": 10.552372932434082, "policy_loss": -0.009447721764445305, "entropy": 1.8438512086868286, "kl": 0.015695026144385338, "cur_lr": 0.0005000000237487257, "vf_loss": 10.556523323059082}, "sample_time_ms": 51018.281}, "timesteps_total": 26055000, "hostname": "flow-main", "episode_reward_max": 1229.6293972102278, "policy_reward_mean": {}, "training_iteration": 193, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-24-38", "timestamp": 1558041878, "timesteps_since_restore": 26190000, "episodes_total": 7167, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc978>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 5.950635458835953, "cost1_min": 160.4275207640025, "system_level_velocity_mean": 8.138782167318805, "cost1_mean": 213.6229804404154, "cost2_mean": -21.44174550773521, "cost1_max": 248.17621191800174, "cost2_max": -0.6847827096618305, "system_level_velocity_max": 10.391022444850673, "cost2_min": -52.11483466279659}, "done": false, "time_total_s": 16744.22022676468, "episode_reward_min": 779.6768234191306, "episodes_this_iter": 36, "episode_len_mean": 749.29, "iterations_since_restore": 194, "time_since_restore": 16744.22022676468, "time_this_iter_s": 86.56388783454895, "pid": 63739, "episode_reward_mean": 1038.9463782378639, "info": {"grad_time_ms": 34804.034, "update_time_ms": 10.647, "num_steps_trained": 26190000, "num_steps_sampled": 26190000, "load_time_ms": 7.315, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.30727124214172363, "total_loss": 10.110282897949219, "policy_loss": -0.009947746992111206, "entropy": 1.8012094497680664, "kl": 0.01570829749107361, "cur_lr": 0.0005000000237487257, "vf_loss": 10.114928245544434}, "sample_time_ms": 50956.627}, "timesteps_total": 26190000, "hostname": "flow-main", "episode_reward_max": 1229.6293972102278, "policy_reward_mean": {}, "training_iteration": 194, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-26-03", "timestamp": 1558041963, "timesteps_since_restore": 26325000, "episodes_total": 7203, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccef0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.447107776364901, "cost1_min": 168.58467244455034, "system_level_velocity_mean": 8.197563057678526, "cost1_mean": 213.94199866979181, "cost2_mean": -21.32219309579736, "cost1_max": 262.1194142637984, "cost2_max": -1.7796935905651319, "system_level_velocity_max": 11.287517024155692, "cost2_min": -58.73338619787105}, "done": false, "time_total_s": 16829.13742995262, "episode_reward_min": 790.0821194872915, "episodes_this_iter": 36, "episode_len_mean": 749.29, "iterations_since_restore": 195, "time_since_restore": 16829.13742995262, "time_this_iter_s": 84.9172031879425, "pid": 63739, "episode_reward_mean": 1040.8357277019816, "info": {"grad_time_ms": 34701.822, "update_time_ms": 10.383, "num_steps_trained": 26325000, "num_steps_sampled": 26325000, "load_time_ms": 7.162, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.2942640483379364, "total_loss": 10.545584678649902, "policy_loss": -0.008880283683538437, "entropy": 1.795003056526184, "kl": 0.015627700835466385, "cur_lr": 0.0005000000237487257, "vf_loss": 10.549190521240234}, "sample_time_ms": 50913.779}, "timesteps_total": 26325000, "hostname": "flow-main", "episode_reward_max": 1301.7383815852488, "policy_reward_mean": {}, "training_iteration": 195, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-27-28", "timestamp": 1558042048, "timesteps_since_restore": 26460000, "episodes_total": 7239, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc668>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.447107776364901, "cost1_min": 168.58467244455034, "system_level_velocity_mean": 8.173021400268333, "cost1_mean": 213.07995903482205, "cost2_mean": -21.204173480384544, "cost1_max": 264.9131955718933, "cost2_max": -2.0918305831350077, "system_level_velocity_max": 11.287517024155692, "cost2_min": -58.73338619787105}, "done": false, "time_total_s": 16914.787753343582, "episode_reward_min": 790.0821194872915, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 196, "time_since_restore": 16914.787753343582, "time_this_iter_s": 85.6503233909607, "pid": 63739, "episode_reward_mean": 1037.0632454958086, "info": {"grad_time_ms": 34724.012, "update_time_ms": 10.418, "num_steps_trained": 26460000, "num_steps_sampled": 26460000, "load_time_ms": 7.25, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.2720079720020294, "total_loss": 10.73900318145752, "policy_loss": -0.009029259905219078, "entropy": 1.8596899509429932, "kl": 0.015443976037204266, "cur_lr": 0.0005000000237487257, "vf_loss": 10.742820739746094}, "sample_time_ms": 50931.014}, "timesteps_total": 26460000, "hostname": "flow-main", "episode_reward_max": 1309.8747254655777, "policy_reward_mean": {}, "training_iteration": 196, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-28-52", "timestamp": 1558042132, "timesteps_since_restore": 26595000, "episodes_total": 7276, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d7828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.925623756727292, "cost1_min": 77.64790140791077, "system_level_velocity_mean": 8.07088159626365, "cost1_mean": 210.55930583078927, "cost2_mean": -22.23779603567455, "cost1_max": 264.9131955718933, "cost2_max": -2.573550048837551, "system_level_velocity_max": 11.287517024155692, "cost2_min": -52.04937503070751}, "done": false, "time_total_s": 16998.895257472992, "episode_reward_min": 380.734579962794, "episodes_this_iter": 37, "episode_len_mean": 743.01, "iterations_since_restore": 197, "time_since_restore": 16998.895257472992, "time_this_iter_s": 84.10750412940979, "pid": 63739, "episode_reward_mean": 1023.0781851473513, "info": {"grad_time_ms": 34562.916, "update_time_ms": 10.488, "num_steps_trained": 26595000, "num_steps_sampled": 26595000, "load_time_ms": 7.247, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3009412884712219, "total_loss": 10.900203704833984, "policy_loss": -0.01121668890118599, "entropy": 1.8885451555252075, "kl": 0.017046350985765457, "cur_lr": 0.0005000000237487257, "vf_loss": 10.905667304992676}, "sample_time_ms": 50655.476}, "timesteps_total": 26595000, "hostname": "flow-main", "episode_reward_max": 1309.8747254655777, "policy_reward_mean": {}, "training_iteration": 197, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-30-18", "timestamp": 1558042218, "timesteps_since_restore": 26730000, "episodes_total": 7312, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c43c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4860>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.925623756727292, "cost1_min": 77.64790140791077, "system_level_velocity_mean": 7.978315368495344, "cost1_mean": 208.74275980890874, "cost2_mean": -23.617567879346648, "cost1_max": 259.90626812665926, "cost2_max": -1.9622321290207705, "system_level_velocity_max": 11.219864902192503, "cost2_min": -52.04937503070751}, "done": false, "time_total_s": 17084.574117183685, "episode_reward_min": 380.734579962794, "episodes_this_iter": 36, "episode_len_mean": 743.01, "iterations_since_restore": 198, "time_since_restore": 17084.574117183685, "time_this_iter_s": 85.67885971069336, "pid": 63739, "episode_reward_mean": 1012.2523547205062, "info": {"grad_time_ms": 34493.891, "update_time_ms": 10.615, "num_steps_trained": 26730000, "num_steps_sampled": 26730000, "load_time_ms": 7.099, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.29781845211982727, "total_loss": 10.0532865524292, "policy_loss": -0.009394314140081406, "entropy": 1.8283088207244873, "kl": 0.015955504029989243, "cur_lr": 0.0005000000237487257, "vf_loss": 10.057295799255371}, "sample_time_ms": 50685.31}, "timesteps_total": 26730000, "hostname": "flow-main", "episode_reward_max": 1296.5879924397657, "policy_reward_mean": {}, "training_iteration": 198, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-31-44", "timestamp": 1558042304, "timesteps_since_restore": 26865000, "episodes_total": 7348, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 4.925623756727292, "cost1_min": 77.64790140791077, "system_level_velocity_mean": 8.039293529348923, "cost1_mean": 209.03835979214264, "cost2_mean": -22.72273332424179, "cost1_max": 259.90626812665926, "cost2_max": -1.8925685767181117, "system_level_velocity_max": 11.219864902192503, "cost2_min": -51.93263242875099}, "done": false, "time_total_s": 17170.120589733124, "episode_reward_min": 380.734579962794, "episodes_this_iter": 36, "episode_len_mean": 742.64, "iterations_since_restore": 199, "time_since_restore": 17170.120589733124, "time_this_iter_s": 85.54647254943848, "pid": 63739, "episode_reward_mean": 1014.8629948117938, "info": {"grad_time_ms": 34464.541, "update_time_ms": 10.847, "num_steps_trained": 26865000, "num_steps_sampled": 26865000, "load_time_ms": 7.254, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.2982069253921509, "total_loss": 10.332481384277344, "policy_loss": -0.009750369936227798, "entropy": 1.843055248260498, "kl": 0.0155186103656888, "cur_lr": 0.0005000000237487257, "vf_loss": 10.336995124816895}, "sample_time_ms": 50572.042}, "timesteps_total": 26865000, "hostname": "flow-main", "episode_reward_max": 1296.5879924397657, "policy_reward_mean": {}, "training_iteration": 199, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
{"date": "2019-05-16_21-33-07", "timestamp": 1558042387, "timesteps_since_restore": 27000000, "episodes_total": 7387, "config": {"monitor": false, "sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:5.0", "observation_filter": "MeanStdFilter", "lr_schedule": null, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "num_cpus_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "synchronize_filters": true, "use_gae": true, "simple_optimizer": false, "vf_loss_coeff": 1.0, "num_cpus_for_driver": 1, "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "lstm_cell_size": 256}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "clip_param": 0.3, "entropy_coeff": 0.0, "log_level": "INFO", "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26047a518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9deda0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de3c8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "1074b7b6dd774bab8adedb5e0805e0fd", "custom_metrics": {"system_level_velocity_min": 6.163223746829276, "cost1_min": 45.92396996835045, "system_level_velocity_mean": 8.043632864688913, "cost1_mean": 208.1541806199817, "cost2_mean": -22.06865350429431, "cost1_max": 259.90626812665926, "cost2_max": -1.8925685767181117, "system_level_velocity_max": 11.219864902192503, "cost2_min": -68.37977111079869}, "done": true, "time_total_s": 17252.893741369247, "episode_reward_min": 209.0730454397844, "episodes_this_iter": 39, "episode_len_mean": 740.4, "iterations_since_restore": 200, "time_since_restore": 17252.893741369247, "time_this_iter_s": 82.77315163612366, "pid": 63739, "episode_reward_mean": 1011.8330029933063, "info": {"grad_time_ms": 34283.607, "update_time_ms": 10.694, "num_steps_trained": 27000000, "num_steps_sampled": 27000000, "load_time_ms": 7.289, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3298308849334717, "total_loss": 11.635354995727539, "policy_loss": -0.009519924409687519, "entropy": 1.8877147436141968, "kl": 0.015758786350488663, "cur_lr": 0.0005000000237487257, "vf_loss": 11.639555931091309}, "sample_time_ms": 50504.529}, "timesteps_total": 27000000, "hostname": "flow-main", "episode_reward_max": 1296.5879924397657, "policy_reward_mean": {}, "training_iteration": 200, "node_ip": "10.138.0.2", "num_metric_batches_dropped": 0, "timesteps_this_iter": 135000}
