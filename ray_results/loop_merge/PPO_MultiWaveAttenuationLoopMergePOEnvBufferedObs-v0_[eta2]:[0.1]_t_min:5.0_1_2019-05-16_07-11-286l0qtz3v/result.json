{"timestamp": 1557990829, "timesteps_since_restore": 135000, "episodes_total": 101, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd260497d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd260497cf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd260497d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.2105449418170335, "cost1_min": 5.894479865963456, "system_level_velocity_mean": 3.2651606613620676, "cost1_mean": 18.718534731472207, "cost2_mean": -2.035224513312583, "cost1_max": 50.76136129714837, "cost2_max": 0.0, "system_level_velocity_max": 6.01195794382164, "cost2_min": -31.960504877449647}, "done": false, "time_total_s": 91.15165305137634, "timesteps_this_iter": 135000, "episode_reward_min": 29.472399329817254, "episodes_this_iter": 101, "episode_len_mean": 208.43564356435644, "iterations_since_restore": 1, "time_since_restore": 91.15165305137634, "time_this_iter_s": 91.15165305137634, "pid": 7871, "episode_reward_mean": 93.00422214927433, "info": {"grad_time_ms": 35043.093, "update_time_ms": 714.712, "num_steps_trained": 135000, "num_steps_sampled": 135000, "load_time_ms": 67.18, "default": {"cur_kl_coeff": 0.20000003278255463, "entropy": 1.415658712387085, "total_loss": 0.8894560933113098, "vf_loss": 0.8907284736633301, "vf_explained_var": 0.6016709208488464, "kl": 0.003944119904190302, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020612773951143026}, "sample_time_ms": 55036.812}, "timesteps_total": 135000, "num_metric_batches_dropped": 0, "episode_reward_max": 252.38618787097107, "date": "2019-05-16_07-13-49", "training_iteration": 1, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557990916, "timesteps_since_restore": 270000, "episodes_total": 159, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc210f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc210b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.2629696635386944, "cost1_min": 5.894479865963456, "system_level_velocity_mean": 3.1245668836206613, "cost1_mean": 33.918911913795455, "cost2_mean": -5.334857994687602, "cost1_max": 90.96706863163914, "cost2_max": 0.0, "system_level_velocity_max": 6.281713795724141, "cost2_min": -29.964931979542058}, "done": false, "time_total_s": 177.75262355804443, "timesteps_this_iter": 135000, "episode_reward_min": 29.472399329817254, "episodes_this_iter": 58, "episode_len_mean": 353.84, "iterations_since_restore": 2, "time_since_restore": 177.75262355804443, "time_this_iter_s": 86.60097050666809, "pid": 7871, "episode_reward_mean": 167.35370604272768, "info": {"grad_time_ms": 34158.254, "update_time_ms": 361.593, "num_steps_trained": 270000, "num_steps_sampled": 270000, "load_time_ms": 42.797, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.4123774766921997, "total_loss": 1.575249433517456, "vf_loss": 1.5780707597732544, "vf_explained_var": 0.5182972550392151, "kl": 0.006579666864126921, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00347937666811049}, "sample_time_ms": 54063.275}, "timesteps_total": 270000, "num_metric_batches_dropped": 0, "episode_reward_max": 451.174533489098, "date": "2019-05-16_07-15-16", "training_iteration": 2, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557990999, "timesteps_since_restore": 405000, "episodes_total": 204, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc245f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc245c0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.674052890514229, "cost1_min": 7.205092403734991, "system_level_velocity_mean": 3.4439635902755827, "cost1_mean": 61.59609058934891, "cost2_mean": -12.63234186060847, "cost1_max": 168.84479299848124, "cost2_max": 0.0, "system_level_velocity_max": 6.281713795724141, "cost2_min": -64.90487083399584}, "done": false, "time_total_s": 260.68685269355774, "timesteps_this_iter": 135000, "episode_reward_min": 36.025462018674986, "episodes_this_iter": 45, "episode_len_mean": 502.5, "iterations_since_restore": 3, "time_since_restore": 260.68685269355774, "time_this_iter_s": 82.9342291355133, "pid": 7871, "episode_reward_mean": 302.05394914557843, "info": {"grad_time_ms": 33619.315, "update_time_ms": 243.855, "num_steps_trained": 405000, "num_steps_sampled": 405000, "load_time_ms": 34.761, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.4139107465744019, "total_loss": 3.0798463821411133, "vf_loss": 3.082486867904663, "vf_explained_var": 0.5240100026130676, "kl": 0.006646182853728533, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0033050179481506348}, "sample_time_ms": 52762.863}, "timesteps_total": 405000, "num_metric_batches_dropped": 0, "episode_reward_max": 826.6285233687914, "date": "2019-05-16_07-16-39", "training_iteration": 3, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991083, "timesteps_since_restore": 540000, "episodes_total": 248, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21e10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21a20>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.674052890514229, "cost1_min": 7.359992201253687, "system_level_velocity_mean": 4.3466512746027375, "cost1_mean": 91.45972259157732, "cost2_mean": -20.44709594033606, "cost1_max": 239.6633049520329, "cost2_max": 0.0, "system_level_velocity_max": 10.836038864948426, "cost2_min": -79.27780421019385}, "done": false, "time_total_s": 345.38217401504517, "timesteps_this_iter": 135000, "episode_reward_min": 36.79996100626844, "episodes_this_iter": 44, "episode_len_mean": 575.85, "iterations_since_restore": 4, "time_since_restore": 345.38217401504517, "time_this_iter_s": 84.69532132148743, "pid": 7871, "episode_reward_mean": 447.3886326212575, "info": {"grad_time_ms": 33479.586, "update_time_ms": 184.846, "num_steps_trained": 540000, "num_steps_sampled": 540000, "load_time_ms": 31.466, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.4168328046798706, "total_loss": 3.754988431930542, "vf_loss": 3.757821798324585, "vf_explained_var": 0.5236146450042725, "kl": 0.007027964573353529, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003536326577886939}, "sample_time_ms": 52421.092}, "timesteps_total": 540000, "num_metric_batches_dropped": 0, "episode_reward_max": 1187.5927388977516, "date": "2019-05-16_07-18-03", "training_iteration": 4, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991168, "timesteps_since_restore": 675000, "episodes_total": 285, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc210f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc211d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.847804109824832, "cost1_min": 7.359992201253687, "system_level_velocity_mean": 4.879110993707363, "cost1_mean": 109.43282620199744, "cost2_mean": -24.656701741944758, "cost1_max": 239.6633049520329, "cost2_max": 0.0, "system_level_velocity_max": 10.836038864948426, "cost2_min": -79.27780421019385}, "done": false, "time_total_s": 430.0546627044678, "timesteps_this_iter": 135000, "episode_reward_min": 36.79996100626844, "episodes_this_iter": 37, "episode_len_mean": 616.49, "iterations_since_restore": 5, "time_since_restore": 430.0546627044678, "time_this_iter_s": 84.67248868942261, "pid": 7871, "episode_reward_mean": 535.0735338529795, "info": {"grad_time_ms": 33410.072, "update_time_ms": 149.517, "num_steps_trained": 675000, "num_steps_sampled": 675000, "load_time_ms": 29.374, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.408437728881836, "total_loss": 4.242589473724365, "vf_loss": 4.24577522277832, "vf_explained_var": 0.5129872560501099, "kl": 0.006967947352677584, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0038823403883725405}, "sample_time_ms": 52196.267}, "timesteps_total": 675000, "num_metric_batches_dropped": 0, "episode_reward_max": 1187.5927388977516, "date": "2019-05-16_07-19-28", "training_iteration": 5, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991252, "timesteps_since_restore": 810000, "episodes_total": 321, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc248d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc247f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.847804109824832, "cost1_min": 9.196996144215412, "system_level_velocity_mean": 5.409398211009707, "cost1_mean": 132.34259819784376, "cost2_mean": -32.37445490483335, "cost1_max": 229.33332111154584, "cost2_max": 0.0, "system_level_velocity_max": 8.99386547898596, "cost2_min": -79.27780421019385}, "done": false, "time_total_s": 513.8657820224762, "timesteps_this_iter": 135000, "episode_reward_min": 45.9849807210771, "episodes_this_iter": 36, "episode_len_mean": 683.85, "iterations_since_restore": 6, "time_since_restore": 513.8657820224762, "time_this_iter_s": 83.81111931800842, "pid": 7871, "episode_reward_mean": 645.7442989872006, "info": {"grad_time_ms": 33256.034, "update_time_ms": 125.97, "num_steps_trained": 810000, "num_steps_sampled": 810000, "load_time_ms": 27.53, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.4045710563659668, "total_loss": 5.310620307922363, "vf_loss": 5.3143839836120605, "vf_explained_var": 0.5370115041732788, "kl": 0.008234859444200993, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004587429575622082}, "sample_time_ms": 52011.269}, "timesteps_total": 810000, "num_metric_batches_dropped": 0, "episode_reward_max": 1130.1240148356144, "date": "2019-05-16_07-20-52", "training_iteration": 6, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991336, "timesteps_since_restore": 945000, "episodes_total": 358, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21b38>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.847804109824832, "cost1_min": 17.346802039583, "system_level_velocity_mean": 5.777029952731083, "cost1_mean": 146.9175781350746, "cost2_mean": -36.57870612023587, "cost1_max": 229.33332111154584, "cost2_max": -0.22347511958733898, "system_level_velocity_max": 9.031725447576921, "cost2_min": -77.69709048178885}, "done": false, "time_total_s": 598.0723850727081, "timesteps_this_iter": 135000, "episode_reward_min": 86.66317631180169, "episodes_this_iter": 37, "episode_len_mean": 725.37, "iterations_since_restore": 7, "time_since_restore": 598.0723850727081, "time_this_iter_s": 84.20660305023193, "pid": 7871, "episode_reward_mean": 716.5936346218606, "info": {"grad_time_ms": 33219.085, "update_time_ms": 109.104, "num_steps_trained": 945000, "num_steps_sampled": 945000, "load_time_ms": 26.34, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3995230197906494, "total_loss": 5.914324760437012, "vf_loss": 5.917242527008057, "vf_explained_var": 0.5972133874893188, "kl": 0.007525612134486437, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003669527592137456}, "sample_time_ms": 51861.671}, "timesteps_total": 945000, "num_metric_batches_dropped": 0, "episode_reward_max": 1130.1240148356144, "date": "2019-05-16_07-22-16", "training_iteration": 7, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991421, "timesteps_since_restore": 1080000, "episodes_total": 395, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24c18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24fd0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.397191424438537, "cost1_min": 60.40805940838446, "system_level_velocity_mean": 6.30288396526201, "cost1_mean": 159.5027891368238, "cost2_mean": -38.559179112403235, "cost1_max": 229.33332111154584, "cost2_max": -8.464158047611138, "system_level_velocity_max": 9.655507262503859, "cost2_min": -80.30701986923674}, "done": false, "time_total_s": 682.9833073616028, "timesteps_this_iter": 135000, "episode_reward_min": 289.6307083078989, "episodes_this_iter": 37, "episode_len_mean": 737.5, "iterations_since_restore": 8, "time_since_restore": 682.9833073616028, "time_this_iter_s": 84.91092228889465, "pid": 7871, "episode_reward_mean": 778.5722346731552, "info": {"grad_time_ms": 33252.704, "update_time_ms": 96.478, "num_steps_trained": 1080000, "num_steps_sampled": 1080000, "load_time_ms": 25.309, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3927621841430664, "total_loss": 6.6990814208984375, "vf_loss": 6.702731132507324, "vf_explained_var": 0.6222261786460876, "kl": 0.008955148048698902, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004544783849269152}, "sample_time_ms": 51776.267}, "timesteps_total": 1080000, "num_metric_batches_dropped": 0, "episode_reward_max": 1130.4888638431453, "date": "2019-05-16_07-23-41", "training_iteration": 8, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991506, "timesteps_since_restore": 1215000, "episodes_total": 432, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc245f8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.087720729104962, "cost1_min": 60.40805940838446, "system_level_velocity_mean": 6.663278828325385, "cost1_mean": 165.46284891631524, "cost2_mean": -42.93796209729378, "cost1_max": 236.14277278089563, "cost2_max": -8.464158047611138, "system_level_velocity_max": 9.97859067560919, "cost2_min": -100.38050794300267}, "done": false, "time_total_s": 767.7519464492798, "timesteps_this_iter": 135000, "episode_reward_min": 289.6307083078989, "episodes_this_iter": 37, "episode_len_mean": 732.0, "iterations_since_restore": 9, "time_since_restore": 767.7519464492798, "time_this_iter_s": 84.768639087677, "pid": 7871, "episode_reward_mean": 806.2747336912391, "info": {"grad_time_ms": 33253.264, "update_time_ms": 86.768, "num_steps_trained": 1215000, "num_steps_sampled": 1215000, "load_time_ms": 24.648, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3843543529510498, "total_loss": 7.214990139007568, "vf_loss": 7.219153881072998, "vf_explained_var": 0.5436680316925049, "kl": 0.008687368594110012, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005033419001847506}, "sample_time_ms": 51720.31}, "timesteps_total": 1215000, "num_metric_batches_dropped": 0, "episode_reward_max": 1155.5975558076054, "date": "2019-05-16_07-25-06", "training_iteration": 9, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991590, "timesteps_since_restore": 1350000, "episodes_total": 470, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21b00>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604713c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.4752585106963707, "cost1_min": 50.90886693120423, "system_level_velocity_mean": 6.976568680267421, "cost1_mean": 172.16703336916052, "cost2_mean": -47.41175620886935, "cost1_max": 236.14277278089563, "cost2_max": -8.66114924905504, "system_level_velocity_max": 10.412259999488244, "cost2_min": -124.01143325766394}, "done": false, "time_total_s": 851.7692246437073, "timesteps_this_iter": 135000, "episode_reward_min": 249.73288987836403, "episodes_this_iter": 38, "episode_len_mean": 731.3, "iterations_since_restore": 10, "time_since_restore": 851.7692246437073, "time_this_iter_s": 84.01727819442749, "pid": 7871, "episode_reward_mean": 837.6580063713307, "info": {"grad_time_ms": 33186.651, "update_time_ms": 78.895, "num_steps_trained": 1350000, "num_steps_sampled": 1350000, "load_time_ms": 24.127, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3818483352661133, "total_loss": 8.571501731872559, "vf_loss": 8.57601547241211, "vf_explained_var": 0.5431371331214905, "kl": 0.009835711680352688, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005496804136782885}, "sample_time_ms": 51666.099}, "timesteps_total": 1350000, "num_metric_batches_dropped": 0, "episode_reward_max": 1155.5975558076054, "date": "2019-05-16_07-26-30", "training_iteration": 10, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991675, "timesteps_since_restore": 1485000, "episodes_total": 506, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24c88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc243c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.704586744255934, "cost1_min": 50.90886693120423, "system_level_velocity_mean": 7.430458666668581, "cost1_mean": 182.6004177176658, "cost2_mean": -52.9071597722866, "cost1_max": 254.70700223999822, "cost2_max": -8.66114924905504, "system_level_velocity_max": 11.424099843581049, "cost2_min": -124.01143325766394}, "done": false, "time_total_s": 936.7150926589966, "timesteps_this_iter": 135000, "episode_reward_min": 249.73288987836403, "episodes_this_iter": 36, "episode_len_mean": 737.73, "iterations_since_restore": 11, "time_since_restore": 936.7150926589966, "time_this_iter_s": 84.9458680152893, "pid": 7871, "episode_reward_mean": 887.0305708461558, "info": {"grad_time_ms": 33006.866, "update_time_ms": 8.213, "num_steps_trained": 1485000, "num_steps_sampled": 1485000, "load_time_ms": 19.452, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.375118374824524, "total_loss": 8.48936939239502, "vf_loss": 8.492565155029297, "vf_explained_var": 0.5777227878570557, "kl": 0.009276722557842731, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004124379251152277}, "sample_time_ms": 51307.444}, "timesteps_total": 1485000, "num_metric_batches_dropped": 0, "episode_reward_max": 1262.0164916826843, "date": "2019-05-16_07-27-55", "training_iteration": 11, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991761, "timesteps_since_restore": 1620000, "episodes_total": 542, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24a20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc246d8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.8156467909665945, "cost1_min": 50.90886693120423, "system_level_velocity_mean": 7.970847421378223, "cost1_mean": 195.48672081664387, "cost2_mean": -61.45726913942166, "cost1_max": 254.70700223999822, "cost2_max": -9.779734097514352, "system_level_velocity_max": 11.424099843581049, "cost2_min": -131.07790401155162}, "done": false, "time_total_s": 1022.4798038005829, "timesteps_this_iter": 135000, "episode_reward_min": 249.73288987836403, "episodes_this_iter": 36, "episode_len_mean": 745.51, "iterations_since_restore": 12, "time_since_restore": 1022.4798038005829, "time_this_iter_s": 85.7647111415863, "pid": 7871, "episode_reward_mean": 947.0167171919247, "info": {"grad_time_ms": 33085.209, "update_time_ms": 8.26, "num_steps_trained": 1620000, "num_steps_sampled": 1620000, "load_time_ms": 19.353, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3717833757400513, "total_loss": 9.188340187072754, "vf_loss": 9.192933082580566, "vf_explained_var": 0.537516713142395, "kl": 0.011252658441662788, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005717412568628788}, "sample_time_ms": 51145.584}, "timesteps_total": 1620000, "num_metric_batches_dropped": 0, "episode_reward_max": 1262.0164916826843, "date": "2019-05-16_07-29-21", "training_iteration": 12, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991845, "timesteps_since_restore": 1755000, "episodes_total": 578, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24b00>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.283968756147727, "cost1_min": 131.31056049690034, "system_level_velocity_mean": 8.375401864734094, "cost1_mean": 205.1471062155592, "cost2_mean": -67.70723914548842, "cost1_max": 269.4832595441155, "cost2_max": -13.23196086043615, "system_level_velocity_max": 12.058300597270097, "cost2_min": -151.15683596328037}, "done": false, "time_total_s": 1106.7122964859009, "timesteps_this_iter": 135000, "episode_reward_min": 640.3748882878632, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 13, "time_since_restore": 1106.7122964859009, "time_this_iter_s": 84.232492685318, "pid": 7871, "episode_reward_mean": 992.1185162120897, "info": {"grad_time_ms": 33076.766, "update_time_ms": 8.349, "num_steps_trained": 1755000, "num_steps_sampled": 1755000, "load_time_ms": 19.388, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.361484408378601, "total_loss": 9.188425064086914, "vf_loss": 9.192696571350098, "vf_explained_var": 0.5657786130905151, "kl": 0.011697504669427872, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005442746914923191}, "sample_time_ms": 51282.993}, "timesteps_total": 1755000, "num_metric_batches_dropped": 0, "episode_reward_max": 1340.8003172903534, "date": "2019-05-16_07-30-45", "training_iteration": 13, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557991930, "timesteps_since_restore": 1890000, "episodes_total": 614, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604a6b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604a6f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604a6c88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.283968756147727, "cost1_min": 131.31056049690034, "system_level_velocity_mean": 8.550613205467817, "cost1_mean": 208.10542888660032, "cost2_mean": -70.86030289795072, "cost1_max": 274.3011523453539, "cost2_max": -8.09572974808926, "system_level_velocity_max": 13.27002682550151, "cost2_min": -153.37143731317835}, "done": false, "time_total_s": 1191.3269681930542, "timesteps_this_iter": 135000, "episode_reward_min": 640.3748882878632, "episodes_this_iter": 36, "episode_len_mean": 748.21, "iterations_since_restore": 14, "time_since_restore": 1191.3269681930542, "time_this_iter_s": 84.61467170715332, "pid": 7871, "episode_reward_mean": 1005.442439628894, "info": {"grad_time_ms": 33056.173, "update_time_ms": 8.282, "num_steps_trained": 1890000, "num_steps_sampled": 1890000, "load_time_ms": 19.03, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3654531240463257, "total_loss": 9.625720024108887, "vf_loss": 9.630598068237305, "vf_explained_var": 0.5479751229286194, "kl": 0.013756579719483852, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006253445986658335}, "sample_time_ms": 51296.284}, "timesteps_total": 1890000, "num_metric_batches_dropped": 0, "episode_reward_max": 1367.4578968527205, "date": "2019-05-16_07-32-10", "training_iteration": 14, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992014, "timesteps_since_restore": 2025000, "episodes_total": 650, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc246d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604975c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24cf8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.660490702093351, "cost1_min": 163.4349618545232, "system_level_velocity_mean": 8.678030977457132, "cost1_mean": 210.83748812885239, "cost2_mean": -68.24344120913958, "cost1_max": 274.3011523453539, "cost2_max": -8.09572974808926, "system_level_velocity_max": 13.27002682550151, "cost2_min": -153.37143731317835}, "done": false, "time_total_s": 1275.9174041748047, "timesteps_this_iter": 135000, "episode_reward_min": 779.4075954421543, "episodes_this_iter": 36, "episode_len_mean": 747.72, "iterations_since_restore": 15, "time_since_restore": 1275.9174041748047, "time_this_iter_s": 84.59043598175049, "pid": 7871, "episode_reward_mean": 1020.312962132245, "info": {"grad_time_ms": 33027.505, "update_time_ms": 8.385, "num_steps_trained": 2025000, "num_steps_sampled": 2025000, "load_time_ms": 18.924, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3604048490524292, "total_loss": 9.850802421569824, "vf_loss": 9.85522747039795, "vf_explained_var": 0.4684472978115082, "kl": 0.012142079882323742, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005638876464217901}, "sample_time_ms": 51317.895}, "timesteps_total": 2025000, "num_metric_batches_dropped": 0, "episode_reward_max": 1367.4578968527205, "date": "2019-05-16_07-33-34", "training_iteration": 15, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992099, "timesteps_since_restore": 2160000, "episodes_total": 686, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21cf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc211d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.660490702093351, "cost1_min": 163.4349618545232, "system_level_velocity_mean": 8.664970523995299, "cost1_mean": 211.88065578292557, "cost2_mean": -70.73590166863667, "cost1_max": 265.51159073750523, "cost2_max": -4.751975634482893, "system_level_velocity_max": 11.929623767504062, "cost2_min": -153.37143731317835}, "done": false, "time_total_s": 1360.487422466278, "timesteps_this_iter": 135000, "episode_reward_min": 779.4075954421543, "episodes_this_iter": 36, "episode_len_mean": 748.0, "iterations_since_restore": 16, "time_since_restore": 1360.487422466278, "time_this_iter_s": 84.57001829147339, "pid": 7871, "episode_reward_mean": 1024.2479310153249, "info": {"grad_time_ms": 32991.78, "update_time_ms": 8.371, "num_steps_trained": 2160000, "num_steps_sampled": 2160000, "load_time_ms": 19.074, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3748234510421753, "total_loss": 10.061380386352539, "vf_loss": 10.066030502319336, "vf_explained_var": 0.5058399438858032, "kl": 0.012154472060501575, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005864006467163563}, "sample_time_ms": 51430.239}, "timesteps_total": 2160000, "num_metric_batches_dropped": 0, "episode_reward_max": 1321.4596555741282, "date": "2019-05-16_07-34-59", "training_iteration": 16, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992184, "timesteps_since_restore": 2295000, "episodes_total": 722, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc210b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc212b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.854289169928542, "cost1_min": 172.09715318152516, "system_level_velocity_mean": 8.955932953375337, "cost1_mean": 218.77978929528862, "cost2_mean": -65.06577595108818, "cost1_max": 265.51159073750523, "cost2_max": -4.751975634482893, "system_level_velocity_max": 12.249585284371804, "cost2_min": -142.28196587271555}, "done": false, "time_total_s": 1445.024504184723, "timesteps_this_iter": 135000, "episode_reward_min": 826.557283202725, "episodes_this_iter": 36, "episode_len_mean": 749.51, "iterations_since_restore": 17, "time_since_restore": 1445.024504184723, "time_this_iter_s": 84.53708171844482, "pid": 7871, "episode_reward_mean": 1061.4171877738231, "info": {"grad_time_ms": 32982.501, "update_time_ms": 8.287, "num_steps_trained": 2295000, "num_steps_sampled": 2295000, "load_time_ms": 18.815, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3623969554901123, "total_loss": 10.1659574508667, "vf_loss": 10.169189453125, "vf_explained_var": 0.42134734988212585, "kl": 0.011554354801774025, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004389267880469561}, "sample_time_ms": 51474.761}, "timesteps_total": 2295000, "num_metric_batches_dropped": 0, "episode_reward_max": 1321.4596555741282, "date": "2019-05-16_07-36-24", "training_iteration": 17, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992269, "timesteps_since_restore": 2430000, "episodes_total": 758, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.062440589166613, "cost1_min": 69.19473582692669, "system_level_velocity_mean": 8.976716532477656, "cost1_mean": 219.02145401350495, "cost2_mean": -62.289644227869765, "cost1_max": 264.30108623434967, "cost2_max": -6.005684657543446, "system_level_velocity_max": 12.249585284371804, "cost2_min": -142.28196587271555}, "done": false, "time_total_s": 1530.1765396595001, "timesteps_this_iter": 135000, "episode_reward_min": 327.4807188088602, "episodes_this_iter": 36, "episode_len_mean": 745.58, "iterations_since_restore": 18, "time_since_restore": 1530.1765396595001, "time_this_iter_s": 85.15203547477722, "pid": 7871, "episode_reward_mean": 1064.0742916059824, "info": {"grad_time_ms": 32935.065, "update_time_ms": 8.316, "num_steps_trained": 2430000, "num_steps_sampled": 2430000, "load_time_ms": 18.944, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3590335845947266, "total_loss": 10.500009536743164, "vf_loss": 10.503917694091797, "vf_explained_var": 0.43450307846069336, "kl": 0.01264150533825159, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005171328783035278}, "sample_time_ms": 51546.336}, "timesteps_total": 2430000, "num_metric_batches_dropped": 0, "episode_reward_max": 1311.452175693238, "date": "2019-05-16_07-37-49", "training_iteration": 18, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992355, "timesteps_since_restore": 2565000, "episodes_total": 794, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc217b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21ac8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.062440589166613, "cost1_min": 69.19473582692669, "system_level_velocity_mean": 9.084074262187166, "cost1_mean": 221.23213035721463, "cost2_mean": -55.1539935436195, "cost1_max": 264.30108623434967, "cost2_max": -3.5304215458992156, "system_level_velocity_max": 12.249585284371804, "cost2_min": -131.2089000672528}, "done": false, "time_total_s": 1616.3781034946442, "timesteps_this_iter": 135000, "episode_reward_min": 327.4807188088602, "episodes_this_iter": 36, "episode_len_mean": 745.58, "iterations_since_restore": 19, "time_since_restore": 1616.3781034946442, "time_this_iter_s": 86.20156383514404, "pid": 7871, "episode_reward_mean": 1078.7118542364087, "info": {"grad_time_ms": 33017.158, "update_time_ms": 8.205, "num_steps_trained": 2565000, "num_steps_sampled": 2565000, "load_time_ms": 18.816, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3548609018325806, "total_loss": 10.897666931152344, "vf_loss": 10.901593208312988, "vf_explained_var": 0.35969412326812744, "kl": 0.012759988196194172, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005203653126955032}, "sample_time_ms": 51606.877}, "timesteps_total": 2565000, "num_metric_batches_dropped": 0, "episode_reward_max": 1311.452175693238, "date": "2019-05-16_07-39-15", "training_iteration": 19, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992440, "timesteps_since_restore": 2700000, "episodes_total": 830, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc210b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21320>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21a20>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.062440589166613, "cost1_min": 69.19473582692669, "system_level_velocity_mean": 9.025536126747038, "cost1_mean": 219.75623592595394, "cost2_mean": -52.694560625457214, "cost1_max": 282.1015855665195, "cost2_max": -3.082795676132573, "system_level_velocity_max": 13.26608306616425, "cost2_min": -131.2089000672528}, "done": false, "time_total_s": 1701.457251548767, "timesteps_this_iter": 135000, "episode_reward_min": 327.4807188088602, "episodes_this_iter": 36, "episode_len_mean": 744.73, "iterations_since_restore": 20, "time_since_restore": 1701.457251548767, "time_this_iter_s": 85.07914805412292, "pid": 7871, "episode_reward_mean": 1072.5704488340014, "info": {"grad_time_ms": 33017.338, "update_time_ms": 8.548, "num_steps_trained": 2700000, "num_steps_sampled": 2700000, "load_time_ms": 18.668, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3643560409545898, "total_loss": 10.697981834411621, "vf_loss": 10.70198917388916, "vf_explained_var": 0.39328837394714355, "kl": 0.01321923267096281, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005329440347850323}, "sample_time_ms": 51714.247}, "timesteps_total": 2700000, "num_metric_batches_dropped": 0, "episode_reward_max": 1403.7779952780536, "date": "2019-05-16_07-40-40", "training_iteration": 20, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992525, "timesteps_since_restore": 2835000, "episodes_total": 867, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24a20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24940>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.987418880423315, "cost1_min": 45.43306278502899, "system_level_velocity_mean": 8.971277268882407, "cost1_mean": 218.15349200340785, "cost2_mean": -47.968597181330615, "cost1_max": 282.1015855665195, "cost2_max": -3.082795676132573, "system_level_velocity_max": 13.26608306616425, "cost2_min": -128.66565362290856}, "done": false, "time_total_s": 1786.6305937767029, "timesteps_this_iter": 135000, "episode_reward_min": 219.0227186580484, "episodes_this_iter": 37, "episode_len_mean": 744.09, "iterations_since_restore": 21, "time_since_restore": 1786.6305937767029, "time_this_iter_s": 85.17334222793579, "pid": 7871, "episode_reward_mean": 1066.8640213680117, "info": {"grad_time_ms": 32980.727, "update_time_ms": 8.469, "num_steps_trained": 2835000, "num_steps_sampled": 2835000, "load_time_ms": 18.388, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.365094542503357, "total_loss": 10.924286842346191, "vf_loss": 10.928494453430176, "vf_explained_var": 0.41255810856819153, "kl": 0.013314440846443176, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005539183970540762}, "sample_time_ms": 51775.282}, "timesteps_total": 2835000, "num_metric_batches_dropped": 0, "episode_reward_max": 1403.7779952780536, "date": "2019-05-16_07-42-05", "training_iteration": 21, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992610, "timesteps_since_restore": 2970000, "episodes_total": 903, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc219e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc217b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21828>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.987418880423315, "cost1_min": 45.43306278502899, "system_level_velocity_mean": 8.845244670240437, "cost1_mean": 216.36385649498297, "cost2_mean": -46.05959339671654, "cost1_max": 282.1015855665195, "cost2_max": -2.4775779521392844, "system_level_velocity_max": 13.26608306616425, "cost2_min": -128.66565362290856}, "done": false, "time_total_s": 1871.431898355484, "timesteps_this_iter": 135000, "episode_reward_min": 219.0227186580484, "episodes_this_iter": 36, "episode_len_mean": 744.09, "iterations_since_restore": 22, "time_since_restore": 1871.431898355484, "time_this_iter_s": 84.80130457878113, "pid": 7871, "episode_reward_mean": 1058.8460045474405, "info": {"grad_time_ms": 32861.278, "update_time_ms": 8.438, "num_steps_trained": 2970000, "num_steps_sampled": 2970000, "load_time_ms": 18.376, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.354093313217163, "total_loss": 11.054935455322266, "vf_loss": 11.059101104736328, "vf_explained_var": 0.3345704674720764, "kl": 0.013902698643505573, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005556371062994003}, "sample_time_ms": 51799.463}, "timesteps_total": 2970000, "num_metric_batches_dropped": 0, "episode_reward_max": 1403.7779952780536, "date": "2019-05-16_07-43-30", "training_iteration": 22, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992696, "timesteps_since_restore": 3105000, "episodes_total": 939, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc212b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21550>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.987418880423315, "cost1_min": 45.43306278502899, "system_level_velocity_mean": 8.741915121161979, "cost1_mean": 215.9325506740324, "cost2_mean": -43.70559751232899, "cost1_max": 260.670326511274, "cost2_max": -2.4775779521392844, "system_level_velocity_max": 11.587784716065546, "cost2_min": -95.48187176750628}, "done": false, "time_total_s": 1956.988673210144, "timesteps_this_iter": 135000, "episode_reward_min": 219.0227186580484, "episodes_this_iter": 36, "episode_len_mean": 744.94, "iterations_since_restore": 23, "time_since_restore": 1956.988673210144, "time_this_iter_s": 85.55677485466003, "pid": 7871, "episode_reward_mean": 1057.8944806051586, "info": {"grad_time_ms": 32912.207, "update_time_ms": 8.277, "num_steps_trained": 3105000, "num_steps_sampled": 3105000, "load_time_ms": 18.583, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3695456981658936, "total_loss": 10.581435203552246, "vf_loss": 10.585970878601074, "vf_explained_var": 0.3266620635986328, "kl": 0.01501986850053072, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006035771686583757}, "sample_time_ms": 51878.037}, "timesteps_total": 3105000, "num_metric_batches_dropped": 0, "episode_reward_max": 1298.104329290389, "date": "2019-05-16_07-44-56", "training_iteration": 23, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992781, "timesteps_since_restore": 3240000, "episodes_total": 976, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604713c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc249e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc241d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.758748889937315, "cost1_min": 70.68570267718107, "system_level_velocity_mean": 8.669759870627711, "cost1_mean": 215.98051063358758, "cost2_mean": -46.05399620812692, "cost1_max": 260.670326511274, "cost2_max": -2.100335068489529, "system_level_velocity_max": 11.530659479104438, "cost2_min": -95.8716744641138}, "done": false, "time_total_s": 2041.647458076477, "timesteps_this_iter": 135000, "episode_reward_min": 341.7935346168063, "episodes_this_iter": 37, "episode_len_mean": 745.98, "iterations_since_restore": 24, "time_since_restore": 2041.647458076477, "time_this_iter_s": 84.65878486633301, "pid": 7871, "episode_reward_mean": 1057.0037917954533, "info": {"grad_time_ms": 32898.539, "update_time_ms": 8.34, "num_steps_trained": 3240000, "num_steps_sampled": 3240000, "load_time_ms": 18.81, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.373245120048523, "total_loss": 11.07399845123291, "vf_loss": 11.078557014465332, "vf_explained_var": 0.3367786109447479, "kl": 0.012592221610248089, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00581800052896142}, "sample_time_ms": 51895.108}, "timesteps_total": 3240000, "num_metric_batches_dropped": 0, "episode_reward_max": 1287.118840570126, "date": "2019-05-16_07-46-21", "training_iteration": 24, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992866, "timesteps_since_restore": 3375000, "episodes_total": 1013, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc215f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21b38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21ba8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.758748889937315, "cost1_min": 54.14789371906514, "system_level_velocity_mean": 8.503288811127153, "cost1_mean": 211.94449908753506, "cost2_mean": -46.54163964314034, "cost1_max": 251.31894615663992, "cost2_max": -1.898530499792321, "system_level_velocity_max": 11.030741778950905, "cost2_min": -95.8716744641138}, "done": false, "time_total_s": 2126.994439601898, "timesteps_this_iter": 135000, "episode_reward_min": 254.98773398619377, "episodes_this_iter": 37, "episode_len_mean": 740.88, "iterations_since_restore": 25, "time_since_restore": 2126.994439601898, "time_this_iter_s": 85.34698152542114, "pid": 7871, "episode_reward_mean": 1036.6144086587944, "info": {"grad_time_ms": 32943.823, "update_time_ms": 8.25, "num_steps_trained": 3375000, "num_steps_sampled": 3375000, "load_time_ms": 18.789, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3613468408584595, "total_loss": 10.852018356323242, "vf_loss": 10.856432914733887, "vf_explained_var": 0.34363970160484314, "kl": 0.01352707389742136, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005767726339399815}, "sample_time_ms": 51924.377}, "timesteps_total": 3375000, "num_metric_batches_dropped": 0, "episode_reward_max": 1250.5624250958895, "date": "2019-05-16_07-47-46", "training_iteration": 25, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557992951, "timesteps_since_restore": 3510000, "episodes_total": 1049, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c278>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.758748889937315, "cost1_min": 54.14789371906514, "system_level_velocity_mean": 8.509469871967042, "cost1_mean": 212.07721968801698, "cost2_mean": -49.98599618866804, "cost1_max": 250.68078457882228, "cost2_max": -1.898530499792321, "system_level_velocity_max": 10.846450281247536, "cost2_min": -99.62511063908067}, "done": false, "time_total_s": 2211.915411710739, "timesteps_this_iter": 135000, "episode_reward_min": 254.98773398619377, "episodes_this_iter": 36, "episode_len_mean": 740.88, "iterations_since_restore": 26, "time_since_restore": 2211.915411710739, "time_this_iter_s": 84.92097210884094, "pid": 7871, "episode_reward_mean": 1035.4879107667794, "info": {"grad_time_ms": 32983.219, "update_time_ms": 8.219, "num_steps_trained": 3510000, "num_steps_sampled": 3510000, "load_time_ms": 18.698, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.363060474395752, "total_loss": 10.474562644958496, "vf_loss": 10.478797912597656, "vf_explained_var": 0.3530830442905426, "kl": 0.014208858832716942, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005656015127897263}, "sample_time_ms": 51920.186}, "timesteps_total": 3510000, "num_metric_batches_dropped": 0, "episode_reward_max": 1243.8936216134198, "date": "2019-05-16_07-49-11", "training_iteration": 26, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993036, "timesteps_since_restore": 3645000, "episodes_total": 1085, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e2b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.379421906331098, "cost1_min": 54.14789371906514, "system_level_velocity_mean": 8.53623421014548, "cost1_mean": 212.92795060569276, "cost2_mean": -52.57457294154929, "cost1_max": 248.7840504566086, "cost2_max": -1.898530499792321, "system_level_velocity_max": 10.431307620321569, "cost2_min": -107.39563302200168}, "done": false, "time_total_s": 2296.9799389839172, "timesteps_this_iter": 135000, "episode_reward_min": 254.98773398619377, "episodes_this_iter": 36, "episode_len_mean": 744.9, "iterations_since_restore": 27, "time_since_restore": 2296.9799389839172, "time_this_iter_s": 85.0645272731781, "pid": 7871, "episode_reward_mean": 1038.4431232071079, "info": {"grad_time_ms": 32957.28, "update_time_ms": 8.483, "num_steps_trained": 3645000, "num_steps_sampled": 3645000, "load_time_ms": 18.758, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3487863540649414, "total_loss": 10.434958457946777, "vf_loss": 10.440101623535156, "vf_explained_var": 0.3795933127403259, "kl": 0.01537604071199894, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0066813877783715725}, "sample_time_ms": 51998.674}, "timesteps_total": 3645000, "num_metric_batches_dropped": 0, "episode_reward_max": 1231.6773322501608, "date": "2019-05-16_07-50-36", "training_iteration": 27, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993121, "timesteps_since_restore": 3780000, "episodes_total": 1121, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1ca20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cd30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c9e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.4697262471390715, "cost1_min": 161.91024017397012, "system_level_velocity_mean": 8.727715282383235, "cost1_mean": 217.26205457172352, "cost2_mean": -53.88877544251649, "cost1_max": 266.2664766621987, "cost2_max": -2.5890036282113615, "system_level_velocity_max": 12.257637639761858, "cost2_min": -115.49563154399749}, "done": false, "time_total_s": 2381.9457516670227, "timesteps_this_iter": 135000, "episode_reward_min": 784.2918422824711, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 28, "time_since_restore": 2381.9457516670227, "time_this_iter_s": 84.96581268310547, "pid": 7871, "episode_reward_mean": 1059.4167074629986, "info": {"grad_time_ms": 32945.027, "update_time_ms": 8.439, "num_steps_trained": 3780000, "num_steps_sampled": 3780000, "load_time_ms": 18.787, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3511607646942139, "total_loss": 10.602499961853027, "vf_loss": 10.606500625610352, "vf_explained_var": 0.3508981168270111, "kl": 0.013611956499516964, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0053618913516402245}, "sample_time_ms": 51993.848}, "timesteps_total": 3780000, "num_metric_batches_dropped": 0, "episode_reward_max": 1329.7409769442067, "date": "2019-05-16_07-52-01", "training_iteration": 28, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993206, "timesteps_since_restore": 3915000, "episodes_total": 1157, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.83940948127708, "cost1_min": 167.8435333472923, "system_level_velocity_mean": 8.775596543659809, "cost1_mean": 217.24262029855484, "cost2_mean": -56.032688531140245, "cost1_max": 271.9819967231822, "cost2_max": -2.5890036282113615, "system_level_velocity_max": 13.186788362254127, "cost2_min": -119.96734644933494}, "done": false, "time_total_s": 2466.889006614685, "timesteps_this_iter": 135000, "episode_reward_min": 812.906930796247, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 29, "time_since_restore": 2466.889006614685, "time_this_iter_s": 84.94325494766235, "pid": 7871, "episode_reward_mean": 1058.228566356381, "info": {"grad_time_ms": 32860.529, "update_time_ms": 8.436, "num_steps_trained": 3915000, "num_steps_sampled": 3915000, "load_time_ms": 18.878, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3630014657974243, "total_loss": 10.762271881103516, "vf_loss": 10.766826629638672, "vf_explained_var": 0.3202113211154938, "kl": 0.014786768704652786, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006032993551343679}, "sample_time_ms": 51952.967}, "timesteps_total": 3915000, "num_metric_batches_dropped": 0, "episode_reward_max": 1354.5514050515787, "date": "2019-05-16_07-53-26", "training_iteration": 29, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993292, "timesteps_since_restore": 4050000, "episodes_total": 1193, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e320>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 7.04650045456438, "cost1_min": 167.8435333472923, "system_level_velocity_mean": 9.010645500917695, "cost1_mean": 221.4495454467551, "cost2_mean": -51.10492046698223, "cost1_max": 271.9819967231822, "cost2_max": -2.5890036282113615, "system_level_velocity_max": 13.186788362254127, "cost2_min": -119.96734644933494}, "done": false, "time_total_s": 2552.513533592224, "timesteps_this_iter": 135000, "episode_reward_min": 812.906930796247, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 30, "time_since_restore": 2552.513533592224, "time_this_iter_s": 85.62452697753906, "pid": 7871, "episode_reward_mean": 1081.7056363995157, "info": {"grad_time_ms": 32981.084, "update_time_ms": 8.159, "num_steps_trained": 4050000, "num_steps_sampled": 4050000, "load_time_ms": 18.92, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3772051334381104, "total_loss": 10.535953521728516, "vf_loss": 10.539788246154785, "vf_explained_var": 0.2850461006164551, "kl": 0.014733057469129562, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005307880230247974}, "sample_time_ms": 51887.523}, "timesteps_total": 4050000, "num_metric_batches_dropped": 0, "episode_reward_max": 1354.5514050515787, "date": "2019-05-16_07-54-52", "training_iteration": 30, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993376, "timesteps_since_restore": 4185000, "episodes_total": 1229, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cd30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cc88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.776609696169135, "cost1_min": 170.42736343625901, "system_level_velocity_mean": 8.944038429581248, "cost1_mean": 219.93122735650823, "cost2_mean": -45.53559313890913, "cost1_max": 271.9819967231822, "cost2_max": -2.5994963963874387, "system_level_velocity_max": 13.186788362254127, "cost2_min": -106.56705167682668}, "done": false, "time_total_s": 2637.1364328861237, "timesteps_this_iter": 135000, "episode_reward_min": 830.6422122763237, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 31, "time_since_restore": 2637.1364328861237, "time_this_iter_s": 84.62289929389954, "pid": 7871, "episode_reward_mean": 1076.8924326447977, "info": {"grad_time_ms": 32961.522, "update_time_ms": 8.22, "num_steps_trained": 4185000, "num_steps_sampled": 4185000, "load_time_ms": 19.073, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3758970499038696, "total_loss": 10.792737007141113, "vf_loss": 10.796743392944336, "vf_explained_var": 0.3081638813018799, "kl": 0.015151845291256905, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005521000828593969}, "sample_time_ms": 51852.097}, "timesteps_total": 4185000, "num_metric_batches_dropped": 0, "episode_reward_max": 1354.5514050515787, "date": "2019-05-16_07-56-16", "training_iteration": 31, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993461, "timesteps_since_restore": 4320000, "episodes_total": 1265, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c2e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c3c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.776609696169135, "cost1_min": 143.1111202746548, "system_level_velocity_mean": 8.91858285079652, "cost1_mean": 219.31060545695655, "cost2_mean": -45.16424052768858, "cost1_max": 261.2802711149426, "cost2_max": -2.5994963963874387, "system_level_velocity_max": 11.9023715528831, "cost2_min": -106.56705167682668}, "done": false, "time_total_s": 2721.692595243454, "timesteps_this_iter": 135000, "episode_reward_min": 692.4813544236496, "episodes_this_iter": 36, "episode_len_mean": 747.49, "iterations_since_restore": 32, "time_since_restore": 2721.692595243454, "time_this_iter_s": 84.55616235733032, "pid": 7871, "episode_reward_mean": 1073.9861469226903, "info": {"grad_time_ms": 32941.881, "update_time_ms": 8.183, "num_steps_trained": 4320000, "num_steps_sampled": 4320000, "load_time_ms": 19.282, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3636655807495117, "total_loss": 10.785189628601074, "vf_loss": 10.789772033691406, "vf_explained_var": 0.34060296416282654, "kl": 0.015049783512949944, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006088172551244497}, "sample_time_ms": 51846.334}, "timesteps_total": 4320000, "num_metric_batches_dropped": 0, "episode_reward_max": 1292.5684809139814, "date": "2019-05-16_07-57-41", "training_iteration": 32, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993546, "timesteps_since_restore": 4455000, "episodes_total": 1301, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e5f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.776609696169135, "cost1_min": 143.1111202746548, "system_level_velocity_mean": 8.856891643636638, "cost1_mean": 218.23448849127197, "cost2_mean": -46.6403045365139, "cost1_max": 254.89601371721008, "cost2_max": -2.5994963963874387, "system_level_velocity_max": 11.257567913936272, "cost2_min": -96.15698004154802}, "done": false, "time_total_s": 2806.8507900238037, "timesteps_this_iter": 135000, "episode_reward_min": 692.4813544236496, "episodes_this_iter": 36, "episode_len_mean": 747.49, "iterations_since_restore": 33, "time_since_restore": 2806.8507900238037, "time_this_iter_s": 85.15819478034973, "pid": 7871, "episode_reward_mean": 1067.877041065534, "info": {"grad_time_ms": 32950.65, "update_time_ms": 8.187, "num_steps_trained": 4455000, "num_steps_sampled": 4455000, "load_time_ms": 19.027, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3696602582931519, "total_loss": 10.442173957824707, "vf_loss": 10.446744918823242, "vf_explained_var": 0.32852160930633545, "kl": 0.01576973684132099, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006147775333374739}, "sample_time_ms": 51801.296}, "timesteps_total": 4455000, "num_metric_batches_dropped": 0, "episode_reward_max": 1271.76382132161, "date": "2019-05-16_07-59-06", "training_iteration": 33, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993632, "timesteps_since_restore": 4590000, "episodes_total": 1338, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c7b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c860>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.6838245286165257, "cost1_min": 82.19148027043072, "system_level_velocity_mean": 8.846328238284316, "cost1_mean": 215.40521956461438, "cost2_mean": -48.38374349614411, "cost1_max": 258.44436701175647, "cost2_max": -3.7104564296054754, "system_level_velocity_max": 11.403535798356684, "cost2_min": -96.15698004154802}, "done": false, "time_total_s": 2892.716737270355, "timesteps_this_iter": 135000, "episode_reward_min": 398.9323603164952, "episodes_this_iter": 37, "episode_len_mean": 740.17, "iterations_since_restore": 34, "time_since_restore": 2892.716737270355, "time_this_iter_s": 85.86594724655151, "pid": 7871, "episode_reward_mean": 1052.8689300456408, "info": {"grad_time_ms": 32999.041, "update_time_ms": 8.182, "num_steps_trained": 4590000, "num_steps_sampled": 4590000, "load_time_ms": 18.899, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.370377540588379, "total_loss": 11.109745025634766, "vf_loss": 11.114989280700684, "vf_explained_var": 0.38854825496673584, "kl": 0.01592862419784069, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0068373060785233974}, "sample_time_ms": 51874.111}, "timesteps_total": 4590000, "num_metric_batches_dropped": 0, "episode_reward_max": 1289.8743927045123, "date": "2019-05-16_08-00-32", "training_iteration": 34, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993717, "timesteps_since_restore": 4725000, "episodes_total": 1374, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cb38>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.6838245286165257, "cost1_min": 82.19148027043072, "system_level_velocity_mean": 8.883057338295865, "cost1_mean": 215.45068004865516, "cost2_mean": -45.74918699189434, "cost1_max": 258.44436701175647, "cost2_max": -2.3456727211236474, "system_level_velocity_max": 11.44503391511472, "cost2_min": -122.85855328948445}, "done": false, "time_total_s": 2977.1909828186035, "timesteps_this_iter": 135000, "episode_reward_min": 398.9323603164952, "episodes_this_iter": 36, "episode_len_mean": 742.68, "iterations_since_restore": 35, "time_since_restore": 2977.1909828186035, "time_this_iter_s": 84.47424554824829, "pid": 7871, "episode_reward_mean": 1054.4072870847351, "info": {"grad_time_ms": 32946.94, "update_time_ms": 8.268, "num_steps_trained": 4725000, "num_steps_sampled": 4725000, "load_time_ms": 18.772, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3531862497329712, "total_loss": 10.76406478881836, "vf_loss": 10.76822280883789, "vf_explained_var": 0.37152886390686035, "kl": 0.015175532549619675, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005675635766237974}, "sample_time_ms": 51839.314}, "timesteps_total": 4725000, "num_metric_batches_dropped": 0, "episode_reward_max": 1289.8743927045123, "date": "2019-05-16_08-01-57", "training_iteration": 35, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993802, "timesteps_since_restore": 4860000, "episodes_total": 1411, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ecc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2eda0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e6d8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.6838245286165257, "cost1_min": 82.19148027043072, "system_level_velocity_mean": 8.743082212044166, "cost1_mean": 211.43874321382123, "cost2_mean": -48.46803844399313, "cost1_max": 274.45249302877096, "cost2_max": -0.9791421934727007, "system_level_velocity_max": 13.324453455467745, "cost2_min": -133.9867118422156}, "done": false, "time_total_s": 3062.185052871704, "timesteps_this_iter": 135000, "episode_reward_min": 398.9323603164952, "episodes_this_iter": 37, "episode_len_mean": 743.44, "iterations_since_restore": 36, "time_since_restore": 3062.185052871704, "time_this_iter_s": 84.99407005310059, "pid": 7871, "episode_reward_mean": 1033.032306157415, "info": {"grad_time_ms": 32991.921, "update_time_ms": 8.296, "num_steps_trained": 4860000, "num_steps_sampled": 4860000, "load_time_ms": 18.826, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.367401123046875, "total_loss": 11.381075859069824, "vf_loss": 11.386427879333496, "vf_explained_var": 0.4099665880203247, "kl": 0.016093678772449493, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006960594095289707}, "sample_time_ms": 51800.822}, "timesteps_total": 4860000, "num_metric_batches_dropped": 0, "episode_reward_max": 1371.08766495332, "date": "2019-05-16_08-03-22", "training_iteration": 36, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993886, "timesteps_since_restore": 4995000, "episodes_total": 1447, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604975c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ee10>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.8214881661064535, "cost1_min": 66.69830671330278, "system_level_velocity_mean": 8.70579523014868, "cost1_mean": 210.499089453887, "cost2_mean": -51.343110311706226, "cost1_max": 274.45249302877096, "cost2_max": -0.22379846684753274, "system_level_velocity_max": 13.324453455467745, "cost2_min": -133.9867118422156}, "done": false, "time_total_s": 3146.28071308136, "timesteps_this_iter": 135000, "episode_reward_min": 331.950433081042, "episodes_this_iter": 36, "episode_len_mean": 739.93, "iterations_since_restore": 37, "time_since_restore": 3146.28071308136, "time_this_iter_s": 84.09566020965576, "pid": 7871, "episode_reward_mean": 1026.8861746768118, "info": {"grad_time_ms": 32984.858, "update_time_ms": 8.275, "num_steps_trained": 4995000, "num_steps_sampled": 4995000, "load_time_ms": 19.236, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3520828485488892, "total_loss": 10.409646987915039, "vf_loss": 10.415328025817871, "vf_explained_var": 0.33937910199165344, "kl": 0.017171820625662804, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007398140616714954}, "sample_time_ms": 51709.063}, "timesteps_total": 4995000, "num_metric_batches_dropped": 0, "episode_reward_max": 1371.08766495332, "date": "2019-05-16_08-04-46", "training_iteration": 37, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557993972, "timesteps_since_restore": 5130000, "episodes_total": 1484, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c3c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.376382880340175, "cost1_min": 66.69830671330278, "system_level_velocity_mean": 8.44755561141743, "cost1_mean": 205.82074468776588, "cost2_mean": -54.88958949473526, "cost1_max": 274.45249302877096, "cost2_max": -0.22379846684753274, "system_level_velocity_max": 13.324453455467745, "cost2_min": -133.9867118422156}, "done": false, "time_total_s": 3231.9447667598724, "timesteps_this_iter": 135000, "episode_reward_min": 331.950433081042, "episodes_this_iter": 37, "episode_len_mean": 737.79, "iterations_since_restore": 38, "time_since_restore": 3231.9447667598724, "time_this_iter_s": 85.66405367851257, "pid": 7871, "episode_reward_mean": 1001.7178715019664, "info": {"grad_time_ms": 33061.054, "update_time_ms": 8.23, "num_steps_trained": 5130000, "num_steps_sampled": 5130000, "load_time_ms": 19.251, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3591169118881226, "total_loss": 10.601425170898438, "vf_loss": 10.606674194335938, "vf_explained_var": 0.38326531648635864, "kl": 0.016599951311945915, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006908583454787731}, "sample_time_ms": 51699.128}, "timesteps_total": 5130000, "num_metric_batches_dropped": 0, "episode_reward_max": 1371.08766495332, "date": "2019-05-16_08-06-12", "training_iteration": 38, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994056, "timesteps_since_restore": 5265000, "episodes_total": 1520, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21dd8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.376382880340175, "cost1_min": 66.69830671330278, "system_level_velocity_mean": 8.371051854292038, "cost1_mean": 206.8184645002272, "cost2_mean": -54.13659817101429, "cost1_max": 265.47915436376945, "cost2_max": -1.164215157955748, "system_level_velocity_max": 11.057719923798595, "cost2_min": -106.73943118431762}, "done": false, "time_total_s": 3316.155678987503, "timesteps_this_iter": 135000, "episode_reward_min": 331.950433081042, "episodes_this_iter": 36, "episode_len_mean": 741.94, "iterations_since_restore": 39, "time_since_restore": 3316.155678987503, "time_this_iter_s": 84.21091222763062, "pid": 7871, "episode_reward_mean": 1007.0536010824603, "info": {"grad_time_ms": 33006.567, "update_time_ms": 8.378, "num_steps_trained": 5265000, "num_steps_sampled": 5265000, "load_time_ms": 19.085, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3686463832855225, "total_loss": 9.849312782287598, "vf_loss": 9.854089736938477, "vf_explained_var": 0.30894699692726135, "kl": 0.016817567870020866, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0064598675817251205}, "sample_time_ms": 51680.349}, "timesteps_total": 5265000, "num_metric_batches_dropped": 0, "episode_reward_max": 1297.3304390549006, "date": "2019-05-16_08-07-36", "training_iteration": 39, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994140, "timesteps_since_restore": 5400000, "episodes_total": 1556, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cb00>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.475151464505628, "cost1_min": 129.80472151326444, "system_level_velocity_mean": 8.473424332814872, "cost1_mean": 209.98312928842526, "cost2_mean": -51.1977874969742, "cost1_max": 245.55809190245765, "cost2_max": -1.3913117982311092, "system_level_velocity_max": 10.492451520460676, "cost2_min": -119.12755936089377}, "done": false, "time_total_s": 3400.030534505844, "timesteps_this_iter": 135000, "episode_reward_min": 632.8493332058524, "episodes_this_iter": 36, "episode_len_mean": 747.86, "iterations_since_restore": 40, "time_since_restore": 3400.030534505844, "time_this_iter_s": 83.87485551834106, "pid": 7871, "episode_reward_mean": 1024.342293310165, "info": {"grad_time_ms": 32819.762, "update_time_ms": 8.384, "num_steps_trained": 5400000, "num_steps_sampled": 5400000, "load_time_ms": 19.003, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3589506149291992, "total_loss": 10.123815536499023, "vf_loss": 10.1272611618042, "vf_explained_var": 0.33864325284957886, "kl": 0.015380063094198704, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004982342012226582}, "sample_time_ms": 51692.213}, "timesteps_total": 5400000, "num_metric_batches_dropped": 0, "episode_reward_max": 1223.0058157903873, "date": "2019-05-16_08-09-00", "training_iteration": 40, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994226, "timesteps_since_restore": 5535000, "episodes_total": 1593, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ec50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e518>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.556714598478967, "cost1_min": 52.26396952962044, "system_level_velocity_mean": 8.608388474121135, "cost1_mean": 212.63236208671006, "cost2_mean": -49.51182953009838, "cost1_max": 264.6605919803438, "cost2_max": -0.9264523617422047, "system_level_velocity_max": 11.730950856464842, "cost2_min": -119.12755936089377}, "done": false, "time_total_s": 3486.2989752292633, "timesteps_this_iter": 135000, "episode_reward_min": 253.98211239310206, "episodes_this_iter": 37, "episode_len_mean": 745.83, "iterations_since_restore": 41, "time_since_restore": 3486.2989752292633, "time_this_iter_s": 86.26844072341919, "pid": 7871, "episode_reward_mean": 1038.536513910123, "info": {"grad_time_ms": 32999.122, "update_time_ms": 8.311, "num_steps_trained": 5535000, "num_steps_sampled": 5535000, "load_time_ms": 18.88, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3492571115493774, "total_loss": 11.013555526733398, "vf_loss": 11.018950462341309, "vf_explained_var": 0.3672935962677002, "kl": 0.018254632130265236, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007221020758152008}, "sample_time_ms": 51677.022}, "timesteps_total": 5535000, "num_metric_batches_dropped": 0, "episode_reward_max": 1321.2821354196756, "date": "2019-05-16_08-10-26", "training_iteration": 41, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994310, "timesteps_since_restore": 5670000, "episodes_total": 1629, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ecf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e4e0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.556714598478967, "cost1_min": 52.26396952962044, "system_level_velocity_mean": 8.587536208902506, "cost1_mean": 213.4394487214006, "cost2_mean": -45.48114718644038, "cost1_max": 264.6605919803438, "cost2_max": -0.15323102779569348, "system_level_velocity_max": 11.748447366943694, "cost2_min": -105.46452417354764}, "done": false, "time_total_s": 3570.3007085323334, "timesteps_this_iter": 135000, "episode_reward_min": 253.98211239310206, "episodes_this_iter": 36, "episode_len_mean": 745.83, "iterations_since_restore": 42, "time_since_restore": 3570.3007085323334, "time_this_iter_s": 84.00173330307007, "pid": 7871, "episode_reward_mean": 1044.59390764865, "info": {"grad_time_ms": 32967.013, "update_time_ms": 8.466, "num_steps_trained": 5670000, "num_steps_sampled": 5670000, "load_time_ms": 18.718, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3446762561798096, "total_loss": 10.593496322631836, "vf_loss": 10.598532676696777, "vf_explained_var": 0.3383038640022278, "kl": 0.016776857897639275, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006713853683322668}, "sample_time_ms": 51654.693}, "timesteps_total": 5670000, "num_metric_batches_dropped": 0, "episode_reward_max": 1321.2821354196756, "date": "2019-05-16_08-11-50", "training_iteration": 42, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994395, "timesteps_since_restore": 5805000, "episodes_total": 1666, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c860>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.556714598478967, "cost1_min": 52.26396952962044, "system_level_velocity_mean": 8.611125288338652, "cost1_mean": 214.46155692459234, "cost2_mean": -41.32598333618019, "cost1_max": 264.6605919803438, "cost2_max": -0.15323102779569348, "system_level_velocity_max": 11.748447366943694, "cost2_min": -105.46452417354764}, "done": false, "time_total_s": 3654.6495015621185, "timesteps_this_iter": 135000, "episode_reward_min": 253.98211239310206, "episodes_this_iter": 37, "episode_len_mean": 741.34, "iterations_since_restore": 43, "time_since_restore": 3654.6495015621185, "time_this_iter_s": 84.34879302978516, "pid": 7871, "episode_reward_mean": 1051.7231201539207, "info": {"grad_time_ms": 32918.122, "update_time_ms": 8.51, "num_steps_trained": 5805000, "num_steps_sampled": 5805000, "load_time_ms": 18.811, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3449618816375732, "total_loss": 10.735437393188477, "vf_loss": 10.740285873413086, "vf_explained_var": 0.3182983994483948, "kl": 0.01794092357158661, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00664216373115778}, "sample_time_ms": 51622.451}, "timesteps_total": 5805000, "num_metric_batches_dropped": 0, "episode_reward_max": 1321.2821354196756, "date": "2019-05-16_08-13-15", "training_iteration": 43, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994480, "timesteps_since_restore": 5940000, "episodes_total": 1703, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ef98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e7f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e6d8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.209816797422979, "cost1_min": 31.428073964566828, "system_level_velocity_mean": 8.413075060241182, "cost1_mean": 210.09401936583353, "cost2_mean": -36.3604180702763, "cost1_max": 264.4318766438058, "cost2_max": -0.15323102779569348, "system_level_velocity_max": 11.796454013532765, "cost2_min": -126.74169625915334}, "done": false, "time_total_s": 3739.7455191612244, "timesteps_this_iter": 135000, "episode_reward_min": 150.98336334641667, "episodes_this_iter": 37, "episode_len_mean": 736.22, "iterations_since_restore": 44, "time_since_restore": 3739.7455191612244, "time_this_iter_s": 85.09601759910583, "pid": 7871, "episode_reward_mean": 1032.4493746966568, "info": {"grad_time_ms": 32886.095, "update_time_ms": 8.451, "num_steps_trained": 5940000, "num_steps_sampled": 5940000, "load_time_ms": 18.707, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3611485958099365, "total_loss": 10.56226634979248, "vf_loss": 10.56857967376709, "vf_explained_var": 0.33665603399276733, "kl": 0.017924997955560684, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008106134831905365}, "sample_time_ms": 51578.628}, "timesteps_total": 5940000, "num_metric_batches_dropped": 0, "episode_reward_max": 1321.334412612618, "date": "2019-05-16_08-14-40", "training_iteration": 44, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994565, "timesteps_since_restore": 6075000, "episodes_total": 1739, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ecf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2eb00>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.209816797422979, "cost1_min": 31.428073964566828, "system_level_velocity_mean": 8.399630357811123, "cost1_mean": 210.05991210400222, "cost2_mean": -35.18445723544003, "cost1_max": 264.4318766438058, "cost2_max": -0.32363846027510046, "system_level_velocity_max": 11.796454013532765, "cost2_min": -126.74169625915334}, "done": false, "time_total_s": 3825.438201189041, "timesteps_this_iter": 135000, "episode_reward_min": 150.98336334641667, "episodes_this_iter": 36, "episode_len_mean": 736.22, "iterations_since_restore": 45, "time_since_restore": 3825.438201189041, "time_this_iter_s": 85.69268202781677, "pid": 7871, "episode_reward_mean": 1032.8644606115206, "info": {"grad_time_ms": 32891.999, "update_time_ms": 8.32, "num_steps_trained": 6075000, "num_steps_sampled": 6075000, "load_time_ms": 18.665, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3548839092254639, "total_loss": 10.46466064453125, "vf_loss": 10.469676971435547, "vf_explained_var": 0.30289149284362793, "kl": 0.01706358976662159, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006722964346408844}, "sample_time_ms": 51694.783}, "timesteps_total": 6075000, "num_metric_batches_dropped": 0, "episode_reward_max": 1321.334412612618, "date": "2019-05-16_08-16-05", "training_iteration": 45, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994650, "timesteps_since_restore": 6210000, "episodes_total": 1776, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1ce10>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.63838457788201, "cost1_min": 86.30542667207516, "system_level_velocity_mean": 8.391613254260212, "cost1_mean": 210.91741468160845, "cost2_mean": -34.31560671425989, "cost1_max": 272.24042193074274, "cost2_max": -0.013193132798341799, "system_level_velocity_max": 13.258956338249593, "cost2_min": -95.2973581503639}, "done": false, "time_total_s": 3909.731788635254, "timesteps_this_iter": 135000, "episode_reward_min": 421.38693869860276, "episodes_this_iter": 37, "episode_len_mean": 744.34, "iterations_since_restore": 46, "time_since_restore": 3909.731788635254, "time_this_iter_s": 84.29358744621277, "pid": 7871, "episode_reward_mean": 1037.461021244557, "info": {"grad_time_ms": 32851.525, "update_time_ms": 8.315, "num_steps_trained": 6210000, "num_steps_sampled": 6210000, "load_time_ms": 18.522, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3533153533935547, "total_loss": 10.902196884155273, "vf_loss": 10.9074068069458, "vf_explained_var": 0.3123286962509155, "kl": 0.017945049330592155, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007004539482295513}, "sample_time_ms": 51665.209}, "timesteps_total": 6210000, "num_metric_batches_dropped": 0, "episode_reward_max": 1360.3207608231678, "date": "2019-05-16_08-17-30", "training_iteration": 46, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994735, "timesteps_since_restore": 6345000, "episodes_total": 1812, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c240>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.63838457788201, "cost1_min": 86.30542667207516, "system_level_velocity_mean": 8.428839100166229, "cost1_mean": 210.8773519423886, "cost2_mean": -37.96391437222881, "cost1_max": 272.24042193074274, "cost2_max": -0.013193132798341799, "system_level_velocity_max": 13.258956338249593, "cost2_min": -108.08444212374904}, "done": false, "time_total_s": 3994.8369019031525, "timesteps_this_iter": 135000, "episode_reward_min": 421.38693869860276, "episodes_this_iter": 36, "episode_len_mean": 740.14, "iterations_since_restore": 47, "time_since_restore": 3994.8369019031525, "time_this_iter_s": 85.10511326789856, "pid": 7871, "episode_reward_mean": 1035.5962801960454, "info": {"grad_time_ms": 32905.242, "update_time_ms": 8.244, "num_steps_trained": 6345000, "num_steps_sampled": 6345000, "load_time_ms": 18.332, "default": {"cur_kl_coeff": 0.10000001639127731, "entropy": 1.3348228931427002, "total_loss": 10.439631462097168, "vf_loss": 10.445693016052246, "vf_explained_var": 0.36309653520584106, "kl": 0.020471682772040367, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008109559305012226}, "sample_time_ms": 51713.314}, "timesteps_total": 6345000, "num_metric_batches_dropped": 0, "episode_reward_max": 1360.3207608231678, "date": "2019-05-16_08-18-55", "training_iteration": 47, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994820, "timesteps_since_restore": 6480000, "episodes_total": 1848, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2efd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ef60>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.243882974557175, "cost1_min": 86.30542667207516, "system_level_velocity_mean": 8.474408022417848, "cost1_mean": 212.0154169974116, "cost2_mean": -41.54227084446478, "cost1_max": 272.24042193074274, "cost2_max": -0.013193132798341799, "system_level_velocity_max": 13.258956338249593, "cost2_min": -108.08444212374904}, "done": false, "time_total_s": 4080.1175684928894, "timesteps_this_iter": 135000, "episode_reward_min": 421.38693869860276, "episodes_this_iter": 36, "episode_len_mean": 740.14, "iterations_since_restore": 48, "time_since_restore": 4080.1175684928894, "time_this_iter_s": 85.28066658973694, "pid": 7871, "episode_reward_mean": 1039.6008999635312, "info": {"grad_time_ms": 32848.108, "update_time_ms": 8.236, "num_steps_trained": 6480000, "num_steps_sampled": 6480000, "load_time_ms": 18.311, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3355238437652588, "total_loss": 10.190581321716309, "vf_loss": 10.194840431213379, "vf_explained_var": 0.29712411761283875, "kl": 0.016543636098504066, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006740174721926451}, "sample_time_ms": 51734.732}, "timesteps_total": 6480000, "num_metric_batches_dropped": 0, "episode_reward_max": 1360.3207608231678, "date": "2019-05-16_08-20-20", "training_iteration": 48, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994905, "timesteps_since_restore": 6615000, "episodes_total": 1884, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1ccc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c3c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.243882974557175, "cost1_min": 93.87126072083007, "system_level_velocity_mean": 8.346408398475122, "cost1_mean": 210.5526099043076, "cost2_mean": -44.349706755556845, "cost1_max": 254.26128907068633, "cost2_max": 0.0, "system_level_velocity_max": 11.201155403143533, "cost2_min": -108.08444212374904}, "done": false, "time_total_s": 4165.309878826141, "timesteps_this_iter": 135000, "episode_reward_min": 451.1595413782431, "episodes_this_iter": 36, "episode_len_mean": 745.03, "iterations_since_restore": 49, "time_since_restore": 4165.309878826141, "time_this_iter_s": 85.19231033325195, "pid": 7871, "episode_reward_mean": 1031.1895610935262, "info": {"grad_time_ms": 32851.58, "update_time_ms": 8.123, "num_steps_trained": 6615000, "num_steps_sampled": 6615000, "load_time_ms": 18.246, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3205747604370117, "total_loss": 10.341789245605469, "vf_loss": 10.34652042388916, "vf_explained_var": 0.3928006589412689, "kl": 0.01618618704378605, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007158053107559681}, "sample_time_ms": 51829.657}, "timesteps_total": 6615000, "num_metric_batches_dropped": 0, "episode_reward_max": 1271.0795089487544, "date": "2019-05-16_08-21-45", "training_iteration": 49, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557994990, "timesteps_since_restore": 6750000, "episodes_total": 1920, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2edd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e978>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.5140508762959906, "cost1_min": 145.41361204292747, "system_level_velocity_mean": 8.27892032614014, "cost1_mean": 209.88733711554804, "cost2_mean": -44.04985411096323, "cost1_max": 252.29849570942173, "cost2_max": 0.0, "system_level_velocity_max": 11.002512868220853, "cost2_min": -110.0132451563434}, "done": false, "time_total_s": 4249.907607555389, "timesteps_this_iter": 135000, "episode_reward_min": 705.6695285751046, "episodes_this_iter": 36, "episode_len_mean": 749.23, "iterations_since_restore": 50, "time_since_restore": 4249.907607555389, "time_this_iter_s": 84.59772872924805, "pid": 7871, "episode_reward_mean": 1028.3363489967094, "info": {"grad_time_ms": 32952.09, "update_time_ms": 8.079, "num_steps_trained": 6750000, "num_steps_sampled": 6750000, "load_time_ms": 18.151, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3395445346832275, "total_loss": 10.301653861999512, "vf_loss": 10.306530952453613, "vf_explained_var": 0.39174535870552063, "kl": 0.017738621681928635, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007538931909948587}, "sample_time_ms": 51800.816}, "timesteps_total": 6750000, "num_metric_batches_dropped": 0, "episode_reward_max": 1260.424286824994, "date": "2019-05-16_08-23-10", "training_iteration": 50, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995075, "timesteps_since_restore": 6885000, "episodes_total": 1956, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e198>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.5140508762959906, "cost1_min": 145.41361204292747, "system_level_velocity_mean": 8.377390581402548, "cost1_mean": 211.0548311123279, "cost2_mean": -44.6125172260164, "cost1_max": 271.7732654771159, "cost2_max": 0.0, "system_level_velocity_max": 13.221944910301415, "cost2_min": -110.0132451563434}, "done": false, "time_total_s": 4334.972943067551, "timesteps_this_iter": 135000, "episode_reward_min": 705.6695285751046, "episodes_this_iter": 36, "episode_len_mean": 749.23, "iterations_since_restore": 51, "time_since_restore": 4334.972943067551, "time_this_iter_s": 85.06533551216125, "pid": 7871, "episode_reward_mean": 1033.8114491198553, "info": {"grad_time_ms": 32814.716, "update_time_ms": 8.19, "num_steps_trained": 6885000, "num_steps_sampled": 6885000, "load_time_ms": 18.225, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3346399068832397, "total_loss": 10.031890869140625, "vf_loss": 10.036490440368652, "vf_explained_var": 0.3799741268157959, "kl": 0.017138836905360222, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007170151453465223}, "sample_time_ms": 51819.275}, "timesteps_total": 6885000, "num_metric_batches_dropped": 0, "episode_reward_max": 1357.2617647812328, "date": "2019-05-16_08-24-35", "training_iteration": 51, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995161, "timesteps_since_restore": 7020000, "episodes_total": 1992, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cd30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1ccc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cc18>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.460609248650703, "cost1_min": 107.74261905971827, "system_level_velocity_mean": 8.562366696728128, "cost1_mean": 214.39526872340312, "cost2_mean": -42.924938434634996, "cost1_max": 271.7732654771159, "cost2_max": -0.3303755305990137, "system_level_velocity_max": 13.221944910301415, "cost2_min": -98.13892594011375}, "done": false, "time_total_s": 4420.936878919601, "timesteps_this_iter": 135000, "episode_reward_min": 522.0081137156362, "episodes_this_iter": 36, "episode_len_mean": 748.23, "iterations_since_restore": 52, "time_since_restore": 4420.936878919601, "time_this_iter_s": 85.96393585205078, "pid": 7871, "episode_reward_mean": 1050.665082091587, "info": {"grad_time_ms": 32991.013, "update_time_ms": 7.96, "num_steps_trained": 7020000, "num_steps_sampled": 7020000, "load_time_ms": 18.512, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3317656517028809, "total_loss": 10.901200294494629, "vf_loss": 10.906442642211914, "vf_explained_var": 0.35730311274528503, "kl": 0.016364147886633873, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007695753592997789}, "sample_time_ms": 51837.106}, "timesteps_total": 7020000, "num_metric_batches_dropped": 0, "episode_reward_max": 1357.2617647812328, "date": "2019-05-16_08-26-01", "training_iteration": 52, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995246, "timesteps_since_restore": 7155000, "episodes_total": 2028, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd260471908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc427b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.460609248650703, "cost1_min": 107.74261905971827, "system_level_velocity_mean": 8.69518506542358, "cost1_mean": 216.2004758506559, "cost2_mean": -44.39075639287693, "cost1_max": 271.7732654771159, "cost2_max": -0.3303755305990137, "system_level_velocity_max": 13.221944910301415, "cost2_min": -98.13892594011375}, "done": false, "time_total_s": 4506.037051200867, "timesteps_this_iter": 135000, "episode_reward_min": 522.0081137156362, "episodes_this_iter": 36, "episode_len_mean": 748.23, "iterations_since_restore": 53, "time_since_restore": 4506.037051200867, "time_this_iter_s": 85.10017228126526, "pid": 7871, "episode_reward_mean": 1058.8994401008276, "info": {"grad_time_ms": 33030.943, "update_time_ms": 7.978, "num_steps_trained": 7155000, "num_steps_sampled": 7155000, "load_time_ms": 18.208, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3421213626861572, "total_loss": 10.800519943237305, "vf_loss": 10.805330276489258, "vf_explained_var": 0.3399837017059326, "kl": 0.01820405013859272, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007540817838162184}, "sample_time_ms": 51873.084}, "timesteps_total": 7155000, "num_metric_batches_dropped": 0, "episode_reward_max": 1357.2617647812328, "date": "2019-05-16_08-27-26", "training_iteration": 53, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995331, "timesteps_since_restore": 7290000, "episodes_total": 2064, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2efd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e9b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.460609248650703, "cost1_min": 107.74261905971827, "system_level_velocity_mean": 8.60429633103617, "cost1_mean": 214.68138034054468, "cost2_mean": -44.75494766437325, "cost1_max": 258.0550499108979, "cost2_max": -0.3303755305990137, "system_level_velocity_max": 11.483219579865198, "cost2_min": -98.13892594011375}, "done": false, "time_total_s": 4590.335658550262, "timesteps_this_iter": 135000, "episode_reward_min": 522.0081137156362, "episodes_this_iter": 36, "episode_len_mean": 748.23, "iterations_since_restore": 54, "time_since_restore": 4590.335658550262, "time_this_iter_s": 84.29860734939575, "pid": 7871, "episode_reward_mean": 1051.0907008294632, "info": {"grad_time_ms": 32966.192, "update_time_ms": 8.088, "num_steps_trained": 7290000, "num_steps_sampled": 7290000, "load_time_ms": 18.366, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3525440692901611, "total_loss": 10.256168365478516, "vf_loss": 10.261537551879883, "vf_explained_var": 0.3236510753631592, "kl": 0.01722756214439869, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007951914332807064}, "sample_time_ms": 51857.452}, "timesteps_total": 7290000, "num_metric_batches_dropped": 0, "episode_reward_max": 1289.396092567115, "date": "2019-05-16_08-28-51", "training_iteration": 54, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995416, "timesteps_since_restore": 7425000, "episodes_total": 2100, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c7f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c978>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.449076740487908, "cost1_min": 164.98520663759592, "system_level_velocity_mean": 8.606492118865788, "cost1_mean": 215.0448075042117, "cost2_mean": -43.65388966649098, "cost1_max": 258.0550499108979, "cost2_max": -1.7583139747446415, "system_level_velocity_max": 11.483219579865198, "cost2_min": -91.64665036250565}, "done": false, "time_total_s": 4675.130445241928, "timesteps_this_iter": 135000, "episode_reward_min": 799.718201211504, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 55, "time_since_restore": 4675.130445241928, "time_this_iter_s": 84.79478669166565, "pid": 7871, "episode_reward_mean": 1053.5535839463278, "info": {"grad_time_ms": 32964.369, "update_time_ms": 7.982, "num_steps_trained": 7425000, "num_steps_sampled": 7425000, "load_time_ms": 18.424, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3519034385681152, "total_loss": 10.350345611572266, "vf_loss": 10.35494327545166, "vf_explained_var": 0.3221166431903839, "kl": 0.0157004464417696, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006953181698918343}, "sample_time_ms": 51770.956}, "timesteps_total": 7425000, "num_metric_batches_dropped": 0, "episode_reward_max": 1289.396092567115, "date": "2019-05-16_08-30-16", "training_iteration": 55, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995501, "timesteps_since_restore": 7560000, "episodes_total": 2136, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ed30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ee10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e4e0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.8347857478520964, "cost1_min": 103.65504793436253, "system_level_velocity_mean": 8.520943836386403, "cost1_mean": 213.59723747726648, "cost2_mean": -43.66174542748708, "cost1_max": 268.6042275546514, "cost2_max": -1.5955941929082569, "system_level_velocity_max": 11.7101598313865, "cost2_min": -91.64665036250565}, "done": false, "time_total_s": 4760.69784784317, "timesteps_this_iter": 135000, "episode_reward_min": 499.2258270633601, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 56, "time_since_restore": 4760.69784784317, "time_this_iter_s": 85.56740260124207, "pid": 7871, "episode_reward_mean": 1046.258297661339, "info": {"grad_time_ms": 32998.578, "update_time_ms": 7.981, "num_steps_trained": 7560000, "num_steps_sampled": 7560000, "load_time_ms": 18.673, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3471490144729614, "total_loss": 10.606973648071289, "vf_loss": 10.611260414123535, "vf_explained_var": 0.3429666757583618, "kl": 0.017014117911458015, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006839432753622532}, "sample_time_ms": 51864.844}, "timesteps_total": 7560000, "num_metric_batches_dropped": 0, "episode_reward_max": 1336.755976117287, "date": "2019-05-16_08-31-41", "training_iteration": 56, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995585, "timesteps_since_restore": 7695000, "episodes_total": 2172, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ecc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e908>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.8347857478520964, "cost1_min": 103.65504793436253, "system_level_velocity_mean": 8.564526903054025, "cost1_mean": 214.0791693618559, "cost2_mean": -38.92061410368944, "cost1_max": 268.6042275546514, "cost2_max": -0.34277002238713683, "system_level_velocity_max": 11.7101598313865, "cost2_min": -89.09999153051923}, "done": false, "time_total_s": 4844.923319101334, "timesteps_this_iter": 135000, "episode_reward_min": 499.2258270633601, "episodes_this_iter": 36, "episode_len_mean": 748.48, "iterations_since_restore": 57, "time_since_restore": 4844.923319101334, "time_this_iter_s": 84.22547125816345, "pid": 7871, "episode_reward_mean": 1051.1723721055162, "info": {"grad_time_ms": 32947.868, "update_time_ms": 7.957, "num_steps_trained": 7695000, "num_steps_sampled": 7695000, "load_time_ms": 18.591, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3386846780776978, "total_loss": 10.580211639404297, "vf_loss": 10.58535385131836, "vf_explained_var": 0.3436618745326996, "kl": 0.01670033298432827, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007646944373846054}, "sample_time_ms": 51828.303}, "timesteps_total": 7695000, "num_metric_batches_dropped": 0, "episode_reward_max": 1336.755976117287, "date": "2019-05-16_08-33-05", "training_iteration": 57, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995671, "timesteps_since_restore": 7830000, "episodes_total": 2208, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ef60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c710>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ebe0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.3898949102071905, "cost1_min": 113.403628637081, "system_level_velocity_mean": 8.620121310482713, "cost1_mean": 216.16957860773826, "cost2_mean": -46.052245073663705, "cost1_max": 276.25926096953754, "cost2_max": -0.34277002238713683, "system_level_velocity_max": 13.424749874247691, "cost2_min": -92.12322695078166}, "done": false, "time_total_s": 4930.331654787064, "timesteps_this_iter": 135000, "episode_reward_min": 550.8746601419334, "episodes_this_iter": 36, "episode_len_mean": 748.48, "iterations_since_restore": 58, "time_since_restore": 4930.331654787064, "time_this_iter_s": 85.40833568572998, "pid": 7871, "episode_reward_mean": 1057.9892502609755, "info": {"grad_time_ms": 32959.632, "update_time_ms": 7.979, "num_steps_trained": 7830000, "num_steps_sampled": 7830000, "load_time_ms": 18.704, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3384616374969482, "total_loss": 10.889256477355957, "vf_loss": 10.893815994262695, "vf_explained_var": 0.34602800011634827, "kl": 0.018417438492178917, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007321889977902174}, "sample_time_ms": 51827.789}, "timesteps_total": 7830000, "num_metric_batches_dropped": 0, "episode_reward_max": 1378.8772724188814, "date": "2019-05-16_08-34-31", "training_iteration": 58, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995755, "timesteps_since_restore": 7965000, "episodes_total": 2244, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ec50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e080>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.3898949102071905, "cost1_min": 113.403628637081, "system_level_velocity_mean": 8.637903246991067, "cost1_mean": 216.601511594297, "cost2_mean": -46.274650330110305, "cost1_max": 276.25926096953754, "cost2_max": -0.34277002238713683, "system_level_velocity_max": 13.424749874247691, "cost2_min": -92.12322695078166}, "done": false, "time_total_s": 5014.512089252472, "timesteps_this_iter": 135000, "episode_reward_min": 550.8746601419334, "episodes_this_iter": 36, "episode_len_mean": 748.48, "iterations_since_restore": 59, "time_since_restore": 5014.512089252472, "time_this_iter_s": 84.18043446540833, "pid": 7871, "episode_reward_mean": 1060.0401336320563, "info": {"grad_time_ms": 32944.538, "update_time_ms": 8.123, "num_steps_trained": 7965000, "num_steps_sampled": 7965000, "load_time_ms": 18.896, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3357127904891968, "total_loss": 10.623427391052246, "vf_loss": 10.62763500213623, "vf_explained_var": 0.35908377170562744, "kl": 0.017370129004120827, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006813766900449991}, "sample_time_ms": 51742.563}, "timesteps_total": 7965000, "num_metric_batches_dropped": 0, "episode_reward_max": 1378.8772724188814, "date": "2019-05-16_08-35-55", "training_iteration": 59, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995840, "timesteps_since_restore": 8100000, "episodes_total": 2280, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ee80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ecc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e9b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.0193972702629557, "cost1_min": 56.21693745847776, "system_level_velocity_mean": 8.501626240640729, "cost1_mean": 214.67569730565626, "cost2_mean": -50.224000028521935, "cost1_max": 261.01964232738004, "cost2_max": -2.1322794414459665, "system_level_velocity_max": 11.56209676095351, "cost2_min": -92.12322695078166}, "done": false, "time_total_s": 5099.388910531998, "timesteps_this_iter": 135000, "episode_reward_min": 269.82020440057397, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 60, "time_since_restore": 5099.388910531998, "time_this_iter_s": 84.87682127952576, "pid": 7871, "episode_reward_mean": 1048.3364395350598, "info": {"grad_time_ms": 32905.55, "update_time_ms": 8.232, "num_steps_trained": 8100000, "num_steps_sampled": 8100000, "load_time_ms": 19.208, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3300772905349731, "total_loss": 10.316502571105957, "vf_loss": 10.321734428405762, "vf_explained_var": 0.38780057430267334, "kl": 0.01726076379418373, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007821128703653812}, "sample_time_ms": 51808.411}, "timesteps_total": 8100000, "num_metric_batches_dropped": 0, "episode_reward_max": 1304.0320719161884, "date": "2019-05-16_08-37-20", "training_iteration": 60, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557995924, "timesteps_since_restore": 8235000, "episodes_total": 2316, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc427b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.0193972702629557, "cost1_min": 56.21693745847776, "system_level_velocity_mean": 8.417311360240042, "cost1_mean": 212.52615048029023, "cost2_mean": -46.59576373094646, "cost1_max": 261.01964232738004, "cost2_max": -2.090446262893699, "system_level_velocity_max": 11.56209676095351, "cost2_min": -91.74520290980763}, "done": false, "time_total_s": 5183.3730092048645, "timesteps_this_iter": 135000, "episode_reward_min": 269.82020440057397, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 61, "time_since_restore": 5183.3730092048645, "time_this_iter_s": 83.98409867286682, "pid": 7871, "episode_reward_mean": 1039.3790146677543, "info": {"grad_time_ms": 32820.671, "update_time_ms": 8.236, "num_steps_trained": 8235000, "num_steps_sampled": 8235000, "load_time_ms": 19.213, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3419398069381714, "total_loss": 10.801029205322266, "vf_loss": 10.806069374084473, "vf_explained_var": 0.34325796365737915, "kl": 0.016551565378904343, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007522823754698038}, "sample_time_ms": 51784.704}, "timesteps_total": 8235000, "num_metric_batches_dropped": 0, "episode_reward_max": 1304.0320719161884, "date": "2019-05-16_08-38-44", "training_iteration": 61, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996009, "timesteps_since_restore": 8370000, "episodes_total": 2352, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42198>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.0193972702629557, "cost1_min": 56.21693745847776, "system_level_velocity_mean": 8.447491719307846, "cost1_mean": 212.2613370668301, "cost2_mean": -44.51851716848126, "cost1_max": 263.3196436309084, "cost2_max": -1.6723691750150331, "system_level_velocity_max": 11.794228032125499, "cost2_min": -91.74520290980763}, "done": false, "time_total_s": 5268.353990793228, "timesteps_this_iter": 135000, "episode_reward_min": 269.82020440057397, "episodes_this_iter": 36, "episode_len_mean": 748.54, "iterations_since_restore": 62, "time_since_restore": 5268.353990793228, "time_this_iter_s": 84.98098158836365, "pid": 7871, "episode_reward_mean": 1039.1063694567247, "info": {"grad_time_ms": 32689.327, "update_time_ms": 8.28, "num_steps_trained": 8370000, "num_steps_sampled": 8370000, "load_time_ms": 19.034, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3648587465286255, "total_loss": 10.659923553466797, "vf_loss": 10.665160179138184, "vf_explained_var": 0.3377816379070282, "kl": 0.01691386289894581, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00777388596907258}, "sample_time_ms": 51819.389}, "timesteps_total": 8370000, "num_metric_batches_dropped": 0, "episode_reward_max": 1315.2568763896068, "date": "2019-05-16_08-40-09", "training_iteration": 62, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996095, "timesteps_since_restore": 8505000, "episodes_total": 2388, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e550>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.7782649316964765, "cost1_min": 153.58838978900422, "system_level_velocity_mean": 8.574580063481084, "cost1_mean": 215.09506619268993, "cost2_mean": -40.77103161799476, "cost1_max": 263.3196436309084, "cost2_max": -0.2729641848086321, "system_level_velocity_max": 11.794228032125499, "cost2_min": -81.0936792805863}, "done": false, "time_total_s": 5354.3683931827545, "timesteps_this_iter": 135000, "episode_reward_min": 744.34121158536, "episodes_this_iter": 36, "episode_len_mean": 748.54, "iterations_since_restore": 63, "time_since_restore": 5354.3683931827545, "time_this_iter_s": 86.01440238952637, "pid": 7871, "episode_reward_mean": 1055.1603601433892, "info": {"grad_time_ms": 32776.696, "update_time_ms": 8.272, "num_steps_trained": 8505000, "num_steps_sampled": 8505000, "load_time_ms": 19.262, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3701521158218384, "total_loss": 10.463427543640137, "vf_loss": 10.468470573425293, "vf_explained_var": 0.3002155125141144, "kl": 0.01758263073861599, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007680789567530155}, "sample_time_ms": 51821.953}, "timesteps_total": 8505000, "num_metric_batches_dropped": 0, "episode_reward_max": 1315.2568763896068, "date": "2019-05-16_08-41-35", "training_iteration": 63, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996180, "timesteps_since_restore": 8640000, "episodes_total": 2424, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42e10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc423c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.836167393494312, "cost1_min": 150.4711066520261, "system_level_velocity_mean": 8.68545548919647, "cost1_mean": 218.4539854931789, "cost2_mean": -37.338733562646254, "cost1_max": 263.3196436309084, "cost2_max": -0.13698706010408868, "system_level_velocity_max": 11.794228032125499, "cost2_min": -81.0936792805863}, "done": false, "time_total_s": 5439.296518802643, "timesteps_this_iter": 135000, "episode_reward_min": 748.025747118287, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 64, "time_since_restore": 5439.296518802643, "time_this_iter_s": 84.9281256198883, "pid": 7871, "episode_reward_mean": 1073.6701772648012, "info": {"grad_time_ms": 32818.413, "update_time_ms": 8.282, "num_steps_trained": 8640000, "num_steps_sampled": 8640000, "load_time_ms": 19.328, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3690451383590698, "total_loss": 10.806041717529297, "vf_loss": 10.810860633850098, "vf_explained_var": 0.29087573289871216, "kl": 0.016165347769856453, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0072423554956912994}, "sample_time_ms": 51842.645}, "timesteps_total": 8640000, "num_metric_batches_dropped": 0, "episode_reward_max": 1315.2568763896068, "date": "2019-05-16_08-43-00", "training_iteration": 64, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996266, "timesteps_since_restore": 8775000, "episodes_total": 2460, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21ac8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21160>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.836167393494312, "cost1_min": 150.4711066520261, "system_level_velocity_mean": 8.609020851262317, "cost1_mean": 217.47342184361983, "cost2_mean": -33.87614605237749, "cost1_max": 257.3927775611677, "cost2_max": -0.13698706010408868, "system_level_velocity_max": 11.141643017613738, "cost2_min": -76.85976105784823}, "done": false, "time_total_s": 5525.022084712982, "timesteps_this_iter": 135000, "episode_reward_min": 748.025747118287, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 65, "time_since_restore": 5525.022084712982, "time_this_iter_s": 85.72556591033936, "pid": 7871, "episode_reward_mean": 1070.4858449311685, "info": {"grad_time_ms": 32882.761, "update_time_ms": 8.392, "num_steps_trained": 8775000, "num_steps_sampled": 8775000, "load_time_ms": 19.229, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3634753227233887, "total_loss": 10.577737808227539, "vf_loss": 10.582393646240234, "vf_explained_var": 0.28299570083618164, "kl": 0.016585003584623337, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00714236032217741}, "sample_time_ms": 51869.361}, "timesteps_total": 8775000, "num_metric_batches_dropped": 0, "episode_reward_max": 1281.5676591337544, "date": "2019-05-16_08-44-26", "training_iteration": 65, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996352, "timesteps_since_restore": 8910000, "episodes_total": 2496, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24cf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc244e0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.658782460888308, "cost1_min": 174.61439274558967, "system_level_velocity_mean": 8.507386266796635, "cost1_mean": 216.19416289585754, "cost2_mean": -35.64920873868153, "cost1_max": 257.3927775611677, "cost2_max": -0.7135907278671116, "system_level_velocity_max": 11.141643017613738, "cost2_min": -93.02826922990832}, "done": false, "time_total_s": 5610.840388059616, "timesteps_this_iter": 135000, "episode_reward_min": 863.7571510446812, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 66, "time_since_restore": 5610.840388059616, "time_this_iter_s": 85.81830334663391, "pid": 7871, "episode_reward_mean": 1063.1639857131152, "info": {"grad_time_ms": 32921.33, "update_time_ms": 8.451, "num_steps_trained": 8910000, "num_steps_sampled": 8910000, "load_time_ms": 18.984, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3743562698364258, "total_loss": 10.299832344055176, "vf_loss": 10.304483413696289, "vf_explained_var": 0.30060017108917236, "kl": 0.016553755849599838, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007133956532925367}, "sample_time_ms": 51855.736}, "timesteps_total": 8910000, "num_metric_batches_dropped": 0, "episode_reward_max": 1281.5676591337544, "date": "2019-05-16_08-45-52", "training_iteration": 66, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996438, "timesteps_since_restore": 9045000, "episodes_total": 2532, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42d68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42908>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.349042330387349, "cost1_min": 165.81267437253442, "system_level_velocity_mean": 8.505520597095684, "cost1_mean": 215.23990969329046, "cost2_mean": -31.01719706942067, "cost1_max": 257.6059262963961, "cost2_max": -0.3856458343506769, "system_level_velocity_max": 11.143503396422057, "cost2_min": -100.83496803328924}, "done": false, "time_total_s": 5697.392374515533, "timesteps_this_iter": 135000, "episode_reward_min": 819.5992691404997, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 67, "time_since_restore": 5697.392374515533, "time_this_iter_s": 86.55198645591736, "pid": 7871, "episode_reward_mean": 1060.7073095132637, "info": {"grad_time_ms": 33022.447, "update_time_ms": 8.402, "num_steps_trained": 9045000, "num_steps_sampled": 9045000, "load_time_ms": 18.998, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3648097515106201, "total_loss": 10.777656555175781, "vf_loss": 10.781928062438965, "vf_explained_var": 0.28498905897140503, "kl": 0.016401641070842743, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006731226108968258}, "sample_time_ms": 51985.902}, "timesteps_total": 9045000, "num_metric_batches_dropped": 0, "episode_reward_max": 1285.8474748172405, "date": "2019-05-16_08-47-18", "training_iteration": 67, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996523, "timesteps_since_restore": 9180000, "episodes_total": 2568, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21cf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc219b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.349042330387349, "cost1_min": 165.81267437253442, "system_level_velocity_mean": 8.55433980145511, "cost1_mean": 215.77128065120323, "cost2_mean": -30.759101265975197, "cost1_max": 257.6059262963961, "cost2_max": -0.3856458343506769, "system_level_velocity_max": 11.143503396422057, "cost2_min": -100.83496803328924}, "done": false, "time_total_s": 5782.17867565155, "timesteps_this_iter": 135000, "episode_reward_min": 819.5992691404997, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 68, "time_since_restore": 5782.17867565155, "time_this_iter_s": 84.78630113601685, "pid": 7871, "episode_reward_mean": 1063.493375787055, "info": {"grad_time_ms": 32980.341, "update_time_ms": 8.498, "num_steps_trained": 9180000, "num_steps_sampled": 9180000, "load_time_ms": 18.814, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3766446113586426, "total_loss": 10.594813346862793, "vf_loss": 10.600748062133789, "vf_explained_var": 0.29691001772880554, "kl": 0.018327582627534866, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008684731088578701}, "sample_time_ms": 51968.137}, "timesteps_total": 9180000, "num_metric_batches_dropped": 0, "episode_reward_max": 1285.8474748172405, "date": "2019-05-16_08-48-43", "training_iteration": 68, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996609, "timesteps_since_restore": 9315000, "episodes_total": 2604, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c780>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc217b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.349042330387349, "cost1_min": 165.81267437253442, "system_level_velocity_mean": 8.581546424301656, "cost1_mean": 216.33989149530342, "cost2_mean": -30.18235202586353, "cost1_max": 257.6059262963961, "cost2_max": -0.3856458343506769, "system_level_velocity_max": 11.194600067700266, "cost2_min": -79.41809228111762}, "done": false, "time_total_s": 5867.4598252773285, "timesteps_this_iter": 135000, "episode_reward_min": 819.5992691404997, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 69, "time_since_restore": 5867.4598252773285, "time_this_iter_s": 85.2811496257782, "pid": 7871, "episode_reward_mean": 1066.6084450460894, "info": {"grad_time_ms": 33038.945, "update_time_ms": 8.247, "num_steps_trained": 9315000, "num_steps_sampled": 9315000, "load_time_ms": 18.98, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.390248417854309, "total_loss": 10.755611419677734, "vf_loss": 10.76116943359375, "vf_explained_var": 0.2931777238845825, "kl": 0.01790006458759308, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008244241587817669}, "sample_time_ms": 52018.232}, "timesteps_total": 9315000, "num_metric_batches_dropped": 0, "episode_reward_max": 1285.8474748172405, "date": "2019-05-16_08-50-09", "training_iteration": 69, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996694, "timesteps_since_restore": 9450000, "episodes_total": 2641, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc427f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc426d8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.674198371985594, "cost1_min": 72.83135877511864, "system_level_velocity_mean": 8.50091797900588, "cost1_mean": 215.12549912766875, "cost2_mean": -33.0931685476454, "cost1_max": 280.92076649242625, "cost2_max": -0.5602715213425791, "system_level_velocity_max": 13.009395755603736, "cost2_min": -79.41809228111762}, "done": false, "time_total_s": 5952.83384847641, "timesteps_this_iter": 135000, "episode_reward_min": 355.16655248643946, "episodes_this_iter": 37, "episode_len_mean": 747.88, "iterations_since_restore": 70, "time_since_restore": 5952.83384847641, "time_this_iter_s": 85.37402319908142, "pid": 7871, "episode_reward_mean": 1059.1038978683712, "info": {"grad_time_ms": 33109.081, "update_time_ms": 8.169, "num_steps_trained": 9450000, "num_steps_sampled": 9450000, "load_time_ms": 18.844, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.389129638671875, "total_loss": 11.079610824584961, "vf_loss": 11.084449768066406, "vf_explained_var": 0.32480254769325256, "kl": 0.0181947723031044, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0075680771842598915}, "sample_time_ms": 51998.475}, "timesteps_total": 9450000, "num_metric_batches_dropped": 0, "episode_reward_max": 1394.0017466299594, "date": "2019-05-16_08-51-34", "training_iteration": 70, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996779, "timesteps_since_restore": 9585000, "episodes_total": 2677, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24b70>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.674198371985594, "cost1_min": 72.83135877511864, "system_level_velocity_mean": 8.694598720163407, "cost1_mean": 218.5882364528744, "cost2_mean": -32.31892000746614, "cost1_max": 280.92076649242625, "cost2_max": -0.7265678109374467, "system_level_velocity_max": 13.362038730056712, "cost2_min": -83.50384848472152}, "done": false, "time_total_s": 6037.837317228317, "timesteps_this_iter": 135000, "episode_reward_min": 355.16655248643946, "episodes_this_iter": 36, "episode_len_mean": 747.88, "iterations_since_restore": 71, "time_since_restore": 6037.837317228317, "time_this_iter_s": 85.00346875190735, "pid": 7871, "episode_reward_mean": 1076.805764010631, "info": {"grad_time_ms": 33135.232, "update_time_ms": 8.209, "num_steps_trained": 9585000, "num_steps_sampled": 9585000, "load_time_ms": 18.887, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3680537939071655, "total_loss": 10.577259063720703, "vf_loss": 10.581422805786133, "vf_explained_var": 0.2834891080856323, "kl": 0.016683004796504974, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006667053792625666}, "sample_time_ms": 52073.432}, "timesteps_total": 9585000, "num_metric_batches_dropped": 0, "episode_reward_max": 1394.0017466299594, "date": "2019-05-16_08-52-59", "training_iteration": 71, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996864, "timesteps_since_restore": 9720000, "episodes_total": 2713, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1ce80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c7f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cf28>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.674198371985594, "cost1_min": 72.83135877511864, "system_level_velocity_mean": 8.813236949623043, "cost1_mean": 220.89618395823334, "cost2_mean": -30.825702087789885, "cost1_max": 280.92076649242625, "cost2_max": -0.8062222648981833, "system_level_velocity_max": 13.362038730056712, "cost2_min": -83.50384848472152}, "done": false, "time_total_s": 6123.164514303207, "timesteps_this_iter": 135000, "episode_reward_min": 355.16655248643946, "episodes_this_iter": 36, "episode_len_mean": 747.88, "iterations_since_restore": 72, "time_since_restore": 6123.164514303207, "time_this_iter_s": 85.32719707489014, "pid": 7871, "episode_reward_mean": 1089.0936880363372, "info": {"grad_time_ms": 33188.222, "update_time_ms": 8.273, "num_steps_trained": 9720000, "num_steps_sampled": 9720000, "load_time_ms": 18.888, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3611490726470947, "total_loss": 10.787552833557129, "vf_loss": 10.791905403137207, "vf_explained_var": 0.29619672894477844, "kl": 0.01839327998459339, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007110739126801491}, "sample_time_ms": 52054.13}, "timesteps_total": 9720000, "num_metric_batches_dropped": 0, "episode_reward_max": 1394.0017466299594, "date": "2019-05-16_08-54-24", "training_iteration": 72, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557996949, "timesteps_since_restore": 9855000, "episodes_total": 2749, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ebe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ecf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ee10>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.799032304068593, "cost1_min": 171.56652891355156, "system_level_velocity_mean": 8.809143637408816, "cost1_mean": 221.2059508357985, "cost2_mean": -27.69194445973557, "cost1_max": 273.7516649158984, "cost2_max": -1.0437055835828934, "system_level_velocity_max": 12.022118597492804, "cost2_min": -83.50384848472152}, "done": false, "time_total_s": 6208.016456365585, "timesteps_this_iter": 135000, "episode_reward_min": 830.4236501427149, "episodes_this_iter": 36, "episode_len_mean": 749.25, "iterations_since_restore": 73, "time_since_restore": 6208.016456365585, "time_this_iter_s": 84.85194206237793, "pid": 7871, "episode_reward_mean": 1092.1888782622718, "info": {"grad_time_ms": 33071.256, "update_time_ms": 8.319, "num_steps_trained": 9855000, "num_steps_sampled": 9855000, "load_time_ms": 18.909, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3746758699417114, "total_loss": 10.742701530456543, "vf_loss": 10.747115135192871, "vf_explained_var": 0.30591827630996704, "kl": 0.01757301390171051, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007049218751490116}, "sample_time_ms": 52054.443}, "timesteps_total": 9855000, "num_metric_batches_dropped": 0, "episode_reward_max": 1360.6853980266055, "date": "2019-05-16_08-55-49", "training_iteration": 73, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997035, "timesteps_since_restore": 9990000, "episodes_total": 2785, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ec50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc217b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.485991080079067, "cost1_min": 171.56652891355156, "system_level_velocity_mean": 8.736730607091504, "cost1_mean": 220.38908621200036, "cost2_mean": -26.965961795874904, "cost1_max": 263.4944456549971, "cost2_max": -1.0437055835828934, "system_level_velocity_max": 11.40106324239889, "cost2_min": -80.1836054189337}, "done": false, "time_total_s": 6293.952386140823, "timesteps_this_iter": 135000, "episode_reward_min": 830.4236501427149, "episodes_this_iter": 36, "episode_len_mean": 749.25, "iterations_since_restore": 74, "time_since_restore": 6293.952386140823, "time_this_iter_s": 85.93592977523804, "pid": 7871, "episode_reward_mean": 1088.467546475211, "info": {"grad_time_ms": 33217.48, "update_time_ms": 8.284, "num_steps_trained": 9990000, "num_steps_sampled": 9990000, "load_time_ms": 18.603, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3747913837432861, "total_loss": 10.962543487548828, "vf_loss": 10.96581745147705, "vf_explained_var": 0.3263426423072815, "kl": 0.018981995061039925, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006121365819126368}, "sample_time_ms": 52010.326}, "timesteps_total": 9990000, "num_metric_batches_dropped": 0, "episode_reward_max": 1304.2970729754443, "date": "2019-05-16_08-57-15", "training_iteration": 74, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997119, "timesteps_since_restore": 10125000, "episodes_total": 2821, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c3c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c278>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.441218689105213, "cost1_min": 125.17559049808493, "system_level_velocity_mean": 8.658809142183742, "cost1_mean": 218.6254546018623, "cost2_mean": -24.723809812324067, "cost1_max": 263.4944456549971, "cost2_max": -1.0437055835828934, "system_level_velocity_max": 11.335720279014556, "cost2_min": -82.07291379297936}, "done": false, "time_total_s": 6377.934702396393, "timesteps_this_iter": 135000, "episode_reward_min": 609.7503579481635, "episodes_this_iter": 36, "episode_len_mean": 746.98, "iterations_since_restore": 75, "time_since_restore": 6377.934702396393, "time_this_iter_s": 83.98231625556946, "pid": 7871, "episode_reward_mean": 1080.770548495112, "info": {"grad_time_ms": 33090.56, "update_time_ms": 8.412, "num_steps_trained": 10125000, "num_steps_sampled": 10125000, "load_time_ms": 18.722, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3635759353637695, "total_loss": 10.716167449951172, "vf_loss": 10.72004508972168, "vf_explained_var": 0.3510064482688904, "kl": 0.01762313023209572, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006521026138216257}, "sample_time_ms": 51963.174}, "timesteps_total": 10125000, "num_metric_batches_dropped": 0, "episode_reward_max": 1304.2970729754443, "date": "2019-05-16_08-58-39", "training_iteration": 75, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997204, "timesteps_since_restore": 10260000, "episodes_total": 2857, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc240f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24b38>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.441218689105213, "cost1_min": 125.17559049808493, "system_level_velocity_mean": 8.605940399106236, "cost1_mean": 218.1610890724256, "cost2_mean": -25.95956154340695, "cost1_max": 263.4944456549971, "cost2_max": 0.0, "system_level_velocity_max": 11.24095472368153, "cost2_min": -82.07291379297936}, "done": false, "time_total_s": 6462.825743436813, "timesteps_this_iter": 135000, "episode_reward_min": 609.7503579481635, "episodes_this_iter": 36, "episode_len_mean": 747.73, "iterations_since_restore": 76, "time_since_restore": 6462.825743436813, "time_this_iter_s": 84.89104104042053, "pid": 7871, "episode_reward_mean": 1077.8304986722524, "info": {"grad_time_ms": 33052.623, "update_time_ms": 8.368, "num_steps_trained": 10260000, "num_steps_sampled": 10260000, "load_time_ms": 18.802, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.399097204208374, "total_loss": 10.280994415283203, "vf_loss": 10.286201477050781, "vf_explained_var": 0.3531367778778076, "kl": 0.016823526471853256, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0077311755158007145}, "sample_time_ms": 51906.826}, "timesteps_total": 10260000, "num_metric_batches_dropped": 0, "episode_reward_max": 1304.2970729754443, "date": "2019-05-16_09-00-04", "training_iteration": 76, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997289, "timesteps_since_restore": 10395000, "episodes_total": 2893, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42c50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42128>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.441218689105213, "cost1_min": 112.92312749677855, "system_level_velocity_mean": 8.470103341778433, "cost1_mean": 214.92746765177748, "cost2_mean": -27.76203368126556, "cost1_max": 257.5297997254566, "cost2_max": 0.0, "system_level_velocity_max": 10.890900225941868, "cost2_min": -69.19392646862187}, "done": false, "time_total_s": 6547.054305076599, "timesteps_this_iter": 135000, "episode_reward_min": 539.1758906825099, "episodes_this_iter": 36, "episode_len_mean": 744.63, "iterations_since_restore": 77, "time_since_restore": 6547.054305076599, "time_this_iter_s": 84.22856163978577, "pid": 7871, "episode_reward_mean": 1060.7813373590257, "info": {"grad_time_ms": 32926.114, "update_time_ms": 8.584, "num_steps_trained": 10395000, "num_steps_sampled": 10395000, "load_time_ms": 18.778, "default": {"cur_kl_coeff": 0.14999999105930328, "entropy": 1.3971989154815674, "total_loss": 10.608294486999512, "vf_loss": 10.613943099975586, "vf_explained_var": 0.3426789939403534, "kl": 0.020434260368347168, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00871327891945839}, "sample_time_ms": 51802.226}, "timesteps_total": 10395000, "num_metric_batches_dropped": 0, "episode_reward_max": 1279.7999541132644, "date": "2019-05-16_09-01-29", "training_iteration": 77, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997373, "timesteps_since_restore": 10530000, "episodes_total": 2929, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc427b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42e10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.028118837026365, "cost1_min": 112.92312749677855, "system_level_velocity_mean": 8.400709021825335, "cost1_mean": 214.50203206660848, "cost2_mean": -32.192293687976516, "cost1_max": 271.32043968016944, "cost2_max": 0.0, "system_level_velocity_max": 13.08323527233902, "cost2_min": -74.69770346784654}, "done": false, "time_total_s": 6631.846927404404, "timesteps_this_iter": 135000, "episode_reward_min": 539.1758906825099, "episodes_this_iter": 36, "episode_len_mean": 746.9, "iterations_since_restore": 78, "time_since_restore": 6631.846927404404, "time_this_iter_s": 84.79262232780457, "pid": 7871, "episode_reward_mean": 1056.455527157737, "info": {"grad_time_ms": 32869.696, "update_time_ms": 8.512, "num_steps_trained": 10530000, "num_steps_sampled": 10530000, "load_time_ms": 18.677, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4011937379837036, "total_loss": 10.8440523147583, "vf_loss": 10.849960327148438, "vf_explained_var": 0.37371450662612915, "kl": 0.0163035299628973, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009576537646353245}, "sample_time_ms": 51859.704}, "timesteps_total": 10530000, "num_metric_batches_dropped": 0, "episode_reward_max": 1355.3047479677089, "date": "2019-05-16_09-02-53", "training_iteration": 78, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997458, "timesteps_since_restore": 10665000, "episodes_total": 2965, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21c50>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.028118837026365, "cost1_min": 112.92312749677855, "system_level_velocity_mean": 8.428734190754927, "cost1_mean": 215.03539319684677, "cost2_mean": -32.96378790313969, "cost1_max": 271.32043968016944, "cost2_max": -0.4132812700797006, "system_level_velocity_max": 13.08323527233902, "cost2_min": -108.50121811686158}, "done": false, "time_total_s": 6716.830762147903, "timesteps_this_iter": 135000, "episode_reward_min": 539.1758906825099, "episodes_this_iter": 36, "episode_len_mean": 746.18, "iterations_since_restore": 79, "time_since_restore": 6716.830762147903, "time_this_iter_s": 84.98383474349976, "pid": 7871, "episode_reward_mean": 1058.7755356110258, "info": {"grad_time_ms": 32836.67, "update_time_ms": 8.59, "num_steps_trained": 10665000, "num_steps_sampled": 10665000, "load_time_ms": 18.56, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4106791019439697, "total_loss": 11.159111022949219, "vf_loss": 11.16393756866455, "vf_explained_var": 0.3347029685974121, "kl": 0.016284825280308723, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00848912913352251}, "sample_time_ms": 51863.132}, "timesteps_total": 10665000, "num_metric_batches_dropped": 0, "episode_reward_max": 1355.3047479677089, "date": "2019-05-16_09-04-18", "training_iteration": 79, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997543, "timesteps_since_restore": 10800000, "episodes_total": 3001, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc428d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42b70>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.028118837026365, "cost1_min": 136.32750159090568, "system_level_velocity_mean": 8.382541903276504, "cost1_mean": 214.36380248036022, "cost2_mean": -32.08075725393429, "cost1_max": 271.32043968016944, "cost2_max": -0.4132812700797006, "system_level_velocity_max": 13.08323527233902, "cost2_min": -108.50121811686158}, "done": false, "time_total_s": 6801.875106334686, "timesteps_this_iter": 135000, "episode_reward_min": 667.5898478265299, "episodes_this_iter": 36, "episode_len_mean": 746.94, "iterations_since_restore": 80, "time_since_restore": 6801.875106334686, "time_this_iter_s": 85.04434418678284, "pid": 7871, "episode_reward_mean": 1055.8335965431515, "info": {"grad_time_ms": 32810.666, "update_time_ms": 8.645, "num_steps_trained": 10800000, "num_steps_sampled": 10800000, "load_time_ms": 18.68, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4047576189041138, "total_loss": 10.56859016418457, "vf_loss": 10.573123931884766, "vf_explained_var": 0.3579450249671936, "kl": 0.015231695026159286, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007960513234138489}, "sample_time_ms": 51855.719}, "timesteps_total": 10800000, "num_metric_batches_dropped": 0, "episode_reward_max": 1355.3047479677089, "date": "2019-05-16_09-05-43", "training_iteration": 80, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997628, "timesteps_since_restore": 10935000, "episodes_total": 3037, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc421d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.716132478287143, "cost1_min": 87.29636256511228, "system_level_velocity_mean": 8.318336840836393, "cost1_mean": 213.04854766775028, "cost2_mean": -29.14308492899393, "cost1_max": 258.22732391311297, "cost2_max": -0.7189909336770316, "system_level_velocity_max": 10.785283948257424, "cost2_min": -108.50121811686158}, "done": false, "time_total_s": 6886.804071903229, "timesteps_this_iter": 135000, "episode_reward_min": 419.3728531464432, "episodes_this_iter": 36, "episode_len_mean": 744.2, "iterations_since_restore": 81, "time_since_restore": 6886.804071903229, "time_this_iter_s": 84.92896556854248, "pid": 7871, "episode_reward_mean": 1050.7455308745411, "info": {"grad_time_ms": 32873.97, "update_time_ms": 8.587, "num_steps_trained": 10935000, "num_steps_sampled": 10935000, "load_time_ms": 18.676, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4024178981781006, "total_loss": 10.458196640014648, "vf_loss": 10.463032722473145, "vf_explained_var": 0.3574787378311157, "kl": 0.014991655014455318, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008209695108234882}, "sample_time_ms": 51783.907}, "timesteps_total": 10935000, "num_metric_batches_dropped": 0, "episode_reward_max": 1282.1996405209434, "date": "2019-05-16_09-07-08", "training_iteration": 81, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997714, "timesteps_since_restore": 11070000, "episodes_total": 3073, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1ce10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c978>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.716132478287143, "cost1_min": 87.29636256511228, "system_level_velocity_mean": 8.374102690874263, "cost1_mean": 214.44099274848108, "cost2_mean": -29.252735988891512, "cost1_max": 272.5697465531837, "cost2_max": -0.7189909336770316, "system_level_velocity_max": 11.611504553493353, "cost2_min": -70.77595101351571}, "done": false, "time_total_s": 6972.390454053879, "timesteps_this_iter": 135000, "episode_reward_min": 419.3728531464432, "episodes_this_iter": 36, "episode_len_mean": 743.94, "iterations_since_restore": 82, "time_since_restore": 6972.390454053879, "time_this_iter_s": 85.58638215065002, "pid": 7871, "episode_reward_mean": 1057.6446199863638, "info": {"grad_time_ms": 32823.456, "update_time_ms": 8.531, "num_steps_trained": 11070000, "num_steps_sampled": 11070000, "load_time_ms": 18.773, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4082441329956055, "total_loss": 10.65606689453125, "vf_loss": 10.661558151245117, "vf_explained_var": 0.37735480070114136, "kl": 0.01608549989759922, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009110523387789726}, "sample_time_ms": 51859.588}, "timesteps_total": 11070000, "num_metric_batches_dropped": 0, "episode_reward_max": 1350.904298191241, "date": "2019-05-16_09-08-34", "training_iteration": 82, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997799, "timesteps_since_restore": 11205000, "episodes_total": 3109, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc428d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42b70>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.716132478287143, "cost1_min": 87.29636256511228, "system_level_velocity_mean": 8.499336761824884, "cost1_mean": 217.01117657987058, "cost2_mean": -28.972913418582134, "cost1_max": 272.5697465531837, "cost2_max": -0.12693183175533737, "system_level_velocity_max": 11.678217506761767, "cost2_min": -62.58747410616045}, "done": false, "time_total_s": 7057.624206066132, "timesteps_this_iter": 135000, "episode_reward_min": 419.3728531464432, "episodes_this_iter": 36, "episode_len_mean": 746.28, "iterations_since_restore": 83, "time_since_restore": 7057.624206066132, "time_this_iter_s": 85.23375201225281, "pid": 7871, "episode_reward_mean": 1070.6800834318237, "info": {"grad_time_ms": 32865.724, "update_time_ms": 8.493, "num_steps_trained": 11205000, "num_steps_sampled": 11205000, "load_time_ms": 18.89, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4131399393081665, "total_loss": 10.935796737670898, "vf_loss": 10.940408706665039, "vf_explained_var": 0.3403474986553192, "kl": 0.01555566769093275, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008112127892673016}, "sample_time_ms": 51855.74}, "timesteps_total": 11205000, "num_metric_batches_dropped": 0, "episode_reward_max": 1350.904298191241, "date": "2019-05-16_09-09-59", "training_iteration": 83, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997885, "timesteps_since_restore": 11340000, "episodes_total": 3145, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc420f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42320>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 7.068004392161005, "cost1_min": 181.3303835692414, "system_level_velocity_mean": 8.592187788821414, "cost1_mean": 219.3354850178022, "cost2_mean": -29.58814211879924, "cost1_max": 272.5697465531837, "cost2_max": -0.12693183175533737, "system_level_velocity_max": 11.678217506761767, "cost2_min": -62.58747410616045}, "done": false, "time_total_s": 7142.790299415588, "timesteps_this_iter": 135000, "episode_reward_min": 886.3712233456255, "episodes_this_iter": 36, "episode_len_mean": 749.74, "iterations_since_restore": 84, "time_since_restore": 7142.790299415588, "time_this_iter_s": 85.16609334945679, "pid": 7871, "episode_reward_mean": 1081.9302370058451, "info": {"grad_time_ms": 32729.54, "update_time_ms": 8.587, "num_steps_trained": 11340000, "num_steps_sampled": 11340000, "load_time_ms": 19.205, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.411464810371399, "total_loss": 10.696737289428711, "vf_loss": 10.700501441955566, "vf_explained_var": 0.33577248454093933, "kl": 0.014821645803749561, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0070970975793898106}, "sample_time_ms": 51913.875}, "timesteps_total": 11340000, "num_metric_batches_dropped": 0, "episode_reward_max": 1350.904298191241, "date": "2019-05-16_09-11-25", "training_iteration": 84, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557997971, "timesteps_since_restore": 11475000, "episodes_total": 3181, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cc88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c828>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.455991018360833, "cost1_min": 116.96932915140759, "system_level_velocity_mean": 8.548911297025358, "cost1_mean": 217.06073626440684, "cost2_mean": -31.999793738096876, "cost1_max": 265.29478125961947, "cost2_max": -0.12693183175533737, "system_level_velocity_max": 11.678217506761767, "cost2_min": -77.41023800380574}, "done": false, "time_total_s": 7228.788932085037, "timesteps_this_iter": 135000, "episode_reward_min": 574.2357055861883, "episodes_this_iter": 36, "episode_len_mean": 747.53, "iterations_since_restore": 85, "time_since_restore": 7228.788932085037, "time_this_iter_s": 85.99863266944885, "pid": 7871, "episode_reward_mean": 1069.4093047769422, "info": {"grad_time_ms": 32887.478, "update_time_ms": 8.599, "num_steps_trained": 11475000, "num_steps_sampled": 11475000, "load_time_ms": 18.97, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4376190900802612, "total_loss": 11.09241771697998, "vf_loss": 11.09737491607666, "vf_explained_var": 0.361833393573761, "kl": 0.014999964274466038, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008331498131155968}, "sample_time_ms": 51958.766}, "timesteps_total": 11475000, "num_metric_batches_dropped": 0, "episode_reward_max": 1314.151775348801, "date": "2019-05-16_09-12-51", "training_iteration": 85, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998056, "timesteps_since_restore": 11610000, "episodes_total": 3217, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21da0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.455991018360833, "cost1_min": 100.58177272965627, "system_level_velocity_mean": 8.56058745007006, "cost1_mean": 216.05854750514303, "cost2_mean": -35.30654421659825, "cost1_max": 265.8105499199566, "cost2_max": -1.084448851498892, "system_level_velocity_max": 12.300099213943133, "cost2_min": -85.25668689888636}, "done": false, "time_total_s": 7314.598650932312, "timesteps_this_iter": 135000, "episode_reward_min": 490.4437900789705, "episodes_this_iter": 36, "episode_len_mean": 744.8, "iterations_since_restore": 86, "time_since_restore": 7314.598650932312, "time_this_iter_s": 85.80971884727478, "pid": 7871, "episode_reward_mean": 1062.7517804654613, "info": {"grad_time_ms": 32944.546, "update_time_ms": 8.569, "num_steps_trained": 11610000, "num_steps_sampled": 11610000, "load_time_ms": 18.961, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4325228929519653, "total_loss": 10.943540573120117, "vf_loss": 10.947360038757324, "vf_explained_var": 0.3583677411079407, "kl": 0.015708765015006065, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007352906744927168}, "sample_time_ms": 51995.261}, "timesteps_total": 11610000, "num_metric_batches_dropped": 0, "episode_reward_max": 1325.1853567603196, "date": "2019-05-16_09-14-16", "training_iteration": 86, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998142, "timesteps_since_restore": 11745000, "episodes_total": 3253, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21a58>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.455991018360833, "cost1_min": 100.58177272965627, "system_level_velocity_mean": 8.59355609744753, "cost1_mean": 217.5811427528149, "cost2_mean": -38.91344664238527, "cost1_max": 265.8105499199566, "cost2_max": -1.2737296846051231, "system_level_velocity_max": 12.300099213943133, "cost2_min": -85.25668689888636}, "done": false, "time_total_s": 7399.634976148605, "timesteps_this_iter": 135000, "episode_reward_min": 490.4437900789705, "episodes_this_iter": 36, "episode_len_mean": 747.27, "iterations_since_restore": 87, "time_since_restore": 7399.634976148605, "time_this_iter_s": 85.03632521629333, "pid": 7871, "episode_reward_mean": 1068.559209045257, "info": {"grad_time_ms": 33003.321, "update_time_ms": 8.297, "num_steps_trained": 11745000, "num_steps_sampled": 11745000, "load_time_ms": 19.066, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4323902130126953, "total_loss": 10.995682716369629, "vf_loss": 11.00001049041748, "vf_explained_var": 0.29972043633461, "kl": 0.01609673723578453, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00794874969869852}, "sample_time_ms": 52015.617}, "timesteps_total": 11745000, "num_metric_batches_dropped": 0, "episode_reward_max": 1325.1853567603196, "date": "2019-05-16_09-15-42", "training_iteration": 87, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998228, "timesteps_since_restore": 11880000, "episodes_total": 3289, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24da0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.140590051399187, "cost1_min": 59.497222724858915, "system_level_velocity_mean": 8.48915255661191, "cost1_mean": 215.71493394744866, "cost2_mean": -39.24166290997621, "cost1_max": 255.81334455347422, "cost2_max": -1.4218617970988872, "system_level_velocity_max": 11.083840108447529, "cost2_min": -85.25668689888636}, "done": false, "time_total_s": 7485.836751461029, "timesteps_this_iter": 135000, "episode_reward_min": 286.3878509320107, "episodes_this_iter": 36, "episode_len_mean": 746.43, "iterations_since_restore": 88, "time_since_restore": 7485.836751461029, "time_this_iter_s": 86.2017753124237, "pid": 7871, "episode_reward_mean": 1059.0664160394588, "info": {"grad_time_ms": 33129.281, "update_time_ms": 8.401, "num_steps_trained": 11880000, "num_steps_sampled": 11880000, "load_time_ms": 19.296, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4279102087020874, "total_loss": 11.153731346130371, "vf_loss": 11.15827751159668, "vf_explained_var": 0.3857842981815338, "kl": 0.015915196388959885, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008126192726194859}, "sample_time_ms": 52029.291}, "timesteps_total": 11880000, "num_metric_batches_dropped": 0, "episode_reward_max": 1272.5172599906166, "date": "2019-05-16_09-17-08", "training_iteration": 88, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998314, "timesteps_since_restore": 12015000, "episodes_total": 3325, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21ba8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.140590051399187, "cost1_min": 59.497222724858915, "system_level_velocity_mean": 8.543064746709195, "cost1_mean": 216.69098546116015, "cost2_mean": -38.10077307308675, "cost1_max": 275.7121921443991, "cost2_max": -1.4218617970988872, "system_level_velocity_max": 12.476336648559185, "cost2_min": -82.52741408118234}, "done": false, "time_total_s": 7572.081866502762, "timesteps_this_iter": 135000, "episode_reward_min": 286.3878509320107, "episodes_this_iter": 36, "episode_len_mean": 744.96, "iterations_since_restore": 89, "time_since_restore": 7572.081866502762, "time_this_iter_s": 86.24511504173279, "pid": 7871, "episode_reward_mean": 1064.570236724872, "info": {"grad_time_ms": 33155.974, "update_time_ms": 8.472, "num_steps_trained": 12015000, "num_steps_sampled": 12015000, "load_time_ms": 19.218, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.434442162513733, "total_loss": 11.08602237701416, "vf_loss": 11.090435028076172, "vf_explained_var": 0.35204747319221497, "kl": 0.016117211431264877, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008037524297833443}, "sample_time_ms": 52129.911}, "timesteps_total": 12015000, "num_metric_batches_dropped": 0, "episode_reward_max": 1372.0151632462953, "date": "2019-05-16_09-18-34", "training_iteration": 89, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998400, "timesteps_since_restore": 12150000, "episodes_total": 3361, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc342b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34470>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.713462494967415, "cost1_min": 132.9987317510496, "system_level_velocity_mean": 8.612478198178769, "cost1_mean": 218.9140793356286, "cost2_mean": -38.38460753632572, "cost1_max": 275.7121921443991, "cost2_max": -0.8963683521748055, "system_level_velocity_max": 12.476336648559185, "cost2_min": -80.6926350355769}, "done": false, "time_total_s": 7657.581942558289, "timesteps_this_iter": 135000, "episode_reward_min": 638.4652933152014, "episodes_this_iter": 36, "episode_len_mean": 748.53, "iterations_since_restore": 90, "time_since_restore": 7657.581942558289, "time_this_iter_s": 85.50007605552673, "pid": 7871, "episode_reward_mean": 1075.4873912438052, "info": {"grad_time_ms": 33185.564, "update_time_ms": 8.329, "num_steps_trained": 12150000, "num_steps_sampled": 12150000, "load_time_ms": 19.422, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4341895580291748, "total_loss": 10.663329124450684, "vf_loss": 10.668280601501465, "vf_explained_var": 0.3297517001628876, "kl": 0.014697879552841187, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008260209113359451}, "sample_time_ms": 52147.547}, "timesteps_total": 12150000, "num_metric_batches_dropped": 0, "episode_reward_max": 1372.0151632462953, "date": "2019-05-16_09-20-00", "training_iteration": 90, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998485, "timesteps_since_restore": 12285000, "episodes_total": 3398, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24b38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24390>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.466438456397874, "cost1_min": 49.75436567375371, "system_level_velocity_mean": 8.736446615270353, "cost1_mean": 219.41997458113372, "cost2_mean": -36.844061225746344, "cost1_max": 275.7121921443991, "cost2_max": -0.8963683521748055, "system_level_velocity_max": 12.476336648559185, "cost2_min": -80.6926350355769}, "done": false, "time_total_s": 7742.66379737854, "timesteps_this_iter": 135000, "episode_reward_min": 243.88377298620173, "episodes_this_iter": 37, "episode_len_mean": 743.49, "iterations_since_restore": 91, "time_since_restore": 7742.66379737854, "time_this_iter_s": 85.08185482025146, "pid": 7871, "episode_reward_mean": 1078.8317805035376, "info": {"grad_time_ms": 33166.423, "update_time_ms": 8.348, "num_steps_trained": 12285000, "num_steps_sampled": 12285000, "load_time_ms": 19.274, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4162973165512085, "total_loss": 11.084073066711426, "vf_loss": 11.088521003723145, "vf_explained_var": 0.3499045670032501, "kl": 0.015970267355442047, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00804003607481718}, "sample_time_ms": 52182.704}, "timesteps_total": 12285000, "num_metric_batches_dropped": 0, "episode_reward_max": 1372.0151632462953, "date": "2019-05-16_09-21-25", "training_iteration": 91, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998571, "timesteps_since_restore": 12420000, "episodes_total": 3434, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42ba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42400>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.5370552763974015, "cost1_min": 49.75436567375371, "system_level_velocity_mean": 8.635722899423369, "cost1_mean": 216.8307575998253, "cost2_mean": -35.55279685899703, "cost1_max": 272.89941791843046, "cost2_max": -0.8963683521748055, "system_level_velocity_max": 12.361864889907729, "cost2_min": -84.26559867813495}, "done": false, "time_total_s": 7828.791547060013, "timesteps_this_iter": 135000, "episode_reward_min": 243.88377298620173, "episodes_this_iter": 36, "episode_len_mean": 743.08, "iterations_since_restore": 92, "time_since_restore": 7828.791547060013, "time_this_iter_s": 86.12774968147278, "pid": 7871, "episode_reward_mean": 1066.7865842728115, "info": {"grad_time_ms": 33249.157, "update_time_ms": 8.433, "num_steps_trained": 12420000, "num_steps_sampled": 12420000, "load_time_ms": 19.276, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.435829520225525, "total_loss": 10.951338768005371, "vf_loss": 10.955758094787598, "vf_explained_var": 0.3991091847419739, "kl": 0.014541557990014553, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007690866012126207}, "sample_time_ms": 52154.883}, "timesteps_total": 12420000, "num_metric_batches_dropped": 0, "episode_reward_max": 1359.2128960730345, "date": "2019-05-16_09-22-51", "training_iteration": 92, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998656, "timesteps_since_restore": 12555000, "episodes_total": 3470, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34cc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.5370552763974015, "cost1_min": 92.934823619528, "system_level_velocity_mean": 8.730197791824091, "cost1_mean": 219.32602354608233, "cost2_mean": -34.73214134122869, "cost1_max": 272.89941791843046, "cost2_max": -0.9361516251176177, "system_level_velocity_max": 12.361864889907729, "cost2_min": -84.26559867813495}, "done": false, "time_total_s": 7914.071942806244, "timesteps_this_iter": 135000, "episode_reward_min": 448.023945416404, "episodes_this_iter": 36, "episode_len_mean": 746.89, "iterations_since_restore": 93, "time_since_restore": 7914.071942806244, "time_this_iter_s": 85.28039574623108, "pid": 7871, "episode_reward_mean": 1079.6707558149542, "info": {"grad_time_ms": 33247.875, "update_time_ms": 8.432, "num_steps_trained": 12555000, "num_steps_sampled": 12555000, "load_time_ms": 19.206, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4372340440750122, "total_loss": 10.607756614685059, "vf_loss": 10.612939834594727, "vf_explained_var": 0.3516685664653778, "kl": 0.015935106202960014, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00876862183213234}, "sample_time_ms": 52160.86}, "timesteps_total": 12555000, "num_metric_batches_dropped": 0, "episode_reward_max": 1359.2128960730345, "date": "2019-05-16_09-24-16", "training_iteration": 93, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998742, "timesteps_since_restore": 12690000, "episodes_total": 3506, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21a58>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21400>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.5370552763974015, "cost1_min": 92.934823619528, "system_level_velocity_mean": 8.600218191908152, "cost1_mean": 216.61087814923997, "cost2_mean": -33.40612747459481, "cost1_max": 256.83526029439685, "cost2_max": -1.3915318155354417, "system_level_velocity_max": 11.23799377523209, "cost2_min": -84.26559867813495}, "done": false, "time_total_s": 7999.556529521942, "timesteps_this_iter": 135000, "episode_reward_min": 448.023945416404, "episodes_this_iter": 36, "episode_len_mean": 744.26, "iterations_since_restore": 94, "time_since_restore": 7999.556529521942, "time_this_iter_s": 85.48458671569824, "pid": 7871, "episode_reward_mean": 1066.6203616038463, "info": {"grad_time_ms": 33268.52, "update_time_ms": 8.414, "num_steps_trained": 12690000, "num_steps_sampled": 12690000, "load_time_ms": 19.044, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.431509256362915, "total_loss": 10.37629508972168, "vf_loss": 10.381386756896973, "vf_explained_var": 0.3672759234905243, "kl": 0.015494978055357933, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008578639477491379}, "sample_time_ms": 52168.408}, "timesteps_total": 12690000, "num_metric_batches_dropped": 0, "episode_reward_max": 1273.1156504845924, "date": "2019-05-16_09-25-42", "training_iteration": 94, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998826, "timesteps_since_restore": 12825000, "episodes_total": 3542, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34a20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34ba8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.641903266649605, "cost1_min": 101.76346396980534, "system_level_velocity_mean": 8.729278650133558, "cost1_mean": 218.40645918465623, "cost2_mean": -28.122860303195488, "cost1_max": 269.31359294046536, "cost2_max": 0.0, "system_level_velocity_max": 11.510468255202609, "cost2_min": -66.83914864890187}, "done": false, "time_total_s": 8084.055534362793, "timesteps_this_iter": 135000, "episode_reward_min": 494.42853608783463, "episodes_this_iter": 36, "episode_len_mean": 746.14, "iterations_since_restore": 95, "time_since_restore": 8084.055534362793, "time_this_iter_s": 84.49900484085083, "pid": 7871, "episode_reward_mean": 1077.9842253690754, "info": {"grad_time_ms": 33122.372, "update_time_ms": 8.289, "num_steps_trained": 12825000, "num_steps_sampled": 12825000, "load_time_ms": 19.321, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4376392364501953, "total_loss": 10.909934043884277, "vf_loss": 10.915379524230957, "vf_explained_var": 0.3674357533454895, "kl": 0.015379630960524082, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008904825896024704}, "sample_time_ms": 52163.229}, "timesteps_total": 12825000, "num_metric_batches_dropped": 0, "episode_reward_max": 1337.1734089561019, "date": "2019-05-16_09-27-06", "training_iteration": 95, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998913, "timesteps_since_restore": 12960000, "episodes_total": 3578, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc422e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604a6ef0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc421d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.100444337254261, "cost1_min": 91.32080566282083, "system_level_velocity_mean": 8.591379710353957, "cost1_mean": 216.0342462298139, "cost2_mean": -28.70674181664997, "cost1_max": 269.31359294046536, "cost2_max": 0.0, "system_level_velocity_max": 11.510468255202609, "cost2_min": -112.5301443902199}, "done": false, "time_total_s": 8170.576773643494, "timesteps_this_iter": 135000, "episode_reward_min": 422.0540641220394, "episodes_this_iter": 36, "episode_len_mean": 746.02, "iterations_since_restore": 96, "time_since_restore": 8170.576773643494, "time_this_iter_s": 86.52123928070068, "pid": 7871, "episode_reward_mean": 1066.0385282692507, "info": {"grad_time_ms": 33116.027, "update_time_ms": 8.296, "num_steps_trained": 12960000, "num_steps_sampled": 12960000, "load_time_ms": 19.352, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4321626424789429, "total_loss": 10.835704803466797, "vf_loss": 10.840648651123047, "vf_explained_var": 0.356162965297699, "kl": 0.016546525061130524, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008666910231113434}, "sample_time_ms": 52240.394}, "timesteps_total": 12960000, "num_metric_batches_dropped": 0, "episode_reward_max": 1337.1734089561019, "date": "2019-05-16_09-28-33", "training_iteration": 96, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557998999, "timesteps_since_restore": 13095000, "episodes_total": 3614, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc347b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34c88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34e80>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.100444337254261, "cost1_min": 91.32080566282083, "system_level_velocity_mean": 8.69488123730356, "cost1_mean": 218.96169084700838, "cost2_mean": -28.699247452098785, "cost1_max": 269.31359294046536, "cost2_max": 0.0, "system_level_velocity_max": 11.694500435794232, "cost2_min": -112.5301443902199}, "done": false, "time_total_s": 8256.104633569717, "timesteps_this_iter": 135000, "episode_reward_min": 422.0540641220394, "episodes_this_iter": 36, "episode_len_mean": 748.65, "iterations_since_restore": 97, "time_since_restore": 8256.104633569717, "time_this_iter_s": 85.52785992622375, "pid": 7871, "episode_reward_mean": 1080.6768775379194, "info": {"grad_time_ms": 33151.499, "update_time_ms": 8.294, "num_steps_trained": 13095000, "num_steps_sampled": 13095000, "load_time_ms": 19.342, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4521726369857788, "total_loss": 10.133716583251953, "vf_loss": 10.13940143585205, "vf_explained_var": 0.3440669775009155, "kl": 0.015986664220690727, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009281198494136333}, "sample_time_ms": 52255.161}, "timesteps_total": 13095000, "num_metric_batches_dropped": 0, "episode_reward_max": 1337.1734089561019, "date": "2019-05-16_09-29-59", "training_iteration": 97, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999084, "timesteps_since_restore": 13230000, "episodes_total": 3650, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc346a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc349b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34a20>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.449571696806789, "cost1_min": 167.96171404594583, "system_level_velocity_mean": 8.721191779426652, "cost1_mean": 220.53924002500503, "cost2_mean": -27.74016417372608, "cost1_max": 261.1086982256693, "cost2_max": -0.4054167667811036, "system_level_velocity_max": 11.694500435794232, "cost2_min": -79.59520731541419}, "done": false, "time_total_s": 8341.75911641121, "timesteps_this_iter": 135000, "episode_reward_min": 814.0970249877606, "episodes_this_iter": 36, "episode_len_mean": 749.68, "iterations_since_restore": 98, "time_since_restore": 8341.75911641121, "time_this_iter_s": 85.6544828414917, "pid": 7871, "episode_reward_mean": 1088.8270139870579, "info": {"grad_time_ms": 33121.005, "update_time_ms": 8.209, "num_steps_trained": 13230000, "num_steps_sampled": 13230000, "load_time_ms": 19.296, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.457262396812439, "total_loss": 10.974980354309082, "vf_loss": 10.980164527893066, "vf_explained_var": 0.307902991771698, "kl": 0.015148610807955265, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008593611419200897}, "sample_time_ms": 52230.664}, "timesteps_total": 13230000, "num_metric_batches_dropped": 0, "episode_reward_max": 1298.2995330378917, "date": "2019-05-16_09-31-24", "training_iteration": 98, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999170, "timesteps_since_restore": 13365000, "episodes_total": 3687, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42dd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc421d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.3732574768263275, "cost1_min": 69.02987523451958, "system_level_velocity_mean": 8.799738387738499, "cost1_mean": 220.2901446812027, "cost2_mean": -29.509337073516296, "cost1_max": 259.6256625955259, "cost2_max": -1.360116278586409, "system_level_velocity_max": 11.694500435794232, "cost2_min": -79.59520731541419}, "done": false, "time_total_s": 8427.239533424377, "timesteps_this_iter": 135000, "episode_reward_min": 340.84398629592164, "episodes_this_iter": 37, "episode_len_mean": 745.4, "iterations_since_restore": 99, "time_since_restore": 8427.239533424377, "time_this_iter_s": 85.48041701316833, "pid": 7871, "episode_reward_mean": 1086.7081418744356, "info": {"grad_time_ms": 33085.238, "update_time_ms": 8.176, "num_steps_trained": 13365000, "num_steps_sampled": 13365000, "load_time_ms": 19.425, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4579933881759644, "total_loss": 11.03336238861084, "vf_loss": 11.038905143737793, "vf_explained_var": 0.33422374725341797, "kl": 0.015853121876716614, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009109186939895153}, "sample_time_ms": 52189.648}, "timesteps_total": 13365000, "num_metric_batches_dropped": 0, "episode_reward_max": 1294.369836131426, "date": "2019-05-16_09-32-50", "training_iteration": 99, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999255, "timesteps_since_restore": 13500000, "episodes_total": 3723, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34cf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34358>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.03008390369057, "cost1_min": 69.02987523451958, "system_level_velocity_mean": 8.788485269836288, "cost1_mean": 219.98823504200584, "cost2_mean": -30.145966496998096, "cost1_max": 271.29139773285124, "cost2_max": -1.360116278586409, "system_level_velocity_max": 12.370302438273667, "cost2_min": -69.236393342436}, "done": false, "time_total_s": 8512.863075971603, "timesteps_this_iter": 135000, "episode_reward_min": 340.84398629592164, "episodes_this_iter": 36, "episode_len_mean": 745.4, "iterations_since_restore": 100, "time_since_restore": 8512.863075971603, "time_this_iter_s": 85.62354254722595, "pid": 7871, "episode_reward_mean": 1084.880372849723, "info": {"grad_time_ms": 33075.417, "update_time_ms": 8.089, "num_steps_trained": 13500000, "num_steps_sampled": 13500000, "load_time_ms": 19.26, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4476872682571411, "total_loss": 11.06155014038086, "vf_loss": 11.065874099731445, "vf_explained_var": 0.32627496123313904, "kl": 0.01467846892774105, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007626080885529518}, "sample_time_ms": 52210.643}, "timesteps_total": 13500000, "num_metric_batches_dropped": 0, "episode_reward_max": 1348.797777261465, "date": "2019-05-16_09-34-15", "training_iteration": 100, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999342, "timesteps_since_restore": 13635000, "episodes_total": 3760, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ee80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2edd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e320>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.120741814565953, "cost1_min": 69.02987523451958, "system_level_velocity_mean": 8.845796597996312, "cost1_mean": 219.39669574229418, "cost2_mean": -31.78045339388744, "cost1_max": 271.29139773285124, "cost2_max": -0.5765898647431036, "system_level_velocity_max": 12.370302438273667, "cost2_min": -69.13271080186955}, "done": false, "time_total_s": 8599.212426185608, "timesteps_this_iter": 135000, "episode_reward_min": 340.84398629592164, "episodes_this_iter": 37, "episode_len_mean": 741.13, "iterations_since_restore": 101, "time_since_restore": 8599.212426185608, "time_this_iter_s": 86.34935021400452, "pid": 7871, "episode_reward_mean": 1081.1138711622782, "info": {"grad_time_ms": 33104.442, "update_time_ms": 8.147, "num_steps_trained": 13635000, "num_steps_sampled": 13635000, "load_time_ms": 19.46, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4742182493209839, "total_loss": 11.252826690673828, "vf_loss": 11.258095741271973, "vf_explained_var": 0.3454335033893585, "kl": 0.016662517562508583, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009018712677061558}, "sample_time_ms": 52305.95}, "timesteps_total": 13635000, "num_metric_batches_dropped": 0, "episode_reward_max": 1348.797777261465, "date": "2019-05-16_09-35-42", "training_iteration": 101, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999427, "timesteps_since_restore": 13770000, "episodes_total": 3796, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34ba8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.120741814565953, "cost1_min": 82.12048651988607, "system_level_velocity_mean": 8.876015259736935, "cost1_mean": 220.95654717870352, "cost2_mean": -32.41911314827318, "cost1_max": 271.29139773285124, "cost2_max": -0.5765898647431036, "system_level_velocity_max": 12.370302438273667, "cost2_min": -72.7896062189572}, "done": false, "time_total_s": 8684.30342912674, "timesteps_this_iter": 135000, "episode_reward_min": 405.0892963497331, "episodes_this_iter": 36, "episode_len_mean": 745.73, "iterations_since_restore": 102, "time_since_restore": 8684.30342912674, "time_this_iter_s": 85.09100294113159, "pid": 7871, "episode_reward_mean": 1088.5819840627023, "info": {"grad_time_ms": 33040.258, "update_time_ms": 8.121, "num_steps_trained": 13770000, "num_steps_sampled": 13770000, "load_time_ms": 19.183, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4570940732955933, "total_loss": 11.304227828979492, "vf_loss": 11.308996200561523, "vf_explained_var": 0.34892794489860535, "kl": 0.01648879423737526, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00847785733640194}, "sample_time_ms": 52264.79}, "timesteps_total": 13770000, "num_metric_batches_dropped": 0, "episode_reward_max": 1348.797777261465, "date": "2019-05-16_09-37-07", "training_iteration": 102, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999514, "timesteps_since_restore": 13905000, "episodes_total": 3832, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34780>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.120741814565953, "cost1_min": 81.6716563038968, "system_level_velocity_mean": 9.002292219515537, "cost1_mean": 221.35307976021915, "cost2_mean": -33.38826929972872, "cost1_max": 286.25273418538535, "cost2_max": 0.0, "system_level_velocity_max": 13.605981241820004, "cost2_min": -72.7896062189572}, "done": false, "time_total_s": 8770.894577264786, "timesteps_this_iter": 135000, "episode_reward_min": 399.6596836508186, "episodes_this_iter": 36, "episode_len_mean": 740.87, "iterations_since_restore": 103, "time_since_restore": 8770.894577264786, "time_this_iter_s": 86.59114813804626, "pid": 7871, "episode_reward_mean": 1090.0811277441153, "info": {"grad_time_ms": 33162.99, "update_time_ms": 8.292, "num_steps_trained": 13905000, "num_steps_sampled": 13905000, "load_time_ms": 19.01, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4756042957305908, "total_loss": 11.052305221557617, "vf_loss": 11.05595588684082, "vf_explained_var": 0.3062082827091217, "kl": 0.016009172424674034, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0072535001672804356}, "sample_time_ms": 52273.942}, "timesteps_total": 13905000, "num_metric_batches_dropped": 0, "episode_reward_max": 1422.4437607857385, "date": "2019-05-16_09-38-34", "training_iteration": 103, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999598, "timesteps_since_restore": 14040000, "episodes_total": 3868, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42e10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42a90>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.44667932796786, "cost1_min": 81.6716563038968, "system_level_velocity_mean": 8.94998132725841, "cost1_mean": 220.70235001405698, "cost2_mean": -37.0669070867212, "cost1_max": 286.25273418538535, "cost2_max": 0.0, "system_level_velocity_max": 13.605981241820004, "cost2_min": -84.7696651356161}, "done": false, "time_total_s": 8855.62213754654, "timesteps_this_iter": 135000, "episode_reward_min": 399.6596836508186, "episodes_this_iter": 36, "episode_len_mean": 745.14, "iterations_since_restore": 104, "time_since_restore": 8855.62213754654, "time_this_iter_s": 84.72756028175354, "pid": 7871, "episode_reward_mean": 1084.9798739121525, "info": {"grad_time_ms": 33141.307, "update_time_ms": 8.159, "num_steps_trained": 14040000, "num_steps_sampled": 14040000, "load_time_ms": 19.074, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5043433904647827, "total_loss": 11.285024642944336, "vf_loss": 11.289942741394043, "vf_explained_var": 0.3045273721218109, "kl": 0.01577211730182171, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00846599880605936}, "sample_time_ms": 52222.302}, "timesteps_total": 14040000, "num_metric_batches_dropped": 0, "episode_reward_max": 1422.4437607857385, "date": "2019-05-16_09-39-58", "training_iteration": 104, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999683, "timesteps_since_restore": 14175000, "episodes_total": 3904, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34b70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34f60>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.1556718215825494, "cost1_min": 37.46494155443719, "system_level_velocity_mean": 8.95128594978578, "cost1_mean": 219.86597366585895, "cost2_mean": -39.87953672685932, "cost1_max": 286.25273418538535, "cost2_max": 0.0, "system_level_velocity_max": 13.605981241820004, "cost2_min": -84.7696651356161}, "done": false, "time_total_s": 8940.505235433578, "timesteps_this_iter": 135000, "episode_reward_min": 183.64490166336168, "episodes_this_iter": 36, "episode_len_mean": 739.73, "iterations_since_restore": 105, "time_since_restore": 8940.505235433578, "time_this_iter_s": 84.88309788703918, "pid": 7871, "episode_reward_mean": 1079.3973307725123, "info": {"grad_time_ms": 33175.306, "update_time_ms": 8.164, "num_steps_trained": 14175000, "num_steps_sampled": 14175000, "load_time_ms": 18.965, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.4900765419006348, "total_loss": 11.283914566040039, "vf_loss": 11.289379119873047, "vf_explained_var": 0.36966580152511597, "kl": 0.01670333929359913, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009222890250384808}, "sample_time_ms": 52226.061}, "timesteps_total": 14175000, "num_metric_batches_dropped": 0, "episode_reward_max": 1422.4437607857385, "date": "2019-05-16_09-41-23", "training_iteration": 105, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999767, "timesteps_since_restore": 14310000, "episodes_total": 3941, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34d68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.1556718215825494, "cost1_min": 37.46494155443719, "system_level_velocity_mean": 8.690987114270026, "cost1_mean": 213.2274145836891, "cost2_mean": -38.033938644911636, "cost1_max": 279.9632202895058, "cost2_max": -0.2542838931832171, "system_level_velocity_max": 13.406907573272944, "cost2_min": -84.7696651356161}, "done": false, "time_total_s": 9024.333198785782, "timesteps_this_iter": 135000, "episode_reward_min": 183.64490166336168, "episodes_this_iter": 37, "episode_len_mean": 734.03, "iterations_since_restore": 106, "time_since_restore": 9024.333198785782, "time_this_iter_s": 83.82796335220337, "pid": 7871, "episode_reward_mean": 1047.161294562219, "info": {"grad_time_ms": 33049.623, "update_time_ms": 8.252, "num_steps_trained": 14310000, "num_steps_sampled": 14310000, "load_time_ms": 18.859, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.50312340259552, "total_loss": 11.433977127075195, "vf_loss": 11.439626693725586, "vf_explained_var": 0.3292292356491089, "kl": 0.016245704144239426, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009304363280534744}, "sample_time_ms": 52082.487}, "timesteps_total": 14310000, "num_metric_batches_dropped": 0, "episode_reward_max": 1377.884375071968, "date": "2019-05-16_09-42-47", "training_iteration": 106, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999853, "timesteps_since_restore": 14445000, "episodes_total": 3977, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e7f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e978>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.883060250745276, "cost1_min": 57.10089627350291, "system_level_velocity_mean": 8.78771570809488, "cost1_mean": 215.54331370474, "cost2_mean": -36.90961112964356, "cost1_max": 279.9632202895058, "cost2_max": -0.2542838931832171, "system_level_velocity_max": 13.406907573272944, "cost2_min": -81.97530239746268}, "done": false, "time_total_s": 9109.635716199875, "timesteps_this_iter": 135000, "episode_reward_min": 278.0007916746719, "episodes_this_iter": 36, "episode_len_mean": 738.21, "iterations_since_restore": 107, "time_since_restore": 9109.635716199875, "time_this_iter_s": 85.30251741409302, "pid": 7871, "episode_reward_mean": 1059.3245517275332, "info": {"grad_time_ms": 32996.84, "update_time_ms": 8.243, "num_steps_trained": 14445000, "num_steps_sampled": 14445000, "load_time_ms": 18.712, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.525736689567566, "total_loss": 11.162176132202148, "vf_loss": 11.16699504852295, "vf_explained_var": 0.3630070984363556, "kl": 0.016616003587841988, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008556957356631756}, "sample_time_ms": 52112.796}, "timesteps_total": 14445000, "num_metric_batches_dropped": 0, "episode_reward_max": 1377.884375071968, "date": "2019-05-16_09-44-13", "training_iteration": 107, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1557999938, "timesteps_since_restore": 14580000, "episodes_total": 4013, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42ba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.7636978132998276, "cost1_min": 57.10089627350291, "system_level_velocity_mean": 8.58569843508427, "cost1_mean": 212.27724639780652, "cost2_mean": -34.659493150805915, "cost1_max": 279.9632202895058, "cost2_max": -4.417213504306977, "system_level_velocity_max": 12.612610029489646, "cost2_min": -70.96411872462026}, "done": false, "time_total_s": 9194.53293967247, "timesteps_this_iter": 135000, "episode_reward_min": 278.0007916746719, "episodes_this_iter": 36, "episode_len_mean": 741.04, "iterations_since_restore": 108, "time_since_restore": 9194.53293967247, "time_this_iter_s": 84.89722347259521, "pid": 7871, "episode_reward_mean": 1044.1215439933853, "info": {"grad_time_ms": 32972.974, "update_time_ms": 8.237, "num_steps_trained": 14580000, "num_steps_sampled": 14580000, "load_time_ms": 18.735, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5165315866470337, "total_loss": 10.906572341918945, "vf_loss": 10.911705017089844, "vf_explained_var": 0.34029653668403625, "kl": 0.016458233818411827, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008835692889988422}, "sample_time_ms": 52060.251}, "timesteps_total": 14580000, "num_metric_batches_dropped": 0, "episode_reward_max": 1377.884375071968, "date": "2019-05-16_09-45-38", "training_iteration": 108, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000022, "timesteps_since_restore": 14715000, "episodes_total": 4050, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604a6ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc345f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34978>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.7636978132998276, "cost1_min": 22.20349827392986, "system_level_velocity_mean": 8.601465325304805, "cost1_mean": 211.7014254547984, "cost2_mean": -35.97674328192953, "cost1_max": 273.1681018334833, "cost2_max": -0.07861184957669504, "system_level_velocity_max": 12.454309653511242, "cost2_min": -74.04323548119507}, "done": false, "time_total_s": 9278.934489488602, "timesteps_this_iter": 135000, "episode_reward_min": 110.99219289985234, "episodes_this_iter": 37, "episode_len_mean": 734.03, "iterations_since_restore": 109, "time_since_restore": 9278.934489488602, "time_this_iter_s": 84.40154981613159, "pid": 7871, "episode_reward_mean": 1040.6341634089426, "info": {"grad_time_ms": 32885.731, "update_time_ms": 8.248, "num_steps_trained": 14715000, "num_steps_sampled": 14715000, "load_time_ms": 19.005, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5180714130401611, "total_loss": 11.346858024597168, "vf_loss": 11.352559089660645, "vf_explained_var": 0.3695087134838104, "kl": 0.01686076447367668, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009496032260358334}, "sample_time_ms": 52038.537}, "timesteps_total": 14715000, "num_metric_batches_dropped": 0, "episode_reward_max": 1356.8248340576877, "date": "2019-05-16_09-47-02", "training_iteration": 109, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000106, "timesteps_since_restore": 14850000, "episodes_total": 4086, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ec18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ea90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ebe0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.7636978132998276, "cost1_min": 22.20349827392986, "system_level_velocity_mean": 8.56668208704425, "cost1_mean": 211.8054862549464, "cost2_mean": -34.9089390607407, "cost1_max": 273.1681018334833, "cost2_max": -0.07861184957669504, "system_level_velocity_max": 12.454309653511242, "cost2_min": -74.04323548119507}, "done": false, "time_total_s": 9363.342707633972, "timesteps_this_iter": 135000, "episode_reward_min": 110.99219289985234, "episodes_this_iter": 36, "episode_len_mean": 737.94, "iterations_since_restore": 110, "time_since_restore": 9363.342707633972, "time_this_iter_s": 84.40821814537048, "pid": 7871, "episode_reward_mean": 1041.672269435683, "info": {"grad_time_ms": 32825.776, "update_time_ms": 8.306, "num_steps_trained": 14850000, "num_steps_sampled": 14850000, "load_time_ms": 18.82, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5146199464797974, "total_loss": 10.956208229064941, "vf_loss": 10.961214065551758, "vf_explained_var": 0.3494621217250824, "kl": 0.015419878996908665, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00847542192786932}, "sample_time_ms": 51977.627}, "timesteps_total": 14850000, "num_metric_batches_dropped": 0, "episode_reward_max": 1356.8248340576877, "date": "2019-05-16_09-48-26", "training_iteration": 110, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000191, "timesteps_since_restore": 14985000, "episodes_total": 4124, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc249b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24198>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.4419750758904835, "cost1_min": 22.20349827392986, "system_level_velocity_mean": 8.636569521044219, "cost1_mean": 211.97457243156632, "cost2_mean": -33.05599977797166, "cost1_max": 273.1681018334833, "cost2_max": -0.07861184957669504, "system_level_velocity_max": 12.364222935003578, "cost2_min": -65.17928712200667}, "done": false, "time_total_s": 9447.980844259262, "timesteps_this_iter": 135000, "episode_reward_min": 110.99219289985234, "episodes_this_iter": 38, "episode_len_mean": 732.8, "iterations_since_restore": 111, "time_since_restore": 9447.980844259262, "time_this_iter_s": 84.63813662528992, "pid": 7871, "episode_reward_mean": 1043.4547647628701, "info": {"grad_time_ms": 32726.618, "update_time_ms": 8.225, "num_steps_trained": 14985000, "num_steps_sampled": 14985000, "load_time_ms": 18.721, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.550405740737915, "total_loss": 11.331608772277832, "vf_loss": 11.33743667602539, "vf_explained_var": 0.38035720586776733, "kl": 0.01690971478819847, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00963282398879528}, "sample_time_ms": 51908.871}, "timesteps_total": 14985000, "num_metric_batches_dropped": 0, "episode_reward_max": 1356.8248340576877, "date": "2019-05-16_09-49-51", "training_iteration": 111, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000276, "timesteps_since_restore": 15120000, "episodes_total": 4160, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc347f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc341d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.4419750758904835, "cost1_min": 54.9927205446476, "system_level_velocity_mean": 8.60613495487876, "cost1_mean": 214.03671555219623, "cost2_mean": -32.146241506234375, "cost1_max": 270.6746227146904, "cost2_max": -2.7095185985915133, "system_level_velocity_max": 12.364222935003578, "cost2_min": -90.4976497295361}, "done": false, "time_total_s": 9532.798794746399, "timesteps_this_iter": 135000, "episode_reward_min": 274.0007302211882, "episodes_this_iter": 36, "episode_len_mean": 741.57, "iterations_since_restore": 112, "time_since_restore": 9532.798794746399, "time_this_iter_s": 84.81795048713684, "pid": 7871, "episode_reward_mean": 1054.431428016531, "info": {"grad_time_ms": 32733.869, "update_time_ms": 8.154, "num_steps_trained": 15120000, "num_steps_sampled": 15120000, "load_time_ms": 19.011, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5624866485595703, "total_loss": 10.939726829528809, "vf_loss": 10.943572044372559, "vf_explained_var": 0.3509526252746582, "kl": 0.017624998465180397, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007812604308128357}, "sample_time_ms": 51875.388}, "timesteps_total": 15120000, "num_metric_batches_dropped": 0, "episode_reward_max": 1333.4296201008397, "date": "2019-05-16_09-51-16", "training_iteration": 112, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000361, "timesteps_since_restore": 15255000, "episodes_total": 4196, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2604a63c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e0b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.4778765402256715, "cost1_min": 54.9927205446476, "system_level_velocity_mean": 8.385005013023145, "cost1_mean": 210.21493307939286, "cost2_mean": -32.31264287649254, "cost1_max": 267.4783145474504, "cost2_max": -2.7095185985915133, "system_level_velocity_max": 12.53898617635575, "cost2_min": -90.4976497295361}, "done": false, "time_total_s": 9618.17270731926, "timesteps_this_iter": 135000, "episode_reward_min": 274.0007302211882, "episodes_this_iter": 36, "episode_len_mean": 741.57, "iterations_since_restore": 113, "time_since_restore": 9618.17270731926, "time_this_iter_s": 85.37391257286072, "pid": 7871, "episode_reward_mean": 1035.2525963645094, "info": {"grad_time_ms": 32616.912, "update_time_ms": 7.976, "num_steps_trained": 15255000, "num_steps_sampled": 15255000, "load_time_ms": 19.05, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5631929636001587, "total_loss": 10.831188201904297, "vf_loss": 10.836069107055664, "vf_explained_var": 0.3653932511806488, "kl": 0.017589056864380836, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008838223293423653}, "sample_time_ms": 51870.318}, "timesteps_total": 15255000, "num_metric_batches_dropped": 0, "episode_reward_max": 1325.8456633529117, "date": "2019-05-16_09-52-41", "training_iteration": 113, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000447, "timesteps_since_restore": 15390000, "episodes_total": 4232, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24208>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.9688613823145866, "cost1_min": 56.440083722113314, "system_level_velocity_mean": 8.486839914273112, "cost1_mean": 213.19441187209108, "cost2_mean": -30.98312631483508, "cost1_max": 267.4783145474504, "cost2_max": -2.7095185985915133, "system_level_velocity_max": 12.53898617635575, "cost2_min": -90.4976497295361}, "done": false, "time_total_s": 9703.93132352829, "timesteps_this_iter": 135000, "episode_reward_min": 277.7161780146363, "episodes_this_iter": 36, "episode_len_mean": 745.5, "iterations_since_restore": 114, "time_since_restore": 9703.93132352829, "time_this_iter_s": 85.75861620903015, "pid": 7871, "episode_reward_mean": 1050.8498742033325, "info": {"grad_time_ms": 32734.35, "update_time_ms": 8.048, "num_steps_trained": 15390000, "num_steps_sampled": 15390000, "load_time_ms": 19.113, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5491377115249634, "total_loss": 10.653450012207031, "vf_loss": 10.658740043640137, "vf_explained_var": 0.3782595694065094, "kl": 0.016529934480786324, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009009809233248234}, "sample_time_ms": 51857.616}, "timesteps_total": 15390000, "num_metric_batches_dropped": 0, "episode_reward_max": 1325.8456633529117, "date": "2019-05-16_09-54-07", "training_iteration": 114, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000533, "timesteps_since_restore": 15525000, "episodes_total": 4268, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34b70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.9688613823145866, "cost1_min": 56.440083722113314, "system_level_velocity_mean": 8.477094279762587, "cost1_mean": 212.30776604293212, "cost2_mean": -28.080699832062145, "cost1_max": 261.943382421899, "cost2_max": -0.0005903319485340574, "system_level_velocity_max": 11.405561079121837, "cost2_min": -62.874884450276376}, "done": false, "time_total_s": 9789.263593196869, "timesteps_this_iter": 135000, "episode_reward_min": 277.7161780146363, "episodes_this_iter": 36, "episode_len_mean": 742.87, "iterations_since_restore": 115, "time_since_restore": 9789.263593196869, "time_this_iter_s": 85.3322696685791, "pid": 7871, "episode_reward_mean": 1047.9122750890774, "info": {"grad_time_ms": 32788.24, "update_time_ms": 8.065, "num_steps_trained": 15525000, "num_steps_sampled": 15525000, "load_time_ms": 19.225, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5587546825408936, "total_loss": 10.673222541809082, "vf_loss": 10.677128791809082, "vf_explained_var": 0.42399176955223083, "kl": 0.016813376918435097, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007689618971198797}, "sample_time_ms": 51847.976}, "timesteps_total": 15525000, "num_metric_batches_dropped": 0, "episode_reward_max": 1297.6815077214064, "date": "2019-05-16_09-55-33", "training_iteration": 115, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000617, "timesteps_since_restore": 15660000, "episodes_total": 4305, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.5539554666018316, "cost1_min": 56.440083722113314, "system_level_velocity_mean": 8.339107322067129, "cost1_mean": 207.44177901039868, "cost2_mean": -27.257196693523337, "cost1_max": 258.717768142341, "cost2_max": -0.0005903319485340574, "system_level_velocity_max": 11.405561079121837, "cost2_min": -63.80683930990813}, "done": false, "time_total_s": 9873.817642688751, "timesteps_this_iter": 135000, "episode_reward_min": 277.7161780146363, "episodes_this_iter": 37, "episode_len_mean": 738.7, "iterations_since_restore": 116, "time_since_restore": 9873.817642688751, "time_this_iter_s": 84.55404949188232, "pid": 7871, "episode_reward_mean": 1024.0623234070026, "info": {"grad_time_ms": 32847.641, "update_time_ms": 8.009, "num_steps_trained": 15660000, "num_steps_sampled": 15660000, "load_time_ms": 19.736, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.553997278213501, "total_loss": 11.124030113220215, "vf_loss": 11.12910270690918, "vf_explained_var": 0.4371606707572937, "kl": 0.01718820072710514, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008939865976572037}, "sample_time_ms": 51860.41}, "timesteps_total": 15660000, "num_metric_batches_dropped": 0, "episode_reward_max": 1286.1265162959864, "date": "2019-05-16_09-56-57", "training_iteration": 116, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000702, "timesteps_since_restore": 15795000, "episodes_total": 4341, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24eb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.655417406946774, "cost1_min": 53.20011414219621, "system_level_velocity_mean": 8.46389681367588, "cost1_mean": 210.48343234151832, "cost2_mean": -32.0866050825617, "cost1_max": 270.86497515447496, "cost2_max": -0.24022553191141105, "system_level_velocity_max": 12.064889303676326, "cost2_min": -88.41039877690602}, "done": false, "time_total_s": 9958.199322462082, "timesteps_this_iter": 135000, "episode_reward_min": 248.5380252291518, "episodes_this_iter": 36, "episode_len_mean": 741.01, "iterations_since_restore": 117, "time_since_restore": 9958.199322462082, "time_this_iter_s": 84.38167977333069, "pid": 7871, "episode_reward_mean": 1037.1473920019403, "info": {"grad_time_ms": 32840.981, "update_time_ms": 8.046, "num_steps_trained": 15795000, "num_steps_sampled": 15795000, "load_time_ms": 19.957, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5527182817459106, "total_loss": 10.769436836242676, "vf_loss": 10.774795532226562, "vf_explained_var": 0.45322471857070923, "kl": 0.01661410927772522, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00909752119332552}, "sample_time_ms": 51773.855}, "timesteps_total": 15795000, "num_metric_batches_dropped": 0, "episode_reward_max": 1348.619484338724, "date": "2019-05-16_09-58-22", "training_iteration": 117, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000787, "timesteps_since_restore": 15930000, "episodes_total": 4377, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc347f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34b70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34d68>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.655417406946774, "cost1_min": 53.20011414219621, "system_level_velocity_mean": 8.643425255167537, "cost1_mean": 213.534635734739, "cost2_mean": -35.10514076337171, "cost1_max": 274.6638605021724, "cost2_max": -0.3396741200226823, "system_level_velocity_max": 12.064889303676326, "cost2_min": -88.41039877690602}, "done": false, "time_total_s": 10043.977250099182, "timesteps_this_iter": 135000, "episode_reward_min": 248.5380252291518, "episodes_this_iter": 36, "episode_len_mean": 743.87, "iterations_since_restore": 118, "time_since_restore": 10043.977250099182, "time_this_iter_s": 85.77792763710022, "pid": 7871, "episode_reward_mean": 1050.7224537574189, "info": {"grad_time_ms": 32849.944, "update_time_ms": 8.046, "num_steps_trained": 15930000, "num_steps_sampled": 15930000, "load_time_ms": 20.079, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5463870763778687, "total_loss": 11.049117088317871, "vf_loss": 11.053767204284668, "vf_explained_var": 0.3638836145401001, "kl": 0.01661028154194355, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008387615904211998}, "sample_time_ms": 51852.85}, "timesteps_total": 15930000, "num_metric_batches_dropped": 0, "episode_reward_max": 1348.619484338724, "date": "2019-05-16_09-59-47", "training_iteration": 118, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000872, "timesteps_since_restore": 16065000, "episodes_total": 4413, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ec50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e0b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.5754491170879215, "cost1_min": 81.16381113619812, "system_level_velocity_mean": 8.907290437159457, "cost1_mean": 219.7102446245628, "cost2_mean": -36.43143634314771, "cost1_max": 278.98817566066464, "cost2_max": -0.3396741200226823, "system_level_velocity_max": 12.6312704824006, "cost2_min": -74.26505229125915}, "done": false, "time_total_s": 10128.792592048645, "timesteps_this_iter": 135000, "episode_reward_min": 399.2628239372691, "episodes_this_iter": 36, "episode_len_mean": 747.24, "iterations_since_restore": 119, "time_since_restore": 10128.792592048645, "time_this_iter_s": 84.81534194946289, "pid": 7871, "episode_reward_mean": 1080.5456421382924, "info": {"grad_time_ms": 32934.903, "update_time_ms": 8.121, "num_steps_trained": 16065000, "num_steps_sampled": 16065000, "load_time_ms": 19.753, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5648866891860962, "total_loss": 11.441823959350586, "vf_loss": 11.446002006530762, "vf_explained_var": 0.3770222067832947, "kl": 0.017230141907930374, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008054778911173344}, "sample_time_ms": 51809.842}, "timesteps_total": 16065000, "num_metric_batches_dropped": 0, "episode_reward_max": 1382.903798003486, "date": "2019-05-16_10-01-12", "training_iteration": 119, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558000957, "timesteps_since_restore": 16200000, "episodes_total": 4450, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34cc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42ba8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.241012327588869, "cost1_min": 45.61261697822874, "system_level_velocity_mean": 8.870061958287595, "cost1_mean": 218.1907185812986, "cost2_mean": -38.25091232034436, "cost1_max": 280.7596846266015, "cost2_max": -6.152020337402883, "system_level_velocity_max": 12.679381753109892, "cost2_min": -90.04195718084773}, "done": false, "time_total_s": 10213.433801651001, "timesteps_this_iter": 135000, "episode_reward_min": 225.1631034865236, "episodes_this_iter": 37, "episode_len_mean": 742.63, "iterations_since_restore": 120, "time_since_restore": 10213.433801651001, "time_this_iter_s": 84.64120960235596, "pid": 7871, "episode_reward_mean": 1072.024618665559, "info": {"grad_time_ms": 32947.657, "update_time_ms": 8.138, "num_steps_trained": 16200000, "num_steps_sampled": 16200000, "load_time_ms": 19.767, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.558287262916565, "total_loss": 11.538398742675781, "vf_loss": 11.543919563293457, "vf_explained_var": 0.3501240015029907, "kl": 0.016399655491113663, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009210154414176941}, "sample_time_ms": 51820.029}, "timesteps_total": 16200000, "num_metric_batches_dropped": 0, "episode_reward_max": 1382.903798003486, "date": "2019-05-16_10-02-37", "training_iteration": 120, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001042, "timesteps_since_restore": 16335000, "episodes_total": 4486, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34978>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.241012327588869, "cost1_min": 45.61261697822874, "system_level_velocity_mean": 8.824297957624687, "cost1_mean": 217.42539830135553, "cost2_mean": -39.41288944666187, "cost1_max": 280.7596846266015, "cost2_max": -3.069526138966062, "system_level_velocity_max": 12.679381753109892, "cost2_min": -93.7383195710098}, "done": false, "time_total_s": 10298.631968975067, "timesteps_this_iter": 135000, "episode_reward_min": 225.1631034865236, "episodes_this_iter": 36, "episode_len_mean": 742.63, "iterations_since_restore": 121, "time_since_restore": 10298.631968975067, "time_this_iter_s": 85.19816732406616, "pid": 7871, "episode_reward_mean": 1067.6037863364238, "info": {"grad_time_ms": 33024.706, "update_time_ms": 8.209, "num_steps_trained": 16335000, "num_steps_sampled": 16335000, "load_time_ms": 19.762, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.568282127380371, "total_loss": 11.113722801208496, "vf_loss": 11.119096755981445, "vf_explained_var": 0.40446653962135315, "kl": 0.017474470660090446, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00930461660027504}, "sample_time_ms": 51798.454}, "timesteps_total": 16335000, "num_metric_batches_dropped": 0, "episode_reward_max": 1382.903798003486, "date": "2019-05-16_10-04-02", "training_iteration": 121, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001127, "timesteps_since_restore": 16470000, "episodes_total": 4523, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.8289768725650863, "cost1_min": 45.61261697822874, "system_level_velocity_mean": 8.977267661541298, "cost1_mean": 220.77640176541416, "cost2_mean": -37.37181564598345, "cost1_max": 280.7596846266015, "cost2_max": -3.069526138966062, "system_level_velocity_max": 12.679381753109892, "cost2_min": -93.7383195710098}, "done": false, "time_total_s": 10383.191919326782, "timesteps_this_iter": 135000, "episode_reward_min": 225.1631034865236, "episodes_this_iter": 37, "episode_len_mean": 744.21, "iterations_since_restore": 122, "time_since_restore": 10383.191919326782, "time_this_iter_s": 84.55995035171509, "pid": 7871, "episode_reward_mean": 1085.2094523639905, "info": {"grad_time_ms": 32968.884, "update_time_ms": 8.294, "num_steps_trained": 16470000, "num_steps_sampled": 16470000, "load_time_ms": 19.641, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5833250284194946, "total_loss": 11.565594673156738, "vf_loss": 11.570396423339844, "vf_explained_var": 0.37614670395851135, "kl": 0.016146600246429443, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008435891009867191}, "sample_time_ms": 51828.554}, "timesteps_total": 16470000, "num_metric_batches_dropped": 0, "episode_reward_max": 1380.4299863320136, "date": "2019-05-16_10-05-27", "training_iteration": 122, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001211, "timesteps_since_restore": 16605000, "episodes_total": 4561, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dcc0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.8289768725650863, "cost1_min": 28.25076029392398, "system_level_velocity_mean": 8.721363538883558, "cost1_mean": 212.70009435911507, "cost2_mean": -32.96294999381167, "cost1_max": 274.72020201468126, "cost2_max": -3.069526138966062, "system_level_velocity_max": 12.47612915131775, "cost2_min": -77.72297654084235}, "done": false, "time_total_s": 10467.427397727966, "timesteps_this_iter": 135000, "episode_reward_min": 138.9592476693354, "episodes_this_iter": 38, "episode_len_mean": 733.69, "iterations_since_restore": 123, "time_since_restore": 10467.427397727966, "time_this_iter_s": 84.23547840118408, "pid": 7871, "episode_reward_mean": 1047.1398005703427, "info": {"grad_time_ms": 32833.755, "update_time_ms": 8.274, "num_steps_trained": 16605000, "num_steps_sampled": 16605000, "load_time_ms": 19.755, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5848506689071655, "total_loss": 12.023869514465332, "vf_loss": 12.029287338256836, "vf_explained_var": 0.4299313426017761, "kl": 0.01730329357087612, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009311377070844173}, "sample_time_ms": 51849.84}, "timesteps_total": 16605000, "num_metric_batches_dropped": 0, "episode_reward_max": 1350.0074626969217, "date": "2019-05-16_10-06-51", "training_iteration": 123, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001296, "timesteps_since_restore": 16740000, "episodes_total": 4598, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc346d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc344e0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.8507796859481633, "cost1_min": 28.25076029392398, "system_level_velocity_mean": 8.727817040793916, "cost1_mean": 210.52259603684558, "cost2_mean": -32.57927033494734, "cost1_max": 274.72020201468126, "cost2_max": -4.712457705506554, "system_level_velocity_max": 12.691718771072892, "cost2_min": -77.72297654084235}, "done": false, "time_total_s": 10552.228376865387, "timesteps_this_iter": 135000, "episode_reward_min": 138.9592476693354, "episodes_this_iter": 37, "episode_len_mean": 726.17, "iterations_since_restore": 124, "time_since_restore": 10552.228376865387, "time_this_iter_s": 84.80097913742065, "pid": 7871, "episode_reward_mean": 1036.4621166185605, "info": {"grad_time_ms": 32713.038, "update_time_ms": 8.233, "num_steps_trained": 16740000, "num_steps_sampled": 16740000, "load_time_ms": 19.68, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5720247030258179, "total_loss": 11.837340354919434, "vf_loss": 11.842595100402832, "vf_explained_var": 0.4448329508304596, "kl": 0.01677696965634823, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009030159562826157}, "sample_time_ms": 51874.181}, "timesteps_total": 16740000, "num_metric_batches_dropped": 0, "episode_reward_max": 1350.0074626969217, "date": "2019-05-16_10-08-16", "training_iteration": 124, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001382, "timesteps_since_restore": 16875000, "episodes_total": 4634, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24208>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.777474331928803, "cost1_min": 28.25076029392398, "system_level_velocity_mean": 8.557648707583937, "cost1_mean": 206.90804173403572, "cost2_mean": -31.808017935152584, "cost1_max": 274.72020201468126, "cost2_max": 0.0, "system_level_velocity_max": 12.691718771072892, "cost2_min": -95.21023235583596}, "done": false, "time_total_s": 10638.193588018417, "timesteps_this_iter": 135000, "episode_reward_min": 138.9592476693354, "episodes_this_iter": 36, "episode_len_mean": 727.57, "iterations_since_restore": 125, "time_since_restore": 10638.193588018417, "time_this_iter_s": 85.9652111530304, "pid": 7871, "episode_reward_mean": 1018.843060362738, "info": {"grad_time_ms": 32820.162, "update_time_ms": 8.169, "num_steps_trained": 16875000, "num_steps_sampled": 16875000, "load_time_ms": 19.685, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5276328325271606, "total_loss": 11.210247039794922, "vf_loss": 11.214176177978516, "vf_explained_var": 0.5271540284156799, "kl": 0.018090806901454926, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008000170812010765}, "sample_time_ms": 51831.844}, "timesteps_total": 16875000, "num_metric_batches_dropped": 0, "episode_reward_max": 1350.0074626969217, "date": "2019-05-16_10-09-42", "training_iteration": 125, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001467, "timesteps_since_restore": 17010000, "episodes_total": 4671, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c2e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1ca58>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.777474331928803, "cost1_min": 47.60966831276849, "system_level_velocity_mean": 8.684335239877235, "cost1_mean": 210.20626656987938, "cost2_mean": -33.05375316421726, "cost1_max": 273.3611932643933, "cost2_max": 0.0, "system_level_velocity_max": 12.691718771072892, "cost2_min": -95.21023235583596}, "done": false, "time_total_s": 10723.043166160583, "timesteps_this_iter": 135000, "episode_reward_min": 238.04834156384354, "episodes_this_iter": 37, "episode_len_mean": 733.06, "iterations_since_restore": 126, "time_since_restore": 10723.043166160583, "time_this_iter_s": 84.84957814216614, "pid": 7871, "episode_reward_mean": 1034.9279680902107, "info": {"grad_time_ms": 32876.334, "update_time_ms": 8.174, "num_steps_trained": 17010000, "num_steps_sampled": 17010000, "load_time_ms": 19.21, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5733288526535034, "total_loss": 11.70876407623291, "vf_loss": 11.71318531036377, "vf_explained_var": 0.4530673623085022, "kl": 0.016241086646914482, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008075026795268059}, "sample_time_ms": 51806.021}, "timesteps_total": 17010000, "num_metric_batches_dropped": 0, "episode_reward_max": 1350.6871761591517, "date": "2019-05-16_10-11-07", "training_iteration": 126, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001552, "timesteps_since_restore": 17145000, "episodes_total": 4708, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3deb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3db70>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.777474331928803, "cost1_min": 32.071471066449284, "system_level_velocity_mean": 8.67747487328513, "cost1_mean": 210.5307444087486, "cost2_mean": -33.977954957330184, "cost1_max": 273.3611932643933, "cost2_max": 0.0, "system_level_velocity_max": 12.493673231794771, "cost2_min": -95.21023235583596}, "done": false, "time_total_s": 10807.86822104454, "timesteps_this_iter": 135000, "episode_reward_min": 155.76885703162907, "episodes_this_iter": 37, "episode_len_mean": 736.19, "iterations_since_restore": 127, "time_since_restore": 10807.86822104454, "time_this_iter_s": 84.82505488395691, "pid": 7871, "episode_reward_mean": 1036.0011404164843, "info": {"grad_time_ms": 32885.091, "update_time_ms": 8.433, "num_steps_trained": 17145000, "num_steps_sampled": 17145000, "load_time_ms": 19.154, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5669364929199219, "total_loss": 11.7153959274292, "vf_loss": 11.719284057617188, "vf_explained_var": 0.3745177984237671, "kl": 0.01573977619409561, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007429392542690039}, "sample_time_ms": 51841.143}, "timesteps_total": 17145000, "num_metric_batches_dropped": 0, "episode_reward_max": 1350.6871761591517, "date": "2019-05-16_10-12-32", "training_iteration": 127, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001638, "timesteps_since_restore": 17280000, "episodes_total": 4746, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34240>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.8719153994211206, "cost1_min": 32.071471066449284, "system_level_velocity_mean": 8.559293812383476, "cost1_mean": 208.06551836734684, "cost2_mean": -35.735764071335005, "cost1_max": 269.2859106944537, "cost2_max": -4.6435930516103205, "system_level_velocity_max": 11.933768737361783, "cost2_min": -84.97256696567004}, "done": false, "time_total_s": 10893.745495319366, "timesteps_this_iter": 135000, "episode_reward_min": 155.76885703162907, "episodes_this_iter": 38, "episode_len_mean": 730.8, "iterations_since_restore": 128, "time_since_restore": 10893.745495319366, "time_this_iter_s": 85.87727427482605, "pid": 7871, "episode_reward_mean": 1022.7983972396738, "info": {"grad_time_ms": 32894.112, "update_time_ms": 8.522, "num_steps_trained": 17280000, "num_steps_sampled": 17280000, "load_time_ms": 18.86, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.557201623916626, "total_loss": 11.989970207214355, "vf_loss": 11.994976043701172, "vf_explained_var": 0.426052063703537, "kl": 0.017611658200621605, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008968711830675602}, "sample_time_ms": 51842.417}, "timesteps_total": 17280000, "num_metric_batches_dropped": 0, "episode_reward_max": 1334.3104083143312, "date": "2019-05-16_10-13-58", "training_iteration": 128, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001723, "timesteps_since_restore": 17415000, "episodes_total": 4782, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42cc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42ef0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.8719153994211206, "cost1_min": 47.92827388339343, "system_level_velocity_mean": 8.867852693675829, "cost1_mean": 216.27838579222546, "cost2_mean": -33.9850012603164, "cost1_max": 282.037020427896, "cost2_max": -0.3255602712770375, "system_level_velocity_max": 12.666601779755533, "cost2_min": -64.19216952852722}, "done": false, "time_total_s": 10979.054087400436, "timesteps_this_iter": 135000, "episode_reward_min": 233.34649402639837, "episodes_this_iter": 36, "episode_len_mean": 738.04, "iterations_since_restore": 129, "time_since_restore": 10979.054087400436, "time_this_iter_s": 85.30859208106995, "pid": 7871, "episode_reward_mean": 1064.4113872682785, "info": {"grad_time_ms": 32900.202, "update_time_ms": 8.415, "num_steps_trained": 17415000, "num_steps_sampled": 17415000, "load_time_ms": 18.902, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5800706148147583, "total_loss": 11.260268211364746, "vf_loss": 11.265420913696289, "vf_explained_var": 0.338910847902298, "kl": 0.017102956771850586, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00900098867714405}, "sample_time_ms": 51885.824}, "timesteps_total": 17415000, "num_metric_batches_dropped": 0, "episode_reward_max": 1391.8748084692788, "date": "2019-05-16_10-15-23", "training_iteration": 129, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001808, "timesteps_since_restore": 17550000, "episodes_total": 4820, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dda0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.4231183510162078, "cost1_min": 36.59028400676227, "system_level_velocity_mean": 8.812284358333308, "cost1_mean": 215.45135098977244, "cost2_mean": -33.90707133025633, "cost1_max": 282.037020427896, "cost2_max": -0.3255602712770375, "system_level_velocity_max": 12.666601779755533, "cost2_min": -61.57792317578423}, "done": false, "time_total_s": 11064.115557193756, "timesteps_this_iter": 135000, "episode_reward_min": 180.3949951952931, "episodes_this_iter": 38, "episode_len_mean": 735.17, "iterations_since_restore": 130, "time_since_restore": 11064.115557193756, "time_this_iter_s": 85.0614697933197, "pid": 7871, "episode_reward_mean": 1060.353103132041, "info": {"grad_time_ms": 32882.496, "update_time_ms": 8.456, "num_steps_trained": 17550000, "num_steps_sampled": 17550000, "load_time_ms": 19.155, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6180542707443237, "total_loss": 11.745309829711914, "vf_loss": 11.750597953796387, "vf_explained_var": 0.3899707794189453, "kl": 0.01796901971101761, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009330373257398605}, "sample_time_ms": 51946.623}, "timesteps_total": 17550000, "num_metric_batches_dropped": 0, "episode_reward_max": 1391.8748084692788, "date": "2019-05-16_10-16-48", "training_iteration": 130, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001893, "timesteps_since_restore": 17685000, "episodes_total": 4857, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc347f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc343c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34080>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.4998154805558976, "cost1_min": 36.59028400676227, "system_level_velocity_mean": 8.572878195992944, "cost1_mean": 211.6874886359075, "cost2_mean": -33.85164691751497, "cost1_max": 282.037020427896, "cost2_max": -1.5399025586055055, "system_level_velocity_max": 12.666601779755533, "cost2_min": -135.89667638804343}, "done": false, "time_total_s": 11149.000378847122, "timesteps_this_iter": 135000, "episode_reward_min": 180.3949951952931, "episodes_this_iter": 37, "episode_len_mean": 738.89, "iterations_since_restore": 131, "time_since_restore": 11149.000378847122, "time_this_iter_s": 84.88482165336609, "pid": 7871, "episode_reward_mean": 1042.120019453639, "info": {"grad_time_ms": 32882.586, "update_time_ms": 8.368, "num_steps_trained": 17685000, "num_steps_sampled": 17685000, "load_time_ms": 19.26, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6019634008407593, "total_loss": 11.396944046020508, "vf_loss": 11.402188301086426, "vf_explained_var": 0.44118979573249817, "kl": 0.016693491488695145, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00900009460747242}, "sample_time_ms": 51914.584}, "timesteps_total": 17685000, "num_metric_batches_dropped": 0, "episode_reward_max": 1391.8748084692788, "date": "2019-05-16_10-18-13", "training_iteration": 131, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558001978, "timesteps_since_restore": 17820000, "episodes_total": 4894, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1cf28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc244e0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c5f8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.4998154805558976, "cost1_min": 36.59028400676227, "system_level_velocity_mean": 8.413716742006617, "cost1_mean": 207.31544323555536, "cost2_mean": -36.46373579515649, "cost1_max": 280.9634678934908, "cost2_max": -0.3443996367162763, "system_level_velocity_max": 12.722432249504385, "cost2_min": -135.89667638804343}, "done": false, "time_total_s": 11233.646620750427, "timesteps_this_iter": 135000, "episode_reward_min": 180.3949951952931, "episodes_this_iter": 37, "episode_len_mean": 737.29, "iterations_since_restore": 132, "time_since_restore": 11233.646620750427, "time_this_iter_s": 84.64624190330505, "pid": 7871, "episode_reward_mean": 1019.510694115367, "info": {"grad_time_ms": 32885.069, "update_time_ms": 8.331, "num_steps_trained": 17820000, "num_steps_sampled": 17820000, "load_time_ms": 19.135, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.603180170059204, "total_loss": 11.313592910766602, "vf_loss": 11.318048477172852, "vf_explained_var": 0.43399035930633545, "kl": 0.017624085769057274, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008419678546488285}, "sample_time_ms": 51919.895}, "timesteps_total": 17820000, "num_metric_batches_dropped": 0, "episode_reward_max": 1381.3501204021443, "date": "2019-05-16_10-19-38", "training_iteration": 132, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002063, "timesteps_since_restore": 17955000, "episodes_total": 4930, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d0b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3db70>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.4998154805558976, "cost1_min": 40.08314798181632, "system_level_velocity_mean": 8.515385395310208, "cost1_mean": 208.21236035040096, "cost2_mean": -35.18020712970197, "cost1_max": 280.9634678934908, "cost2_max": -0.3443996367162763, "system_level_velocity_max": 12.722432249504385, "cost2_min": -135.89667638804343}, "done": false, "time_total_s": 11319.068794965744, "timesteps_this_iter": 135000, "episode_reward_min": 187.7991254127982, "episodes_this_iter": 36, "episode_len_mean": 738.21, "iterations_since_restore": 133, "time_since_restore": 11319.068794965744, "time_this_iter_s": 85.42217421531677, "pid": 7871, "episode_reward_mean": 1024.6398087856815, "info": {"grad_time_ms": 32980.651, "update_time_ms": 8.326, "num_steps_trained": 17955000, "num_steps_sampled": 17955000, "load_time_ms": 19.293, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5655264854431152, "total_loss": 10.703042030334473, "vf_loss": 10.707113265991211, "vf_explained_var": 0.3877093493938446, "kl": 0.016898419708013535, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007874906994402409}, "sample_time_ms": 51942.746}, "timesteps_total": 17955000, "num_metric_batches_dropped": 0, "episode_reward_max": 1381.3501204021443, "date": "2019-05-16_10-21-03", "training_iteration": 133, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002149, "timesteps_since_restore": 18090000, "episodes_total": 4969, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34278>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.269768845910419, "cost1_min": 24.73369630170408, "system_level_velocity_mean": 8.792684886389848, "cost1_mean": 210.8039566016163, "cost2_mean": -32.108478819781205, "cost1_max": 280.9634678934908, "cost2_max": -0.3443996367162763, "system_level_velocity_max": 12.722432249504385, "cost2_min": -166.79324094549253}, "done": false, "time_total_s": 11404.314922094345, "timesteps_this_iter": 135000, "episode_reward_min": 122.79590750888086, "episodes_this_iter": 39, "episode_len_mean": 726.67, "iterations_since_restore": 134, "time_since_restore": 11404.314922094345, "time_this_iter_s": 85.24612712860107, "pid": 7871, "episode_reward_mean": 1039.1723345522892, "info": {"grad_time_ms": 33002.147, "update_time_ms": 8.303, "num_steps_trained": 18090000, "num_steps_sampled": 18090000, "load_time_ms": 19.192, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.5789227485656738, "total_loss": 11.684090614318848, "vf_loss": 11.689953804016113, "vf_explained_var": 0.3999166488647461, "kl": 0.01745355874300003, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009791159071028233}, "sample_time_ms": 51966.692}, "timesteps_total": 18090000, "num_metric_batches_dropped": 0, "episode_reward_max": 1381.3501204021443, "date": "2019-05-16_10-22-29", "training_iteration": 134, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002234, "timesteps_since_restore": 18225000, "episodes_total": 5005, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dc50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dc88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d9b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.9045592103179327, "cost1_min": 24.73369630170408, "system_level_velocity_mean": 8.661357278111785, "cost1_mean": 210.64804404252828, "cost2_mean": -27.70354720617785, "cost1_max": 273.9048739014506, "cost2_max": -0.5126911104140864, "system_level_velocity_max": 12.696417861399274, "cost2_min": -166.79324094549253}, "done": false, "time_total_s": 11489.48670053482, "timesteps_this_iter": 135000, "episode_reward_min": 122.79590750888086, "episodes_this_iter": 36, "episode_len_mean": 730.31, "iterations_since_restore": 135, "time_since_restore": 11489.48670053482, "time_this_iter_s": 85.17177844047546, "pid": 7871, "episode_reward_mean": 1040.5104416140175, "info": {"grad_time_ms": 32903.434, "update_time_ms": 8.357, "num_steps_trained": 18225000, "num_steps_sampled": 18225000, "load_time_ms": 19.163, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.63215970993042, "total_loss": 11.039517402648926, "vf_loss": 11.045053482055664, "vf_explained_var": 0.41279876232147217, "kl": 0.016818124800920486, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009320179931819439}, "sample_time_ms": 51986.037}, "timesteps_total": 18225000, "num_metric_batches_dropped": 0, "episode_reward_max": 1359.031931035118, "date": "2019-05-16_10-23-54", "training_iteration": 135, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002320, "timesteps_since_restore": 18360000, "episodes_total": 5043, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3ddd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3deb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dcc0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.9045592103179327, "cost1_min": 24.73369630170408, "system_level_velocity_mean": 8.414245595833993, "cost1_mean": 206.00715117828972, "cost2_mean": -23.874351781778522, "cost1_max": 273.9048739014506, "cost2_max": -0.5126911104140864, "system_level_velocity_max": 12.406496756890105, "cost2_min": -114.98410012697502}, "done": false, "time_total_s": 11575.399976491928, "timesteps_this_iter": 135000, "episode_reward_min": 122.79590750888086, "episodes_this_iter": 38, "episode_len_mean": 723.12, "iterations_since_restore": 136, "time_since_restore": 11575.399976491928, "time_this_iter_s": 85.91327595710754, "pid": 7871, "episode_reward_mean": 1018.6098622714625, "info": {"grad_time_ms": 32967.98, "update_time_ms": 8.45, "num_steps_trained": 18360000, "num_steps_sampled": 18360000, "load_time_ms": 19.07, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6112892627716064, "total_loss": 11.472270965576172, "vf_loss": 11.477228164672852, "vf_explained_var": 0.3387465476989746, "kl": 0.0170794278383255, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008799305185675621}, "sample_time_ms": 52027.519}, "timesteps_total": 18360000, "num_metric_batches_dropped": 0, "episode_reward_max": 1359.031931035118, "date": "2019-05-16_10-25-20", "training_iteration": 136, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002404, "timesteps_since_restore": 18495000, "episodes_total": 5081, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc349e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.5531462255035549, "cost1_min": 40.77838799012158, "system_level_velocity_mean": 8.063439652813111, "cost1_mean": 201.64899339833278, "cost2_mean": -25.7798172012239, "cost1_max": 273.9048739014506, "cost2_max": -0.5126911104140864, "system_level_velocity_max": 11.964266332196113, "cost2_min": -138.1238815415764}, "done": false, "time_total_s": 11659.969407320023, "timesteps_this_iter": 135000, "episode_reward_min": 192.87631979442554, "episodes_this_iter": 38, "episode_len_mean": 728.74, "iterations_since_restore": 137, "time_since_restore": 11659.969407320023, "time_this_iter_s": 84.56943082809448, "pid": 7871, "episode_reward_mean": 996.423204289566, "info": {"grad_time_ms": 32942.128, "update_time_ms": 8.183, "num_steps_trained": 18495000, "num_steps_sampled": 18495000, "load_time_ms": 18.79, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.627718210220337, "total_loss": 11.302699089050293, "vf_loss": 11.306816101074219, "vf_explained_var": 0.4079820215702057, "kl": 0.01718057133257389, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007982793264091015}, "sample_time_ms": 52030.384}, "timesteps_total": 18495000, "num_metric_batches_dropped": 0, "episode_reward_max": 1359.031931035118, "date": "2019-05-16_10-26-44", "training_iteration": 137, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002489, "timesteps_since_restore": 18630000, "episodes_total": 5117, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dbe0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d6d8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.5531462255035549, "cost1_min": 40.77838799012158, "system_level_velocity_mean": 8.06546900222661, "cost1_mean": 203.10295909948675, "cost2_mean": -25.240733582775245, "cost1_max": 251.28372174052708, "cost2_max": -0.4595808224813831, "system_level_velocity_max": 10.38025138504116, "cost2_min": -138.1238815415764}, "done": false, "time_total_s": 11744.381509065628, "timesteps_this_iter": 135000, "episode_reward_min": 192.87631979442554, "episodes_this_iter": 36, "episode_len_mean": 733.22, "iterations_since_restore": 138, "time_since_restore": 11744.381509065628, "time_this_iter_s": 84.41210174560547, "pid": 7871, "episode_reward_mean": 1003.4952522513778, "info": {"grad_time_ms": 32902.769, "update_time_ms": 8.144, "num_steps_trained": 18630000, "num_steps_sampled": 18630000, "load_time_ms": 18.84, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6312617063522339, "total_loss": 10.875536918640137, "vf_loss": 10.880809783935547, "vf_explained_var": 0.4471684694290161, "kl": 0.018071208149194717, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009337298572063446}, "sample_time_ms": 51924.017}, "timesteps_total": 18630000, "num_metric_batches_dropped": 0, "episode_reward_max": 1254.8813006382675, "date": "2019-05-16_10-28-09", "training_iteration": 138, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002573, "timesteps_since_restore": 18765000, "episodes_total": 5153, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dcc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d0b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.5531462255035549, "cost1_min": 40.77838799012158, "system_level_velocity_mean": 8.085597196887678, "cost1_mean": 203.00353541399426, "cost2_mean": -27.244073164975237, "cost1_max": 273.90435986262264, "cost2_max": -0.4595808224813831, "system_level_velocity_max": 12.3691618071475, "cost2_min": -141.90116458914255}, "done": false, "time_total_s": 11828.698311567307, "timesteps_this_iter": 135000, "episode_reward_min": 192.87631979442554, "episodes_this_iter": 36, "episode_len_mean": 738.52, "iterations_since_restore": 139, "time_since_restore": 11828.698311567307, "time_this_iter_s": 84.31680250167847, "pid": 7871, "episode_reward_mean": 1002.9773455630892, "info": {"grad_time_ms": 32884.929, "update_time_ms": 8.134, "num_steps_trained": 18765000, "num_steps_sampled": 18765000, "load_time_ms": 18.667, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6127568483352661, "total_loss": 10.84733772277832, "vf_loss": 10.851737022399902, "vf_explained_var": 0.39849424362182617, "kl": 0.018273888155817986, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008511041291058064}, "sample_time_ms": 51842.564}, "timesteps_total": 18765000, "num_metric_batches_dropped": 0, "episode_reward_max": 1363.2714584831, "date": "2019-05-16_10-29-33", "training_iteration": 139, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002658, "timesteps_since_restore": 18900000, "episodes_total": 5189, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc244e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc347f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24fd0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.9035842052431644, "cost1_min": 49.88065324644688, "system_level_velocity_mean": 8.30829482974187, "cost1_mean": 208.71718425353203, "cost2_mean": -25.722823754332374, "cost1_max": 273.90435986262264, "cost2_max": -0.4595808224813831, "system_level_velocity_max": 12.3691618071475, "cost2_min": -141.90116458914255}, "done": false, "time_total_s": 11913.414684057236, "timesteps_this_iter": 135000, "episode_reward_min": 240.5804475806736, "episodes_this_iter": 36, "episode_len_mean": 747.34, "iterations_since_restore": 140, "time_since_restore": 11913.414684057236, "time_this_iter_s": 84.7163724899292, "pid": 7871, "episode_reward_mean": 1031.7270778863112, "info": {"grad_time_ms": 32842.908, "update_time_ms": 8.055, "num_steps_trained": 18900000, "num_steps_sampled": 18900000, "load_time_ms": 18.585, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6344422101974487, "total_loss": 11.104284286499023, "vf_loss": 11.108713150024414, "vf_explained_var": 0.2850942313671112, "kl": 0.018083268776535988, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008497322909533978}, "sample_time_ms": 51849.38}, "timesteps_total": 18900000, "num_metric_batches_dropped": 0, "episode_reward_max": 1363.2714584831, "date": "2019-05-16_10-30-58", "training_iteration": 140, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002743, "timesteps_since_restore": 19035000, "episodes_total": 5226, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d2e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d4e0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.9035842052431644, "cost1_min": 49.88065324644688, "system_level_velocity_mean": 8.169549057591766, "cost1_mean": 204.06782451039157, "cost2_mean": -26.475415620012573, "cost1_max": 273.90435986262264, "cost2_max": -0.49725489025470604, "system_level_velocity_max": 12.3691618071475, "cost2_min": -141.90116458914255}, "done": false, "time_total_s": 11998.480814218521, "timesteps_this_iter": 135000, "episode_reward_min": 240.5804475806736, "episodes_this_iter": 37, "episode_len_mean": 739.61, "iterations_since_restore": 141, "time_since_restore": 11998.480814218521, "time_this_iter_s": 85.0661301612854, "pid": 7871, "episode_reward_mean": 1007.8948077687638, "info": {"grad_time_ms": 32845.99, "update_time_ms": 8.054, "num_steps_trained": 19035000, "num_steps_sampled": 19035000, "load_time_ms": 18.317, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6716989278793335, "total_loss": 10.999166488647461, "vf_loss": 11.004364013671875, "vf_explained_var": 0.39386698603630066, "kl": 0.01954810507595539, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009595162235200405}, "sample_time_ms": 51865.708}, "timesteps_total": 19035000, "num_metric_batches_dropped": 0, "episode_reward_max": 1363.2714584831, "date": "2019-05-16_10-32-23", "training_iteration": 141, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002828, "timesteps_since_restore": 19170000, "episodes_total": 5262, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3de10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d0b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d748>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.4059337749004674, "cost1_min": 80.7252585455389, "system_level_velocity_mean": 8.237688838242782, "cost1_mean": 204.56563145895743, "cost2_mean": -25.848029789376273, "cost1_max": 264.285476275517, "cost2_max": -0.2264882625479234, "system_level_velocity_max": 12.286674415181677, "cost2_min": -58.82933891983991}, "done": false, "time_total_s": 12083.420103549957, "timesteps_this_iter": 135000, "episode_reward_min": 395.95489363594317, "episodes_this_iter": 36, "episode_len_mean": 733.86, "iterations_since_restore": 142, "time_since_restore": 12083.420103549957, "time_this_iter_s": 84.93928933143616, "pid": 7871, "episode_reward_mean": 1010.1096285597768, "info": {"grad_time_ms": 32859.117, "update_time_ms": 8.03, "num_steps_trained": 19170000, "num_steps_sampled": 19170000, "load_time_ms": 18.448, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.675593614578247, "total_loss": 11.15892505645752, "vf_loss": 11.162720680236816, "vf_explained_var": 0.37869372963905334, "kl": 0.018420660868287086, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00794131774455309}, "sample_time_ms": 51880.744}, "timesteps_total": 19170000, "num_metric_batches_dropped": 0, "episode_reward_max": 1317.1777111458673, "date": "2019-05-16_10-33-48", "training_iteration": 142, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002913, "timesteps_since_restore": 19305000, "episodes_total": 5298, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34080>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.147670503493452, "cost1_min": 40.19134459676048, "system_level_velocity_mean": 8.288054897121878, "cost1_mean": 205.4272910957196, "cost2_mean": -28.03969578582048, "cost1_max": 269.4136390648031, "cost2_max": -0.2264882625479234, "system_level_velocity_max": 12.290599584458793, "cost2_min": -111.64210753642882}, "done": false, "time_total_s": 12167.896007061005, "timesteps_this_iter": 135000, "episode_reward_min": 193.513182755943, "episodes_this_iter": 36, "episode_len_mean": 732.15, "iterations_since_restore": 143, "time_since_restore": 12167.896007061005, "time_this_iter_s": 84.47590351104736, "pid": 7871, "episode_reward_mean": 1013.65774653378, "info": {"grad_time_ms": 32862.306, "update_time_ms": 8.098, "num_steps_trained": 19305000, "num_steps_sampled": 19305000, "load_time_ms": 18.065, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6215786933898926, "total_loss": 10.9878568649292, "vf_loss": 10.992132186889648, "vf_explained_var": 0.4039583206176758, "kl": 0.016821814700961113, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008059062995016575}, "sample_time_ms": 51782.71}, "timesteps_total": 19305000, "num_metric_batches_dropped": 0, "episode_reward_max": 1332.1304069627604, "date": "2019-05-16_10-35-13", "training_iteration": 143, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558002998, "timesteps_since_restore": 19440000, "episodes_total": 5336, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3df28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3da20>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.8161939464002534, "cost1_min": 40.19134459676048, "system_level_velocity_mean": 8.512075489394343, "cost1_mean": 209.52657070908884, "cost2_mean": -26.602168824084462, "cost1_max": 270.9146019714119, "cost2_max": -0.2264882625479234, "system_level_velocity_max": 12.617796604015814, "cost2_min": -111.64210753642882}, "done": false, "time_total_s": 12253.449702739716, "timesteps_this_iter": 135000, "episode_reward_min": 193.513182755943, "episodes_this_iter": 38, "episode_len_mean": 733.41, "iterations_since_restore": 144, "time_since_restore": 12253.449702739716, "time_this_iter_s": 85.55369567871094, "pid": 7871, "episode_reward_mean": 1034.7936629314445, "info": {"grad_time_ms": 32856.978, "update_time_ms": 8.25, "num_steps_trained": 19440000, "num_steps_sampled": 19440000, "load_time_ms": 18.445, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6426562070846558, "total_loss": 11.300521850585938, "vf_loss": 11.305253028869629, "vf_explained_var": 0.39476558566093445, "kl": 0.018886694684624672, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008980476297438145}, "sample_time_ms": 51815.37}, "timesteps_total": 19440000, "num_metric_batches_dropped": 0, "episode_reward_max": 1332.9726754348615, "date": "2019-05-16_10-36-38", "training_iteration": 144, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003083, "timesteps_since_restore": 19575000, "episodes_total": 5372, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3deb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d748>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.8161939464002534, "cost1_min": 40.19134459676048, "system_level_velocity_mean": 8.599835389065708, "cost1_mean": 211.48392177544576, "cost2_mean": -27.01196462711821, "cost1_max": 270.9146019714119, "cost2_max": -0.4777289407450688, "system_level_velocity_max": 12.617796604015814, "cost2_min": -60.76180963059369}, "done": false, "time_total_s": 12337.774333715439, "timesteps_this_iter": 135000, "episode_reward_min": 193.513182755943, "episodes_this_iter": 36, "episode_len_mean": 734.88, "iterations_since_restore": 145, "time_since_restore": 12337.774333715439, "time_this_iter_s": 84.32463097572327, "pid": 7871, "episode_reward_mean": 1044.01762371926, "info": {"grad_time_ms": 32793.03, "update_time_ms": 8.24, "num_steps_trained": 19575000, "num_steps_sampled": 19575000, "load_time_ms": 18.496, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6450974941253662, "total_loss": 10.841691970825195, "vf_loss": 10.847227096557617, "vf_explained_var": 0.39451834559440613, "kl": 0.018010294064879417, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009588140062987804}, "sample_time_ms": 51795.649}, "timesteps_total": 19575000, "num_metric_batches_dropped": 0, "episode_reward_max": 1332.9726754348615, "date": "2019-05-16_10-38-03", "training_iteration": 145, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003167, "timesteps_since_restore": 19710000, "episodes_total": 5410, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dfd0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.8161939464002534, "cost1_min": 69.35382667166094, "system_level_velocity_mean": 8.51954386358286, "cost1_mean": 208.00188060703448, "cost2_mean": -27.421107255300104, "cost1_max": 270.9146019714119, "cost2_max": -0.4777289407450688, "system_level_velocity_max": 12.617796604015814, "cost2_min": -60.76180963059369}, "done": false, "time_total_s": 12422.178970575333, "timesteps_this_iter": 135000, "episode_reward_min": 341.38111563724436, "episodes_this_iter": 38, "episode_len_mean": 729.79, "iterations_since_restore": 146, "time_since_restore": 12422.178970575333, "time_this_iter_s": 84.4046368598938, "pid": 7871, "episode_reward_mean": 1026.3595252061425, "info": {"grad_time_ms": 32690.798, "update_time_ms": 8.12, "num_steps_trained": 19710000, "num_steps_sampled": 19710000, "load_time_ms": 18.823, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6746809482574463, "total_loss": 11.011266708374023, "vf_loss": 11.015448570251465, "vf_explained_var": 0.3975587487220764, "kl": 0.018180062994360924, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008272772654891014}, "sample_time_ms": 51746.81}, "timesteps_total": 19710000, "num_metric_batches_dropped": 0, "episode_reward_max": 1332.9726754348615, "date": "2019-05-16_10-39-27", "training_iteration": 146, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003253, "timesteps_since_restore": 19845000, "episodes_total": 5446, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d6d8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d198>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.742927109620293, "cost1_min": 69.35382667166094, "system_level_velocity_mean": 8.454426081826357, "cost1_mean": 206.30400084298174, "cost2_mean": -28.86175776935761, "cost1_max": 268.5140265761237, "cost2_max": -0.8013109892134007, "system_level_velocity_max": 12.668673448412907, "cost2_min": -114.56467408527824}, "done": false, "time_total_s": 12508.230853557587, "timesteps_this_iter": 135000, "episode_reward_min": 341.38111563724436, "episodes_this_iter": 36, "episode_len_mean": 728.66, "iterations_since_restore": 147, "time_since_restore": 12508.230853557587, "time_this_iter_s": 86.05188298225403, "pid": 7871, "episode_reward_mean": 1017.535128880187, "info": {"grad_time_ms": 32815.409, "update_time_ms": 8.177, "num_steps_trained": 19845000, "num_steps_sampled": 19845000, "load_time_ms": 18.913, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6780142784118652, "total_loss": 10.67695426940918, "vf_loss": 10.682218551635742, "vf_explained_var": 0.4608936011791229, "kl": 0.018551096320152283, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009439107030630112}, "sample_time_ms": 51768.995}, "timesteps_total": 19845000, "num_metric_batches_dropped": 0, "episode_reward_max": 1327.7785012217241, "date": "2019-05-16_10-40-53", "training_iteration": 147, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003338, "timesteps_since_restore": 19980000, "episodes_total": 5482, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dc50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dda0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.742927109620293, "cost1_min": 63.758630000243556, "system_level_velocity_mean": 8.490717887177906, "cost1_mean": 207.49890022029712, "cost2_mean": -29.5330771461106, "cost1_max": 268.5140265761237, "cost2_max": -0.8013109892134007, "system_level_velocity_max": 12.668673448412907, "cost2_min": -114.56467408527824}, "done": false, "time_total_s": 12593.337421655655, "timesteps_this_iter": 135000, "episode_reward_min": 313.77566282889575, "episodes_this_iter": 36, "episode_len_mean": 732.35, "iterations_since_restore": 148, "time_since_restore": 12593.337421655655, "time_this_iter_s": 85.10656809806824, "pid": 7871, "episode_reward_mean": 1023.1689436026659, "info": {"grad_time_ms": 32844.079, "update_time_ms": 8.19, "num_steps_trained": 19980000, "num_steps_sampled": 19980000, "load_time_ms": 18.915, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6852805614471436, "total_loss": 10.513071060180664, "vf_loss": 10.518532752990723, "vf_explained_var": 0.40122100710868835, "kl": 0.01869243197143078, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009668353945016861}, "sample_time_ms": 51809.937}, "timesteps_total": 19980000, "num_metric_batches_dropped": 0, "episode_reward_max": 1327.7785012217241, "date": "2019-05-16_10-42-18", "training_iteration": 148, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003425, "timesteps_since_restore": 20115000, "episodes_total": 5519, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d2b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dc88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.742927109620293, "cost1_min": 18.87305344698769, "system_level_velocity_mean": 8.629406407259664, "cost1_mean": 210.1337059145208, "cost2_mean": -29.92230369757877, "cost1_max": 268.5140265761237, "cost2_max": -0.02949733804016333, "system_level_velocity_max": 12.668673448412907, "cost2_min": -114.56467408527824}, "done": false, "time_total_s": 12679.633487939835, "timesteps_this_iter": 135000, "episode_reward_min": 94.36526723493819, "episodes_this_iter": 37, "episode_len_mean": 730.83, "iterations_since_restore": 149, "time_since_restore": 12679.633487939835, "time_this_iter_s": 86.29606628417969, "pid": 7871, "episode_reward_mean": 1036.1924402881311, "info": {"grad_time_ms": 32915.808, "update_time_ms": 8.173, "num_steps_trained": 20115000, "num_steps_sampled": 20115000, "load_time_ms": 19.062, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6791412830352783, "total_loss": 11.5291748046875, "vf_loss": 11.533143997192383, "vf_explained_var": 0.3721114993095398, "kl": 0.01765545830130577, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007941769436001778}, "sample_time_ms": 51934.936}, "timesteps_total": 20115000, "num_metric_batches_dropped": 0, "episode_reward_max": 1327.7785012217241, "date": "2019-05-16_10-43-45", "training_iteration": 149, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003510, "timesteps_since_restore": 20250000, "episodes_total": 5557, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3de80>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.8611967685764497, "cost1_min": 18.87305344698769, "system_level_velocity_mean": 8.719031710518921, "cost1_mean": 210.188010334654, "cost2_mean": -31.559145868704487, "cost1_max": 266.0002210506806, "cost2_max": -0.02949733804016333, "system_level_velocity_max": 12.534211076196925, "cost2_min": -150.26161835618305}, "done": false, "time_total_s": 12765.393748760223, "timesteps_this_iter": 135000, "episode_reward_min": 94.36526723493819, "episodes_this_iter": 38, "episode_len_mean": 721.14, "iterations_since_restore": 150, "time_since_restore": 12765.393748760223, "time_this_iter_s": 85.7602608203888, "pid": 7871, "episode_reward_mean": 1035.8299004065718, "info": {"grad_time_ms": 33014.293, "update_time_ms": 8.289, "num_steps_trained": 20250000, "num_steps_sampled": 20250000, "load_time_ms": 19.149, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.686131238937378, "total_loss": 11.388345718383789, "vf_loss": 11.392385482788086, "vf_explained_var": 0.3408389687538147, "kl": 0.017261557281017303, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007923287339508533}, "sample_time_ms": 51940.343}, "timesteps_total": 20250000, "num_metric_batches_dropped": 0, "episode_reward_max": 1314.9876356049842, "date": "2019-05-16_10-45-10", "training_iteration": 150, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003596, "timesteps_since_restore": 20385000, "episodes_total": 5593, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dcf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d9e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.971883956261991, "cost1_min": 18.87305344698769, "system_level_velocity_mean": 8.641508088203746, "cost1_mean": 212.04158133537888, "cost2_mean": -33.47730999324988, "cost1_max": 266.0002210506806, "cost2_max": -0.02949733804016333, "system_level_velocity_max": 12.534211076196925, "cost2_min": -150.26161835618305}, "done": false, "time_total_s": 12851.178922653198, "timesteps_this_iter": 135000, "episode_reward_min": 94.36526723493819, "episodes_this_iter": 36, "episode_len_mean": 732.76, "iterations_since_restore": 151, "time_since_restore": 12851.178922653198, "time_this_iter_s": 85.78517389297485, "pid": 7871, "episode_reward_mean": 1044.1452832765704, "info": {"grad_time_ms": 33009.695, "update_time_ms": 8.304, "num_steps_trained": 20385000, "num_steps_sampled": 20385000, "load_time_ms": 19.451, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.7188167572021484, "total_loss": 10.91528034210205, "vf_loss": 10.92041301727295, "vf_explained_var": 0.37542712688446045, "kl": 0.0193032119423151, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009476223960518837}, "sample_time_ms": 52016.202}, "timesteps_total": 20385000, "num_metric_batches_dropped": 0, "episode_reward_max": 1314.9876356049842, "date": "2019-05-16_10-46-36", "training_iteration": 151, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003682, "timesteps_since_restore": 20520000, "episodes_total": 5630, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ef98>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e828>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.971883956261991, "cost1_min": 45.09967771099106, "system_level_velocity_mean": 8.607102617949087, "cost1_mean": 213.09259768463806, "cost2_mean": -33.76737414361824, "cost1_max": 272.16105571846936, "cost2_max": -0.59511411702256, "system_level_velocity_max": 13.220915022441512, "cost2_min": -150.26161835618305}, "done": false, "time_total_s": 12937.400642871857, "timesteps_this_iter": 135000, "episode_reward_min": 225.24548532998267, "episodes_this_iter": 37, "episode_len_mean": 740.48, "iterations_since_restore": 152, "time_since_restore": 12937.400642871857, "time_this_iter_s": 86.22172021865845, "pid": 7871, "episode_reward_mean": 1049.195923514813, "info": {"grad_time_ms": 33045.559, "update_time_ms": 8.242, "num_steps_trained": 20520000, "num_steps_sampled": 20520000, "load_time_ms": 19.63, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.718647837638855, "total_loss": 11.489784240722656, "vf_loss": 11.494531631469727, "vf_explained_var": 0.31201303005218506, "kl": 0.019003935158252716, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009022805839776993}, "sample_time_ms": 52108.687}, "timesteps_total": 20520000, "num_metric_batches_dropped": 0, "episode_reward_max": 1358.3569793270779, "date": "2019-05-16_10-48-02", "training_iteration": 152, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003767, "timesteps_since_restore": 20655000, "episodes_total": 5668, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42470>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.275178703859042, "cost1_min": 42.406929607365726, "system_level_velocity_mean": 8.451496565892425, "cost1_mean": 208.1105653197133, "cost2_mean": -30.991661051964957, "cost1_max": 272.16105571846936, "cost2_max": -0.044355668599191274, "system_level_velocity_max": 13.220915022441512, "cost2_min": -67.56977983849102}, "done": false, "time_total_s": 13022.351858139038, "timesteps_this_iter": 135000, "episode_reward_min": 210.00321601572085, "episodes_this_iter": 38, "episode_len_mean": 734.71, "iterations_since_restore": 153, "time_since_restore": 13022.351858139038, "time_this_iter_s": 84.9512152671814, "pid": 7871, "episode_reward_mean": 1025.1151593324046, "info": {"grad_time_ms": 33059.365, "update_time_ms": 8.29, "num_steps_trained": 20655000, "num_steps_sampled": 20655000, "load_time_ms": 19.761, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.7119444608688354, "total_loss": 11.347278594970703, "vf_loss": 11.352357864379883, "vf_explained_var": 0.3361552953720093, "kl": 0.018564647063612938, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009255843237042427}, "sample_time_ms": 52142.344}, "timesteps_total": 20655000, "num_metric_batches_dropped": 0, "episode_reward_max": 1358.3569793270779, "date": "2019-05-16_10-49-27", "training_iteration": 153, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003854, "timesteps_since_restore": 20790000, "episodes_total": 5704, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc344a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34c88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.275178703859042, "cost1_min": 42.406929607365726, "system_level_velocity_mean": 8.599305966318145, "cost1_mean": 208.9044775823531, "cost2_mean": -31.00390930588451, "cost1_max": 272.16105571846936, "cost2_max": -0.044355668599191274, "system_level_velocity_max": 13.220915022441512, "cost2_min": -67.56977983849102}, "done": false, "time_total_s": 13108.585345029831, "timesteps_this_iter": 135000, "episode_reward_min": 210.00321601572085, "episodes_this_iter": 36, "episode_len_mean": 728.67, "iterations_since_restore": 154, "time_since_restore": 13108.585345029831, "time_this_iter_s": 86.23348689079285, "pid": 7871, "episode_reward_mean": 1029.2267342762027, "info": {"grad_time_ms": 33168.352, "update_time_ms": 8.218, "num_steps_trained": 20790000, "num_steps_sampled": 20790000, "load_time_ms": 19.507, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.6999049186706543, "total_loss": 11.185768127441406, "vf_loss": 11.190217971801758, "vf_explained_var": 0.37627527117729187, "kl": 0.018284136429429054, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008564235642552376}, "sample_time_ms": 52099.619}, "timesteps_total": 20790000, "num_metric_batches_dropped": 0, "episode_reward_max": 1358.3569793270779, "date": "2019-05-16_10-50-54", "training_iteration": 154, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558003939, "timesteps_since_restore": 20925000, "episodes_total": 5740, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2e550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ea90>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.106988605028804, "cost1_min": 42.406929607365726, "system_level_velocity_mean": 8.646236881642228, "cost1_mean": 212.22306506269072, "cost2_mean": -32.52660763937728, "cost1_max": 268.65005431652, "cost2_max": -0.044355668599191274, "system_level_velocity_max": 12.311146286349876, "cost2_min": -93.60114176430088}, "done": false, "time_total_s": 13193.914507627487, "timesteps_this_iter": 135000, "episode_reward_min": 210.00321601572085, "episodes_this_iter": 36, "episode_len_mean": 732.93, "iterations_since_restore": 155, "time_since_restore": 13193.914507627487, "time_this_iter_s": 85.32916259765625, "pid": 7871, "episode_reward_mean": 1045.3124491438616, "info": {"grad_time_ms": 33211.176, "update_time_ms": 8.174, "num_steps_trained": 20925000, "num_steps_sampled": 20925000, "load_time_ms": 19.591, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.7407735586166382, "total_loss": 11.236942291259766, "vf_loss": 11.241820335388184, "vf_explained_var": 0.45611217617988586, "kl": 0.01806998997926712, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0089445561170578}, "sample_time_ms": 52151.619}, "timesteps_total": 20925000, "num_metric_batches_dropped": 0, "episode_reward_max": 1334.1713514108862, "date": "2019-05-16_10-52-19", "training_iteration": 155, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004024, "timesteps_since_restore": 21060000, "episodes_total": 5777, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42cc0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.6424393429452822, "cost1_min": 42.28508827077314, "system_level_velocity_mean": 8.503788348762273, "cost1_mean": 209.38724641420566, "cost2_mean": -32.163229308073596, "cost1_max": 268.65005431652, "cost2_max": -4.873860474435051, "system_level_velocity_max": 12.099768391598726, "cost2_min": -136.318824284388}, "done": false, "time_total_s": 13279.07997751236, "timesteps_this_iter": 135000, "episode_reward_min": 196.71984102981307, "episodes_this_iter": 37, "episode_len_mean": 731.55, "iterations_since_restore": 156, "time_since_restore": 13279.07997751236, "time_this_iter_s": 85.16546988487244, "pid": 7871, "episode_reward_mean": 1031.920387606841, "info": {"grad_time_ms": 33216.994, "update_time_ms": 8.175, "num_steps_trained": 21060000, "num_steps_sampled": 21060000, "load_time_ms": 19.529, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.7310059070587158, "total_loss": 11.041074752807617, "vf_loss": 11.045377731323242, "vf_explained_var": 0.3903161883354187, "kl": 0.01772540807723999, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008291793055832386}, "sample_time_ms": 52221.404}, "timesteps_total": 21060000, "num_metric_batches_dropped": 0, "episode_reward_max": 1334.1713514108862, "date": "2019-05-16_10-53-44", "training_iteration": 156, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004109, "timesteps_since_restore": 21195000, "episodes_total": 5813, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42f98>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34c88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.6424393429452822, "cost1_min": 42.28508827077314, "system_level_velocity_mean": 8.40380371669263, "cost1_mean": 208.56747472130826, "cost2_mean": -31.276833702625208, "cost1_max": 274.19517300258065, "cost2_max": -4.615822947612237, "system_level_velocity_max": 12.07156719215601, "cost2_min": -136.318824284388}, "done": false, "time_total_s": 13363.812433481216, "timesteps_this_iter": 135000, "episode_reward_min": 196.71984102981307, "episodes_this_iter": 36, "episode_len_mean": 737.59, "iterations_since_restore": 157, "time_since_restore": 13363.812433481216, "time_this_iter_s": 84.73245596885681, "pid": 7871, "episode_reward_mean": 1028.1100185143277, "info": {"grad_time_ms": 33102.911, "update_time_ms": 8.19, "num_steps_trained": 21195000, "num_steps_sampled": 21195000, "load_time_ms": 19.509, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.7504454851150513, "total_loss": 10.971846580505371, "vf_loss": 10.977158546447754, "vf_explained_var": 0.2887789309024811, "kl": 0.018216677010059357, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00941103883087635}, "sample_time_ms": 52202.865}, "timesteps_total": 21195000, "num_metric_batches_dropped": 0, "episode_reward_max": 1342.9792985331324, "date": "2019-05-16_10-55-09", "training_iteration": 157, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004195, "timesteps_since_restore": 21330000, "episodes_total": 5849, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34748>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34400>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.473234656051002, "cost1_min": 46.88301921890488, "system_level_velocity_mean": 8.43172793580085, "cost1_mean": 209.2687855295893, "cost2_mean": -28.342019553327162, "cost1_max": 274.19517300258065, "cost2_max": -4.306687939166032, "system_level_velocity_max": 12.191284503079014, "cost2_min": -62.504408675421736}, "done": false, "time_total_s": 13449.213319778442, "timesteps_this_iter": 135000, "episode_reward_min": 231.9781658573072, "episodes_this_iter": 36, "episode_len_mean": 735.07, "iterations_since_restore": 158, "time_since_restore": 13449.213319778442, "time_this_iter_s": 85.40088629722595, "pid": 7871, "episode_reward_mean": 1032.2838352283595, "info": {"grad_time_ms": 33079.248, "update_time_ms": 8.17, "num_steps_trained": 21330000, "num_steps_sampled": 21330000, "load_time_ms": 19.699, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.759770393371582, "total_loss": 10.482158660888672, "vf_loss": 10.488329887390137, "vf_explained_var": 0.29424962401390076, "kl": 0.01900639198720455, "cur_lr": 0.0005000000237487257, "policy_loss": -0.01044687069952488}, "sample_time_ms": 52254.956}, "timesteps_total": 21330000, "num_metric_batches_dropped": 0, "episode_reward_max": 1342.9792985331324, "date": "2019-05-16_10-56-35", "training_iteration": 158, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004280, "timesteps_since_restore": 21465000, "episodes_total": 5886, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42a90>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.9596577799321848, "cost1_min": 35.88794817515257, "system_level_velocity_mean": 8.158165865100615, "cost1_mean": 206.78367444650618, "cost2_mean": -29.070831670263548, "cost1_max": 274.19517300258065, "cost2_max": -3.3139978258405938, "system_level_velocity_max": 12.191284503079014, "cost2_min": -93.11270783102927}, "done": false, "time_total_s": 13534.611767053604, "timesteps_this_iter": 135000, "episode_reward_min": 168.0774836203086, "episodes_this_iter": 37, "episode_len_mean": 744.91, "iterations_since_restore": 159, "time_since_restore": 13534.611767053604, "time_this_iter_s": 85.39844727516174, "pid": 7871, "episode_reward_mean": 1020.3138615057057, "info": {"grad_time_ms": 33037.558, "update_time_ms": 8.177, "num_steps_trained": 21465000, "num_steps_sampled": 21465000, "load_time_ms": 19.75, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.7696385383605957, "total_loss": 11.063902854919434, "vf_loss": 11.06896686553955, "vf_explained_var": 0.47466278076171875, "kl": 0.018132876604795456, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00914466567337513}, "sample_time_ms": 52208.048}, "timesteps_total": 21465000, "num_metric_batches_dropped": 0, "episode_reward_max": 1342.9792985331324, "date": "2019-05-16_10-58-00", "training_iteration": 159, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004365, "timesteps_since_restore": 21600000, "episodes_total": 5922, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34c88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.9596577799321848, "cost1_min": 35.88794817515257, "system_level_velocity_mean": 8.138110894191026, "cost1_mean": 206.27846249799867, "cost2_mean": -25.96286058849008, "cost1_max": 271.4590159479525, "cost2_max": -0.11163035765814062, "system_level_velocity_max": 13.259135406880482, "cost2_min": -93.11270783102927}, "done": false, "time_total_s": 13619.205312252045, "timesteps_this_iter": 135000, "episode_reward_min": 168.0774836203086, "episodes_this_iter": 36, "episode_len_mean": 744.91, "iterations_since_restore": 160, "time_since_restore": 13619.205312252045, "time_this_iter_s": 84.59354519844055, "pid": 7871, "episode_reward_mean": 1019.3315862981326, "info": {"grad_time_ms": 32977.943, "update_time_ms": 8.142, "num_steps_trained": 21600000, "num_steps_sampled": 21600000, "load_time_ms": 19.555, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.7329243421554565, "total_loss": 10.13365364074707, "vf_loss": 10.138566970825195, "vf_explained_var": 0.3252761960029602, "kl": 0.01913459412753582, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009218628518283367}, "sample_time_ms": 52151.667}, "timesteps_total": 21600000, "num_metric_batches_dropped": 0, "episode_reward_max": 1357.239264560932, "date": "2019-05-16_10-59-25", "training_iteration": 160, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004449, "timesteps_since_restore": 21735000, "episodes_total": 5958, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3de10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34ef0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.9596577799321848, "cost1_min": 35.88794817515257, "system_level_velocity_mean": 8.125895296308222, "cost1_mean": 206.2727707550175, "cost2_mean": -24.24839201417763, "cost1_max": 271.4590159479525, "cost2_max": -0.11163035765814062, "system_level_velocity_max": 13.259135406880482, "cost2_min": -90.2338606764549}, "done": false, "time_total_s": 13703.139343261719, "timesteps_this_iter": 135000, "episode_reward_min": 168.0774836203086, "episodes_this_iter": 36, "episode_len_mean": 747.46, "iterations_since_restore": 161, "time_since_restore": 13703.139343261719, "time_this_iter_s": 83.93403100967407, "pid": 7871, "episode_reward_mean": 1019.9668900551547, "info": {"grad_time_ms": 32910.665, "update_time_ms": 8.207, "num_steps_trained": 21735000, "num_steps_sampled": 21735000, "load_time_ms": 19.272, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.727810025215149, "total_loss": 10.23051929473877, "vf_loss": 10.235261917114258, "vf_explained_var": 0.3268486559391022, "kl": 0.018244003877043724, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008846758864820004}, "sample_time_ms": 52034.331}, "timesteps_total": 21735000, "num_metric_batches_dropped": 0, "episode_reward_max": 1357.239264560932, "date": "2019-05-16_11-00-49", "training_iteration": 161, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004535, "timesteps_since_restore": 21870000, "episodes_total": 5994, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3db38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42a90>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.638515677179892, "cost1_min": 129.34377921827317, "system_level_velocity_mean": 8.259418491609006, "cost1_mean": 208.79423622918227, "cost2_mean": -22.65603466307023, "cost1_max": 271.4590159479525, "cost2_max": -0.11163035765814062, "system_level_velocity_max": 13.259135406880482, "cost2_min": -61.844028838832706}, "done": false, "time_total_s": 13789.173124074936, "timesteps_this_iter": 135000, "episode_reward_min": 634.2068683509126, "episodes_this_iter": 36, "episode_len_mean": 746.41, "iterations_since_restore": 162, "time_since_restore": 13789.173124074936, "time_this_iter_s": 86.03378081321716, "pid": 7871, "episode_reward_mean": 1032.8244868630818, "info": {"grad_time_ms": 32957.77, "update_time_ms": 8.183, "num_steps_trained": 21870000, "num_steps_sampled": 21870000, "load_time_ms": 19.134, "default": {"cur_kl_coeff": 0.22499997913837433, "entropy": 1.7429896593093872, "total_loss": 10.425154685974121, "vf_loss": 10.429512977600098, "vf_explained_var": 0.33493030071258545, "kl": 0.02063996158540249, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009001693688333035}, "sample_time_ms": 51966.582}, "timesteps_total": 21870000, "num_metric_batches_dropped": 0, "episode_reward_max": 1357.239264560932, "date": "2019-05-16_11-02-15", "training_iteration": 162, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004620, "timesteps_since_restore": 22005000, "episodes_total": 6030, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc342e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34320>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34940>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.9868516256440705, "cost1_min": 110.5024721478639, "system_level_velocity_mean": 8.126398885087434, "cost1_mean": 206.72829115502293, "cost2_mean": -23.425206742038057, "cost1_max": 266.1196743737022, "cost2_max": -1.5666141490234213, "system_level_velocity_max": 12.117260083457014, "cost2_min": -58.4371536169469}, "done": false, "time_total_s": 13874.463376045227, "timesteps_this_iter": 135000, "episode_reward_min": 546.2697686709377, "episodes_this_iter": 36, "episode_len_mean": 745.12, "iterations_since_restore": 163, "time_since_restore": 13874.463376045227, "time_this_iter_s": 85.29025197029114, "pid": 7871, "episode_reward_mean": 1022.0062222026381, "info": {"grad_time_ms": 32982.717, "update_time_ms": 8.222, "num_steps_trained": 22005000, "num_steps_sampled": 22005000, "load_time_ms": 19.018, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7263411283493042, "total_loss": 10.694485664367676, "vf_loss": 10.698974609375, "vf_explained_var": 0.32089853286743164, "kl": 0.015069503337144852, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009574297815561295}, "sample_time_ms": 51975.261}, "timesteps_total": 22005000, "num_metric_batches_dropped": 0, "episode_reward_max": 1325.6271793191722, "date": "2019-05-16_11-03-40", "training_iteration": 163, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004706, "timesteps_since_restore": 22140000, "episodes_total": 6066, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cef28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc346a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce390>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.852610250629874, "cost1_min": 100.12355253478809, "system_level_velocity_mean": 8.184609603468694, "cost1_mean": 208.29970561700975, "cost2_mean": -25.693101766451324, "cost1_max": 266.1196743737022, "cost2_max": -2.1091986109138707, "system_level_velocity_max": 12.117260083457014, "cost2_min": -105.88396423768066}, "done": false, "time_total_s": 13959.868453264236, "timesteps_this_iter": 135000, "episode_reward_min": 480.0162274999069, "episodes_this_iter": 36, "episode_len_mean": 743.62, "iterations_since_restore": 164, "time_since_restore": 13959.868453264236, "time_this_iter_s": 85.4050772190094, "pid": 7871, "episode_reward_mean": 1029.0966184383353, "info": {"grad_time_ms": 32928.321, "update_time_ms": 8.335, "num_steps_trained": 22140000, "num_steps_sampled": 22140000, "load_time_ms": 18.809, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7451375722885132, "total_loss": 10.046195983886719, "vf_loss": 10.046721458435059, "vf_explained_var": 0.3415346145629883, "kl": 0.017830008640885353, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006542551331222057}, "sample_time_ms": 51947.698}, "timesteps_total": 22140000, "num_metric_batches_dropped": 0, "episode_reward_max": 1325.6271793191722, "date": "2019-05-16_11-05-06", "training_iteration": 164, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004794, "timesteps_since_restore": 22275000, "episodes_total": 6102, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42588>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.852610250629874, "cost1_min": 100.12355253478809, "system_level_velocity_mean": 8.330964722776695, "cost1_mean": 211.89151281346403, "cost2_mean": -25.73792823177556, "cost1_max": 266.1196743737022, "cost2_max": -1.0989876380136858, "system_level_velocity_max": 12.117260083457014, "cost2_min": -105.88396423768066}, "done": false, "time_total_s": 14047.865340948105, "timesteps_this_iter": 135000, "episode_reward_min": 480.0162274999069, "episodes_this_iter": 36, "episode_len_mean": 747.21, "iterations_since_restore": 165, "time_since_restore": 14047.865340948105, "time_this_iter_s": 87.99688768386841, "pid": 7871, "episode_reward_mean": 1046.9709174549826, "info": {"grad_time_ms": 33111.007, "update_time_ms": 8.433, "num_steps_trained": 22275000, "num_steps_sampled": 22275000, "load_time_ms": 18.81, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7730798721313477, "total_loss": 10.514488220214844, "vf_loss": 10.517148971557617, "vf_explained_var": 0.300716757774353, "kl": 0.0152133135125041, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007795322220772505}, "sample_time_ms": 52035.594}, "timesteps_total": 22275000, "num_metric_batches_dropped": 0, "episode_reward_max": 1325.6271793191722, "date": "2019-05-16_11-06-34", "training_iteration": 165, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004880, "timesteps_since_restore": 22410000, "episodes_total": 6138, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34748>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.628363162385486, "cost1_min": 147.2547872499569, "system_level_velocity_mean": 8.567732852357647, "cost1_mean": 217.18418558231366, "cost2_mean": -24.97049418675366, "cost1_max": 270.2079826517548, "cost2_max": -1.0989876380136858, "system_level_velocity_max": 12.067445631272193, "cost2_min": -85.80679941554}, "done": false, "time_total_s": 14134.144891738892, "timesteps_this_iter": 135000, "episode_reward_min": 707.9902327218854, "episodes_this_iter": 36, "episode_len_mean": 749.77, "iterations_since_restore": 166, "time_since_restore": 14134.144891738892, "time_this_iter_s": 86.27955079078674, "pid": 7871, "episode_reward_mean": 1073.5840407886812, "info": {"grad_time_ms": 33155.503, "update_time_ms": 8.375, "num_steps_trained": 22410000, "num_steps_sampled": 22410000, "load_time_ms": 18.863, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7361505031585693, "total_loss": 10.338493347167969, "vf_loss": 10.341710090637207, "vf_explained_var": 0.3555885851383209, "kl": 0.014864428900182247, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008233295753598213}, "sample_time_ms": 52102.128}, "timesteps_total": 22410000, "num_metric_batches_dropped": 0, "episode_reward_max": 1348.0340689228549, "date": "2019-05-16_11-08-00", "training_iteration": 166, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558004966, "timesteps_since_restore": 22545000, "episodes_total": 6174, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce7f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cee48>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.372346318868295, "cost1_min": 90.65533078204433, "system_level_velocity_mean": 8.389320646591687, "cost1_mean": 212.23546891621737, "cost2_mean": -26.674620510942226, "cost1_max": 270.2079826517548, "cost2_max": -1.0989876380136858, "system_level_velocity_max": 12.067445631272193, "cost2_min": -172.37925571413217}, "done": false, "time_total_s": 14220.395207643509, "timesteps_this_iter": 135000, "episode_reward_min": 435.2794980581783, "episodes_this_iter": 36, "episode_len_mean": 746.59, "iterations_since_restore": 167, "time_since_restore": 14220.395207643509, "time_this_iter_s": 86.25031590461731, "pid": 7871, "episode_reward_mean": 1048.672521751058, "info": {"grad_time_ms": 33254.447, "update_time_ms": 8.355, "num_steps_trained": 22545000, "num_steps_sampled": 22545000, "load_time_ms": 19.031, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7441775798797607, "total_loss": 10.496659278869629, "vf_loss": 10.500701904296875, "vf_explained_var": 0.31772714853286743, "kl": 0.015266932547092438, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009196526370942593}, "sample_time_ms": 52154.843}, "timesteps_total": 22545000, "num_metric_batches_dropped": 0, "episode_reward_max": 1348.0340689228549, "date": "2019-05-16_11-09-26", "training_iteration": 167, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005051, "timesteps_since_restore": 22680000, "episodes_total": 6210, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc422b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.372346318868295, "cost1_min": 90.65533078204433, "system_level_velocity_mean": 8.432632815204068, "cost1_mean": 212.7259299235936, "cost2_mean": -25.645091263173626, "cost1_max": 261.09212634453274, "cost2_max": -1.2080784646440221, "system_level_velocity_max": 12.00980015024909, "cost2_min": -172.37925571413217}, "done": false, "time_total_s": 14305.520540714264, "timesteps_this_iter": 135000, "episode_reward_min": 435.2794980581783, "episodes_this_iter": 36, "episode_len_mean": 746.59, "iterations_since_restore": 168, "time_since_restore": 14305.520540714264, "time_this_iter_s": 85.125333070755, "pid": 7871, "episode_reward_mean": 1051.6374284031326, "info": {"grad_time_ms": 33229.39, "update_time_ms": 8.299, "num_steps_trained": 22680000, "num_steps_sampled": 22680000, "load_time_ms": 19.023, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7425764799118042, "total_loss": 10.475235939025879, "vf_loss": 10.478612899780273, "vf_explained_var": 0.27732139825820923, "kl": 0.0154060497879982, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00857680756598711}, "sample_time_ms": 52152.126}, "timesteps_total": 22680000, "num_metric_batches_dropped": 0, "episode_reward_max": 1302.9487225942548, "date": "2019-05-16_11-10-51", "training_iteration": 168, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005138, "timesteps_since_restore": 22815000, "episodes_total": 6246, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cea90>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.415203296247897, "cost1_min": 119.74303509145707, "system_level_velocity_mean": 8.56612681541882, "cost1_mean": 215.35867998944883, "cost2_mean": -24.04381830731215, "cost1_max": 264.26728597644876, "cost2_max": -0.7236635718655483, "system_level_velocity_max": 12.321195689215156, "cost2_min": -54.65918287651911}, "done": false, "time_total_s": 14392.04064822197, "timesteps_this_iter": 135000, "episode_reward_min": 589.3141456451626, "episodes_this_iter": 36, "episode_len_mean": 746.82, "iterations_since_restore": 169, "time_since_restore": 14392.04064822197, "time_this_iter_s": 86.52010750770569, "pid": 7871, "episode_reward_mean": 1064.7771667640416, "info": {"grad_time_ms": 33284.376, "update_time_ms": 8.255, "num_steps_trained": 22815000, "num_steps_sampled": 22815000, "load_time_ms": 18.931, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7835794687271118, "total_loss": 10.966646194458008, "vf_loss": 10.97098159790039, "vf_explained_var": 0.2617987096309662, "kl": 0.015240837819874287, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00947996973991394}, "sample_time_ms": 52207.837}, "timesteps_total": 22815000, "num_metric_batches_dropped": 0, "episode_reward_max": 1312.1877813740475, "date": "2019-05-16_11-12-18", "training_iteration": 169, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005224, "timesteps_since_restore": 22950000, "episodes_total": 6282, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc21198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ef98>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc2ebe0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.558960540808718, "cost1_min": 173.04414517123507, "system_level_velocity_mean": 8.399111691612706, "cost1_mean": 213.17209921933815, "cost2_mean": -24.382236765119583, "cost1_max": 277.6168738161193, "cost2_max": -0.7236635718655483, "system_level_velocity_max": 13.454201445871021, "cost2_min": -50.45634575067696}, "done": false, "time_total_s": 14477.955374002457, "timesteps_this_iter": 135000, "episode_reward_min": 857.6735267948496, "episodes_this_iter": 36, "episode_len_mean": 750.0, "iterations_since_restore": 170, "time_since_restore": 14477.955374002457, "time_this_iter_s": 85.91472578048706, "pid": 7871, "episode_reward_mean": 1053.6825936435966, "info": {"grad_time_ms": 33369.873, "update_time_ms": 8.387, "num_steps_trained": 22950000, "num_steps_sampled": 22950000, "load_time_ms": 19.034, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.79942786693573, "total_loss": 10.576546669006348, "vf_loss": 10.581098556518555, "vf_explained_var": 0.2714134454727173, "kl": 0.01546943373978138, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009771712124347687}, "sample_time_ms": 52252.867}, "timesteps_total": 22950000, "num_metric_batches_dropped": 0, "episode_reward_max": 1387.1308394385514, "date": "2019-05-16_11-13-44", "training_iteration": 170, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005310, "timesteps_since_restore": 23085000, "episodes_total": 6320, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34a90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34c88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.270682247244575, "cost1_min": 60.553933306708906, "system_level_velocity_mean": 8.38319680146652, "cost1_mean": 210.04085308990102, "cost2_mean": -24.729672740680943, "cost1_max": 277.6168738161193, "cost2_max": -0.6184970791841875, "system_level_velocity_max": 13.454201445871021, "cost2_min": -49.47476974352665}, "done": false, "time_total_s": 14563.657440900803, "timesteps_this_iter": 135000, "episode_reward_min": 301.2172618886512, "episodes_this_iter": 38, "episode_len_mean": 740.62, "iterations_since_restore": 171, "time_since_restore": 14563.657440900803, "time_this_iter_s": 85.70206689834595, "pid": 7871, "episode_reward_mean": 1037.8526450086308, "info": {"grad_time_ms": 33442.283, "update_time_ms": 8.475, "num_steps_trained": 23085000, "num_steps_sampled": 23085000, "load_time_ms": 19.455, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7790241241455078, "total_loss": 11.32863998413086, "vf_loss": 11.333126068115234, "vf_explained_var": 0.3124474287033081, "kl": 0.015258798375725746, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009636089205741882}, "sample_time_ms": 52354.916}, "timesteps_total": 23085000, "num_metric_batches_dropped": 0, "episode_reward_max": 1387.1308394385514, "date": "2019-05-16_11-15-10", "training_iteration": 171, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005395, "timesteps_since_restore": 23220000, "episodes_total": 6356, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce160>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.4949845062210079, "cost1_min": 40.581410782366795, "system_level_velocity_mean": 8.272746093642848, "cost1_mean": 207.5984976341909, "cost2_mean": -25.669216136659546, "cost1_max": 277.6168738161193, "cost2_max": -0.2250464562242524, "system_level_velocity_max": 13.454201445871021, "cost2_min": -132.0602828106512}, "done": false, "time_total_s": 14649.113167762756, "timesteps_this_iter": 135000, "episode_reward_min": 191.69312404868649, "episodes_this_iter": 36, "episode_len_mean": 740.62, "iterations_since_restore": 172, "time_since_restore": 14649.113167762756, "time_this_iter_s": 85.45572686195374, "pid": 7871, "episode_reward_mean": 1025.7133153789603, "info": {"grad_time_ms": 33390.879, "update_time_ms": 8.563, "num_steps_trained": 23220000, "num_steps_sampled": 23220000, "load_time_ms": 19.46, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.805734634399414, "total_loss": 11.067683219909668, "vf_loss": 11.07148551940918, "vf_explained_var": 0.3818742036819458, "kl": 0.01477243285626173, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00878890510648489}, "sample_time_ms": 52352.31}, "timesteps_total": 23220000, "num_metric_batches_dropped": 0, "episode_reward_max": 1387.1308394385514, "date": "2019-05-16_11-16-35", "training_iteration": 172, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005482, "timesteps_since_restore": 23355000, "episodes_total": 6393, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce320>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce128>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.4949845062210079, "cost1_min": 40.581410782366795, "system_level_velocity_mean": 8.151860228580999, "cost1_mean": 204.5549700039455, "cost2_mean": -27.122512985555524, "cost1_max": 271.11179541667246, "cost2_max": -0.2250464562242524, "system_level_velocity_max": 12.021042888344212, "cost2_min": -132.0602828106512}, "done": false, "time_total_s": 14735.813456773758, "timesteps_this_iter": 135000, "episode_reward_min": 191.69312404868649, "episodes_this_iter": 37, "episode_len_mean": 736.25, "iterations_since_restore": 173, "time_since_restore": 14735.813456773758, "time_this_iter_s": 86.70028901100159, "pid": 7871, "episode_reward_mean": 1010.405655235245, "info": {"grad_time_ms": 33354.504, "update_time_ms": 8.457, "num_steps_trained": 23355000, "num_steps_sampled": 23355000, "load_time_ms": 19.687, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8013460636138916, "total_loss": 10.774968147277832, "vf_loss": 10.778909683227539, "vf_explained_var": 0.41169601678848267, "kl": 0.014644289389252663, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00888338964432478}, "sample_time_ms": 52530.409}, "timesteps_total": 23355000, "num_metric_batches_dropped": 0, "episode_reward_max": 1348.39300011241, "date": "2019-05-16_11-18-02", "training_iteration": 173, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005567, "timesteps_since_restore": 23490000, "episodes_total": 6431, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cecc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.4949845062210079, "cost1_min": 33.735589047889974, "system_level_velocity_mean": 7.954938111016966, "cost1_mean": 200.925182771339, "cost2_mean": -27.616080967023674, "cost1_max": 261.849991214214, "cost2_max": -0.9699307959961652, "system_level_velocity_max": 11.455780628508856, "cost2_min": -132.0602828106512}, "done": false, "time_total_s": 14820.874318599701, "timesteps_this_iter": 135000, "episode_reward_min": 160.71049000541058, "episodes_this_iter": 38, "episode_len_mean": 737.23, "iterations_since_restore": 174, "time_since_restore": 14820.874318599701, "time_this_iter_s": 85.060861825943, "pid": 7871, "episode_reward_mean": 992.3886884840041, "info": {"grad_time_ms": 33318.488, "update_time_ms": 8.293, "num_steps_trained": 23490000, "num_steps_sampled": 23490000, "load_time_ms": 19.984, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7735495567321777, "total_loss": 10.894643783569336, "vf_loss": 10.898635864257812, "vf_explained_var": 0.4315916895866394, "kl": 0.01398311648517847, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008712327107787132}, "sample_time_ms": 52533.578}, "timesteps_total": 23490000, "num_metric_batches_dropped": 0, "episode_reward_max": 1300.2952571884443, "date": "2019-05-16_11-19-27", "training_iteration": 174, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005652, "timesteps_since_restore": 23625000, "episodes_total": 6468, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceef0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce6a0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 1.618388147984823, "cost1_min": 33.735589047889974, "system_level_velocity_mean": 8.019029088424135, "cost1_mean": 200.2104270491202, "cost2_mean": -27.274943822447835, "cost1_max": 274.1374903021897, "cost2_max": -0.3238035817564381, "system_level_velocity_max": 12.46235524494864, "cost2_min": -123.79065785970906}, "done": false, "time_total_s": 14905.54241681099, "timesteps_this_iter": 135000, "episode_reward_min": 160.71049000541058, "episodes_this_iter": 37, "episode_len_mean": 733.95, "iterations_since_restore": 175, "time_since_restore": 14905.54241681099, "time_this_iter_s": 84.66809821128845, "pid": 7871, "episode_reward_mean": 989.2918792140362, "info": {"grad_time_ms": 33100.533, "update_time_ms": 8.264, "num_steps_trained": 23625000, "num_steps_sampled": 23625000, "load_time_ms": 19.878, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.7713290452957153, "total_loss": 10.7805757522583, "vf_loss": 10.78343677520752, "vf_explained_var": 0.501567006111145, "kl": 0.014026453718543053, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007594939321279526}, "sample_time_ms": 52418.892}, "timesteps_total": 23625000, "num_metric_batches_dropped": 0, "episode_reward_max": 1366.559162165706, "date": "2019-05-16_11-20-52", "training_iteration": 175, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005741, "timesteps_since_restore": 23760000, "episodes_total": 6506, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc42588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34550>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.497664043455634, "cost1_min": 33.735589047889974, "system_level_velocity_mean": 8.054018688916052, "cost1_mean": 201.13299146111854, "cost2_mean": -26.293473492186727, "cost1_max": 274.1374903021897, "cost2_max": 0.0, "system_level_velocity_max": 12.46235524494864, "cost2_min": -119.35810807933281}, "done": false, "time_total_s": 14994.888905525208, "timesteps_this_iter": 135000, "episode_reward_min": 160.71049000541058, "episodes_this_iter": 38, "episode_len_mean": 731.11, "iterations_since_restore": 176, "time_since_restore": 14994.888905525208, "time_this_iter_s": 89.34648871421814, "pid": 7871, "episode_reward_mean": 993.9926800401586, "info": {"grad_time_ms": 33303.147, "update_time_ms": 8.315, "num_steps_trained": 23760000, "num_steps_sampled": 23760000, "load_time_ms": 20.487, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8108959197998047, "total_loss": 11.115652084350586, "vf_loss": 11.119597434997559, "vf_explained_var": 0.3910830616950989, "kl": 0.015160814858973026, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009062356315553188}, "sample_time_ms": 52521.559}, "timesteps_total": 23760000, "num_metric_batches_dropped": 0, "episode_reward_max": 1366.559162165706, "date": "2019-05-16_11-22-21", "training_iteration": 176, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005826, "timesteps_since_restore": 23895000, "episodes_total": 6542, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d780>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d0f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.497664043455634, "cost1_min": 46.97265490264348, "system_level_velocity_mean": 7.971892157069439, "cost1_mean": 198.94121789781974, "cost2_mean": -28.15059591757732, "cost1_max": 274.1374903021897, "cost2_max": 0.0, "system_level_velocity_max": 12.46235524494864, "cost2_min": -119.35810807933281}, "done": false, "time_total_s": 15079.805464029312, "timesteps_this_iter": 135000, "episode_reward_min": 234.86327451321756, "episodes_this_iter": 36, "episode_len_mean": 728.37, "iterations_since_restore": 177, "time_since_restore": 15079.805464029312, "time_this_iter_s": 84.91655850410461, "pid": 7871, "episode_reward_mean": 982.2406359231899, "info": {"grad_time_ms": 33244.908, "update_time_ms": 8.355, "num_steps_trained": 23895000, "num_steps_sampled": 23895000, "load_time_ms": 20.312, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.838308572769165, "total_loss": 10.658315658569336, "vf_loss": 10.661349296569824, "vf_explained_var": 0.4001173973083496, "kl": 0.01519598439335823, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008164064027369022}, "sample_time_ms": 52446.742}, "timesteps_total": 23895000, "num_metric_batches_dropped": 0, "episode_reward_max": 1366.559162165706, "date": "2019-05-16_11-23-46", "training_iteration": 177, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005912, "timesteps_since_restore": 24030000, "episodes_total": 6578, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cedd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cee10>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.973070630155001, "cost1_min": 46.97265490264348, "system_level_velocity_mean": 7.796885947422531, "cost1_mean": 197.593278731636, "cost2_mean": -28.58765838193421, "cost1_max": 262.5897206797205, "cost2_max": 0.0, "system_level_velocity_max": 11.6473303666938, "cost2_min": -91.1805163896406}, "done": false, "time_total_s": 15165.244849205017, "timesteps_this_iter": 135000, "episode_reward_min": 234.86327451321756, "episodes_this_iter": 36, "episode_len_mean": 731.65, "iterations_since_restore": 178, "time_since_restore": 15165.244849205017, "time_this_iter_s": 85.43938517570496, "pid": 7871, "episode_reward_mean": 974.4669850890325, "info": {"grad_time_ms": 33326.477, "update_time_ms": 8.632, "num_steps_trained": 24030000, "num_steps_sampled": 24030000, "load_time_ms": 20.284, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8569759130477905, "total_loss": 10.097151756286621, "vf_loss": 10.102344512939453, "vf_explained_var": 0.3431470990180969, "kl": 0.016410769894719124, "cur_lr": 0.0005000000237487257, "policy_loss": -0.010730219073593616}, "sample_time_ms": 52396.268}, "timesteps_total": 24030000, "num_metric_batches_dropped": 0, "episode_reward_max": 1312.228117140217, "date": "2019-05-16_11-25-12", "training_iteration": 178, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558005997, "timesteps_since_restore": 24165000, "episodes_total": 6615, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1c978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc24198>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.696118040766754, "cost1_min": 76.69011081051954, "system_level_velocity_mean": 7.8225791841886325, "cost1_mean": 200.0257030483757, "cost2_mean": -27.27442948066713, "cost1_max": 271.3177680942482, "cost2_max": -0.35970415286791596, "system_level_velocity_max": 12.178325230918292, "cost2_min": -84.19695061512148}, "done": false, "time_total_s": 15250.899363517761, "timesteps_this_iter": 135000, "episode_reward_min": 380.61248340779395, "episodes_this_iter": 37, "episode_len_mean": 742.25, "iterations_since_restore": 179, "time_since_restore": 15250.899363517761, "time_this_iter_s": 85.65451431274414, "pid": 7871, "episode_reward_mean": 987.1344298807255, "info": {"grad_time_ms": 33291.005, "update_time_ms": 8.771, "num_steps_trained": 24165000, "num_steps_sampled": 24165000, "load_time_ms": 20.2, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8673884868621826, "total_loss": 10.659936904907227, "vf_loss": 10.663236618041992, "vf_explained_var": 0.32708850502967834, "kl": 0.014951235614717007, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008346235379576683}, "sample_time_ms": 52346.987}, "timesteps_total": 24165000, "num_metric_batches_dropped": 0, "episode_reward_max": 1355.3596516886155, "date": "2019-05-16_11-26-37", "training_iteration": 179, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006084, "timesteps_since_restore": 24300000, "episodes_total": 6651, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dd30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d0f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.6751704444399627, "cost1_min": 67.05878970518364, "system_level_velocity_mean": 7.784641113229546, "cost1_mean": 200.05132766223488, "cost2_mean": -26.4127696978235, "cost1_max": 271.3177680942482, "cost2_max": -0.35970415286791596, "system_level_velocity_max": 12.178325230918292, "cost2_min": -108.34573817479712}, "done": false, "time_total_s": 15337.182410478592, "timesteps_this_iter": 135000, "episode_reward_min": 321.63690244099627, "episodes_this_iter": 36, "episode_len_mean": 745.84, "iterations_since_restore": 180, "time_since_restore": 15337.182410478592, "time_this_iter_s": 86.28304696083069, "pid": 7871, "episode_reward_mean": 987.586858203233, "info": {"grad_time_ms": 33324.936, "update_time_ms": 8.617, "num_steps_trained": 24300000, "num_steps_sampled": 24300000, "load_time_ms": 19.984, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8615963459014893, "total_loss": 10.725668907165527, "vf_loss": 10.729842185974121, "vf_explained_var": 0.36909985542297363, "kl": 0.016472449526190758, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0097339553758502}, "sample_time_ms": 52351.436}, "timesteps_total": 24300000, "num_metric_batches_dropped": 0, "episode_reward_max": 1355.3596516886155, "date": "2019-05-16_11-28-04", "training_iteration": 180, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006169, "timesteps_since_restore": 24435000, "episodes_total": 6687, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cea20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce898>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.6751704444399627, "cost1_min": 34.07931149862138, "system_level_velocity_mean": 7.8153837484088005, "cost1_mean": 198.9536950809735, "cost2_mean": -26.444891361295134, "cost1_max": 264.0568059642283, "cost2_max": -0.09936080778940629, "system_level_velocity_max": 11.48993632909507, "cost2_min": -108.34573817479712}, "done": false, "time_total_s": 15422.805250883102, "timesteps_this_iter": 135000, "episode_reward_min": 167.1321293663434, "episodes_this_iter": 36, "episode_len_mean": 740.2, "iterations_since_restore": 181, "time_since_restore": 15422.805250883102, "time_this_iter_s": 85.6228404045105, "pid": 7871, "episode_reward_mean": 982.3442251475723, "info": {"grad_time_ms": 33378.238, "update_time_ms": 8.512, "num_steps_trained": 24435000, "num_steps_sampled": 24435000, "load_time_ms": 19.667, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8571454286575317, "total_loss": 10.482877731323242, "vf_loss": 10.4869966506958, "vf_explained_var": 0.3611817955970764, "kl": 0.01518305204808712, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009245217777788639}, "sample_time_ms": 52291.624}, "timesteps_total": 24435000, "num_metric_batches_dropped": 0, "episode_reward_max": 1304.0710510278313, "date": "2019-05-16_11-29-29", "training_iteration": 181, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006254, "timesteps_since_restore": 24570000, "episodes_total": 6723, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34f60>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc347f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.6751704444399627, "cost1_min": 34.07931149862138, "system_level_velocity_mean": 8.019868612560087, "cost1_mean": 204.10556882555377, "cost2_mean": -28.980315764220407, "cost1_max": 264.0568059642283, "cost2_max": -0.09936080778940629, "system_level_velocity_max": 11.48993632909507, "cost2_min": -108.34573817479712}, "done": false, "time_total_s": 15507.439915418625, "timesteps_this_iter": 135000, "episode_reward_min": 167.1321293663434, "episodes_this_iter": 36, "episode_len_mean": 743.92, "iterations_since_restore": 182, "time_since_restore": 15507.439915418625, "time_this_iter_s": 84.63466453552246, "pid": 7871, "episode_reward_mean": 1006.7533827951675, "info": {"grad_time_ms": 33349.478, "update_time_ms": 8.674, "num_steps_trained": 24570000, "num_steps_sampled": 24570000, "load_time_ms": 19.926, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8657640218734741, "total_loss": 10.285796165466309, "vf_loss": 10.29002571105957, "vf_explained_var": 0.2475391924381256, "kl": 0.014858420938253403, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009243101812899113}, "sample_time_ms": 52238.024}, "timesteps_total": 24570000, "num_metric_batches_dropped": 0, "episode_reward_max": 1304.0710510278313, "date": "2019-05-16_11-30-54", "training_iteration": 182, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006341, "timesteps_since_restore": 24705000, "episodes_total": 6761, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d3c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d588>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 5.027988085968838, "cost1_min": 55.22040674072585, "system_level_velocity_mean": 8.174787683828484, "cost1_mean": 206.61876665622708, "cost2_mean": -28.987234724151143, "cost1_max": 266.16646682526914, "cost2_max": -0.09936080778940629, "system_level_velocity_max": 12.324786735841272, "cost2_min": -84.02614062165873}, "done": false, "time_total_s": 15594.73817038536, "timesteps_this_iter": 135000, "episode_reward_min": 268.14159881910757, "episodes_this_iter": 38, "episode_len_mean": 742.0, "iterations_since_restore": 183, "time_since_restore": 15594.73817038536, "time_this_iter_s": 87.29825496673584, "pid": 7871, "episode_reward_mean": 1018.9504962334596, "info": {"grad_time_ms": 33587.476, "update_time_ms": 8.574, "num_steps_trained": 24705000, "num_steps_sampled": 24705000, "load_time_ms": 19.926, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8268213272094727, "total_loss": 10.730297088623047, "vf_loss": 10.734092712402344, "vf_explained_var": 0.3148001730442047, "kl": 0.014873825013637543, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008814931847155094}, "sample_time_ms": 52058.72}, "timesteps_total": 24705000, "num_metric_batches_dropped": 0, "episode_reward_max": 1318.9581207774913, "date": "2019-05-16_11-32-21", "training_iteration": 183, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006426, "timesteps_since_restore": 24840000, "episodes_total": 6797, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce400>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.055833065977149, "cost1_min": 55.22040674072585, "system_level_velocity_mean": 8.201554865768287, "cost1_mean": 206.62435545522928, "cost2_mean": -28.88168951834507, "cost1_max": 272.2178123989413, "cost2_max": -1.197016647708862, "system_level_velocity_max": 12.324786735841272, "cost2_min": -99.52989850878191}, "done": false, "time_total_s": 15679.458002328873, "timesteps_this_iter": 135000, "episode_reward_min": 268.14159881910757, "episodes_this_iter": 36, "episode_len_mean": 741.13, "iterations_since_restore": 184, "time_since_restore": 15679.458002328873, "time_this_iter_s": 84.71983194351196, "pid": 7871, "episode_reward_mean": 1019.0035336921933, "info": {"grad_time_ms": 33601.218, "update_time_ms": 8.657, "num_steps_trained": 24840000, "num_steps_sampled": 24840000, "load_time_ms": 19.775, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8359787464141846, "total_loss": 10.966541290283203, "vf_loss": 10.96989917755127, "vf_explained_var": 0.356169730424881, "kl": 0.014905150979757309, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008387735113501549}, "sample_time_ms": 52012.443}, "timesteps_total": 24840000, "num_metric_batches_dropped": 0, "episode_reward_max": 1349.551557956574, "date": "2019-05-16_11-33-46", "training_iteration": 184, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006512, "timesteps_since_restore": 24975000, "episodes_total": 6833, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dd68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3db00>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.055833065977149, "cost1_min": 55.22040674072585, "system_level_velocity_mean": 8.242715675249407, "cost1_mean": 205.3970195521511, "cost2_mean": -27.153861292154325, "cost1_max": 280.3360638868915, "cost2_max": -1.197016647708862, "system_level_velocity_max": 13.070897396287231, "cost2_min": -99.52989850878191}, "done": false, "time_total_s": 15764.973770618439, "timesteps_this_iter": 135000, "episode_reward_min": 268.14159881910757, "episodes_this_iter": 36, "episode_len_mean": 738.92, "iterations_since_restore": 185, "time_since_restore": 15764.973770618439, "time_this_iter_s": 85.51576828956604, "pid": 7871, "episode_reward_mean": 1013.8935006032559, "info": {"grad_time_ms": 33648.472, "update_time_ms": 8.75, "num_steps_trained": 24975000, "num_steps_sampled": 24975000, "load_time_ms": 19.934, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8329063653945923, "total_loss": 10.950586318969727, "vf_loss": 10.953934669494629, "vf_explained_var": 0.35295894742012024, "kl": 0.014834507368505001, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008356224745512009}, "sample_time_ms": 52049.059}, "timesteps_total": 24975000, "num_metric_batches_dropped": 0, "episode_reward_max": 1399.4982872695286, "date": "2019-05-16_11-35-12", "training_iteration": 185, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006597, "timesteps_since_restore": 25110000, "episodes_total": 6869, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d3c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dfd0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.055833065977149, "cost1_min": 93.20285104284739, "system_level_velocity_mean": 8.08221861681526, "cost1_mean": 204.3571832706626, "cost2_mean": -25.64290621658781, "cost1_max": 280.3360638868915, "cost2_max": -1.197016647708862, "system_level_velocity_max": 13.070897396287231, "cost2_min": -99.52989850878191}, "done": false, "time_total_s": 15850.712510108948, "timesteps_this_iter": 135000, "episode_reward_min": 440.19852992298235, "episodes_this_iter": 36, "episode_len_mean": 746.92, "iterations_since_restore": 186, "time_since_restore": 15850.712510108948, "time_this_iter_s": 85.73873949050903, "pid": 7871, "episode_reward_mean": 1009.4051351283691, "info": {"grad_time_ms": 33406.325, "update_time_ms": 8.806, "num_steps_trained": 25110000, "num_steps_sampled": 25110000, "load_time_ms": 19.274, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8700416088104248, "total_loss": 10.786964416503906, "vf_loss": 10.79077434539795, "vf_explained_var": 0.2984679341316223, "kl": 0.015235613100230694, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008951667696237564}, "sample_time_ms": 51932.062}, "timesteps_total": 25110000, "num_metric_batches_dropped": 0, "episode_reward_max": 1399.4982872695286, "date": "2019-05-16_11-36-37", "training_iteration": 186, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006683, "timesteps_since_restore": 25245000, "episodes_total": 6905, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ced68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce5c0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.570445758586169, "cost1_min": 78.50245228504954, "system_level_velocity_mean": 7.79078825971134, "cost1_mean": 199.5375471247876, "cost2_mean": -25.7027015191613, "cost1_max": 280.3360638868915, "cost2_max": -3.3518656506222593, "system_level_velocity_max": 13.070897396287231, "cost2_min": -93.05179957887887}, "done": false, "time_total_s": 15936.484124183655, "timesteps_this_iter": 135000, "episode_reward_min": 377.40720729580977, "episodes_this_iter": 36, "episode_len_mean": 746.65, "iterations_since_restore": 187, "time_since_restore": 15936.484124183655, "time_this_iter_s": 85.77161407470703, "pid": 7871, "episode_reward_mean": 985.3275502456034, "info": {"grad_time_ms": 33383.957, "update_time_ms": 8.778, "num_steps_trained": 25245000, "num_steps_sampled": 25245000, "load_time_ms": 19.345, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.9281115531921387, "total_loss": 10.028365135192871, "vf_loss": 10.033171653747559, "vf_explained_var": 0.3812717795372009, "kl": 0.015321865677833557, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009978722780942917}, "sample_time_ms": 52039.832}, "timesteps_total": 25245000, "num_metric_batches_dropped": 0, "episode_reward_max": 1399.4982872695286, "date": "2019-05-16_11-38-03", "training_iteration": 187, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006769, "timesteps_since_restore": 25380000, "episodes_total": 6942, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34da0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.570445758586169, "cost1_min": 75.4504287686355, "system_level_velocity_mean": 7.73950573769812, "cost1_mean": 199.98957077832802, "cost2_mean": -27.734395471788062, "cost1_max": 262.090373237971, "cost2_max": -2.2646699659450307, "system_level_velocity_max": 10.867540514336646, "cost2_min": -93.05179957887887}, "done": false, "time_total_s": 16021.98933172226, "timesteps_this_iter": 135000, "episode_reward_min": 370.3153570529363, "episodes_this_iter": 37, "episode_len_mean": 744.21, "iterations_since_restore": 188, "time_since_restore": 16021.98933172226, "time_this_iter_s": 85.50520753860474, "pid": 7871, "episode_reward_mean": 986.595678683712, "info": {"grad_time_ms": 33336.699, "update_time_ms": 8.719, "num_steps_trained": 25380000, "num_steps_sampled": 25380000, "load_time_ms": 19.22, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.9477858543395996, "total_loss": 10.245091438293457, "vf_loss": 10.249375343322754, "vf_explained_var": 0.2835945188999176, "kl": 0.015198184177279472, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009415226988494396}, "sample_time_ms": 52093.809}, "timesteps_total": 25380000, "num_metric_batches_dropped": 0, "episode_reward_max": 1301.725375167241, "date": "2019-05-16_11-39-29", "training_iteration": 188, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006853, "timesteps_since_restore": 25515000, "episodes_total": 6979, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dd30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.867114549038236, "cost1_min": 23.6905823270561, "system_level_velocity_mean": 7.646343590638514, "cost1_mean": 195.89069084103485, "cost2_mean": -28.559666658428963, "cost1_max": 262.090373237971, "cost2_max": -1.4141569681442132, "system_level_velocity_max": 10.867540514336646, "cost2_min": -93.05179957887887}, "done": false, "time_total_s": 16106.507914304733, "timesteps_this_iter": 135000, "episode_reward_min": 117.90317340482775, "episodes_this_iter": 37, "episode_len_mean": 736.0, "iterations_since_restore": 189, "time_since_restore": 16106.507914304733, "time_this_iter_s": 84.51858258247375, "pid": 7871, "episode_reward_mean": 966.0188809285341, "info": {"grad_time_ms": 33281.029, "update_time_ms": 8.711, "num_steps_trained": 25515000, "num_steps_sampled": 25515000, "load_time_ms": 19.25, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8951976299285889, "total_loss": 10.472020149230957, "vf_loss": 10.474882125854492, "vf_explained_var": 0.3755864202976227, "kl": 0.014748037792742252, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007838521152734756}, "sample_time_ms": 52036.202}, "timesteps_total": 25515000, "num_metric_batches_dropped": 0, "episode_reward_max": 1301.725375167241, "date": "2019-05-16_11-40-53", "training_iteration": 189, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558006939, "timesteps_since_restore": 25650000, "episodes_total": 7016, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce5c0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.867114549038236, "cost1_min": 23.6905823270561, "system_level_velocity_mean": 7.624226657161289, "cost1_mean": 193.3947412800479, "cost2_mean": -26.565745656892396, "cost1_max": 257.65517583402743, "cost2_max": -1.4141569681442132, "system_level_velocity_max": 10.72428789168173, "cost2_min": -83.96910472159469}, "done": false, "time_total_s": 16191.72324347496, "timesteps_this_iter": 135000, "episode_reward_min": 117.90317340482775, "episodes_this_iter": 37, "episode_len_mean": 727.01, "iterations_since_restore": 190, "time_since_restore": 16191.72324347496, "time_this_iter_s": 85.21532917022705, "pid": 7871, "episode_reward_mean": 954.4256007514459, "info": {"grad_time_ms": 33232.679, "update_time_ms": 8.629, "num_steps_trained": 25650000, "num_steps_sampled": 25650000, "load_time_ms": 19.426, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.93644380569458, "total_loss": 10.093155860900879, "vf_loss": 10.097325325012207, "vf_explained_var": 0.32481804490089417, "kl": 0.015662647783756256, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009454621933400631}, "sample_time_ms": 51977.577}, "timesteps_total": 25650000, "num_metric_batches_dropped": 0, "episode_reward_max": 1282.125454387609, "date": "2019-05-16_11-42-19", "training_iteration": 190, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007024, "timesteps_since_restore": 25785000, "episodes_total": 7053, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc347f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34da0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.867114549038236, "cost1_min": 23.6905823270561, "system_level_velocity_mean": 7.666122052554403, "cost1_mean": 194.41760994325662, "cost2_mean": -26.895848419647404, "cost1_max": 257.65517583402743, "cost2_max": -1.4049512443315533, "system_level_velocity_max": 10.922965009614684, "cost2_min": -83.53440666472127}, "done": false, "time_total_s": 16277.466622114182, "timesteps_this_iter": 135000, "episode_reward_min": 117.90317340482775, "episodes_this_iter": 37, "episode_len_mean": 730.89, "iterations_since_restore": 191, "time_since_restore": 16277.466622114182, "time_this_iter_s": 85.74337863922119, "pid": 7871, "episode_reward_mean": 959.7794850176883, "info": {"grad_time_ms": 33177.169, "update_time_ms": 8.653, "num_steps_trained": 25785000, "num_steps_sampled": 25785000, "load_time_ms": 19.578, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.875109076499939, "total_loss": 9.998147010803223, "vf_loss": 10.001673698425293, "vf_explained_var": 0.4413653612136841, "kl": 0.014963027089834213, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008576328866183758}, "sample_time_ms": 52044.148}, "timesteps_total": 25785000, "num_metric_batches_dropped": 0, "episode_reward_max": 1282.125454387609, "date": "2019-05-16_11-43-44", "training_iteration": 191, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007109, "timesteps_since_restore": 25920000, "episodes_total": 7090, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dfd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d9b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.021794793393949, "cost1_min": 74.08929920212043, "system_level_velocity_mean": 7.625960008525379, "cost1_mean": 193.15913249251713, "cost2_mean": -27.401379635476825, "cost1_max": 248.90428183282302, "cost2_max": -1.4049512443315533, "system_level_velocity_max": 10.922965009614684, "cost2_min": -83.53440666472127}, "done": false, "time_total_s": 16361.868684530258, "timesteps_this_iter": 135000, "episode_reward_min": 354.5371358615727, "episodes_this_iter": 37, "episode_len_mean": 730.09, "iterations_since_restore": 192, "time_since_restore": 16361.868684530258, "time_this_iter_s": 84.40206241607666, "pid": 7871, "episode_reward_mean": 953.0702406841542, "info": {"grad_time_ms": 33212.08, "update_time_ms": 8.526, "num_steps_trained": 25920000, "num_steps_sampled": 25920000, "load_time_ms": 19.373, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.9465712308883667, "total_loss": 9.99832820892334, "vf_loss": 10.003150939941406, "vf_explained_var": 0.3665136694908142, "kl": 0.01610323041677475, "cur_lr": 0.0005000000237487257, "policy_loss": -0.010257653892040253}, "sample_time_ms": 51985.124}, "timesteps_total": 25920000, "num_metric_batches_dropped": 0, "episode_reward_max": 1243.6557728544192, "date": "2019-05-16_11-45-09", "training_iteration": 192, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007194, "timesteps_since_restore": 26055000, "episodes_total": 7127, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ced30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ced68>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.4398718724712425, "cost1_min": 33.8581481072348, "system_level_velocity_mean": 7.647390184647511, "cost1_mean": 195.04988263590218, "cost2_mean": -28.632925143035514, "cost1_max": 249.4069284737588, "cost2_max": -1.731272619387663, "system_level_velocity_max": 10.922965009614684, "cost2_min": -83.53440666472127}, "done": false, "time_total_s": 16447.027594089508, "timesteps_this_iter": 135000, "episode_reward_min": 159.00550613919378, "episodes_this_iter": 37, "episode_len_mean": 735.02, "iterations_since_restore": 193, "time_since_restore": 16447.027594089508, "time_this_iter_s": 85.15890955924988, "pid": 7871, "episode_reward_mean": 962.0398532651509, "info": {"grad_time_ms": 33007.959, "update_time_ms": 8.627, "num_steps_trained": 26055000, "num_steps_sampled": 26055000, "load_time_ms": 19.111, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.8987627029418945, "total_loss": 10.243500709533691, "vf_loss": 10.247930526733398, "vf_explained_var": 0.44727709889411926, "kl": 0.014796337112784386, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009422870352864265}, "sample_time_ms": 51975.811}, "timesteps_total": 26055000, "num_metric_batches_dropped": 0, "episode_reward_max": 1243.6557728544192, "date": "2019-05-16_11-46-34", "training_iteration": 193, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007281, "timesteps_since_restore": 26190000, "episodes_total": 7163, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc347f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34828>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.7276216842167136, "cost1_min": 30.663064552442254, "system_level_velocity_mean": 7.594038614885776, "cost1_mean": 192.78495949364748, "cost2_mean": -29.81954056299399, "cost1_max": 257.9488614812696, "cost2_max": -0.47350834086590904, "system_level_velocity_max": 10.745067902585062, "cost2_min": -82.965973089995}, "done": false, "time_total_s": 16533.497473955154, "timesteps_this_iter": 135000, "episode_reward_min": 143.73617812136797, "episodes_this_iter": 36, "episode_len_mean": 727.32, "iterations_since_restore": 194, "time_since_restore": 16533.497473955154, "time_this_iter_s": 86.46987986564636, "pid": 7871, "episode_reward_mean": 949.8179240855447, "info": {"grad_time_ms": 33126.489, "update_time_ms": 8.527, "num_steps_trained": 26190000, "num_steps_sampled": 26190000, "load_time_ms": 18.978, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.9455969333648682, "total_loss": 10.1419677734375, "vf_loss": 10.146708488464355, "vf_explained_var": 0.35663729906082153, "kl": 0.015430880710482597, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009948951192200184}, "sample_time_ms": 52032.016}, "timesteps_total": 26190000, "num_metric_batches_dropped": 0, "episode_reward_max": 1283.5606268021957, "date": "2019-05-16_11-48-01", "training_iteration": 194, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007366, "timesteps_since_restore": 26325000, "episodes_total": 7199, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cedd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d208>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 2.7276216842167136, "cost1_min": 30.663064552442254, "system_level_velocity_mean": 7.703087127102159, "cost1_mean": 196.75324931327916, "cost2_mean": -29.367828566935074, "cost1_max": 257.9488614812696, "cost2_max": -0.2514509175211695, "system_level_velocity_max": 10.745067902585062, "cost2_min": -82.965973089995}, "done": false, "time_total_s": 16619.06186580658, "timesteps_this_iter": 135000, "episode_reward_min": 143.73617812136797, "episodes_this_iter": 36, "episode_len_mean": 736.39, "iterations_since_restore": 195, "time_since_restore": 16619.06186580658, "time_this_iter_s": 85.56439185142517, "pid": 7871, "episode_reward_mean": 969.9231421933833, "info": {"grad_time_ms": 33154.743, "update_time_ms": 8.453, "num_steps_trained": 26325000, "num_steps_sampled": 26325000, "load_time_ms": 18.985, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.944244623184204, "total_loss": 10.343231201171875, "vf_loss": 10.348395347595215, "vf_explained_var": 0.37644168734550476, "kl": 0.0161701999604702, "cur_lr": 0.0005000000237487257, "policy_loss": -0.010622580535709858}, "sample_time_ms": 52008.538}, "timesteps_total": 26325000, "num_metric_batches_dropped": 0, "episode_reward_max": 1283.5606268021957, "date": "2019-05-16_11-49-26", "training_iteration": 195, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007451, "timesteps_since_restore": 26460000, "episodes_total": 7235, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce898>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.001516021166432, "cost1_min": 50.9037014502128, "system_level_velocity_mean": 7.832921147746942, "cost1_mean": 198.01539811169368, "cost2_mean": -29.209671039742013, "cost1_max": 266.7530075750026, "cost2_max": -0.2514509175211695, "system_level_velocity_max": 12.33724821282556, "cost2_min": -69.36604957476105}, "done": false, "time_total_s": 16703.73777103424, "timesteps_this_iter": 135000, "episode_reward_min": 239.88498934308382, "episodes_this_iter": 36, "episode_len_mean": 734.77, "iterations_since_restore": 196, "time_since_restore": 16703.73777103424, "time_this_iter_s": 84.67590522766113, "pid": 7871, "episode_reward_mean": 976.0722841742945, "info": {"grad_time_ms": 33140.65, "update_time_ms": 8.422, "num_steps_trained": 26460000, "num_steps_sampled": 26460000, "load_time_ms": 18.854, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.9405714273452759, "total_loss": 10.553617477416992, "vf_loss": 10.556939125061035, "vf_explained_var": 0.39895716309547424, "kl": 0.0153972078114748, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008519073016941547}, "sample_time_ms": 51916.483}, "timesteps_total": 26460000, "num_metric_batches_dropped": 0, "episode_reward_max": 1328.4904735402963, "date": "2019-05-16_11-50-51", "training_iteration": 196, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007536, "timesteps_since_restore": 26595000, "episodes_total": 7273, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 3.001516021166432, "cost1_min": 50.9037014502128, "system_level_velocity_mean": 7.670134161956083, "cost1_mean": 191.9322870550408, "cost2_mean": -30.195306282201283, "cost1_max": 266.7530075750026, "cost2_max": -0.2514509175211695, "system_level_velocity_max": 12.33724821282556, "cost2_min": -82.61296216660368}, "done": false, "time_total_s": 16788.74705529213, "timesteps_this_iter": 135000, "episode_reward_min": 239.88498934308382, "episodes_this_iter": 38, "episode_len_mean": 721.69, "iterations_since_restore": 197, "time_since_restore": 16788.74705529213, "time_this_iter_s": 85.0092842578888, "pid": 7871, "episode_reward_mean": 945.761970442392, "info": {"grad_time_ms": 33209.812, "update_time_ms": 8.4, "num_steps_trained": 26595000, "num_steps_sampled": 26595000, "load_time_ms": 18.949, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.988392949104309, "total_loss": 10.324294090270996, "vf_loss": 10.328714370727539, "vf_explained_var": 0.4290010333061218, "kl": 0.015195879153907299, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009549068287014961}, "sample_time_ms": 51770.335}, "timesteps_total": 26595000, "num_metric_batches_dropped": 0, "episode_reward_max": 1328.4904735402963, "date": "2019-05-16_11-52-16", "training_iteration": 197, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007622, "timesteps_since_restore": 26730000, "episodes_total": 7309, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc1ccc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d0f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.623726479114918, "cost1_min": 67.2205944732848, "system_level_velocity_mean": 7.712539575150732, "cost1_mean": 194.21495563281417, "cost2_mean": -30.75015393798068, "cost1_max": 266.6102989095988, "cost2_max": -2.803051818861149, "system_level_velocity_max": 12.33724821282556, "cost2_min": -82.61296216660368}, "done": false, "time_total_s": 16874.579401493073, "timesteps_this_iter": 135000, "episode_reward_min": 325.63835054534974, "episodes_this_iter": 36, "episode_len_mean": 727.05, "iterations_since_restore": 198, "time_since_restore": 16874.579401493073, "time_this_iter_s": 85.832346200943, "pid": 7871, "episode_reward_mean": 956.6311824592427, "info": {"grad_time_ms": 33234.495, "update_time_ms": 8.226, "num_steps_trained": 26730000, "num_steps_sampled": 26730000, "load_time_ms": 18.963, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.9516068696975708, "total_loss": 10.29356575012207, "vf_loss": 10.298192977905273, "vf_explained_var": 0.3047391474246979, "kl": 0.015208173543214798, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009759817272424698}, "sample_time_ms": 51778.101}, "timesteps_total": 26730000, "num_metric_batches_dropped": 0, "episode_reward_max": 1328.4904735402963, "date": "2019-05-16_11-53-42", "training_iteration": 198, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007708, "timesteps_since_restore": 26865000, "episodes_total": 7346, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceda0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce0f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 4.623726479114918, "cost1_min": 84.9813247260918, "system_level_velocity_mean": 7.814994896970932, "cost1_mean": 198.85218779239182, "cost2_mean": -31.683316782681416, "cost1_max": 264.2055683671164, "cost2_max": -2.803051818861149, "system_level_velocity_max": 11.26623362863977, "cost2_min": -82.61296216660368}, "done": false, "time_total_s": 16960.801871299744, "timesteps_this_iter": 135000, "episode_reward_min": 421.4040410673329, "episodes_this_iter": 37, "episode_len_mean": 733.76, "iterations_since_restore": 199, "time_since_restore": 16960.801871299744, "time_this_iter_s": 86.22246980667114, "pid": 7871, "episode_reward_mean": 978.89116599622, "info": {"grad_time_ms": 33320.472, "update_time_ms": 8.163, "num_steps_trained": 26865000, "num_steps_sampled": 26865000, "load_time_ms": 19.063, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.9536948204040527, "total_loss": 10.534588813781738, "vf_loss": 10.53900146484375, "vf_explained_var": 0.2967471778392792, "kl": 0.015766680240631104, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009733245708048344}, "sample_time_ms": 51861.416}, "timesteps_total": 26865000, "num_metric_batches_dropped": 0, "episode_reward_max": 1315.6337140680287, "date": "2019-05-16_11-55-08", "training_iteration": 199, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
{"timestamp": 1558007793, "timesteps_since_restore": 27000000, "episodes_total": 7382, "config": {"sample_batch_size": 750, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.1]_t_min:5.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "input_evaluation": null, "lr_schedule": null, "collect_metrics_timeout": 180, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d47b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4f60>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "simple_optimizer": false, "vf_loss_coeff": 1.0, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "framestack": true, "zero_mean": true}, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "a2887c897616464791d592e15fa15615", "custom_metrics": {"system_level_velocity_min": 6.634220405318996, "cost1_min": 127.37314056895713, "system_level_velocity_mean": 8.028996783173639, "cost1_mean": 206.05940241111915, "cost2_mean": -30.803353324535887, "cost1_max": 264.2055683671164, "cost2_max": -2.803051818861149, "system_level_velocity_max": 11.26623362863977, "cost2_min": -66.04158070614811}, "done": true, "time_total_s": 17046.03192591667, "timesteps_this_iter": 135000, "episode_reward_min": 622.2369693226772, "episodes_this_iter": 36, "episode_len_mean": 744.71, "iterations_since_restore": 200, "time_since_restore": 17046.03192591667, "time_this_iter_s": 85.2300546169281, "pid": 7871, "episode_reward_mean": 1014.9102780420742, "info": {"grad_time_ms": 33324.861, "update_time_ms": 8.351, "num_steps_trained": 27000000, "num_steps_sampled": 27000000, "load_time_ms": 19.172, "default": {"cur_kl_coeff": 0.33750006556510925, "entropy": 1.9717990159988403, "total_loss": 10.622476577758789, "vf_loss": 10.626625061035156, "vf_explained_var": 0.33980652689933777, "kl": 0.015007702633738518, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009213769808411598}, "sample_time_ms": 51858.321}, "timesteps_total": 27000000, "num_metric_batches_dropped": 0, "episode_reward_max": 1315.6337140680287, "date": "2019-05-16_11-56-33", "training_iteration": 200, "node_ip": "10.138.0.2", "hostname": "flow-main", "policy_reward_mean": {}}
