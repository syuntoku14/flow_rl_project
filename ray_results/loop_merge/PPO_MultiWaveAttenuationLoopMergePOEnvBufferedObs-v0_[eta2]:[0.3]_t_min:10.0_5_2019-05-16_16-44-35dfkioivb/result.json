{"timestamp": 1558025213, "timesteps_since_restore": 135000, "episode_len_mean": 213.3978494623656, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26047a3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26047a438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26047a668>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.1291383198920486, "system_level_velocity_max": 7.256337475059735, "system_level_velocity_mean": 3.180322346586729, "cost1_mean": 19.34797400806616, "cost2_mean": -4.1325372097375, "cost1_max": 54.9509583903552, "cost2_max": 0.0, "cost1_min": 7.42619455516303, "cost2_min": -26.70054244921368}, "done": false, "time_total_s": 91.17724418640137, "episode_reward_min": 37.130972775815145, "episodes_this_iter": 93, "num_metric_batches_dropped": 0, "iterations_since_restore": 1, "time_since_restore": 91.17724418640137, "time_this_iter_s": 91.17724418640137, "pid": 63744, "episode_reward_mean": 94.22066381306752, "info": {"grad_time_ms": 34209.301, "update_time_ms": 722.999, "num_steps_trained": 135000, "num_steps_sampled": 135000, "load_time_ms": 80.396, "default": {"cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.5550591945648193, "total_loss": 1.3838838338851929, "vf_loss": 1.3845998048782349, "entropy": 1.4163751602172852, "kl": 0.002506101503968239, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012171206763014197}, "sample_time_ms": 55910.933}, "episodes_total": 93, "timesteps_total": 135000, "hostname": "flow-main", "episode_reward_max": 262.5286206823365, "timesteps_this_iter": 135000, "training_iteration": 1, "node_ip": "10.138.0.2", "date": "2019-05-16_16-46-53", "policy_reward_mean": {}}
{"timestamp": 1558025303, "timesteps_since_restore": 270000, "episode_len_mean": 291.29, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fda58>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.250642788453754, "system_level_velocity_max": 11.43871537762042, "system_level_velocity_mean": 3.0313610925587695, "cost1_mean": 25.61555433185872, "cost2_mean": -6.215164614803962, "cost1_max": 196.86547490199786, "cost2_max": 0.0, "cost1_min": 7.342015769176663, "cost2_min": -55.931155864964}, "done": false, "time_total_s": 180.9788374900818, "episode_reward_min": 36.710078845883274, "episodes_this_iter": 93, "num_metric_batches_dropped": 0, "iterations_since_restore": 2, "time_since_restore": 180.9788374900818, "time_this_iter_s": 89.80159330368042, "pid": 63744, "episode_reward_mean": 124.02043837054516, "info": {"grad_time_ms": 35119.123, "update_time_ms": 365.998, "num_steps_trained": 270000, "num_steps_sampled": 270000, "load_time_ms": 49.806, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.7061477899551392, "total_loss": 1.004523515701294, "vf_loss": 1.0073654651641846, "entropy": 1.4147759675979614, "kl": 0.0068573616445064545, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0035276110284030437}, "sample_time_ms": 54722.754}, "episodes_total": 186, "timesteps_total": 270000, "hostname": "flow-main", "episode_reward_max": 950.0839267524757, "timesteps_this_iter": 135000, "training_iteration": 2, "node_ip": "10.138.0.2", "date": "2019-05-16_16-48-23", "policy_reward_mean": {}}
{"timestamp": 1558025394, "timesteps_since_restore": 405000, "episode_len_mean": 326.28, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f45f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4780>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4320>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.3265048577515344, "system_level_velocity_max": 8.394154274801043, "system_level_velocity_mean": 2.9778545100142164, "cost1_mean": 30.629712577384804, "cost2_mean": -9.331616820983777, "cost1_max": 68.85167998117313, "cost2_max": 0.0, "cost1_min": 9.409935964605397, "cost2_min": -46.26193716192397}, "done": false, "time_total_s": 272.179824590683, "episode_reward_min": 47.049679823026956, "episodes_this_iter": 83, "num_metric_batches_dropped": 0, "iterations_since_restore": 3, "time_since_restore": 272.179824590683, "time_this_iter_s": 91.2009871006012, "pid": 63744, "episode_reward_mean": 146.56187634704816, "info": {"grad_time_ms": 35255.538, "update_time_ms": 248.128, "num_steps_trained": 405000, "num_steps_sampled": 405000, "load_time_ms": 39.791, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.6962835192680359, "total_loss": 1.1776764392852783, "vf_loss": 1.1814204454421997, "entropy": 1.4002571105957031, "kl": 0.00782092660665512, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004525988362729549}, "sample_time_ms": 54942.531}, "episodes_total": 269, "timesteps_total": 405000, "hostname": "flow-main", "episode_reward_max": 331.66982820754436, "timesteps_this_iter": 135000, "training_iteration": 3, "node_ip": "10.138.0.2", "date": "2019-05-16_16-49-54", "policy_reward_mean": {}}
{"timestamp": 1558025483, "timesteps_since_restore": 540000, "episode_len_mean": 387.58, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f42e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f47b8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.7454544334088022, "system_level_velocity_max": 8.394154274801043, "system_level_velocity_mean": 3.145983572999383, "cost1_mean": 41.05641914166229, "cost2_mean": -9.81442181169251, "cost1_max": 134.2320966984944, "cost2_max": 0.0, "cost1_min": 6.043708202364858, "cost2_min": -43.60254093461123}, "done": false, "time_total_s": 361.1562662124634, "episode_reward_min": 30.218541011824286, "episodes_this_iter": 65, "num_metric_batches_dropped": 0, "iterations_since_restore": 4, "time_since_restore": 361.1562662124634, "time_this_iter_s": 88.9764416217804, "pid": 63744, "episode_reward_mean": 196.8427051031201, "info": {"grad_time_ms": 35197.494, "update_time_ms": 189.093, "num_steps_trained": 540000, "num_steps_sampled": 540000, "load_time_ms": 35.096, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.6292581558227539, "total_loss": 1.486479640007019, "vf_loss": 1.4905575513839722, "entropy": 1.3961796760559082, "kl": 0.008360788226127625, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004913858603686094}, "sample_time_ms": 54625.005}, "episodes_total": 334, "timesteps_total": 540000, "hostname": "flow-main", "episode_reward_max": 640.5059509434648, "timesteps_this_iter": 135000, "training_iteration": 4, "node_ip": "10.138.0.2", "date": "2019-05-16_16-51-23", "policy_reward_mean": {}}
{"timestamp": 1558025570, "timesteps_since_restore": 675000, "episode_len_mean": 409.2, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fde80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.7454544334088022, "system_level_velocity_max": 6.236862605513938, "system_level_velocity_mean": 3.425903677458135, "cost1_mean": 48.59130286593693, "cost2_mean": -10.925332148490702, "cost1_max": 146.65528159907146, "cost2_max": 0.0, "cost1_min": 7.416989850909458, "cost2_min": -57.57119280300826}, "done": false, "time_total_s": 447.745817899704, "episode_reward_min": 37.084949254547304, "episodes_this_iter": 62, "num_metric_batches_dropped": 0, "iterations_since_restore": 5, "time_since_restore": 447.745817899704, "time_this_iter_s": 86.5895516872406, "pid": 63744, "episode_reward_mean": 233.5665928468882, "info": {"grad_time_ms": 35138.733, "update_time_ms": 153.599, "num_steps_trained": 675000, "num_steps_sampled": 675000, "load_time_ms": 32.264, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5959950089454651, "total_loss": 2.056554079055786, "vf_loss": 2.06123948097229, "entropy": 1.3921074867248535, "kl": 0.008870798163115978, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005572616588324308}, "sample_time_ms": 53984.272}, "episodes_total": 396, "timesteps_total": 675000, "hostname": "flow-main", "episode_reward_max": 714.7985579715291, "timesteps_this_iter": 135000, "training_iteration": 5, "node_ip": "10.138.0.2", "date": "2019-05-16_16-52-50", "policy_reward_mean": {}}
{"timestamp": 1558025656, "timesteps_since_restore": 810000, "episode_len_mean": 460.85, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f49e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4cf8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.9397693008203505, "system_level_velocity_max": 6.236862605513938, "system_level_velocity_mean": 3.844385406480636, "cost1_mean": 64.11831998553072, "cost2_mean": -13.98752214375164, "cost1_max": 144.59845583229713, "cost2_max": 0.0, "cost1_min": 9.003248600696368, "cost2_min": -57.57119280300826}, "done": false, "time_total_s": 534.3926770687103, "episode_reward_min": 45.01624300348178, "episodes_this_iter": 49, "num_metric_batches_dropped": 0, "iterations_since_restore": 6, "time_since_restore": 534.3926770687103, "time_this_iter_s": 86.64685916900635, "pid": 63744, "episode_reward_mean": 308.24947583924967, "info": {"grad_time_ms": 35033.324, "update_time_ms": 130.068, "num_steps_trained": 810000, "num_steps_sampled": 810000, "load_time_ms": 30.271, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5304228663444519, "total_loss": 2.3544671535491943, "vf_loss": 2.3588907718658447, "entropy": 1.3766244649887085, "kl": 0.009501754306256771, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005374053493142128}, "sample_time_ms": 53625.393}, "episodes_total": 445, "timesteps_total": 810000, "hostname": "flow-main", "episode_reward_max": 700.9565038878413, "timesteps_this_iter": 135000, "training_iteration": 6, "node_ip": "10.138.0.2", "date": "2019-05-16_16-54-16", "policy_reward_mean": {}}
{"timestamp": 1558025741, "timesteps_since_restore": 945000, "episode_len_mean": 558.45, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f47b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4278>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.9397693008203505, "system_level_velocity_max": 6.236862605513938, "system_level_velocity_mean": 4.226821009650167, "cost1_mean": 88.4002471638587, "cost2_mean": -18.014575165171053, "cost1_max": 152.04272962379463, "cost2_max": 0.0, "cost1_min": 9.003248600696368, "cost2_min": -57.57119280300826}, "done": false, "time_total_s": 619.1444492340088, "episode_reward_min": 45.01624300348178, "episodes_this_iter": 40, "num_metric_batches_dropped": 0, "iterations_since_restore": 7, "time_since_restore": 619.1444492340088, "time_this_iter_s": 84.75177216529846, "pid": 63744, "episode_reward_mean": 424.6340990679588, "info": {"grad_time_ms": 34979.664, "update_time_ms": 113.108, "num_steps_trained": 945000, "num_steps_sampled": 945000, "load_time_ms": 28.743, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.47285887598991394, "total_loss": 2.825921058654785, "vf_loss": 2.8300299644470215, "entropy": 1.3773918151855469, "kl": 0.009288604371249676, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005037637893110514}, "sample_time_ms": 53081.998}, "episodes_total": 485, "timesteps_total": 945000, "hostname": "flow-main", "episode_reward_max": 743.2167760722228, "timesteps_this_iter": 135000, "training_iteration": 7, "node_ip": "10.138.0.2", "date": "2019-05-16_16-55-41", "policy_reward_mean": {}}
{"timestamp": 1558025827, "timesteps_since_restore": 1080000, "episode_len_mean": 639.54, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd4a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.9397693008203505, "system_level_velocity_max": 6.840893630186848, "system_level_velocity_mean": 4.536103006850181, "cost1_mean": 110.56565215173586, "cost2_mean": -23.609458994555922, "cost1_max": 168.71318227994757, "cost2_max": -0.12390891339374212, "cost1_min": 15.49758618914756, "cost2_min": -80.82346229365439}, "done": false, "time_total_s": 705.1114475727081, "episode_reward_min": 71.58230967197663, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 8, "time_since_restore": 705.1114475727081, "time_this_iter_s": 85.96699833869934, "pid": 63744, "episode_reward_mean": 529.2954496734948, "info": {"grad_time_ms": 34950.438, "update_time_ms": 100.346, "num_steps_trained": 1080000, "num_steps_sampled": 1080000, "load_time_ms": 27.774, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.501124382019043, "total_loss": 3.493607997894287, "vf_loss": 3.4982001781463623, "entropy": 1.3764089345932007, "kl": 0.009573391638696194, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00554951187223196}, "sample_time_ms": 52815.698}, "episodes_total": 521, "timesteps_total": 1080000, "hostname": "flow-main", "episode_reward_max": 788.1736229709419, "timesteps_this_iter": 135000, "training_iteration": 8, "node_ip": "10.138.0.2", "date": "2019-05-16_16-57-07", "policy_reward_mean": {}}
{"timestamp": 1558025915, "timesteps_since_restore": 1215000, "episode_len_mean": 702.86, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4be0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f45c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.4545944431034172, "system_level_velocity_max": 6.994481436110355, "system_level_velocity_mean": 5.0210820131605844, "cost1_mean": 134.254145910633, "cost2_mean": -29.011487199678662, "cost1_max": 196.39461560610337, "cost2_max": -0.12390891339374212, "cost1_min": 20.239775974554476, "cost2_min": -80.82346229365439}, "done": false, "time_total_s": 792.5815720558167, "episode_reward_min": 100.14082826028738, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 9, "time_since_restore": 792.5815720558167, "time_this_iter_s": 87.47012448310852, "pid": 63744, "episode_reward_mean": 640.3896277347304, "info": {"grad_time_ms": 35066.437, "update_time_ms": 90.286, "num_steps_trained": 1215000, "num_steps_sampled": 1215000, "load_time_ms": 27.058, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.429445743560791, "total_loss": 4.384660243988037, "vf_loss": 4.3895955085754395, "entropy": 1.3779500722885132, "kl": 0.010614888742566109, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005996853578835726}, "sample_time_ms": 52629.531}, "episodes_total": 557, "timesteps_total": 1215000, "hostname": "flow-main", "episode_reward_max": 935.8233256551582, "timesteps_this_iter": 135000, "training_iteration": 9, "node_ip": "10.138.0.2", "date": "2019-05-16_16-58-35", "policy_reward_mean": {}}
{"timestamp": 1558026002, "timesteps_since_restore": 1350000, "episode_len_mean": 735.23, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d2b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdd68>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.127085915544831, "system_level_velocity_max": 7.737982090213957, "system_level_velocity_mean": 5.436642042653742, "cost1_mean": 150.57929987641222, "cost2_mean": -33.04404309997841, "cost1_max": 197.56115691053293, "cost2_max": -0.14473957458936754, "cost1_min": 15.384409150618483, "cost2_min": -104.54640316910462}, "done": false, "time_total_s": 880.1976294517517, "episode_reward_min": 76.92204575309243, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 10, "time_since_restore": 880.1976294517517, "time_this_iter_s": 87.61605739593506, "pid": 63744, "episode_reward_mean": 716.3743511821117, "info": {"grad_time_ms": 35029.701, "update_time_ms": 82.436, "num_steps_trained": 1350000, "num_steps_sampled": 1350000, "load_time_ms": 26.26, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.49142369627952576, "total_loss": 4.561907768249512, "vf_loss": 4.566286563873291, "entropy": 1.3801976442337036, "kl": 0.010543589480221272, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005433598533272743}, "sample_time_ms": 52631.46}, "episodes_total": 595, "timesteps_total": 1350000, "hostname": "flow-main", "episode_reward_max": 935.8233256551582, "timesteps_this_iter": 135000, "training_iteration": 10, "node_ip": "10.138.0.2", "date": "2019-05-16_17-00-02", "policy_reward_mean": {}}
{"timestamp": 1558026089, "timesteps_since_restore": 1485000, "episode_len_mean": 737.72, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdbe0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.127085915544831, "system_level_velocity_max": 7.737982090213957, "system_level_velocity_mean": 5.760958035846769, "cost1_mean": 159.3357991866283, "cost2_mean": -34.56103231961424, "cost1_max": 201.294951862913, "cost2_max": -0.14473957458936754, "cost1_min": 15.384409150618483, "cost2_min": -104.54640316910462}, "done": false, "time_total_s": 967.1073808670044, "episode_reward_min": 76.92204575309243, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 11, "time_since_restore": 967.1073808670044, "time_this_iter_s": 86.90975141525269, "pid": 63744, "episode_reward_mean": 755.3603996201805, "info": {"grad_time_ms": 35115.792, "update_time_ms": 11.317, "num_steps_trained": 1485000, "num_steps_sampled": 1485000, "load_time_ms": 20.054, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3237779438495636, "total_loss": 5.343607425689697, "vf_loss": 5.3482184410095215, "entropy": 1.370194435119629, "kl": 0.010483510792255402, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005659530870616436}, "sample_time_ms": 52196.159}, "episodes_total": 631, "timesteps_total": 1485000, "hostname": "flow-main", "episode_reward_max": 932.9762861223098, "timesteps_this_iter": 135000, "training_iteration": 11, "node_ip": "10.138.0.2", "date": "2019-05-16_17-01-29", "policy_reward_mean": {}}
{"timestamp": 1558026176, "timesteps_since_restore": 1620000, "episode_len_mean": 736.64, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f46a0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.002411842700303, "system_level_velocity_max": 7.737982090213957, "system_level_velocity_mean": 6.079866785509544, "cost1_mean": 167.04303130902315, "cost2_mean": -35.06195969653669, "cost1_max": 202.2764116015053, "cost2_max": -0.14473957458936754, "cost1_min": 15.384409150618483, "cost2_min": -81.00309188289997}, "done": false, "time_total_s": 1053.8214757442474, "episode_reward_min": 76.92204575309243, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 12, "time_since_restore": 1053.8214757442474, "time_this_iter_s": 86.71409487724304, "pid": 63744, "episode_reward_mean": 790.0605567773866, "info": {"grad_time_ms": 34926.161, "update_time_ms": 11.445, "num_steps_trained": 1620000, "num_steps_sampled": 1620000, "load_time_ms": 20.176, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.39648523926734924, "total_loss": 5.808920860290527, "vf_loss": 5.813760280609131, "entropy": 1.3673131465911865, "kl": 0.011852234601974487, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006024148780852556}, "sample_time_ms": 52075.313}, "episodes_total": 668, "timesteps_total": 1620000, "hostname": "flow-main", "episode_reward_max": 951.8905563621286, "timesteps_this_iter": 135000, "training_iteration": 12, "node_ip": "10.138.0.2", "date": "2019-05-16_17-02-56", "policy_reward_mean": {}}
{"timestamp": 1558026264, "timesteps_since_restore": 1755000, "episode_len_mean": 740.29, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd4e0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdcc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.010743842111183, "system_level_velocity_max": 7.833888980312862, "system_level_velocity_mean": 6.159223675319493, "cost1_mean": 170.08005587190266, "cost2_mean": -36.55189390781635, "cost1_max": 216.70136177778397, "cost2_max": -14.200296347496778, "cost1_min": 81.25504504200802, "cost2_min": -68.09792989411297}, "done": false, "time_total_s": 1141.672313451767, "episode_reward_min": 383.1748691726738, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 13, "time_since_restore": 1141.672313451767, "time_this_iter_s": 87.85083770751953, "pid": 63744, "episode_reward_mean": 802.581398598097, "info": {"grad_time_ms": 34803.13, "update_time_ms": 11.381, "num_steps_trained": 1755000, "num_steps_sampled": 1755000, "load_time_ms": 20.309, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3839130401611328, "total_loss": 5.973604202270508, "vf_loss": 5.9788947105407715, "entropy": 1.3627405166625977, "kl": 0.01222362369298935, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006512695457786322}, "sample_time_ms": 51866.277}, "episodes_total": 704, "timesteps_total": 1755000, "hostname": "flow-main", "episode_reward_max": 1014.7885001687074, "timesteps_this_iter": 135000, "training_iteration": 13, "node_ip": "10.138.0.2", "date": "2019-05-16_17-04-24", "policy_reward_mean": {}}
{"timestamp": 1558026351, "timesteps_since_restore": 1890000, "episode_len_mean": 743.78, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5e48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd940>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.010743842111183, "system_level_velocity_max": 8.298160701377652, "system_level_velocity_mean": 6.275070505031798, "cost1_mean": 174.04748693064786, "cost2_mean": -37.69797517460029, "cost1_max": 216.70136177778397, "cost2_max": -14.200296347496778, "cost1_min": 84.6767350094853, "cost2_min": -70.00095469138975}, "done": false, "time_total_s": 1228.6042354106903, "episode_reward_min": 395.06890003818967, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 14, "time_since_restore": 1228.6042354106903, "time_this_iter_s": 86.93192195892334, "pid": 63744, "episode_reward_mean": 820.3993418972474, "info": {"grad_time_ms": 34740.889, "update_time_ms": 11.148, "num_steps_trained": 1890000, "num_steps_sampled": 1890000, "load_time_ms": 20.042, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.34891992807388306, "total_loss": 6.417288780212402, "vf_loss": 6.422198295593262, "entropy": 1.3563357591629028, "kl": 0.012180915102362633, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006127653177827597}, "sample_time_ms": 51726.524}, "episodes_total": 740, "timesteps_total": 1890000, "hostname": "flow-main", "episode_reward_max": 1014.7885001687074, "timesteps_this_iter": 135000, "training_iteration": 14, "node_ip": "10.138.0.2", "date": "2019-05-16_17-05-51", "policy_reward_mean": {}}
{"timestamp": 1558026438, "timesteps_since_restore": 2025000, "episode_len_mean": 734.52, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.39400736525597, "system_level_velocity_max": 8.532861650154539, "system_level_velocity_mean": 6.5080887389042115, "cost1_mean": 178.11187757251056, "cost2_mean": -40.550229982472146, "cost1_max": 233.89113149759785, "cost2_max": -14.200296347496778, "cost1_min": 46.464285596795946, "cost2_min": -71.70721104460074}, "done": false, "time_total_s": 1315.835785150528, "episode_reward_min": 204.78835849995215, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 15, "time_since_restore": 1315.835785150528, "time_this_iter_s": 87.23154973983765, "pid": 63744, "episode_reward_mean": 836.5791126730428, "info": {"grad_time_ms": 34688.746, "update_time_ms": 11.072, "num_steps_trained": 2025000, "num_steps_sampled": 2025000, "load_time_ms": 19.807, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.40161415934562683, "total_loss": 6.937588691711426, "vf_loss": 6.943457126617432, "entropy": 1.3611689805984497, "kl": 0.014038408175110817, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007272401824593544}, "sample_time_ms": 51843.201}, "episodes_total": 777, "timesteps_total": 2025000, "hostname": "flow-main", "episode_reward_max": 1085.5935006386644, "timesteps_this_iter": 135000, "training_iteration": 15, "node_ip": "10.138.0.2", "date": "2019-05-16_17-07-18", "policy_reward_mean": {}}
{"timestamp": 1558026525, "timesteps_since_restore": 2160000, "episode_len_mean": 735.7, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f49b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f46a0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.840260984241666, "system_level_velocity_max": 9.295157720052936, "system_level_velocity_mean": 6.831645216935558, "cost1_mean": 186.0941340952608, "cost2_mean": -43.02689701207049, "cost1_max": 234.94162922486532, "cost2_max": -16.47569285442659, "cost1_min": 46.464285596795946, "cost2_min": -71.70721104460074}, "done": false, "time_total_s": 1403.003244638443, "episode_reward_min": 204.78835849995215, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 16, "time_since_restore": 1403.003244638443, "time_this_iter_s": 87.16745948791504, "pid": 63744, "episode_reward_mean": 872.3491004351625, "info": {"grad_time_ms": 34628.625, "update_time_ms": 10.827, "num_steps_trained": 2160000, "num_steps_sampled": 2160000, "load_time_ms": 19.686, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.34796544909477234, "total_loss": 7.1884846687316895, "vf_loss": 7.194436073303223, "entropy": 1.361080527305603, "kl": 0.013200769200921059, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007271201815456152}, "sample_time_ms": 51962.176}, "episodes_total": 813, "timesteps_total": 2160000, "hostname": "flow-main", "episode_reward_max": 1119.1244252502893, "timesteps_this_iter": 135000, "training_iteration": 16, "node_ip": "10.138.0.2", "date": "2019-05-16_17-08-45", "policy_reward_mean": {}}
{"timestamp": 1558026614, "timesteps_since_restore": 2295000, "episode_len_mean": 738.52, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3db70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3dfd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3ddd8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.916144750975919, "system_level_velocity_max": 9.295157720052936, "system_level_velocity_mean": 7.073778798280797, "cost1_mean": 191.75815141165447, "cost2_mean": -45.07225788294824, "cost1_max": 234.94162922486532, "cost2_max": -19.392034901436347, "cost1_min": 46.464285596795946, "cost2_min": -82.80141095291467}, "done": false, "time_total_s": 1491.5315403938293, "episode_reward_min": 204.78835849995215, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 17, "time_since_restore": 1491.5315403938293, "time_this_iter_s": 88.52829575538635, "pid": 63744, "episode_reward_mean": 896.5765371432617, "info": {"grad_time_ms": 34666.729, "update_time_ms": 10.424, "num_steps_trained": 2295000, "num_steps_sampled": 2295000, "load_time_ms": 19.573, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3455405831336975, "total_loss": 7.756778240203857, "vf_loss": 7.762625694274902, "entropy": 1.3632187843322754, "kl": 0.014027437195181847, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007250632159411907}, "sample_time_ms": 52305.887}, "episodes_total": 849, "timesteps_total": 2295000, "hostname": "flow-main", "episode_reward_max": 1119.1244252502893, "timesteps_this_iter": 135000, "training_iteration": 17, "node_ip": "10.138.0.2", "date": "2019-05-16_17-10-14", "policy_reward_mean": {}}
{"timestamp": 1558026702, "timesteps_since_restore": 2430000, "episode_len_mean": 731.85, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdfd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.255790127051865, "system_level_velocity_max": 9.295157720052936, "system_level_velocity_mean": 7.176877959518017, "cost1_mean": 191.43116197312582, "cost2_mean": -45.081482554619896, "cost1_max": 234.94162922486532, "cost2_max": -9.732807925127338, "cost1_min": 29.401834639732776, "cost2_min": -82.80141095291467}, "done": false, "time_total_s": 1579.4711322784424, "episode_reward_min": 129.98278928023095, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 18, "time_since_restore": 1579.4711322784424, "time_this_iter_s": 87.93959188461304, "pid": 63744, "episode_reward_mean": 894.5314434479156, "info": {"grad_time_ms": 34643.103, "update_time_ms": 10.164, "num_steps_trained": 2430000, "num_steps_sampled": 2430000, "load_time_ms": 19.363, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.28664878010749817, "total_loss": 7.821290016174316, "vf_loss": 7.826977729797363, "entropy": 1.3565870523452759, "kl": 0.014057470485568047, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007093116641044617}, "sample_time_ms": 52526.83}, "episodes_total": 887, "timesteps_total": 2430000, "hostname": "flow-main", "episode_reward_max": 1119.1244252502893, "timesteps_this_iter": 135000, "training_iteration": 18, "node_ip": "10.138.0.2", "date": "2019-05-16_17-11-42", "policy_reward_mean": {}}
{"timestamp": 1558026792, "timesteps_since_restore": 2565000, "episode_len_mean": 719.55, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdf98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdf28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd668>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.326497748323888, "system_level_velocity_max": 8.908142849209444, "system_level_velocity_mean": 7.14460783795014, "cost1_mean": 186.7199774229486, "cost2_mean": -44.537387079873035, "cost1_max": 227.17965484350432, "cost2_max": -0.09546515113796034, "cost1_min": 20.33451816390159, "cost2_min": -82.80141095291467}, "done": false, "time_total_s": 1669.2407505512238, "episode_reward_min": 101.52939309280103, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 19, "time_since_restore": 1669.2407505512238, "time_this_iter_s": 89.76961827278137, "pid": 63744, "episode_reward_mean": 871.7779197063996, "info": {"grad_time_ms": 34599.056, "update_time_ms": 10.138, "num_steps_trained": 2565000, "num_steps_sampled": 2565000, "load_time_ms": 19.259, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.2818114161491394, "total_loss": 7.696328163146973, "vf_loss": 7.702555179595947, "entropy": 1.3554719686508179, "kl": 0.015083177015185356, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007735542021691799}, "sample_time_ms": 52810.15}, "episodes_total": 925, "timesteps_total": 2565000, "hostname": "flow-main", "episode_reward_max": 1031.81417597917, "timesteps_this_iter": 135000, "training_iteration": 19, "node_ip": "10.138.0.2", "date": "2019-05-16_17-13-12", "policy_reward_mean": {}}
{"timestamp": 1558026881, "timesteps_since_restore": 2700000, "episode_len_mean": 728.04, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdfd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa041d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.326497748323888, "system_level_velocity_max": 9.602934919591938, "system_level_velocity_mean": 7.125579521061897, "cost1_mean": 187.55081430002602, "cost2_mean": -41.39585276573662, "cost1_max": 241.26189436462786, "cost2_max": -0.09546515113796034, "cost1_min": 20.33451816390159, "cost2_min": -77.48821468641957}, "done": false, "time_total_s": 1758.2060210704803, "episode_reward_min": 101.52939309280103, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 20, "time_since_restore": 1758.2060210704803, "time_this_iter_s": 88.96527051925659, "pid": 63744, "episode_reward_mean": 880.0808075154885, "info": {"grad_time_ms": 34693.535, "update_time_ms": 9.8, "num_steps_trained": 2700000, "num_steps_sampled": 2700000, "load_time_ms": 19.295, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.32234153151512146, "total_loss": 7.559523582458496, "vf_loss": 7.564382076263428, "entropy": 1.3554502725601196, "kl": 0.014573941938579082, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006316191516816616}, "sample_time_ms": 52852.135}, "episodes_total": 961, "timesteps_total": 2700000, "hostname": "flow-main", "episode_reward_max": 1140.24292839758, "timesteps_this_iter": 135000, "training_iteration": 20, "node_ip": "10.138.0.2", "date": "2019-05-16_17-14-41", "policy_reward_mean": {}}
{"timestamp": 1558026968, "timesteps_since_restore": 2835000, "episode_len_mean": 749.35, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd9b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdf28>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.5094280158340405, "system_level_velocity_max": 11.104414242389964, "system_level_velocity_mean": 7.2544148283757215, "cost1_mean": 195.62885261902903, "cost2_mean": -41.145608942128426, "cost1_max": 250.69323911420108, "cost2_max": -16.686122571566774, "cost1_min": 153.42522208958718, "cost2_min": -71.43742922207312}, "done": false, "time_total_s": 1845.2579567432404, "episode_reward_min": 736.4990402085982, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 21, "time_since_restore": 1845.2579567432404, "time_this_iter_s": 87.05193567276001, "pid": 63744, "episode_reward_mean": 920.1526087803198, "info": {"grad_time_ms": 34551.653, "update_time_ms": 9.32, "num_steps_trained": 2835000, "num_steps_sampled": 2835000, "load_time_ms": 19.314, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3258824944496155, "total_loss": 7.66875696182251, "vf_loss": 7.6747941970825195, "entropy": 1.3474313020706177, "kl": 0.01515110768377781, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007552661933004856}, "sample_time_ms": 53012.19}, "episodes_total": 997, "timesteps_total": 2835000, "hostname": "flow-main", "episode_reward_max": 1215.3853914473461, "timesteps_this_iter": 135000, "training_iteration": 21, "node_ip": "10.138.0.2", "date": "2019-05-16_17-16-08", "policy_reward_mean": {}}
{"timestamp": 1558027055, "timesteps_since_restore": 2970000, "episode_len_mean": 748.87, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f54a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5390>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.5094280158340405, "system_level_velocity_max": 11.104414242389964, "system_level_velocity_mean": 7.289428985079097, "cost1_mean": 196.33218518547372, "cost2_mean": -41.00037395160085, "cost1_max": 250.69323911420108, "cost2_max": -15.974035805556731, "cost1_min": 139.34755491395129, "cost2_min": -77.29343949364997}, "done": false, "time_total_s": 1932.6360490322113, "episode_reward_min": 633.9873799931477, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 22, "time_since_restore": 1932.6360490322113, "time_this_iter_s": 87.37809228897095, "pid": 63744, "episode_reward_mean": 923.2943738624107, "info": {"grad_time_ms": 34573.181, "update_time_ms": 9.124, "num_steps_trained": 2970000, "num_steps_sampled": 2970000, "load_time_ms": 19.177, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3198431432247162, "total_loss": 7.948990821838379, "vf_loss": 7.954770565032959, "entropy": 1.349544882774353, "kl": 0.015574813820421696, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007336446549743414}, "sample_time_ms": 53056.281}, "episodes_total": 1033, "timesteps_total": 2970000, "hostname": "flow-main", "episode_reward_max": 1215.3853914473461, "timesteps_this_iter": 135000, "training_iteration": 22, "node_ip": "10.138.0.2", "date": "2019-05-16_17-17-35", "policy_reward_mean": {}}
{"timestamp": 1558027143, "timesteps_since_restore": 3105000, "episode_len_mean": 748.87, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fde80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdb00>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.676932113758758, "system_level_velocity_max": 11.104414242389964, "system_level_velocity_mean": 7.341051268198573, "cost1_mean": 197.15501632435632, "cost2_mean": -38.515407474217405, "cost1_max": 250.69323911420108, "cost2_max": -6.2924618420776355, "cost1_min": 139.34755491395129, "cost2_min": -80.11436861344554}, "done": false, "time_total_s": 2020.039766550064, "episode_reward_min": 633.9873799931477, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 23, "time_since_restore": 2020.039766550064, "time_this_iter_s": 87.40371751785278, "pid": 63744, "episode_reward_mean": 930.8148363898305, "info": {"grad_time_ms": 34518.311, "update_time_ms": 8.843, "num_steps_trained": 3105000, "num_steps_sampled": 3105000, "load_time_ms": 18.943, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.32052770256996155, "total_loss": 7.776054859161377, "vf_loss": 7.781606674194336, "entropy": 1.3383877277374268, "kl": 0.01651780866086483, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007203731685876846}, "sample_time_ms": 53069.955}, "episodes_total": 1069, "timesteps_total": 3105000, "hostname": "flow-main", "episode_reward_max": 1215.3853914473461, "timesteps_this_iter": 135000, "training_iteration": 23, "node_ip": "10.138.0.2", "date": "2019-05-16_17-19-03", "policy_reward_mean": {}}
{"timestamp": 1558027231, "timesteps_since_restore": 3240000, "episode_len_mean": 744.76, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04eb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04358>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.570120088323929, "system_level_velocity_max": 8.790820041029956, "system_level_velocity_mean": 7.1146877986447885, "cost1_mean": 191.27912580564535, "cost2_mean": -35.21703835173312, "cost1_max": 229.1744840406023, "cost2_max": -4.8120142770157965, "cost1_min": 81.59318307087678, "cost2_min": -80.11436861344554}, "done": false, "time_total_s": 2108.059903860092, "episode_reward_min": 392.7442963347739, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 24, "time_since_restore": 2108.059903860092, "time_this_iter_s": 88.02013731002808, "pid": 63744, "episode_reward_mean": 906.2790712563116, "info": {"grad_time_ms": 34491.143, "update_time_ms": 8.598, "num_steps_trained": 3240000, "num_steps_sampled": 3240000, "load_time_ms": 18.957, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3467460572719574, "total_loss": 8.029986381530762, "vf_loss": 8.035828590393066, "entropy": 1.3459961414337158, "kl": 0.017473487183451653, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007589988876134157}, "sample_time_ms": 53207.012}, "episodes_total": 1105, "timesteps_total": 3240000, "hostname": "flow-main", "episode_reward_max": 1074.6659590182471, "timesteps_this_iter": 135000, "training_iteration": 24, "node_ip": "10.138.0.2", "date": "2019-05-16_17-20-31", "policy_reward_mean": {}}
{"timestamp": 1558027318, "timesteps_since_restore": 3375000, "episode_len_mean": 745.89, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04dd8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.406939577779138, "system_level_velocity_max": 9.769912398133885, "system_level_velocity_mean": 7.0264665147068595, "cost1_mean": 189.29630784794242, "cost2_mean": -31.120306002531432, "cost1_max": 239.7735430768343, "cost2_max": -3.7126320401848614, "cost1_min": 81.59318307087678, "cost2_min": -80.11436861344554}, "done": false, "time_total_s": 2195.4578177928925, "episode_reward_min": 392.7442963347739, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 25, "time_since_restore": 2195.4578177928925, "time_this_iter_s": 87.3979139328003, "pid": 63744, "episode_reward_mean": 902.4019951653198, "info": {"grad_time_ms": 34511.427, "update_time_ms": 8.382, "num_steps_trained": 3375000, "num_steps_sampled": 3375000, "load_time_ms": 18.965, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3652639389038086, "total_loss": 7.479207515716553, "vf_loss": 7.485253810882568, "entropy": 1.3413912057876587, "kl": 0.018091382458806038, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007854843512177467}, "sample_time_ms": 53203.012}, "episodes_total": 1141, "timesteps_total": 3375000, "hostname": "flow-main", "episode_reward_max": 1181.4188779303458, "timesteps_this_iter": 135000, "training_iteration": 25, "node_ip": "10.138.0.2", "date": "2019-05-16_17-21-58", "policy_reward_mean": {}}
{"timestamp": 1558027407, "timesteps_since_restore": 3510000, "episode_len_mean": 749.35, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa046a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa042b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.798681398020638, "system_level_velocity_max": 9.769912398133885, "system_level_velocity_mean": 6.8619114055175965, "cost1_mean": 185.3069649826036, "cost2_mean": -27.50268043540911, "cost1_max": 241.58208676421367, "cost2_max": -3.7126320401848614, "cost1_min": 129.83276273565704, "cost2_min": -59.62937215223506}, "done": false, "time_total_s": 2283.5591082572937, "episode_reward_min": 624.3321566088911, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 26, "time_since_restore": 2283.5591082572937, "time_this_iter_s": 88.10129046440125, "pid": 63744, "episode_reward_mean": 887.6242116129584, "info": {"grad_time_ms": 34669.205, "update_time_ms": 8.327, "num_steps_trained": 3510000, "num_steps_sampled": 3510000, "load_time_ms": 19.155, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.39597025513648987, "total_loss": 7.497705936431885, "vf_loss": 7.502707481384277, "entropy": 1.337415337562561, "kl": 0.015418419614434242, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006543103139847517}, "sample_time_ms": 53137.952}, "episodes_total": 1177, "timesteps_total": 3510000, "hostname": "flow-main", "episode_reward_max": 1199.094383053328, "timesteps_this_iter": 135000, "training_iteration": 26, "node_ip": "10.138.0.2", "date": "2019-05-16_17-23-27", "policy_reward_mean": {}}
{"timestamp": 1558027495, "timesteps_since_restore": 3645000, "episode_len_mean": 749.35, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a898>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.798681398020638, "system_level_velocity_max": 12.341319229484013, "system_level_velocity_mean": 6.917736406277984, "cost1_mean": 185.6490074432392, "cost2_mean": -25.550761387940746, "cost1_max": 266.0870720766834, "cost2_max": -3.7126320401848614, "cost1_min": 129.83276273565704, "cost2_min": -53.47294244636659}, "done": false, "time_total_s": 2372.4169433116913, "episode_reward_min": 624.3321566088911, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 27, "time_since_restore": 2372.4169433116913, "time_this_iter_s": 88.85783505439758, "pid": 63744, "episode_reward_mean": 891.9770428452306, "info": {"grad_time_ms": 34785.869, "update_time_ms": 8.499, "num_steps_trained": 3645000, "num_steps_sampled": 3645000, "load_time_ms": 19.093, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.38786572217941284, "total_loss": 7.462705135345459, "vf_loss": 7.4681291580200195, "entropy": 1.3472874164581299, "kl": 0.0164618119597435, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007069838233292103}, "sample_time_ms": 53054.183}, "episodes_total": 1213, "timesteps_total": 3645000, "hostname": "flow-main", "episode_reward_max": 1305.0112041829389, "timesteps_this_iter": 135000, "training_iteration": 27, "node_ip": "10.138.0.2", "date": "2019-05-16_17-24-55", "policy_reward_mean": {}}
{"timestamp": 1558027583, "timesteps_since_restore": 3780000, "episode_len_mean": 750.0, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd9b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.798681398020638, "system_level_velocity_max": 12.341319229484013, "system_level_velocity_mean": 6.932757889800831, "cost1_mean": 185.95009629820004, "cost2_mean": -25.315731827033076, "cost1_max": 266.0870720766834, "cost2_max": -5.0062334636803545, "cost1_min": 129.83276273565704, "cost2_min": -62.79721412206381}, "done": false, "time_total_s": 2459.6029155254364, "episode_reward_min": 624.3321566088911, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 28, "time_since_restore": 2459.6029155254364, "time_this_iter_s": 87.18597221374512, "pid": 63744, "episode_reward_mean": 893.3497622622566, "info": {"grad_time_ms": 34776.334, "update_time_ms": 8.602, "num_steps_trained": 3780000, "num_steps_sampled": 3780000, "load_time_ms": 19.084, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.42102110385894775, "total_loss": 7.369570732116699, "vf_loss": 7.375570774078369, "entropy": 1.3342459201812744, "kl": 0.0162859745323658, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007629208266735077}, "sample_time_ms": 52988.743}, "episodes_total": 1249, "timesteps_total": 3780000, "hostname": "flow-main", "episode_reward_max": 1305.0112041829389, "timesteps_this_iter": 135000, "training_iteration": 28, "node_ip": "10.138.0.2", "date": "2019-05-16_17-26-23", "policy_reward_mean": {}}
{"timestamp": 1558027668, "timesteps_since_restore": 3915000, "episode_len_mean": 750.0, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa042b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04cc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.158514358831216, "system_level_velocity_max": 12.424378896349616, "system_level_velocity_mean": 7.047465056585327, "cost1_mean": 189.02877590736014, "cost2_mean": -25.156678173705313, "cost1_max": 268.9201800911329, "cost2_max": -5.0062334636803545, "cost1_min": 140.21728073006022, "cost2_min": -62.79721412206381}, "done": false, "time_total_s": 2545.2245144844055, "episode_reward_min": 668.7739062765409, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 29, "time_since_restore": 2545.2245144844055, "time_this_iter_s": 85.62159895896912, "pid": 63744, "episode_reward_mean": 909.0297895035163, "info": {"grad_time_ms": 34542.925, "update_time_ms": 8.513, "num_steps_trained": 3915000, "num_steps_sampled": 3915000, "load_time_ms": 18.874, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.40133005380630493, "total_loss": 7.283845901489258, "vf_loss": 7.289375305175781, "entropy": 1.349509596824646, "kl": 0.017147764563560486, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007243823260068893}, "sample_time_ms": 52805.103}, "episodes_total": 1285, "timesteps_total": 3915000, "hostname": "flow-main", "episode_reward_max": 1329.2081643829238, "timesteps_this_iter": 135000, "training_iteration": 29, "node_ip": "10.138.0.2", "date": "2019-05-16_17-27-48", "policy_reward_mean": {}}
{"timestamp": 1558027754, "timesteps_since_restore": 4050000, "episode_len_mean": 750.0, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ac18>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.215491979805506, "system_level_velocity_max": 12.424378896349616, "system_level_velocity_mean": 6.9889813186510255, "cost1_mean": 187.96689090868603, "cost2_mean": -25.377785017891043, "cost1_max": 268.9201800911329, "cost2_max": -6.289814256182726, "cost1_min": 141.70053439396182, "cost2_min": -62.79721412206381}, "done": false, "time_total_s": 2631.0520701408386, "episode_reward_min": 693.9225612887514, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 30, "time_since_restore": 2631.0520701408386, "time_this_iter_s": 85.8275556564331, "pid": 63744, "episode_reward_mean": 903.2547252937995, "info": {"grad_time_ms": 34332.696, "update_time_ms": 8.586, "num_steps_trained": 4050000, "num_steps_sampled": 4050000, "load_time_ms": 18.786, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.39869067072868347, "total_loss": 7.2278571128845215, "vf_loss": 7.233273506164551, "entropy": 1.3381175994873047, "kl": 0.017068374902009964, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007123174611479044}, "sample_time_ms": 52700.913}, "episodes_total": 1321, "timesteps_total": 4050000, "hostname": "flow-main", "episode_reward_max": 1329.2081643829238, "timesteps_this_iter": 135000, "training_iteration": 30, "node_ip": "10.138.0.2", "date": "2019-05-16_17-29-14", "policy_reward_mean": {}}
{"timestamp": 1558027841, "timesteps_since_restore": 4185000, "episode_len_mean": 743.94, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fde80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd898>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.128243088582603, "system_level_velocity_max": 12.424378896349616, "system_level_velocity_mean": 6.982876550538489, "cost1_mean": 185.73933935733135, "cost2_mean": -26.83026085846682, "cost1_max": 268.9201800911329, "cost2_max": -6.552433660512229, "cost1_min": 84.83951325263024, "cost2_min": -66.00249654041511}, "done": false, "time_total_s": 2717.7125630378723, "episode_reward_min": 397.28095589668123, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 31, "time_since_restore": 2717.7125630378723, "time_this_iter_s": 86.66049289703369, "pid": 63744, "episode_reward_mean": 890.8209989133552, "info": {"grad_time_ms": 34343.944, "update_time_ms": 8.733, "num_steps_trained": 4185000, "num_steps_sampled": 4185000, "load_time_ms": 18.601, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4224020838737488, "total_loss": 8.09412956237793, "vf_loss": 8.099509239196777, "entropy": 1.331156611442566, "kl": 0.016663819551467896, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007045676466077566}, "sample_time_ms": 52651.215}, "episodes_total": 1358, "timesteps_total": 4185000, "hostname": "flow-main", "episode_reward_max": 1329.2081643829238, "timesteps_this_iter": 135000, "training_iteration": 31, "node_ip": "10.138.0.2", "date": "2019-05-16_17-30-41", "policy_reward_mean": {}}
{"timestamp": 1558027926, "timesteps_since_restore": 4320000, "episode_len_mean": 743.94, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa041d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04fd0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.113811690455508, "system_level_velocity_max": 10.650265554467918, "system_level_velocity_mean": 7.099877309504394, "cost1_mean": 188.26980638536202, "cost2_mean": -27.353715455892058, "cost1_max": 252.9945725978675, "cost2_max": -6.552433660512229, "cost1_min": 84.83951325263024, "cost2_min": -69.9039513487226}, "done": false, "time_total_s": 2803.154007434845, "episode_reward_min": 397.28095589668123, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 32, "time_since_restore": 2803.154007434845, "time_this_iter_s": 85.44144439697266, "pid": 63744, "episode_reward_mean": 902.341846995358, "info": {"grad_time_ms": 34239.081, "update_time_ms": 8.665, "num_steps_trained": 4320000, "num_steps_sampled": 4320000, "load_time_ms": 18.568, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.41688233613967896, "total_loss": 7.918756484985352, "vf_loss": 7.924131870269775, "entropy": 1.3290306329727173, "kl": 0.01636354811489582, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007011400070041418}, "sample_time_ms": 52566.104}, "episodes_total": 1394, "timesteps_total": 4320000, "hostname": "flow-main", "episode_reward_max": 1242.6059236222213, "timesteps_this_iter": 135000, "training_iteration": 32, "node_ip": "10.138.0.2", "date": "2019-05-16_17-32-06", "policy_reward_mean": {}}
{"timestamp": 1558028012, "timesteps_since_restore": 4455000, "episode_len_mean": 739.07, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aa58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ac18>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.113811690455508, "system_level_velocity_max": 10.650265554467918, "system_level_velocity_mean": 7.1228063644409465, "cost1_mean": 187.7832960639824, "cost2_mean": -30.753212471491892, "cost1_max": 252.9945725978675, "cost2_max": -6.552433660512229, "cost1_min": 84.83951325263024, "cost2_min": -74.56391974373261}, "done": false, "time_total_s": 2889.149340867996, "episode_reward_min": 396.6682145012136, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 33, "time_since_restore": 2889.149340867996, "time_this_iter_s": 85.99533343315125, "pid": 63744, "episode_reward_mean": 894.8338820151153, "info": {"grad_time_ms": 34270.842, "update_time_ms": 8.669, "num_steps_trained": 4455000, "num_steps_sampled": 4455000, "load_time_ms": 18.658, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3976903259754181, "total_loss": 7.840297698974609, "vf_loss": 7.846399784088135, "entropy": 1.3221765756607056, "kl": 0.019130738452076912, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008014559745788574}, "sample_time_ms": 52390.711}, "episodes_total": 1431, "timesteps_total": 4455000, "hostname": "flow-main", "episode_reward_max": 1242.6059236222213, "timesteps_this_iter": 135000, "training_iteration": 33, "node_ip": "10.138.0.2", "date": "2019-05-16_17-33-32", "policy_reward_mean": {}}
{"timestamp": 1558028099, "timesteps_since_restore": 4590000, "episode_len_mean": 745.13, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fda58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdf60>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd4a8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 5.113811690455508, "system_level_velocity_max": 10.650265554467918, "system_level_velocity_mean": 7.107098724743757, "cost1_mean": 189.271536521275, "cost2_mean": -32.87354225103486, "cost1_max": 252.9945725978675, "cost2_max": -6.771836244450581, "cost1_min": 90.07773609610851, "cost2_min": -77.31292666117835}, "done": false, "time_total_s": 2975.6592614650726, "episode_reward_min": 396.6682145012136, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 34, "time_since_restore": 2975.6592614650726, "time_this_iter_s": 86.50992059707642, "pid": 63744, "episode_reward_mean": 899.3307319124501, "info": {"grad_time_ms": 34314.409, "update_time_ms": 8.996, "num_steps_trained": 4590000, "num_steps_sampled": 4590000, "load_time_ms": 18.664, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4215920567512512, "total_loss": 7.60783052444458, "vf_loss": 7.612800598144531, "entropy": 1.3245203495025635, "kl": 0.01822463609278202, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006792676169425249}, "sample_time_ms": 52194.197}, "episodes_total": 1467, "timesteps_total": 4590000, "hostname": "flow-main", "episode_reward_max": 1242.6059236222213, "timesteps_this_iter": 135000, "training_iteration": 34, "node_ip": "10.138.0.2", "date": "2019-05-16_17-34-59", "policy_reward_mean": {}}
{"timestamp": 1558028185, "timesteps_since_restore": 4725000, "episode_len_mean": 745.13, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fddd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd4e0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.412529449628182, "system_level_velocity_max": 10.27922890300396, "system_level_velocity_mean": 6.912188269084803, "cost1_mean": 184.69793209249005, "cost2_mean": -31.81546015918052, "cost1_max": 247.68097728888966, "cost2_max": -3.485611150408456, "cost1_min": 90.07773609610851, "cost2_min": -77.31292666117835}, "done": false, "time_total_s": 3061.2432022094727, "episode_reward_min": 396.6682145012136, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 35, "time_since_restore": 3061.2432022094727, "time_this_iter_s": 85.58394074440002, "pid": 63744, "episode_reward_mean": 878.3828886644683, "info": {"grad_time_ms": 34234.863, "update_time_ms": 8.939, "num_steps_trained": 4725000, "num_steps_sampled": 4725000, "load_time_ms": 18.464, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.42381492257118225, "total_loss": 7.3684587478637695, "vf_loss": 7.373382568359375, "entropy": 1.320377230644226, "kl": 0.016953829675912857, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006619297433644533}, "sample_time_ms": 52094.431}, "episodes_total": 1503, "timesteps_total": 4725000, "hostname": "flow-main", "episode_reward_max": 1210.6327644160774, "timesteps_this_iter": 135000, "training_iteration": 35, "node_ip": "10.138.0.2", "date": "2019-05-16_17-36-25", "policy_reward_mean": {}}
{"timestamp": 1558028271, "timesteps_since_restore": 4860000, "episode_len_mean": 750.0, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ae48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a2e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.412529449628182, "system_level_velocity_max": 9.37943141573988, "system_level_velocity_mean": 6.740075336023861, "cost1_mean": 182.0542749105181, "cost2_mean": -27.424906905766516, "cost1_max": 234.02202000968157, "cost2_max": -3.485611150408456, "cost1_min": 123.52465402658993, "cost2_min": -77.31292666117835}, "done": false, "time_total_s": 3147.019058942795, "episode_reward_min": 587.1768934965855, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 36, "time_since_restore": 3147.019058942795, "time_this_iter_s": 85.77585673332214, "pid": 63744, "episode_reward_mean": 871.8177527321408, "info": {"grad_time_ms": 34054.936, "update_time_ms": 8.92, "num_steps_trained": 4860000, "num_steps_sampled": 4860000, "load_time_ms": 18.357, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4639591574668884, "total_loss": 7.602009296417236, "vf_loss": 7.6075897216796875, "entropy": 1.3339508771896362, "kl": 0.017523663118481636, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007333242800086737}, "sample_time_ms": 52039.749}, "episodes_total": 1539, "timesteps_total": 4860000, "hostname": "flow-main", "episode_reward_max": 1154.3658576872633, "timesteps_this_iter": 135000, "training_iteration": 36, "node_ip": "10.138.0.2", "date": "2019-05-16_17-37-51", "policy_reward_mean": {}}
{"timestamp": 1558028357, "timesteps_since_restore": 4995000, "episode_len_mean": 750.0, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a978>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.412529449628182, "system_level_velocity_max": 10.21422630646706, "system_level_velocity_mean": 6.744446302635967, "cost1_mean": 181.07969370154856, "cost2_mean": -24.212665181060835, "cost1_max": 244.9614705005295, "cost2_max": -3.485611150408456, "cost1_min": 123.52465402658993, "cost2_min": -67.71768456595461}, "done": false, "time_total_s": 3233.940267562866, "episode_reward_min": 587.1768934965855, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 37, "time_since_restore": 3233.940267562866, "time_this_iter_s": 86.92120862007141, "pid": 63744, "episode_reward_mean": 871.5676180765618, "info": {"grad_time_ms": 33895.643, "update_time_ms": 9.095, "num_steps_trained": 4995000, "num_steps_sampled": 4995000, "load_time_ms": 18.308, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4656662046909332, "total_loss": 7.522762775421143, "vf_loss": 7.5283122062683105, "entropy": 1.3348017930984497, "kl": 0.018341654911637306, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007382579147815704}, "sample_time_ms": 52005.486}, "episodes_total": 1575, "timesteps_total": 4995000, "hostname": "flow-main", "episode_reward_max": 1202.6551551109933, "timesteps_this_iter": 135000, "training_iteration": 37, "node_ip": "10.138.0.2", "date": "2019-05-16_17-39-17", "policy_reward_mean": {}}
{"timestamp": 1558028444, "timesteps_since_restore": 5130000, "episode_len_mean": 726.77, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0abe0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.429098596063309, "system_level_velocity_max": 10.21422630646706, "system_level_velocity_mean": 6.755465544552585, "cost1_mean": 176.5287676531694, "cost2_mean": -25.910643641968832, "cost1_max": 244.9614705005295, "cost2_max": -3.7396843479238617, "cost1_min": 56.99705861584387, "cost2_min": -72.34296877031936}, "done": false, "time_total_s": 3320.449809074402, "episode_reward_min": 243.64570769292916, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 38, "time_since_restore": 3320.449809074402, "time_this_iter_s": 86.50954151153564, "pid": 63744, "episode_reward_mean": 847.6480015956357, "info": {"grad_time_ms": 33819.881, "update_time_ms": 9.06, "num_steps_trained": 5130000, "num_steps_sampled": 5130000, "load_time_ms": 18.223, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.48626652359962463, "total_loss": 8.087209701538086, "vf_loss": 8.09304428100586, "entropy": 1.3415422439575195, "kl": 0.018443387001752853, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007678314112126827}, "sample_time_ms": 52016.645}, "episodes_total": 1613, "timesteps_total": 5130000, "hostname": "flow-main", "episode_reward_max": 1202.6551551109933, "timesteps_this_iter": 135000, "training_iteration": 38, "node_ip": "10.138.0.2", "date": "2019-05-16_17-40-44", "policy_reward_mean": {}}
{"timestamp": 1558028530, "timesteps_since_restore": 5265000, "episode_len_mean": 723.2, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.20791155179244, "system_level_velocity_max": 12.886362914355583, "system_level_velocity_mean": 6.801583312293519, "cost1_mean": 176.4309128462225, "cost2_mean": -27.743702130079406, "cost1_max": 273.22754420292483, "cost2_max": -3.7396843479238617, "cost1_min": 56.99705861584387, "cost2_min": -89.66617537471373}, "done": false, "time_total_s": 3406.515719652176, "episode_reward_min": 243.64570769292916, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 39, "time_since_restore": 3406.515719652176, "time_this_iter_s": 86.06591057777405, "pid": 63744, "episode_reward_mean": 845.0496137439872, "info": {"grad_time_ms": 33877.123, "update_time_ms": 8.953, "num_steps_trained": 5265000, "num_steps_sampled": 5265000, "load_time_ms": 18.181, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4739498794078827, "total_loss": 7.814473628997803, "vf_loss": 7.820479393005371, "entropy": 1.3297374248504639, "kl": 0.018392344936728477, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007845530286431313}, "sample_time_ms": 52005.769}, "episodes_total": 1649, "timesteps_total": 5265000, "hostname": "flow-main", "episode_reward_max": 1343.1302430107771, "timesteps_this_iter": 135000, "training_iteration": 39, "node_ip": "10.138.0.2", "date": "2019-05-16_17-42-10", "policy_reward_mean": {}}
{"timestamp": 1558028617, "timesteps_since_restore": 5400000, "episode_len_mean": 731.11, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ada0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ac50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ab70>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.20791155179244, "system_level_velocity_max": 12.886362914355583, "system_level_velocity_mean": 6.888656423542955, "cost1_mean": 180.44494727551682, "cost2_mean": -31.093232278172728, "cost1_max": 273.22754420292483, "cost2_max": -4.272867935169636, "cost1_min": 56.99705861584387, "cost2_min": -94.42349141525395}, "done": false, "time_total_s": 3493.4794890880585, "episode_reward_min": 243.64570769292916, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 40, "time_since_restore": 3493.4794890880585, "time_this_iter_s": 86.96376943588257, "pid": 63744, "episode_reward_mean": 861.5795071961905, "info": {"grad_time_ms": 33960.251, "update_time_ms": 8.936, "num_steps_trained": 5400000, "num_steps_sampled": 5400000, "load_time_ms": 18.082, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.48829445242881775, "total_loss": 8.03486442565918, "vf_loss": 8.041096687316895, "entropy": 1.3285024166107178, "kl": 0.017685996368527412, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008001302368938923}, "sample_time_ms": 52039.693}, "episodes_total": 1686, "timesteps_total": 5400000, "hostname": "flow-main", "episode_reward_max": 1343.1302430107771, "timesteps_this_iter": 135000, "training_iteration": 40, "node_ip": "10.138.0.2", "date": "2019-05-16_17-43-37", "policy_reward_mean": {}}
{"timestamp": 1558028704, "timesteps_since_restore": 5535000, "episode_len_mean": 730.66, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ac18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a668>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.20791155179244, "system_level_velocity_max": 12.886362914355583, "system_level_velocity_mean": 6.88480571581174, "cost1_mean": 180.90025032777868, "cost2_mean": -32.90900670156809, "cost1_max": 273.22754420292483, "cost2_max": -8.42473752255298, "cost1_min": 43.28835677736718, "cost2_min": -94.42349141525395}, "done": false, "time_total_s": 3580.288734436035, "episode_reward_min": 188.95924576130776, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 41, "time_since_restore": 3580.288734436035, "time_this_iter_s": 86.80924534797668, "pid": 63744, "episode_reward_mean": 861.3517225940137, "info": {"grad_time_ms": 34005.9, "update_time_ms": 9.125, "num_steps_trained": 5535000, "num_steps_sampled": 5535000, "load_time_ms": 18.109, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4637739658355713, "total_loss": 7.83266019821167, "vf_loss": 7.838337421417236, "entropy": 1.3203480243682861, "kl": 0.019375184550881386, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007613632827997208}, "sample_time_ms": 52009.752}, "episodes_total": 1724, "timesteps_total": 5535000, "hostname": "flow-main", "episode_reward_max": 1343.1302430107771, "timesteps_this_iter": 135000, "training_iteration": 41, "node_ip": "10.138.0.2", "date": "2019-05-16_17-45-04", "policy_reward_mean": {}}
{"timestamp": 1558028791, "timesteps_since_restore": 5670000, "episode_len_mean": 727.38, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ad68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a9e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a8d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.467535430207635, "system_level_velocity_max": 9.541891159859555, "system_level_velocity_mean": 6.771449282696867, "cost1_mean": 178.14036020494717, "cost2_mean": -32.84701332316182, "cost1_max": 238.91253174222487, "cost2_max": -5.693110609996783, "cost1_min": 43.28835677736718, "cost2_min": -94.42349141525395}, "done": false, "time_total_s": 3667.028622150421, "episode_reward_min": 188.95924576130776, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 42, "time_since_restore": 3667.028622150421, "time_this_iter_s": 86.73988771438599, "pid": 63744, "episode_reward_mean": 847.3503143082454, "info": {"grad_time_ms": 34063.246, "update_time_ms": 9.279, "num_steps_trained": 5670000, "num_steps_sampled": 5670000, "load_time_ms": 17.932, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.47030073404312134, "total_loss": 7.625355243682861, "vf_loss": 7.631339073181152, "entropy": 1.3210043907165527, "kl": 0.01896575838327408, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007881136611104012}, "sample_time_ms": 52082.116}, "episodes_total": 1761, "timesteps_total": 5670000, "hostname": "flow-main", "episode_reward_max": 1156.784017538941, "timesteps_this_iter": 135000, "training_iteration": 42, "node_ip": "10.138.0.2", "date": "2019-05-16_17-46-31", "policy_reward_mean": {}}
{"timestamp": 1558028876, "timesteps_since_restore": 5805000, "episode_len_mean": 729.2, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a710>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.467535430207635, "system_level_velocity_max": 10.262876160899461, "system_level_velocity_mean": 6.694125510098854, "cost1_mean": 176.93127475362445, "cost2_mean": -29.542495402254428, "cost1_max": 246.08793668776173, "cost2_max": -5.693110609996783, "cost1_min": 43.28835677736718, "cost2_min": -69.68583033849083}, "done": false, "time_total_s": 3752.629117012024, "episode_reward_min": 188.95924576130776, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 43, "time_since_restore": 3752.629117012024, "time_this_iter_s": 85.60049486160278, "pid": 63744, "episode_reward_mean": 844.6932581332771, "info": {"grad_time_ms": 33998.554, "update_time_ms": 9.222, "num_steps_trained": 5805000, "num_steps_sampled": 5805000, "load_time_ms": 17.671, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.48770806193351746, "total_loss": 7.192442893981934, "vf_loss": 7.199523448944092, "entropy": 1.3178256750106812, "kl": 0.020148778334259987, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009095907211303711}, "sample_time_ms": 52109.83}, "episodes_total": 1797, "timesteps_total": 5805000, "hostname": "flow-main", "episode_reward_max": 1211.8006477576841, "timesteps_this_iter": 135000, "training_iteration": 43, "node_ip": "10.138.0.2", "date": "2019-05-16_17-47-56", "policy_reward_mean": {}}
{"timestamp": 1558028963, "timesteps_since_restore": 5940000, "episode_len_mean": 727.89, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a0b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f53c8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7192764958630655, "system_level_velocity_max": 10.262876160899461, "system_level_velocity_mean": 6.540915934179878, "cost1_mean": 173.06348347766377, "cost2_mean": -26.391483143065308, "cost1_max": 246.08793668776173, "cost2_max": -4.056438906830161, "cost1_min": 40.58341670419833, "cost2_min": -69.68583033849083}, "done": false, "time_total_s": 3838.9543249607086, "episode_reward_min": 170.4749760990247, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 44, "time_since_restore": 3838.9543249607086, "time_this_iter_s": 86.32520794868469, "pid": 63744, "episode_reward_mean": 829.8758602839724, "info": {"grad_time_ms": 33974.983, "update_time_ms": 9.03, "num_steps_trained": 5940000, "num_steps_sampled": 5940000, "load_time_ms": 17.836, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.5158461928367615, "total_loss": 7.268965721130371, "vf_loss": 7.275517463684082, "entropy": 1.3313199281692505, "kl": 0.01835891790688038, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00930513720959425}, "sample_time_ms": 52116.237}, "episodes_total": 1834, "timesteps_total": 5940000, "hostname": "flow-main", "episode_reward_max": 1211.8006477576841, "timesteps_this_iter": 135000, "training_iteration": 44, "node_ip": "10.138.0.2", "date": "2019-05-16_17-49-23", "policy_reward_mean": {}}
{"timestamp": 1558029051, "timesteps_since_restore": 6075000, "episode_len_mean": 727.42, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a1d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7192764958630655, "system_level_velocity_max": 10.41815207725337, "system_level_velocity_mean": 6.4636455033043765, "cost1_mean": 171.59874877584224, "cost2_mean": -24.56017397729777, "cost1_max": 248.97736135598927, "cost2_max": -4.056438906830161, "cost1_min": 39.114340848524265, "cost2_min": -57.56670492396721}, "done": false, "time_total_s": 3927.055180311203, "episode_reward_min": 170.4749760990247, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 45, "time_since_restore": 3927.055180311203, "time_this_iter_s": 88.10085535049438, "pid": 63744, "episode_reward_mean": 825.0517687089185, "info": {"grad_time_ms": 34139.741, "update_time_ms": 9.037, "num_steps_trained": 6075000, "num_steps_sampled": 6075000, "load_time_ms": 17.971, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.498375803232193, "total_loss": 7.618388652801514, "vf_loss": 7.624632358551025, "entropy": 1.3036367893218994, "kl": 0.017573896795511246, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008879288099706173}, "sample_time_ms": 52201.842}, "episodes_total": 1873, "timesteps_total": 6075000, "hostname": "flow-main", "episode_reward_max": 1226.7941558844234, "timesteps_this_iter": 135000, "training_iteration": 45, "node_ip": "10.138.0.2", "date": "2019-05-16_17-50-51", "policy_reward_mean": {}}
{"timestamp": 1558029137, "timesteps_since_restore": 6210000, "episode_len_mean": 719.83, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0abe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aeb8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7192764958630655, "system_level_velocity_max": 10.41815207725337, "system_level_velocity_mean": 6.327203064440978, "cost1_mean": 166.7075422999308, "cost2_mean": -24.61845569543251, "cost1_max": 248.97736135598927, "cost2_max": -4.056438906830161, "cost1_min": 20.343730028019703, "cost2_min": -70.27849400845916}, "done": false, "time_total_s": 4013.222582101822, "episode_reward_min": 95.638430739558, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 46, "time_since_restore": 4013.222582101822, "time_this_iter_s": 86.1674017906189, "pid": 63744, "episode_reward_mean": 801.818916678354, "info": {"grad_time_ms": 34176.545, "update_time_ms": 8.908, "num_steps_trained": 6210000, "num_steps_sampled": 6210000, "load_time_ms": 17.615, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.4845891296863556, "total_loss": 7.605573654174805, "vf_loss": 7.6114420890808105, "entropy": 1.3101038932800293, "kl": 0.01820646971464157, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008599204942584038}, "sample_time_ms": 52205.45}, "episodes_total": 1910, "timesteps_total": 6210000, "hostname": "flow-main", "episode_reward_max": 1226.7941558844234, "timesteps_this_iter": 135000, "training_iteration": 46, "node_ip": "10.138.0.2", "date": "2019-05-16_17-52-17", "policy_reward_mean": {}}
{"timestamp": 1558029224, "timesteps_since_restore": 6345000, "episode_len_mean": 713.25, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aac8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6a0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.018788723311643, "system_level_velocity_max": 10.41815207725337, "system_level_velocity_mean": 6.438835669155496, "cost1_mean": 167.6268327404358, "cost2_mean": -21.619050498543405, "cost1_max": 248.97736135598927, "cost2_max": -1.2994541228543677, "cost1_min": 20.343730028019703, "cost2_min": -70.27849400845916}, "done": false, "time_total_s": 4099.65572476387, "episode_reward_min": 95.638430739558, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 47, "time_since_restore": 4099.65572476387, "time_this_iter_s": 86.43314266204834, "pid": 63744, "episode_reward_mean": 810.1499949226059, "info": {"grad_time_ms": 34101.143, "update_time_ms": 8.886, "num_steps_trained": 6345000, "num_steps_sampled": 6345000, "load_time_ms": 17.796, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.48706135153770447, "total_loss": 7.331603527069092, "vf_loss": 7.337584972381592, "entropy": 1.3087025880813599, "kl": 0.016937755048274994, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008522198535501957}, "sample_time_ms": 52230.332}, "episodes_total": 1947, "timesteps_total": 6345000, "hostname": "flow-main", "episode_reward_max": 1226.7941558844234, "timesteps_this_iter": 135000, "training_iteration": 47, "node_ip": "10.138.0.2", "date": "2019-05-16_17-53-44", "policy_reward_mean": {}}
{"timestamp": 1558029310, "timesteps_since_restore": 6480000, "episode_len_mean": 723.92, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ae80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a7f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.23430689821739, "system_level_velocity_max": 10.264417395508888, "system_level_velocity_mean": 6.479723803402141, "cost1_mean": 171.22865331114116, "cost2_mean": -20.764405054691323, "cost1_max": 251.42317094321413, "cost2_max": -1.2994541228543677, "cost1_min": 20.343730028019703, "cost2_min": -70.27849400845916}, "done": false, "time_total_s": 4185.702820301056, "episode_reward_min": 95.638430739558, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 48, "time_since_restore": 4185.702820301056, "time_this_iter_s": 86.04709553718567, "pid": 63744, "episode_reward_mean": 828.8135010810896, "info": {"grad_time_ms": 34133.837, "update_time_ms": 8.819, "num_steps_trained": 6480000, "num_steps_sampled": 6480000, "load_time_ms": 17.787, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.4938560724258423, "total_loss": 7.695806503295898, "vf_loss": 7.700850963592529, "entropy": 1.3177971839904785, "kl": 0.01728018745779991, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007636958733201027}, "sample_time_ms": 52152.092}, "episodes_total": 1985, "timesteps_total": 6480000, "hostname": "flow-main", "episode_reward_max": 1236.5941427762411, "timesteps_this_iter": 135000, "training_iteration": 48, "node_ip": "10.138.0.2", "date": "2019-05-16_17-55-10", "policy_reward_mean": {}}
{"timestamp": 1558029397, "timesteps_since_restore": 6615000, "episode_len_mean": 715.12, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ad30>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.206808933748915, "system_level_velocity_max": 10.264417395508888, "system_level_velocity_mean": 6.366458704402399, "cost1_mean": 167.21936144928782, "cost2_mean": -20.82972011911376, "cost1_max": 251.42317094321413, "cost2_max": -1.2994541228543677, "cost1_min": 38.736468172047935, "cost2_min": -82.30414516311671}, "done": false, "time_total_s": 4273.160513877869, "episode_reward_min": 183.93676951822567, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 49, "time_since_restore": 4273.160513877869, "time_this_iter_s": 87.45769357681274, "pid": 63744, "episode_reward_mean": 809.2675573936975, "info": {"grad_time_ms": 34183.705, "update_time_ms": 8.955, "num_steps_trained": 6615000, "num_steps_sampled": 6615000, "load_time_ms": 17.808, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.470541387796402, "total_loss": 7.557582855224609, "vf_loss": 7.563482761383057, "entropy": 1.327522873878479, "kl": 0.01818007044494152, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00862643588334322}, "sample_time_ms": 52243.284}, "episodes_total": 2023, "timesteps_total": 6615000, "hostname": "flow-main", "episode_reward_max": 1236.5941427762411, "timesteps_this_iter": 135000, "training_iteration": 49, "node_ip": "10.138.0.2", "date": "2019-05-16_17-56-37", "policy_reward_mean": {}}
{"timestamp": 1558029483, "timesteps_since_restore": 6750000, "episode_len_mean": 722.13, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ada0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0af60>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.206808933748915, "system_level_velocity_max": 10.264417395508888, "system_level_velocity_mean": 6.466956163171037, "cost1_mean": 170.43854523631114, "cost2_mean": -23.314672891275887, "cost1_max": 251.42317094321413, "cost2_max": -3.9990389280627316, "cost1_min": 38.736468172047935, "cost2_min": -82.30414516311671}, "done": false, "time_total_s": 4359.211887359619, "episode_reward_min": 183.93676951822567, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 50, "time_since_restore": 4359.211887359619, "time_this_iter_s": 86.05137348175049, "pid": 63744, "episode_reward_mean": 821.7611446681758, "info": {"grad_time_ms": 34124.566, "update_time_ms": 8.846, "num_steps_trained": 6750000, "num_steps_sampled": 6750000, "load_time_ms": 17.791, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.4225585460662842, "total_loss": 7.563477993011475, "vf_loss": 7.569728851318359, "entropy": 1.3347281217575073, "kl": 0.017664393410086632, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008900628425180912}, "sample_time_ms": 52210.727}, "episodes_total": 2059, "timesteps_total": 6750000, "hostname": "flow-main", "episode_reward_max": 1236.5941427762411, "timesteps_this_iter": 135000, "training_iteration": 50, "node_ip": "10.138.0.2", "date": "2019-05-16_17-58-03", "policy_reward_mean": {}}
{"timestamp": 1558029571, "timesteps_since_restore": 6885000, "episode_len_mean": 720.27, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdcc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.206808933748915, "system_level_velocity_max": 11.411345016196023, "system_level_velocity_mean": 6.560510611295075, "cost1_mean": 171.76362673043297, "cost2_mean": -24.38828275153269, "cost1_max": 253.66610406768854, "cost2_max": -3.9990389280627316, "cost1_min": 38.736468172047935, "cost2_min": -82.30414516311671}, "done": false, "time_total_s": 4446.358654260635, "episode_reward_min": 183.93676951822567, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 51, "time_since_restore": 4446.358654260635, "time_this_iter_s": 87.14676690101624, "pid": 63744, "episode_reward_mean": 827.671156306959, "info": {"grad_time_ms": 34133.962, "update_time_ms": 8.747, "num_steps_trained": 6885000, "num_steps_sampled": 6885000, "load_time_ms": 18.111, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.44326120615005493, "total_loss": 7.656332492828369, "vf_loss": 7.661905765533447, "entropy": 1.3333035707473755, "kl": 0.01829979382455349, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008318256586790085}, "sample_time_ms": 52230.828}, "episodes_total": 2096, "timesteps_total": 6885000, "hostname": "flow-main", "episode_reward_max": 1236.110394304638, "timesteps_this_iter": 135000, "training_iteration": 51, "node_ip": "10.138.0.2", "date": "2019-05-16_17-59-31", "policy_reward_mean": {}}
{"timestamp": 1558029658, "timesteps_since_restore": 7020000, "episode_len_mean": 737.46, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f42b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4dd8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.14069013097796, "system_level_velocity_max": 11.411345016196023, "system_level_velocity_mean": 6.654027393891963, "cost1_mean": 176.5401024109055, "cost2_mean": -22.37618093321826, "cost1_max": 253.66610406768854, "cost2_max": -3.0504653606264904, "cost1_min": 48.596081319036045, "cost2_min": -57.64822339126157}, "done": false, "time_total_s": 4533.346709728241, "episode_reward_min": 219.1394689396017, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 52, "time_since_restore": 4533.346709728241, "time_this_iter_s": 86.98805546760559, "pid": 63744, "episode_reward_mean": 852.9325847909921, "info": {"grad_time_ms": 34247.835, "update_time_ms": 8.764, "num_steps_trained": 7020000, "num_steps_sampled": 7020000, "load_time_ms": 18.106, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.44255584478378296, "total_loss": 6.984803199768066, "vf_loss": 6.991640090942383, "entropy": 1.3339462280273438, "kl": 0.018293706700205803, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009580894373357296}, "sample_time_ms": 52140.556}, "episodes_total": 2132, "timesteps_total": 7020000, "hostname": "flow-main", "episode_reward_max": 1236.110394304638, "timesteps_this_iter": 135000, "training_iteration": 52, "node_ip": "10.138.0.2", "date": "2019-05-16_18-00-58", "policy_reward_mean": {}}
{"timestamp": 1558029743, "timesteps_since_restore": 7155000, "episode_len_mean": 740.52, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa047f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04dd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04d30>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.14069013097796, "system_level_velocity_max": 11.411345016196023, "system_level_velocity_mean": 6.750081741424473, "cost1_mean": 179.35255167900618, "cost2_mean": -21.139297355357034, "cost1_max": 257.73091142088987, "cost2_max": -3.0504653606264904, "cost1_min": 66.2631803145134, "cost2_min": -57.64822339126157}, "done": false, "time_total_s": 4618.800431728363, "episode_reward_min": 312.3412014531856, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 53, "time_since_restore": 4618.800431728363, "time_this_iter_s": 85.45372200012207, "pid": 63744, "episode_reward_mean": 868.775891609101, "info": {"grad_time_ms": 34254.835, "update_time_ms": 8.667, "num_steps_trained": 7155000, "num_steps_sampled": 7155000, "load_time_ms": 18.245, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.459196001291275, "total_loss": 7.427180767059326, "vf_loss": 7.433656692504883, "entropy": 1.3397668600082397, "kl": 0.019403614103794098, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009386795572936535}, "sample_time_ms": 52118.105}, "episodes_total": 2168, "timesteps_total": 7155000, "hostname": "flow-main", "episode_reward_max": 1246.520105207134, "timesteps_this_iter": 135000, "training_iteration": 53, "node_ip": "10.138.0.2", "date": "2019-05-16_18-02-23", "policy_reward_mean": {}}
{"timestamp": 1558029829, "timesteps_since_restore": 7290000, "episode_len_mean": 737.08, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ad68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0abe0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a780>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.130356985717499, "system_level_velocity_max": 11.45898482521727, "system_level_velocity_mean": 6.766520819538616, "cost1_mean": 178.74005923078624, "cost2_mean": -22.060079935830657, "cost1_max": 264.33481001502133, "cost2_max": -3.0504653606264904, "cost1_min": 58.48130011885131, "cost2_min": -69.67037998700756}, "done": false, "time_total_s": 4704.616861343384, "episode_reward_min": 267.69431495204606, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 54, "time_since_restore": 4704.616861343384, "time_this_iter_s": 85.81642961502075, "pid": 63744, "episode_reward_mean": 863.7467181428727, "info": {"grad_time_ms": 34177.648, "update_time_ms": 8.617, "num_steps_trained": 7290000, "num_steps_sampled": 7290000, "load_time_ms": 18.252, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.4901687502861023, "total_loss": 7.737839221954346, "vf_loss": 7.743415832519531, "entropy": 1.3229106664657593, "kl": 0.017863420769572258, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008256095461547375}, "sample_time_ms": 52145.631}, "episodes_total": 2205, "timesteps_total": 7290000, "hostname": "flow-main", "episode_reward_max": 1280.2778628567228, "timesteps_this_iter": 135000, "training_iteration": 54, "node_ip": "10.138.0.2", "date": "2019-05-16_18-03-49", "policy_reward_mean": {}}
{"timestamp": 1558029915, "timesteps_since_restore": 7425000, "episode_len_mean": 729.18, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdd30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd7f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.990224958517156, "system_level_velocity_max": 11.45898482521727, "system_level_velocity_mean": 6.872532036025905, "cost1_mean": 179.0700056225733, "cost2_mean": -23.91325067467142, "cost1_max": 264.33481001502133, "cost2_max": -6.876686054654993, "cost1_min": 48.56749937864182, "cost2_min": -70.62661925426748}, "done": false, "time_total_s": 4790.605214834213, "episode_reward_min": 218.04596517552898, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 55, "time_since_restore": 4790.605214834213, "time_this_iter_s": 85.98835349082947, "pid": 63744, "episode_reward_mean": 864.0324566834665, "info": {"grad_time_ms": 34017.33, "update_time_ms": 8.647, "num_steps_trained": 7425000, "num_steps_sampled": 7425000, "load_time_ms": 18.215, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.5044030547142029, "total_loss": 7.717719554901123, "vf_loss": 7.72468376159668, "entropy": 1.3196247816085815, "kl": 0.02006116695702076, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00997274648398161}, "sample_time_ms": 52097.607}, "episodes_total": 2242, "timesteps_total": 7425000, "hostname": "flow-main", "episode_reward_max": 1280.2778628567228, "timesteps_this_iter": 135000, "training_iteration": 55, "node_ip": "10.138.0.2", "date": "2019-05-16_18-05-15", "policy_reward_mean": {}}
{"timestamp": 1558030001, "timesteps_since_restore": 7560000, "episode_len_mean": 718.56, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa044e0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04a90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.990224958517156, "system_level_velocity_max": 11.45898482521727, "system_level_velocity_mean": 6.878338286712976, "cost1_mean": 177.0701619870098, "cost2_mean": -25.024392394231146, "cost1_max": 264.33481001502133, "cost2_max": -7.038410785205021, "cost1_min": 32.06985250367244, "cost2_min": -72.71035356380477}, "done": false, "time_total_s": 4876.722054004669, "episode_reward_min": 143.06266562834222, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 56, "time_since_restore": 4876.722054004669, "time_this_iter_s": 86.11683917045593, "pid": 63744, "episode_reward_mean": 852.9382110882302, "info": {"grad_time_ms": 33952.706, "update_time_ms": 8.669, "num_steps_trained": 7560000, "num_steps_sampled": 7560000, "load_time_ms": 18.34, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.43765953183174133, "total_loss": 8.069046974182129, "vf_loss": 8.0747652053833, "entropy": 1.3349558115005493, "kl": 0.014633403159677982, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009009967558085918}, "sample_time_ms": 52160.369}, "episodes_total": 2280, "timesteps_total": 7560000, "hostname": "flow-main", "episode_reward_max": 1280.2778628567228, "timesteps_this_iter": 135000, "training_iteration": 56, "node_ip": "10.138.0.2", "date": "2019-05-16_18-06-41", "policy_reward_mean": {}}
{"timestamp": 1558030087, "timesteps_since_restore": 7695000, "episode_len_mean": 732.1, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdac8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.990224958517156, "system_level_velocity_max": 11.950694422700229, "system_level_velocity_mean": 6.936088281062501, "cost1_mean": 182.41533779740553, "cost2_mean": -23.09516359111062, "cost1_max": 264.3500315591535, "cost2_max": -0.7668327036860623, "cost1_min": 28.109383143342093, "cost2_min": -72.71035356380477}, "done": false, "time_total_s": 4962.317734003067, "episode_reward_min": 139.6182180271237, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 57, "time_since_restore": 4962.317734003067, "time_this_iter_s": 85.59567999839783, "pid": 63744, "episode_reward_mean": 881.4434781634644, "info": {"grad_time_ms": 33965.458, "update_time_ms": 8.327, "num_steps_trained": 7695000, "num_steps_sampled": 7695000, "load_time_ms": 18.129, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4192723035812378, "total_loss": 8.051138877868652, "vf_loss": 8.056257247924805, "entropy": 1.3384387493133545, "kl": 0.015466570854187012, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008597945794463158}, "sample_time_ms": 52063.734}, "episodes_total": 2317, "timesteps_total": 7695000, "hostname": "flow-main", "episode_reward_max": 1304.5532276515783, "timesteps_this_iter": 135000, "training_iteration": 57, "node_ip": "10.138.0.2", "date": "2019-05-16_18-08-07", "policy_reward_mean": {}}
{"timestamp": 1558030173, "timesteps_since_restore": 7830000, "episode_len_mean": 732.87, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04ac8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.7497295042071848, "system_level_velocity_max": 11.950694422700229, "system_level_velocity_mean": 6.927736395868257, "cost1_mean": 182.30303366417792, "cost2_mean": -21.960283519221353, "cost1_max": 264.3500315591535, "cost2_max": -0.7668327036860623, "cost1_min": 28.109383143342093, "cost2_min": -72.71035356380477}, "done": false, "time_total_s": 5047.935560464859, "episode_reward_min": 139.6182180271237, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 58, "time_since_restore": 5047.935560464859, "time_this_iter_s": 85.61782646179199, "pid": 63744, "episode_reward_mean": 881.793931222304, "info": {"grad_time_ms": 33941.022, "update_time_ms": 8.476, "num_steps_trained": 7830000, "num_steps_sampled": 7830000, "load_time_ms": 18.044, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4030073881149292, "total_loss": 7.723079204559326, "vf_loss": 7.728283882141113, "entropy": 1.3304295539855957, "kl": 0.0155178876593709, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008695519529283047}, "sample_time_ms": 52043.304}, "episodes_total": 2353, "timesteps_total": 7830000, "hostname": "flow-main", "episode_reward_max": 1304.5532276515783, "timesteps_this_iter": 135000, "training_iteration": 58, "node_ip": "10.138.0.2", "date": "2019-05-16_18-09-33", "policy_reward_mean": {}}
{"timestamp": 1558030258, "timesteps_since_restore": 7965000, "episode_len_mean": 749.53, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa044a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04a90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04400>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.7497295042071848, "system_level_velocity_max": 11.950694422700229, "system_level_velocity_mean": 6.916753040379991, "cost1_mean": 185.38676406570627, "cost2_mean": -20.64812366148972, "cost1_max": 264.3500315591535, "cost2_max": -4.3277697551219125, "cost1_min": 71.56868765959942, "cost2_min": -58.144243977168216}, "done": false, "time_total_s": 5133.11713719368, "episode_reward_min": 348.07393365717115, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 59, "time_since_restore": 5133.11713719368, "time_this_iter_s": 85.1815767288208, "pid": 63744, "episode_reward_mean": 898.399142232315, "info": {"grad_time_ms": 33834.553, "update_time_ms": 8.456, "num_steps_trained": 7965000, "num_steps_sampled": 7965000, "load_time_ms": 18.056, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.38791176676750183, "total_loss": 7.363260746002197, "vf_loss": 7.368262767791748, "entropy": 1.316938042640686, "kl": 0.015614071860909462, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008515238761901855}, "sample_time_ms": 51920.353}, "episodes_total": 2389, "timesteps_total": 7965000, "hostname": "flow-main", "episode_reward_max": 1304.5532276515783, "timesteps_this_iter": 135000, "training_iteration": 59, "node_ip": "10.138.0.2", "date": "2019-05-16_18-10-58", "policy_reward_mean": {}}
{"timestamp": 1558030344, "timesteps_since_restore": 8100000, "episode_len_mean": 749.53, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa047f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c44a8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.7497295042071848, "system_level_velocity_max": 11.086992754711371, "system_level_velocity_mean": 6.911669370980836, "cost1_mean": 184.97323947477835, "cost2_mean": -20.081462825622488, "cost1_max": 259.51313205696556, "cost2_max": -4.258861894654103, "cost1_min": 71.56868765959942, "cost2_min": -83.20575695359632}, "done": false, "time_total_s": 5219.028749704361, "episode_reward_min": 348.07393365717115, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 60, "time_since_restore": 5219.028749704361, "time_this_iter_s": 85.91161251068115, "pid": 63744, "episode_reward_mean": 897.333355964097, "info": {"grad_time_ms": 33809.735, "update_time_ms": 8.517, "num_steps_trained": 8100000, "num_steps_sampled": 8100000, "load_time_ms": 18.143, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4090037941932678, "total_loss": 7.3214521408081055, "vf_loss": 7.3260178565979, "entropy": 1.3343000411987305, "kl": 0.015257482416927814, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007998614571988583}, "sample_time_ms": 51928.833}, "episodes_total": 2425, "timesteps_total": 8100000, "hostname": "flow-main", "episode_reward_max": 1273.3313086435635, "timesteps_this_iter": 135000, "training_iteration": 60, "node_ip": "10.138.0.2", "date": "2019-05-16_18-12-24", "policy_reward_mean": {}}
{"timestamp": 1558030429, "timesteps_since_restore": 8235000, "episode_len_mean": 737.38, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd9b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd5f8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.759176662982109, "system_level_velocity_max": 11.086992754711371, "system_level_velocity_mean": 7.0163097527571665, "cost1_mean": 183.82180071366034, "cost2_mean": -19.376062038357773, "cost1_max": 259.51313205696556, "cost2_max": -0.14430412910081236, "cost1_min": 14.133043256741187, "cost2_min": -83.20575695359632}, "done": false, "time_total_s": 5304.15979719162, "episode_reward_min": 70.52146215551606, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 61, "time_since_restore": 5304.15979719162, "time_this_iter_s": 85.13104748725891, "pid": 63744, "episode_reward_mean": 892.8446223342871, "info": {"grad_time_ms": 33694.876, "update_time_ms": 8.568, "num_steps_trained": 8235000, "num_steps_sampled": 8235000, "load_time_ms": 17.891, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.41532623767852783, "total_loss": 7.637045383453369, "vf_loss": 7.641820430755615, "entropy": 1.3391554355621338, "kl": 0.01500515453517437, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00815142598003149}, "sample_time_ms": 51844.222}, "episodes_total": 2462, "timesteps_total": 8235000, "hostname": "flow-main", "episode_reward_max": 1273.067581486267, "timesteps_this_iter": 135000, "training_iteration": 61, "node_ip": "10.138.0.2", "date": "2019-05-16_18-13-49", "policy_reward_mean": {}}
{"timestamp": 1558030515, "timesteps_since_restore": 8370000, "episode_len_mean": 726.66, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa047f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa049b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4128>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.383998647152948, "system_level_velocity_max": 9.411841189157748, "system_level_velocity_mean": 6.8339684643641, "cost1_mean": 177.0775648915283, "cost2_mean": -20.439557882978303, "cost1_max": 238.56991333640877, "cost2_max": -0.14430412910081236, "cost1_min": 14.133043256741187, "cost2_min": -83.20575695359632}, "done": false, "time_total_s": 5389.882049798965, "episode_reward_min": 70.52146215551606, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 62, "time_since_restore": 5389.882049798965, "time_this_iter_s": 85.72225260734558, "pid": 63744, "episode_reward_mean": 858.3791352970031, "info": {"grad_time_ms": 33608.268, "update_time_ms": 8.467, "num_steps_trained": 8370000, "num_steps_sampled": 8370000, "load_time_ms": 17.849, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.453208863735199, "total_loss": 7.839317321777344, "vf_loss": 7.845062732696533, "entropy": 1.3296622037887573, "kl": 0.015757841989398003, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009290319867432117}, "sample_time_ms": 51805.67}, "episodes_total": 2500, "timesteps_total": 8370000, "hostname": "flow-main", "episode_reward_max": 1177.6433994036142, "timesteps_this_iter": 135000, "training_iteration": 62, "node_ip": "10.138.0.2", "date": "2019-05-16_18-15-15", "policy_reward_mean": {}}
{"timestamp": 1558030601, "timesteps_since_restore": 8505000, "episode_len_mean": 724.54, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0abe0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.383998647152948, "system_level_velocity_max": 11.825215076311489, "system_level_velocity_mean": 6.922167228809614, "cost1_mean": 178.25764131841774, "cost2_mean": -18.607563972266085, "cost1_max": 264.7302440434146, "cost2_max": -0.14430412910081236, "cost1_min": 14.133043256741187, "cost2_min": -81.67964002919464}, "done": false, "time_total_s": 5475.908294916153, "episode_reward_min": 70.52146215551606, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 63, "time_since_restore": 5475.908294916153, "time_this_iter_s": 86.0262451171875, "pid": 63744, "episode_reward_mean": 866.4347675888217, "info": {"grad_time_ms": 33718.811, "update_time_ms": 8.572, "num_steps_trained": 8505000, "num_steps_sampled": 8505000, "load_time_ms": 17.767, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4442250430583954, "total_loss": 7.180764198303223, "vf_loss": 7.185356140136719, "entropy": 1.316171646118164, "kl": 0.014589588157832623, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007874476723372936}, "sample_time_ms": 51751.617}, "episodes_total": 2536, "timesteps_total": 8505000, "hostname": "flow-main", "episode_reward_max": 1306.6973764762715, "timesteps_this_iter": 135000, "training_iteration": 63, "node_ip": "10.138.0.2", "date": "2019-05-16_18-16-41", "policy_reward_mean": {}}
{"timestamp": 1558030686, "timesteps_since_restore": 8640000, "episode_len_mean": 734.86, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa042b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa044e0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.8484592700745917, "system_level_velocity_max": 11.825215076311489, "system_level_velocity_mean": 6.77364336726734, "cost1_mean": 177.9881031605195, "cost2_mean": -17.693191072025087, "cost1_max": 264.7302440434146, "cost2_max": -1.9951678117019602, "cost1_min": 35.799425526888726, "cost2_min": -71.8375165305294}, "done": false, "time_total_s": 5561.185597658157, "episode_reward_min": 153.88874747863363, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 64, "time_since_restore": 5561.185597658157, "time_this_iter_s": 85.2773027420044, "pid": 63744, "episode_reward_mean": 866.2924783116006, "info": {"grad_time_ms": 33728.726, "update_time_ms": 8.677, "num_steps_trained": 8640000, "num_steps_sampled": 8640000, "load_time_ms": 17.587, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4867944121360779, "total_loss": 7.313050746917725, "vf_loss": 7.31765079498291, "entropy": 1.3376662731170654, "kl": 0.015011020936071873, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007976805791258812}, "sample_time_ms": 51687.443}, "episodes_total": 2572, "timesteps_total": 8640000, "hostname": "flow-main", "episode_reward_max": 1306.6973764762715, "timesteps_this_iter": 135000, "training_iteration": 64, "node_ip": "10.138.0.2", "date": "2019-05-16_18-18-06", "policy_reward_mean": {}}
{"timestamp": 1558030772, "timesteps_since_restore": 8775000, "episode_len_mean": 740.75, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c47f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4cf8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7191723360198266, "system_level_velocity_max": 11.825215076311489, "system_level_velocity_mean": 6.7656942253357375, "cost1_mean": 179.14151478822666, "cost2_mean": -18.693330435296723, "cost1_max": 264.7302440434146, "cost2_max": -1.9951678117019602, "cost1_min": 63.67268686069612, "cost2_min": -71.8375165305294}, "done": false, "time_total_s": 5646.777076482773, "episode_reward_min": 301.9457743342349, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 65, "time_since_restore": 5646.777076482773, "time_this_iter_s": 85.59147882461548, "pid": 63744, "episode_reward_mean": 870.4196807385061, "info": {"grad_time_ms": 33744.974, "update_time_ms": 8.694, "num_steps_trained": 8775000, "num_steps_sampled": 8775000, "load_time_ms": 17.464, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5011625289916992, "total_loss": 7.560523509979248, "vf_loss": 7.565248489379883, "entropy": 1.342491865158081, "kl": 0.015656229108572006, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0082477992400527}, "sample_time_ms": 51627.013}, "episodes_total": 2609, "timesteps_total": 8775000, "hostname": "flow-main", "episode_reward_max": 1306.6973764762715, "timesteps_this_iter": 135000, "training_iteration": 65, "node_ip": "10.138.0.2", "date": "2019-05-16_18-19-32", "policy_reward_mean": {}}
{"timestamp": 1558030857, "timesteps_since_restore": 8910000, "episode_len_mean": 741.12, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b00>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7191723360198266, "system_level_velocity_max": 12.405875099769206, "system_level_velocity_mean": 6.644002370926566, "cost1_mean": 176.32995608947297, "cost2_mean": -19.734444541984956, "cost1_max": 267.5857054843677, "cost2_max": -5.587769095301409, "cost1_min": 63.67268686069612, "cost2_min": -67.24322679910321}, "done": false, "time_total_s": 5731.738765954971, "episode_reward_min": 301.9457743342349, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 66, "time_since_restore": 5731.738765954971, "time_this_iter_s": 84.96168947219849, "pid": 63744, "episode_reward_mean": 854.5429239751396, "info": {"grad_time_ms": 33705.051, "update_time_ms": 8.776, "num_steps_trained": 8910000, "num_steps_sampled": 8910000, "load_time_ms": 17.384, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4617733359336853, "total_loss": 7.235130310058594, "vf_loss": 7.240599632263184, "entropy": 1.3500151634216309, "kl": 0.01478568185120821, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00879629421979189}, "sample_time_ms": 51549.58}, "episodes_total": 2646, "timesteps_total": 8910000, "hostname": "flow-main", "episode_reward_max": 1314.043993545409, "timesteps_this_iter": 135000, "training_iteration": 66, "node_ip": "10.138.0.2", "date": "2019-05-16_18-20-57", "policy_reward_mean": {}}
{"timestamp": 1558030943, "timesteps_since_restore": 9045000, "episode_len_mean": 741.68, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f42e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4358>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f45c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7191723360198266, "system_level_velocity_max": 12.405875099769206, "system_level_velocity_mean": 6.690837388676208, "cost1_mean": 177.2565433067232, "cost2_mean": -20.03766725924822, "cost1_max": 267.5857054843677, "cost2_max": -5.042067935787295, "cost1_min": 74.06774445205335, "cost2_min": -72.21939152555152}, "done": false, "time_total_s": 5818.34640622139, "episode_reward_min": 344.4804544129623, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 67, "time_since_restore": 5818.34640622139, "time_this_iter_s": 86.60764026641846, "pid": 63744, "episode_reward_mean": 859.1535730739461, "info": {"grad_time_ms": 33701.543, "update_time_ms": 8.784, "num_steps_trained": 9045000, "num_steps_sampled": 9045000, "load_time_ms": 17.343, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5007907748222351, "total_loss": 7.641387462615967, "vf_loss": 7.645805358886719, "entropy": 1.3533333539962769, "kl": 0.015508191660046577, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007907046936452389}, "sample_time_ms": 51655.115}, "episodes_total": 2684, "timesteps_total": 9045000, "hostname": "flow-main", "episode_reward_max": 1314.043993545409, "timesteps_this_iter": 135000, "training_iteration": 67, "node_ip": "10.138.0.2", "date": "2019-05-16_18-22-23", "policy_reward_mean": {}}
{"timestamp": 1558031029, "timesteps_since_restore": 9180000, "episode_len_mean": 741.45, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4da0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.5028127577832953, "system_level_velocity_max": 12.405875099769206, "system_level_velocity_mean": 6.757617457906427, "cost1_mean": 178.20296662128945, "cost2_mean": -19.28201337762701, "cost1_max": 267.5857054843677, "cost2_max": -2.244570168570686, "cost1_min": 68.64629036198586, "cost2_min": -122.3201718870304}, "done": false, "time_total_s": 5903.552506685257, "episode_reward_min": 317.10972492043277, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 68, "time_since_restore": 5903.552506685257, "time_this_iter_s": 85.20610046386719, "pid": 63744, "episode_reward_mean": 866.6441351325484, "info": {"grad_time_ms": 33675.329, "update_time_ms": 8.619, "num_steps_trained": 9180000, "num_steps_sampled": 9180000, "load_time_ms": 17.52, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5663566589355469, "total_loss": 7.051069259643555, "vf_loss": 7.055741310119629, "entropy": 1.3446106910705566, "kl": 0.014342986978590488, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007899107411503792}, "sample_time_ms": 51640.005}, "episodes_total": 2721, "timesteps_total": 9180000, "hostname": "flow-main", "episode_reward_max": 1314.043993545409, "timesteps_this_iter": 135000, "training_iteration": 68, "node_ip": "10.138.0.2", "date": "2019-05-16_18-23-49", "policy_reward_mean": {}}
{"timestamp": 1558031115, "timesteps_since_restore": 9315000, "episode_len_mean": 737.67, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.5028127577832953, "system_level_velocity_max": 9.454608255203802, "system_level_velocity_mean": 6.732046103034694, "cost1_mean": 177.1032960888133, "cost2_mean": -20.936498079951466, "cost1_max": 235.85913119795117, "cost2_max": -2.244570168570686, "cost1_min": 68.64629036198586, "cost2_min": -122.3201718870304}, "done": false, "time_total_s": 5989.3405148983, "episode_reward_min": 317.10972492043277, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 69, "time_since_restore": 5989.3405148983, "time_this_iter_s": 85.78800821304321, "pid": 63744, "episode_reward_mean": 860.0251213329257, "info": {"grad_time_ms": 33722.832, "update_time_ms": 8.607, "num_steps_trained": 9315000, "num_steps_sampled": 9315000, "load_time_ms": 17.677, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5344195365905762, "total_loss": 7.563741207122803, "vf_loss": 7.568976402282715, "entropy": 1.3434778451919556, "kl": 0.014728305861353874, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00854906439781189}, "sample_time_ms": 51649.76}, "episodes_total": 2758, "timesteps_total": 9315000, "hostname": "flow-main", "episode_reward_max": 1146.1268066222472, "timesteps_this_iter": 135000, "training_iteration": 69, "node_ip": "10.138.0.2", "date": "2019-05-16_18-25-15", "policy_reward_mean": {}}
{"timestamp": 1558031201, "timesteps_since_restore": 9450000, "episode_len_mean": 741.7, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c44e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4358>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.5028127577832953, "system_level_velocity_max": 9.770855877011753, "system_level_velocity_mean": 6.843205723610328, "cost1_mean": 180.71551074084445, "cost2_mean": -20.727395716330644, "cost1_max": 236.6860885822154, "cost2_max": -3.346159247328312, "cost1_min": 68.64629036198586, "cost2_min": -122.3201718870304}, "done": false, "time_total_s": 6075.714450597763, "episode_reward_min": 317.10972492043277, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 70, "time_since_restore": 6075.714450597763, "time_this_iter_s": 86.37393569946289, "pid": 63744, "episode_reward_mean": 877.608448613752, "info": {"grad_time_ms": 33835.282, "update_time_ms": 8.595, "num_steps_trained": 9450000, "num_steps_sampled": 9450000, "load_time_ms": 17.48, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4872100055217743, "total_loss": 7.223212718963623, "vf_loss": 7.227838516235352, "entropy": 1.3405375480651855, "kl": 0.014825754798948765, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007960847578942776}, "sample_time_ms": 51584.428}, "episodes_total": 2794, "timesteps_total": 9450000, "hostname": "flow-main", "episode_reward_max": 1171.2689205885615, "timesteps_this_iter": 135000, "training_iteration": 70, "node_ip": "10.138.0.2", "date": "2019-05-16_18-26-41", "policy_reward_mean": {}}
{"timestamp": 1558031287, "timesteps_since_restore": 9585000, "episode_len_mean": 744.95, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd860>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.6746187217287118, "system_level_velocity_max": 9.770855877011753, "system_level_velocity_mean": 6.776558699679546, "cost1_mean": 179.70132119184612, "cost2_mean": -22.14502993670706, "cost1_max": 239.41563976212854, "cost2_max": -3.6084076626019224, "cost1_min": 47.24612674539394, "cost2_min": -133.13447166448213}, "done": false, "time_total_s": 6161.2479128837585, "episode_reward_min": 216.1036105548138, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 71, "time_since_restore": 6161.2479128837585, "time_this_iter_s": 85.53346228599548, "pid": 63744, "episode_reward_mean": 870.0697076803173, "info": {"grad_time_ms": 33888.444, "update_time_ms": 8.56, "num_steps_trained": 9585000, "num_steps_sampled": 9585000, "load_time_ms": 17.394, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.536411464214325, "total_loss": 7.180192470550537, "vf_loss": 7.185613632202148, "entropy": 1.3581899404525757, "kl": 0.015775959938764572, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008970720693469048}, "sample_time_ms": 51573.464}, "episodes_total": 2830, "timesteps_total": 9585000, "hostname": "flow-main", "episode_reward_max": 1186.6521633194975, "timesteps_this_iter": 135000, "training_iteration": 71, "node_ip": "10.138.0.2", "date": "2019-05-16_18-28-07", "policy_reward_mean": {}}
{"timestamp": 1558031374, "timesteps_since_restore": 9720000, "episode_len_mean": 745.01, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4320>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.6746187217287118, "system_level_velocity_max": 9.930405040220185, "system_level_velocity_mean": 6.80962783456291, "cost1_mean": 180.3738381330805, "cost2_mean": -22.10939382775759, "cost1_max": 241.76555769774222, "cost2_max": -3.6084076626019224, "cost1_min": 47.24612674539394, "cost2_min": -133.13447166448213}, "done": false, "time_total_s": 6248.312842845917, "episode_reward_min": 216.1036105548138, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 72, "time_since_restore": 6248.312842845917, "time_this_iter_s": 87.0649299621582, "pid": 63744, "episode_reward_mean": 873.014838202282, "info": {"grad_time_ms": 33953.286, "update_time_ms": 8.6, "num_steps_trained": 9720000, "num_steps_sampled": 9720000, "load_time_ms": 17.786, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5404103398323059, "total_loss": 7.1010026931762695, "vf_loss": 7.105550289154053, "entropy": 1.324880599975586, "kl": 0.015994543209671974, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008146188221871853}, "sample_time_ms": 51640.422}, "episodes_total": 2866, "timesteps_total": 9720000, "hostname": "flow-main", "episode_reward_max": 1196.4293626345775, "timesteps_this_iter": 135000, "training_iteration": 72, "node_ip": "10.138.0.2", "date": "2019-05-16_18-29-34", "policy_reward_mean": {}}
{"timestamp": 1558031459, "timesteps_since_restore": 9855000, "episode_len_mean": 739.23, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4dd8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.6746187217287118, "system_level_velocity_max": 10.917936888571214, "system_level_velocity_mean": 6.800098149552821, "cost1_mean": 178.30649997125525, "cost2_mean": -21.878047887155347, "cost1_max": 257.3896693400699, "cost2_max": -3.5522044179099606, "cost1_min": 47.24612674539394, "cost2_min": -133.13447166448213}, "done": false, "time_total_s": 6333.639281272888, "episode_reward_min": 216.1036105548138, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 73, "time_since_restore": 6333.639281272888, "time_this_iter_s": 85.32643842697144, "pid": 63744, "episode_reward_mean": 863.391789591407, "info": {"grad_time_ms": 33814.363, "update_time_ms": 8.641, "num_steps_trained": 9855000, "num_steps_sampled": 9855000, "load_time_ms": 17.799, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5227032899856567, "total_loss": 7.597039699554443, "vf_loss": 7.60128927230835, "entropy": 1.342862844467163, "kl": 0.015530005097389221, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007743800058960915}, "sample_time_ms": 51710.964}, "episodes_total": 2903, "timesteps_total": 9855000, "hostname": "flow-main", "episode_reward_max": 1278.6119880639478, "timesteps_this_iter": 135000, "training_iteration": 73, "node_ip": "10.138.0.2", "date": "2019-05-16_18-30-59", "policy_reward_mean": {}}
{"timestamp": 1558031546, "timesteps_since_restore": 9990000, "episode_len_mean": 734.61, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a6d8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a240>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.210320453698143, "system_level_velocity_max": 10.917936888571214, "system_level_velocity_mean": 7.035636730108796, "cost1_mean": 182.75998898191705, "cost2_mean": -19.842039559132186, "cost1_max": 257.3896693400699, "cost2_max": -3.0173412334270795, "cost1_min": 53.82718703470597, "cost2_min": -71.68156153691099}, "done": false, "time_total_s": 6420.3776824474335, "episode_reward_min": 237.40475710511694, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 74, "time_since_restore": 6420.3776824474335, "time_this_iter_s": 86.73840117454529, "pid": 63744, "episode_reward_mean": 886.7710553779411, "info": {"grad_time_ms": 33847.167, "update_time_ms": 8.499, "num_steps_trained": 9990000, "num_steps_sampled": 9990000, "load_time_ms": 17.973, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5108281373977661, "total_loss": 7.2515387535095215, "vf_loss": 7.256560802459717, "entropy": 1.3502271175384521, "kl": 0.015952348709106445, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008611313998699188}, "sample_time_ms": 51823.634}, "episodes_total": 2939, "timesteps_total": 9990000, "hostname": "flow-main", "episode_reward_max": 1278.6119880639478, "timesteps_this_iter": 135000, "training_iteration": 74, "node_ip": "10.138.0.2", "date": "2019-05-16_18-32-26", "policy_reward_mean": {}}
{"timestamp": 1558031631, "timesteps_since_restore": 10125000, "episode_len_mean": 739.6, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c42b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4da0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.210320453698143, "system_level_velocity_max": 10.995631006886372, "system_level_velocity_mean": 7.28705472334467, "cost1_mean": 189.15173290322636, "cost2_mean": -21.178836856050133, "cost1_max": 257.3896693400699, "cost2_max": -3.0173412334270795, "cost1_min": 53.82718703470597, "cost2_min": -71.68156153691099}, "done": false, "time_total_s": 6505.861091852188, "episode_reward_min": 237.40475710511694, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 75, "time_since_restore": 6505.861091852188, "time_this_iter_s": 85.48340940475464, "pid": 63744, "episode_reward_mean": 916.8160170113327, "info": {"grad_time_ms": 33827.037, "update_time_ms": 8.57, "num_steps_trained": 10125000, "num_steps_sampled": 10125000, "load_time_ms": 18.558, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5624314546585083, "total_loss": 7.132683753967285, "vf_loss": 7.1366400718688965, "entropy": 1.3788930177688599, "kl": 0.015441973693668842, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007431093603372574}, "sample_time_ms": 51831.648}, "episodes_total": 2975, "timesteps_total": 10125000, "hostname": "flow-main", "episode_reward_max": 1278.6119880639478, "timesteps_this_iter": 135000, "training_iteration": 75, "node_ip": "10.138.0.2", "date": "2019-05-16_18-33-51", "policy_reward_mean": {}}
{"timestamp": 1558031718, "timesteps_since_restore": 10260000, "episode_len_mean": 736.54, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.634299920589191, "system_level_velocity_max": 11.292143982788334, "system_level_velocity_mean": 7.235889732606756, "cost1_mean": 187.31320253941556, "cost2_mean": -22.90779840763334, "cost1_max": 264.91183758362826, "cost2_max": -3.0173412334270795, "cost1_min": 54.488227563751764, "cost2_min": -48.916550699004446}, "done": false, "time_total_s": 6592.468815326691, "episode_reward_min": 264.7968695507299, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 76, "time_since_restore": 6592.468815326691, "time_this_iter_s": 86.60772347450256, "pid": 63744, "episode_reward_mean": 904.8425716081517, "info": {"grad_time_ms": 33945.572, "update_time_ms": 8.477, "num_steps_trained": 10260000, "num_steps_sampled": 10260000, "load_time_ms": 18.649, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.527321994304657, "total_loss": 7.810188293457031, "vf_loss": 7.814493179321289, "entropy": 1.371241569519043, "kl": 0.015561006031930447, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007805610541254282}, "sample_time_ms": 51878.996}, "episodes_total": 3013, "timesteps_total": 10260000, "hostname": "flow-main", "episode_reward_max": 1299.3012832789811, "timesteps_this_iter": 135000, "training_iteration": 76, "node_ip": "10.138.0.2", "date": "2019-05-16_18-35-18", "policy_reward_mean": {}}
{"timestamp": 1558031804, "timesteps_since_restore": 10395000, "episode_len_mean": 741.16, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4d30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4080>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.634299920589191, "system_level_velocity_max": 11.292143982788334, "system_level_velocity_mean": 7.228139434196141, "cost1_mean": 188.20055824800372, "cost2_mean": -23.985739485215504, "cost1_max": 264.91183758362826, "cost2_max": -3.9402794474945235, "cost1_min": 54.488227563751764, "cost2_min": -60.02811781197276}, "done": false, "time_total_s": 6678.165586948395, "episode_reward_min": 264.7968695507299, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 77, "time_since_restore": 6678.165586948395, "time_this_iter_s": 85.6967716217041, "pid": 63744, "episode_reward_mean": 907.5052574042011, "info": {"grad_time_ms": 33915.1, "update_time_ms": 8.623, "num_steps_trained": 10395000, "num_steps_sampled": 10395000, "load_time_ms": 18.671, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5432103872299194, "total_loss": 7.557755947113037, "vf_loss": 7.56204891204834, "entropy": 1.3860735893249512, "kl": 0.01618906483054161, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007935474626719952}, "sample_time_ms": 51817.505}, "episodes_total": 3049, "timesteps_total": 10395000, "hostname": "flow-main", "episode_reward_max": 1299.3012832789811, "timesteps_this_iter": 135000, "training_iteration": 77, "node_ip": "10.138.0.2", "date": "2019-05-16_18-36-44", "policy_reward_mean": {}}
{"timestamp": 1558031890, "timesteps_since_restore": 10530000, "episode_len_mean": 733.61, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e10>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.266181026997652, "system_level_velocity_max": 11.292143982788334, "system_level_velocity_mean": 7.26445443753887, "cost1_mean": 186.9907962721549, "cost2_mean": -23.976630172198888, "cost1_max": 264.91183758362826, "cost2_max": -3.9402794474945235, "cost1_min": 41.012687365064046, "cost2_min": -60.84211982203203}, "done": false, "time_total_s": 6764.2987587451935, "episode_reward_min": 177.38175019403738, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 78, "time_since_restore": 6764.2987587451935, "time_this_iter_s": 86.1331717967987, "pid": 63744, "episode_reward_mean": 901.118555372768, "info": {"grad_time_ms": 33932.767, "update_time_ms": 8.7, "num_steps_trained": 10530000, "num_steps_sampled": 10530000, "load_time_ms": 18.478, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5255511999130249, "total_loss": 7.729099273681641, "vf_loss": 7.734111309051514, "entropy": 1.3560283184051514, "kl": 0.015234386548399925, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008439534343779087}, "sample_time_ms": 51891.699}, "episodes_total": 3087, "timesteps_total": 10530000, "hostname": "flow-main", "episode_reward_max": 1299.3012832789811, "timesteps_this_iter": 135000, "training_iteration": 78, "node_ip": "10.138.0.2", "date": "2019-05-16_18-38-10", "policy_reward_mean": {}}
{"timestamp": 1558031976, "timesteps_since_restore": 10665000, "episode_len_mean": 733.86, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa040f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.266181026997652, "system_level_velocity_max": 10.818665199641178, "system_level_velocity_mean": 7.138607834100782, "cost1_mean": 184.32300567435547, "cost2_mean": -22.75189586417944, "cost1_max": 251.7539030200462, "cost2_max": -3.9402794474945235, "cost1_min": 41.012687365064046, "cost2_min": -60.84211982203203}, "done": false, "time_total_s": 6850.665015935898, "episode_reward_min": 177.38175019403738, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 79, "time_since_restore": 6850.665015935898, "time_this_iter_s": 86.36625719070435, "pid": 63744, "episode_reward_mean": 889.0419237586732, "info": {"grad_time_ms": 33974.475, "update_time_ms": 8.7, "num_steps_trained": 10665000, "num_steps_sampled": 10665000, "load_time_ms": 18.535, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5285500884056091, "total_loss": 7.069277763366699, "vf_loss": 7.0738677978515625, "entropy": 1.3567378520965576, "kl": 0.015618056058883667, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008104046806693077}, "sample_time_ms": 51911.118}, "episodes_total": 3123, "timesteps_total": 10665000, "hostname": "flow-main", "episode_reward_max": 1244.764559530518, "timesteps_this_iter": 135000, "training_iteration": 79, "node_ip": "10.138.0.2", "date": "2019-05-16_18-39-36", "policy_reward_mean": {}}
{"timestamp": 1558032063, "timesteps_since_restore": 10800000, "episode_len_mean": 728.59, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4cf8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.0135314683709655, "system_level_velocity_max": 10.818665199641178, "system_level_velocity_mean": 6.906937421171873, "cost1_mean": 178.20506681991748, "cost2_mean": -22.530722060994787, "cost1_max": 253.8649701668221, "cost2_max": -4.53236436856923, "cost1_min": 41.012687365064046, "cost2_min": -60.84211982203203}, "done": false, "time_total_s": 6937.682681083679, "episode_reward_min": 177.38175019403738, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 80, "time_since_restore": 6937.682681083679, "time_this_iter_s": 87.01766514778137, "pid": 63744, "episode_reward_mean": 858.4197358355497, "info": {"grad_time_ms": 33954.983, "update_time_ms": 8.777, "num_steps_trained": 10800000, "num_steps_sampled": 10800000, "load_time_ms": 18.647, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5124484896659851, "total_loss": 7.283401966094971, "vf_loss": 7.288738250732422, "entropy": 1.3696889877319336, "kl": 0.015574169345200062, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008840475231409073}, "sample_time_ms": 51993.817}, "episodes_total": 3160, "timesteps_total": 10800000, "hostname": "flow-main", "episode_reward_max": 1253.6506964488888, "timesteps_this_iter": 135000, "training_iteration": 80, "node_ip": "10.138.0.2", "date": "2019-05-16_18-41-03", "policy_reward_mean": {}}
{"timestamp": 1558032151, "timesteps_since_restore": 10935000, "episode_len_mean": 727.03, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ef0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.0135314683709655, "system_level_velocity_max": 10.818665199641178, "system_level_velocity_mean": 6.802317728843349, "cost1_mean": 175.8259383372428, "cost2_mean": -22.00902308016384, "cost1_max": 253.8649701668221, "cost2_max": -4.53236436856923, "cost1_min": 15.456634357441583, "cost2_min": -74.44113478108348}, "done": false, "time_total_s": 7025.450759649277, "episode_reward_min": 70.6470907497402, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 81, "time_since_restore": 7025.450759649277, "time_this_iter_s": 87.76807856559753, "pid": 63744, "episode_reward_mean": 848.3433916873157, "info": {"grad_time_ms": 34133.022, "update_time_ms": 8.95, "num_steps_trained": 10935000, "num_steps_sampled": 10935000, "load_time_ms": 18.906, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4954391419887543, "total_loss": 7.588658809661865, "vf_loss": 7.593321800231934, "entropy": 1.3694453239440918, "kl": 0.016325728967785835, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008336612023413181}, "sample_time_ms": 52035.033}, "episodes_total": 3197, "timesteps_total": 10935000, "hostname": "flow-main", "episode_reward_max": 1253.6506964488888, "timesteps_this_iter": 135000, "training_iteration": 81, "node_ip": "10.138.0.2", "date": "2019-05-16_18-42-31", "policy_reward_mean": {}}
{"timestamp": 1558032238, "timesteps_since_restore": 11070000, "episode_len_mean": 726.32, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04c50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04ef0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.6883006208728408, "system_level_velocity_max": 10.083072531388686, "system_level_velocity_mean": 6.623962755775347, "cost1_mean": 171.86380317820073, "cost2_mean": -22.321469223955404, "cost1_max": 247.122291712689, "cost2_max": -2.628656175441738, "cost1_min": 15.456634357441583, "cost2_min": -74.44113478108348}, "done": false, "time_total_s": 7112.357471466064, "episode_reward_min": 70.6470907497402, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 82, "time_since_restore": 7112.357471466064, "time_this_iter_s": 86.90671181678772, "pid": 63744, "episode_reward_mean": 829.5643048811475, "info": {"grad_time_ms": 34119.162, "update_time_ms": 8.9, "num_steps_trained": 11070000, "num_steps_sampled": 11070000, "load_time_ms": 18.57, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5319761037826538, "total_loss": 7.709170341491699, "vf_loss": 7.7133588790893555, "entropy": 1.3829973936080933, "kl": 0.015678584575653076, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007716897409409285}, "sample_time_ms": 52034.108}, "episodes_total": 3234, "timesteps_total": 11070000, "hostname": "flow-main", "episode_reward_max": 1231.6684743002854, "timesteps_this_iter": 135000, "training_iteration": 82, "node_ip": "10.138.0.2", "date": "2019-05-16_18-43-58", "policy_reward_mean": {}}
{"timestamp": 1558032324, "timesteps_since_restore": 11205000, "episode_len_mean": 728.23, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04a90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.6883006208728408, "system_level_velocity_max": 11.096747901224985, "system_level_velocity_mean": 6.660407217357832, "cost1_mean": 172.94995209600634, "cost2_mean": -19.42201065124371, "cost1_max": 254.43227448641386, "cost2_max": -1.7290565788144145, "cost1_min": 15.456634357441583, "cost2_min": -67.17867501031719}, "done": false, "time_total_s": 7198.277015924454, "episode_reward_min": 70.6470907497402, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 83, "time_since_restore": 7198.277015924454, "time_this_iter_s": 85.91954445838928, "pid": 63744, "episode_reward_mean": 839.4407853971294, "info": {"grad_time_ms": 34189.569, "update_time_ms": 8.975, "num_steps_trained": 11205000, "num_steps_sampled": 11205000, "load_time_ms": 18.516, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5452134013175964, "total_loss": 7.251770973205566, "vf_loss": 7.256707668304443, "entropy": 1.37220299243927, "kl": 0.015339379198849201, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008387556299567223}, "sample_time_ms": 52021.014}, "episodes_total": 3270, "timesteps_total": 11205000, "hostname": "flow-main", "episode_reward_max": 1254.1206260775502, "timesteps_this_iter": 135000, "training_iteration": 83, "node_ip": "10.138.0.2", "date": "2019-05-16_18-45-24", "policy_reward_mean": {}}
{"timestamp": 1558032409, "timesteps_since_restore": 11340000, "episode_len_mean": 728.13, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c44e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ef0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4160>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.6883006208728408, "system_level_velocity_max": 11.096747901224985, "system_level_velocity_mean": 6.698880522539587, "cost1_mean": 173.1900807018119, "cost2_mean": -17.747876117989275, "cost1_max": 254.43227448641386, "cost2_max": -1.7290565788144145, "cost1_min": 40.80375775250624, "cost2_min": -68.9518038771522}, "done": false, "time_total_s": 7283.254134178162, "episode_reward_min": 188.09265704480694, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 84, "time_since_restore": 7283.254134178162, "time_this_iter_s": 84.97711825370789, "pid": 63744, "episode_reward_mean": 843.6532807542237, "info": {"grad_time_ms": 34092.141, "update_time_ms": 9.046, "num_steps_trained": 11340000, "num_steps_sampled": 11340000, "load_time_ms": 18.316, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5536859631538391, "total_loss": 7.712298393249512, "vf_loss": 7.716718673706055, "entropy": 1.3772412538528442, "kl": 0.015739886090159416, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007961306720972061}, "sample_time_ms": 51944.924}, "episodes_total": 3308, "timesteps_total": 11340000, "hostname": "flow-main", "episode_reward_max": 1254.1206260775502, "timesteps_this_iter": 135000, "training_iteration": 84, "node_ip": "10.138.0.2", "date": "2019-05-16_18-46-49", "policy_reward_mean": {}}
{"timestamp": 1558032495, "timesteps_since_restore": 11475000, "episode_len_mean": 729.41, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04a90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.9625656394801063, "system_level_velocity_max": 10.632227791451271, "system_level_velocity_mean": 6.663305719295253, "cost1_mean": 173.12798253605217, "cost2_mean": -17.617549729324356, "cost1_max": 253.4599710940663, "cost2_max": -1.2938823646615727, "cost1_min": 40.80375775250624, "cost2_min": -68.9518038771522}, "done": false, "time_total_s": 7369.348339796066, "episode_reward_min": 188.09265704480694, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 85, "time_since_restore": 7369.348339796066, "time_this_iter_s": 86.09420561790466, "pid": 63744, "episode_reward_mean": 843.3873681796534, "info": {"grad_time_ms": 34077.211, "update_time_ms": 8.924, "num_steps_trained": 11475000, "num_steps_sampled": 11475000, "load_time_ms": 17.709, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.568336009979248, "total_loss": 7.230373859405518, "vf_loss": 7.235198497772217, "entropy": 1.4015597105026245, "kl": 0.016494395211338997, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008536513894796371}, "sample_time_ms": 52024.991}, "episodes_total": 3345, "timesteps_total": 11475000, "hostname": "flow-main", "episode_reward_max": 1254.1206260775502, "timesteps_this_iter": 135000, "training_iteration": 85, "node_ip": "10.138.0.2", "date": "2019-05-16_18-48-15", "policy_reward_mean": {}}
{"timestamp": 1558032582, "timesteps_since_restore": 11610000, "episode_len_mean": 736.22, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f98>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.9625656394801063, "system_level_velocity_max": 10.098754300706721, "system_level_velocity_mean": 6.578096425576739, "cost1_mean": 172.86570205037773, "cost2_mean": -15.958335873455182, "cost1_max": 244.094993637039, "cost2_max": -1.2938823646615727, "cost1_min": 40.80375775250624, "cost2_min": -65.08575763970997}, "done": false, "time_total_s": 7456.146260499954, "episode_reward_min": 188.09265704480694, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 86, "time_since_restore": 7456.146260499954, "time_this_iter_s": 86.79792070388794, "pid": 63744, "episode_reward_mean": 843.3517142351418, "info": {"grad_time_ms": 34119.614, "update_time_ms": 8.98, "num_steps_trained": 11610000, "num_steps_sampled": 11610000, "load_time_ms": 17.703, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5627732276916504, "total_loss": 7.111209392547607, "vf_loss": 7.116163730621338, "entropy": 1.4092600345611572, "kl": 0.015825694426894188, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008514532819390297}, "sample_time_ms": 51999.002}, "episodes_total": 3381, "timesteps_total": 11610000, "hostname": "flow-main", "episode_reward_max": 1210.5976968265977, "timesteps_this_iter": 135000, "training_iteration": 86, "node_ip": "10.138.0.2", "date": "2019-05-16_18-49-42", "policy_reward_mean": {}}
{"timestamp": 1558032669, "timesteps_since_restore": 11745000, "episode_len_mean": 735.63, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.4120073645503477, "system_level_velocity_max": 10.641167142216162, "system_level_velocity_mean": 6.544899503982463, "cost1_mean": 171.55217115636228, "cost2_mean": -15.728745555225114, "cost1_max": 249.27535467978873, "cost2_max": -1.2938823646615727, "cost1_min": 53.24649050197549, "cost2_min": -58.42115659784379}, "done": false, "time_total_s": 7543.012757062912, "episode_reward_min": 253.11428112432543, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 87, "time_since_restore": 7543.012757062912, "time_this_iter_s": 86.86649656295776, "pid": 63744, "episode_reward_mean": 836.8013031414825, "info": {"grad_time_ms": 34207.218, "update_time_ms": 9.02, "num_steps_trained": 11745000, "num_steps_sampled": 11745000, "load_time_ms": 17.993, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5603620409965515, "total_loss": 7.187807083129883, "vf_loss": 7.192881107330322, "entropy": 1.3992539644241333, "kl": 0.015827324241399765, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00863570999354124}, "sample_time_ms": 52027.001}, "episodes_total": 3419, "timesteps_total": 11745000, "hostname": "flow-main", "episode_reward_max": 1239.715265959576, "timesteps_this_iter": 135000, "training_iteration": 87, "node_ip": "10.138.0.2", "date": "2019-05-16_18-51-09", "policy_reward_mean": {}}
{"timestamp": 1558032755, "timesteps_since_restore": 11880000, "episode_len_mean": 731.3, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04cf8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.2980173826456003, "system_level_velocity_max": 10.641167142216162, "system_level_velocity_mean": 6.581737192992128, "cost1_mean": 170.71618112426725, "cost2_mean": -16.19968165493134, "cost1_max": 249.27535467978873, "cost2_max": -1.3891886746054642, "cost1_min": 44.48339469211575, "cost2_min": -89.81183038509346}, "done": false, "time_total_s": 7629.251572847366, "episode_reward_min": 204.66000940781157, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 88, "time_since_restore": 7629.251572847366, "time_this_iter_s": 86.23881578445435, "pid": 63744, "episode_reward_mean": 832.9815000026069, "info": {"grad_time_ms": 34236.641, "update_time_ms": 9.034, "num_steps_trained": 11880000, "num_steps_sampled": 11880000, "load_time_ms": 17.946, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.601180911064148, "total_loss": 6.982605457305908, "vf_loss": 6.987283706665039, "entropy": 1.39128577709198, "kl": 0.015765096992254257, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008225536905229092}, "sample_time_ms": 52009.674}, "episodes_total": 3455, "timesteps_total": 11880000, "hostname": "flow-main", "episode_reward_max": 1239.715265959576, "timesteps_this_iter": 135000, "training_iteration": 88, "node_ip": "10.138.0.2", "date": "2019-05-16_18-52-35", "policy_reward_mean": {}}
{"timestamp": 1558032843, "timesteps_since_restore": 12015000, "episode_len_mean": 726.79, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c41d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.2980173826456003, "system_level_velocity_max": 10.641167142216162, "system_level_velocity_mean": 6.619929306335309, "cost1_mean": 169.81475246225637, "cost2_mean": -17.364960335102236, "cost1_max": 249.27535467978873, "cost2_max": -1.6057091208935246, "cost1_min": 44.48339469211575, "cost2_min": -89.81183038509346}, "done": false, "time_total_s": 7716.480488538742, "episode_reward_min": 204.66000940781157, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 89, "time_since_restore": 7716.480488538742, "time_this_iter_s": 87.22891569137573, "pid": 63744, "episode_reward_mean": 828.0082516697596, "info": {"grad_time_ms": 34386.332, "update_time_ms": 8.955, "num_steps_trained": 12015000, "num_steps_sampled": 12015000, "load_time_ms": 17.727, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6076944470405579, "total_loss": 7.342855930328369, "vf_loss": 7.3479084968566895, "entropy": 1.3992210626602173, "kl": 0.01618170365691185, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008693392388522625}, "sample_time_ms": 51947.954}, "episodes_total": 3492, "timesteps_total": 12015000, "hostname": "flow-main", "episode_reward_max": 1239.715265959576, "timesteps_this_iter": 135000, "training_iteration": 89, "node_ip": "10.138.0.2", "date": "2019-05-16_18-54-03", "policy_reward_mean": {}}
{"timestamp": 1558032928, "timesteps_since_restore": 12150000, "episode_len_mean": 729.74, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04588>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.1855750055999534, "system_level_velocity_max": 10.732159754539493, "system_level_velocity_mean": 6.724013794305629, "cost1_mean": 172.91313787351402, "cost2_mean": -14.3588564106168, "cost1_max": 256.8432424858207, "cost2_max": -1.3964267759574747, "cost1_min": 44.48339469211575, "cost2_min": -67.8733850424387}, "done": false, "time_total_s": 7801.906364679337, "episode_reward_min": 204.66000940781157, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 90, "time_since_restore": 7801.906364679337, "time_this_iter_s": 85.42587614059448, "pid": 63744, "episode_reward_mean": 845.8749866098785, "info": {"grad_time_ms": 34299.836, "update_time_ms": 8.88, "num_steps_trained": 12150000, "num_steps_sampled": 12150000, "load_time_ms": 17.798, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6367632150650024, "total_loss": 7.645816802978516, "vf_loss": 7.651854038238525, "entropy": 1.4327888488769531, "kl": 0.01565604656934738, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00955953449010849}, "sample_time_ms": 51878.168}, "episodes_total": 3530, "timesteps_total": 12150000, "hostname": "flow-main", "episode_reward_max": 1273.6193147786369, "timesteps_this_iter": 135000, "training_iteration": 90, "node_ip": "10.138.0.2", "date": "2019-05-16_18-55-28", "policy_reward_mean": {}}
{"timestamp": 1558033013, "timesteps_since_restore": 12285000, "episode_len_mean": 715.2, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04400>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.7280960074801086, "system_level_velocity_max": 10.732159754539493, "system_level_velocity_mean": 6.551522505013224, "cost1_mean": 166.04563795059926, "cost2_mean": -15.03765118075906, "cost1_max": 256.8432424858207, "cost2_max": -0.4683645108832802, "cost1_min": 46.01623167711561, "cost2_min": -67.8733850424387}, "done": false, "time_total_s": 7886.470626831055, "episode_reward_min": 218.00120124530977, "episodes_this_iter": 40, "num_metric_batches_dropped": 0, "iterations_since_restore": 91, "time_since_restore": 7886.470626831055, "time_this_iter_s": 84.56426215171814, "pid": 63744, "episode_reward_mean": 811.7300378224672, "info": {"grad_time_ms": 34042.292, "update_time_ms": 8.629, "num_steps_trained": 12285000, "num_steps_sampled": 12285000, "load_time_ms": 17.518, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6406672596931458, "total_loss": 7.654746055603027, "vf_loss": 7.660015106201172, "entropy": 1.4061187505722046, "kl": 0.015967564657330513, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008860775269567966}, "sample_time_ms": 51818.159}, "episodes_total": 3570, "timesteps_total": 12285000, "hostname": "flow-main", "episode_reward_max": 1273.6193147786369, "timesteps_this_iter": 135000, "training_iteration": 91, "node_ip": "10.138.0.2", "date": "2019-05-16_18-56-53", "policy_reward_mean": {}}
{"timestamp": 1558033099, "timesteps_since_restore": 12420000, "episode_len_mean": 719.0, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ba8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.7280960074801086, "system_level_velocity_max": 10.732159754539493, "system_level_velocity_mean": 6.462449123874731, "cost1_mean": 164.71401205112744, "cost2_mean": -13.815543571711357, "cost1_max": 256.8432424858207, "cost2_max": -0.4683645108832802, "cost1_min": 38.23788564721203, "cost2_min": -45.06688702043958}, "done": false, "time_total_s": 7972.560779333115, "episode_reward_min": 186.21520623455268, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 92, "time_since_restore": 7972.560779333115, "time_this_iter_s": 86.09015250205994, "pid": 63744, "episode_reward_mean": 805.817458128695, "info": {"grad_time_ms": 33992.171, "update_time_ms": 8.619, "num_steps_trained": 12420000, "num_steps_sampled": 12420000, "load_time_ms": 17.676, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6765379905700684, "total_loss": 7.24514627456665, "vf_loss": 7.250424385070801, "entropy": 1.4328114986419678, "kl": 0.016591345891356468, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00901093240827322}, "sample_time_ms": 51784.11}, "episodes_total": 3607, "timesteps_total": 12420000, "hostname": "flow-main", "episode_reward_max": 1273.6193147786369, "timesteps_this_iter": 135000, "training_iteration": 92, "node_ip": "10.138.0.2", "date": "2019-05-16_18-58-19", "policy_reward_mean": {}}
{"timestamp": 1558033187, "timesteps_since_restore": 12555000, "episode_len_mean": 729.27, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.7280960074801086, "system_level_velocity_max": 10.031636907375445, "system_level_velocity_mean": 6.406537191269132, "cost1_mean": 165.87231288938779, "cost2_mean": -12.642798102698697, "cost1_max": 242.58835170731356, "cost2_max": -0.4683645108832802, "cost1_min": 38.23788564721203, "cost2_min": -45.06688702043958}, "done": false, "time_total_s": 8060.649149656296, "episode_reward_min": 186.21520623455268, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 93, "time_since_restore": 8060.649149656296, "time_this_iter_s": 88.08837032318115, "pid": 63744, "episode_reward_mean": 812.1924007650807, "info": {"grad_time_ms": 34089.325, "update_time_ms": 8.535, "num_steps_trained": 12555000, "num_steps_sampled": 12555000, "load_time_ms": 17.713, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.683107852935791, "total_loss": 7.348315715789795, "vf_loss": 7.3525238037109375, "entropy": 1.3960819244384766, "kl": 0.015888096764683723, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0077829486690461636}, "sample_time_ms": 51904.706}, "episodes_total": 3643, "timesteps_total": 12555000, "hostname": "flow-main", "episode_reward_max": 1203.9912680468274, "timesteps_this_iter": 135000, "training_iteration": 93, "node_ip": "10.138.0.2", "date": "2019-05-16_18-59-47", "policy_reward_mean": {}}
{"timestamp": 1558033273, "timesteps_since_restore": 12690000, "episode_len_mean": 739.2, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4d30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c41d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.4151391377427673, "system_level_velocity_max": 10.743371822912515, "system_level_velocity_mean": 6.422954382540211, "cost1_mean": 167.0653125857105, "cost2_mean": -12.093047537472465, "cost1_max": 252.42363948203635, "cost2_max": -0.6723642914623786, "cost1_min": 59.2014544399993, "cost2_min": -95.30156584035379}, "done": false, "time_total_s": 8146.506548643112, "episode_reward_min": 284.49812011286576, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 94, "time_since_restore": 8146.506548643112, "time_this_iter_s": 85.8573989868164, "pid": 63744, "episode_reward_mean": 819.7076699075571, "info": {"grad_time_ms": 34186.501, "update_time_ms": 8.638, "num_steps_trained": 12690000, "num_steps_sampled": 12690000, "load_time_ms": 17.624, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.7059581875801086, "total_loss": 7.602151870727539, "vf_loss": 7.606329441070557, "entropy": 1.4480432271957397, "kl": 0.015938058495521545, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007763307075947523}, "sample_time_ms": 51894.652}, "episodes_total": 3679, "timesteps_total": 12690000, "hostname": "flow-main", "episode_reward_max": 1248.6994330899847, "timesteps_this_iter": 135000, "training_iteration": 94, "node_ip": "10.138.0.2", "date": "2019-05-16_19-01-13", "policy_reward_mean": {}}
{"timestamp": 1558033359, "timesteps_since_restore": 12825000, "episode_len_mean": 737.52, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4a90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa042e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.5057405884405664, "system_level_velocity_max": 13.228847108293763, "system_level_velocity_mean": 6.5692975333355115, "cost1_mean": 169.7944912824263, "cost2_mean": -12.995096798639583, "cost1_max": 271.7860021652812, "cost2_max": -0.6723642914623786, "cost1_min": 59.2014544399993, "cost2_min": -95.30156584035379}, "done": false, "time_total_s": 8232.180289506912, "episode_reward_min": 284.49812011286576, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 95, "time_since_restore": 8232.180289506912, "time_this_iter_s": 85.67374086380005, "pid": 63744, "episode_reward_mean": 832.3518978263959, "info": {"grad_time_ms": 34191.581, "update_time_ms": 8.717, "num_steps_trained": 12825000, "num_steps_sampled": 12825000, "load_time_ms": 17.752, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6729306578636169, "total_loss": 7.643941879272461, "vf_loss": 7.649236679077148, "entropy": 1.4242304563522339, "kl": 0.016573410481214523, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009023971855640411}, "sample_time_ms": 51849.583}, "episodes_total": 3716, "timesteps_total": 12825000, "hostname": "flow-main", "episode_reward_max": 1357.5245905234617, "timesteps_this_iter": 135000, "training_iteration": 95, "node_ip": "10.138.0.2", "date": "2019-05-16_19-02-39", "policy_reward_mean": {}}
{"timestamp": 1558033445, "timesteps_since_restore": 12960000, "episode_len_mean": 733.87, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c81d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f40f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ac8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.5057405884405664, "system_level_velocity_max": 13.228847108293763, "system_level_velocity_mean": 6.710535055809248, "cost1_mean": 172.4648294902341, "cost2_mean": -14.37912212464193, "cost1_max": 271.7860021652812, "cost2_max": -0.6723642914623786, "cost1_min": 18.55269631557408, "cost2_min": -95.30156584035379}, "done": false, "time_total_s": 8317.975113868713, "episode_reward_min": 83.12679443972381, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 96, "time_since_restore": 8317.975113868713, "time_this_iter_s": 85.79482436180115, "pid": 63744, "episode_reward_mean": 843.7559585828141, "info": {"grad_time_ms": 34143.437, "update_time_ms": 8.608, "num_steps_trained": 12960000, "num_steps_sampled": 12960000, "load_time_ms": 18.028, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5415048599243164, "total_loss": 7.648824691772461, "vf_loss": 7.653524398803711, "entropy": 1.368416428565979, "kl": 0.016217995434999466, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008348548784852028}, "sample_time_ms": 51795.137}, "episodes_total": 3753, "timesteps_total": 12960000, "hostname": "flow-main", "episode_reward_max": 1357.5245905234617, "timesteps_this_iter": 135000, "training_iteration": 96, "node_ip": "10.138.0.2", "date": "2019-05-16_19-04-05", "policy_reward_mean": {}}
{"timestamp": 1558033531, "timesteps_since_restore": 13095000, "episode_len_mean": 736.25, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa049b0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.5057405884405664, "system_level_velocity_max": 13.228847108293763, "system_level_velocity_mean": 6.8654207436398655, "cost1_mean": 177.3883158294533, "cost2_mean": -14.235303807830416, "cost1_max": 271.7860021652812, "cost2_max": -0.9369468686249421, "cost1_min": 18.55269631557408, "cost2_min": -45.48617161581619}, "done": false, "time_total_s": 8404.25029706955, "episode_reward_min": 83.12679443972381, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 97, "time_since_restore": 8404.25029706955, "time_this_iter_s": 86.27518320083618, "pid": 63744, "episode_reward_mean": 867.1220805557017, "info": {"grad_time_ms": 34075.469, "update_time_ms": 8.699, "num_steps_trained": 13095000, "num_steps_sampled": 13095000, "load_time_ms": 17.882, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5930885672569275, "total_loss": 7.3880743980407715, "vf_loss": 7.392876625061035, "entropy": 1.3966659307479858, "kl": 0.015539214946329594, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008299005217850208}, "sample_time_ms": 51806.919}, "episodes_total": 3789, "timesteps_total": 13095000, "hostname": "flow-main", "episode_reward_max": 1357.5245905234617, "timesteps_this_iter": 135000, "training_iteration": 97, "node_ip": "10.138.0.2", "date": "2019-05-16_19-05-31", "policy_reward_mean": {}}
{"timestamp": 1558033617, "timesteps_since_restore": 13230000, "episode_len_mean": 731.7, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04eb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.454253553686616, "system_level_velocity_max": 10.65502585975783, "system_level_velocity_mean": 6.592079485840077, "cost1_mean": 171.13275481299604, "cost2_mean": -16.957109103484182, "cost1_max": 256.82490340894833, "cost2_max": -1.7949900004293649, "cost1_min": 18.55269631557408, "cost2_min": -111.86600676951693}, "done": false, "time_total_s": 8489.955728292465, "episode_reward_min": 83.12679443972381, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 98, "time_since_restore": 8489.955728292465, "time_this_iter_s": 85.70543122291565, "pid": 63744, "episode_reward_mean": 834.2352849323139, "info": {"grad_time_ms": 34037.812, "update_time_ms": 8.615, "num_steps_trained": 13230000, "num_steps_sampled": 13230000, "load_time_ms": 18.086, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6082925796508789, "total_loss": 7.263445854187012, "vf_loss": 7.2679643630981445, "entropy": 1.3926019668579102, "kl": 0.016695275902748108, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008275040425360203}, "sample_time_ms": 51790.205}, "episodes_total": 3826, "timesteps_total": 13230000, "hostname": "flow-main", "episode_reward_max": 1273.7219032367204, "timesteps_this_iter": 135000, "training_iteration": 98, "node_ip": "10.138.0.2", "date": "2019-05-16_19-06-57", "policy_reward_mean": {}}
{"timestamp": 1558033702, "timesteps_since_restore": 13365000, "episode_len_mean": 733.9, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c87f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8780>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.454253553686616, "system_level_velocity_max": 12.21493062762262, "system_level_velocity_mean": 6.824683955216791, "cost1_mean": 175.95852082350734, "cost2_mean": -15.932598786413546, "cost1_max": 268.9446563137557, "cost2_max": -1.6349061328206482, "cost1_min": 46.58826643259563, "cost2_min": -111.86600676951693}, "done": false, "time_total_s": 8575.253507852554, "episode_reward_min": 210.57298925519888, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 99, "time_since_restore": 8575.253507852554, "time_this_iter_s": 85.29777956008911, "pid": 63744, "episode_reward_mean": 859.597825996251, "info": {"grad_time_ms": 33836.307, "update_time_ms": 8.642, "num_steps_trained": 13365000, "num_steps_sampled": 13365000, "load_time_ms": 18.052, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5649949908256531, "total_loss": 7.222113132476807, "vf_loss": 7.226315498352051, "entropy": 1.3944993019104004, "kl": 0.015518814325332642, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007694053463637829}, "sample_time_ms": 51796.422}, "episodes_total": 3864, "timesteps_total": 13365000, "hostname": "flow-main", "episode_reward_max": 1319.7772543497729, "timesteps_this_iter": 135000, "training_iteration": 99, "node_ip": "10.138.0.2", "date": "2019-05-16_19-08-22", "policy_reward_mean": {}}
{"timestamp": 1558033790, "timesteps_since_restore": 13500000, "episode_len_mean": 725.98, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ad30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0afd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a160>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.709450988405636, "system_level_velocity_max": 12.21493062762262, "system_level_velocity_mean": 6.721700156270533, "cost1_mean": 172.22107082418938, "cost2_mean": -15.158591203403494, "cost1_max": 268.9446563137557, "cost2_max": -1.2976550402554268, "cost1_min": 46.58826643259563, "cost2_min": -44.7409757562349}, "done": false, "time_total_s": 8663.159852743149, "episode_reward_min": 210.57298925519888, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 100, "time_since_restore": 8663.159852743149, "time_this_iter_s": 87.90634489059448, "pid": 63744, "episode_reward_mean": 840.1304072351921, "info": {"grad_time_ms": 34072.419, "update_time_ms": 8.661, "num_steps_trained": 13500000, "num_steps_sampled": 13500000, "load_time_ms": 18.241, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5818291306495667, "total_loss": 7.467998504638672, "vf_loss": 7.47330379486084, "entropy": 1.415956735610962, "kl": 0.018040863797068596, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009364630095660686}, "sample_time_ms": 51805.563}, "episodes_total": 3902, "timesteps_total": 13500000, "hostname": "flow-main", "episode_reward_max": 1319.7772543497729, "timesteps_this_iter": 135000, "training_iteration": 100, "node_ip": "10.138.0.2", "date": "2019-05-16_19-09-50", "policy_reward_mean": {}}
{"timestamp": 1558033875, "timesteps_since_restore": 13635000, "episode_len_mean": 726.31, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ac18>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.709450988405636, "system_level_velocity_max": 10.897932020991535, "system_level_velocity_mean": 6.881391832722166, "cost1_mean": 175.9633052443416, "cost2_mean": -16.948849431116376, "cost1_max": 262.65401384423865, "cost2_max": -1.2976550402554268, "cost1_min": 46.58826643259563, "cost2_min": -46.91668434372461}, "done": false, "time_total_s": 8748.634624958038, "episode_reward_min": 210.57298925519888, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 101, "time_since_restore": 8748.634624958038, "time_this_iter_s": 85.47477221488953, "pid": 63744, "episode_reward_mean": 856.3417081751355, "info": {"grad_time_ms": 34167.318, "update_time_ms": 8.649, "num_steps_trained": 13635000, "num_steps_sampled": 13635000, "load_time_ms": 18.408, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5065104365348816, "total_loss": 7.154537677764893, "vf_loss": 7.160273551940918, "entropy": 1.3851903676986694, "kl": 0.01759587787091732, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009694286622107029}, "sample_time_ms": 51800.432}, "episodes_total": 3939, "timesteps_total": 13635000, "hostname": "flow-main", "episode_reward_max": 1283.5406403945326, "timesteps_this_iter": 135000, "training_iteration": 101, "node_ip": "10.138.0.2", "date": "2019-05-16_19-11-15", "policy_reward_mean": {}}
{"timestamp": 1558033961, "timesteps_since_restore": 13770000, "episode_len_mean": 729.46, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c85c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.709450988405636, "system_level_velocity_max": 10.897932020991535, "system_level_velocity_mean": 6.888871783028496, "cost1_mean": 177.57104473336284, "cost2_mean": -17.18537651506311, "cost1_max": 262.65401384423865, "cost2_max": -1.2976550402554268, "cost1_min": 50.81928413258111, "cost2_min": -46.91668434372461}, "done": false, "time_total_s": 8834.160289287567, "episode_reward_min": 247.26710332841765, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 102, "time_since_restore": 8834.160289287567, "time_this_iter_s": 85.52566432952881, "pid": 63744, "episode_reward_mean": 863.6689071799406, "info": {"grad_time_ms": 34120.785, "update_time_ms": 8.685, "num_steps_trained": 13770000, "num_steps_sampled": 13770000, "load_time_ms": 18.321, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.503933846950531, "total_loss": 7.503674507141113, "vf_loss": 7.50806188583374, "entropy": 1.393115758895874, "kl": 0.015943100675940514, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007974411360919476}, "sample_time_ms": 51794.136}, "episodes_total": 3977, "timesteps_total": 13770000, "hostname": "flow-main", "episode_reward_max": 1283.5406403945326, "timesteps_this_iter": 135000, "training_iteration": 102, "node_ip": "10.138.0.2", "date": "2019-05-16_19-12-41", "policy_reward_mean": {}}
{"timestamp": 1558034046, "timesteps_since_restore": 13905000, "episode_len_mean": 739.38, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c45f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ac8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.958646688897603, "system_level_velocity_max": 11.166663229820594, "system_level_velocity_mean": 7.064480232342795, "cost1_mean": 183.37397997091404, "cost2_mean": -17.05649019728733, "cost1_max": 264.067807754428, "cost2_max": -2.0564402802677355, "cost1_min": 50.81928413258111, "cost2_min": -45.47873257792969}, "done": false, "time_total_s": 8919.211976528168, "episode_reward_min": 248.3221663038086, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 103, "time_since_restore": 8919.211976528168, "time_this_iter_s": 85.05168724060059, "pid": 63744, "episode_reward_mean": 892.0736916085095, "info": {"grad_time_ms": 33970.3, "update_time_ms": 8.565, "num_steps_trained": 13905000, "num_steps_sampled": 13905000, "load_time_ms": 18.459, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5013436079025269, "total_loss": 7.190820217132568, "vf_loss": 7.195210933685303, "entropy": 1.3810300827026367, "kl": 0.0155995674431324, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007900825701653957}, "sample_time_ms": 51640.009}, "episodes_total": 4013, "timesteps_total": 13905000, "hostname": "flow-main", "episode_reward_max": 1283.5406403945326, "timesteps_this_iter": 135000, "training_iteration": 103, "node_ip": "10.138.0.2", "date": "2019-05-16_19-14-06", "policy_reward_mean": {}}
{"timestamp": 1558034132, "timesteps_since_restore": 14040000, "episode_len_mean": 746.81, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd5c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.6183150513457503, "system_level_velocity_max": 11.166663229820594, "system_level_velocity_mean": 7.018247068405921, "cost1_mean": 184.12531475520092, "cost2_mean": -18.9391660383182, "cost1_max": 264.067807754428, "cost2_max": -2.0564402802677355, "cost1_min": 77.63514402176041, "cost2_min": -50.77584837143769}, "done": false, "time_total_s": 9005.355422973633, "episode_reward_min": 360.80848367869976, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 104, "time_since_restore": 9005.355422973633, "time_this_iter_s": 86.14344644546509, "pid": 63744, "episode_reward_mean": 893.200515489163, "info": {"grad_time_ms": 33894.873, "update_time_ms": 8.64, "num_steps_trained": 14040000, "num_steps_sampled": 14040000, "load_time_ms": 18.491, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5253147482872009, "total_loss": 7.384005069732666, "vf_loss": 7.388277053833008, "entropy": 1.3828800916671753, "kl": 0.016415001824498177, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007965316995978355}, "sample_time_ms": 51741.67}, "episodes_total": 4049, "timesteps_total": 14040000, "hostname": "flow-main", "episode_reward_max": 1277.6216219095581, "timesteps_this_iter": 135000, "training_iteration": 104, "node_ip": "10.138.0.2", "date": "2019-05-16_19-15-32", "policy_reward_mean": {}}
{"timestamp": 1558034217, "timesteps_since_restore": 14175000, "episode_len_mean": 738.2, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c81d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8588>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.6183150513457503, "system_level_velocity_max": 13.319673639696171, "system_level_velocity_mean": 6.914635612387104, "cost1_mean": 179.50194751857384, "cost2_mean": -20.281783544032965, "cost1_max": 273.2078177127781, "cost2_max": -0.7942924094963777, "cost1_min": 58.65133015765294, "cost2_min": -50.77584837143769}, "done": false, "time_total_s": 9090.182753801346, "episode_reward_min": 284.64765689454384, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 105, "time_since_restore": 9090.182753801346, "time_this_iter_s": 84.82733082771301, "pid": 63744, "episode_reward_mean": 868.6481088190484, "info": {"grad_time_ms": 33870.818, "update_time_ms": 8.573, "num_steps_trained": 14175000, "num_steps_sampled": 14175000, "load_time_ms": 18.602, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5815121531486511, "total_loss": 7.6478590965271, "vf_loss": 7.65299129486084, "entropy": 1.4136162996292114, "kl": 0.01704162359237671, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008966486901044846}, "sample_time_ms": 51679.066}, "episodes_total": 4085, "timesteps_total": 14175000, "hostname": "flow-main", "episode_reward_max": 1361.528885750795, "timesteps_this_iter": 135000, "training_iteration": 105, "node_ip": "10.138.0.2", "date": "2019-05-16_19-16-57", "policy_reward_mean": {}}
{"timestamp": 1558034302, "timesteps_since_restore": 14310000, "episode_len_mean": 731.58, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c43c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ef0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.6738716598494037, "system_level_velocity_max": 13.319673639696171, "system_level_velocity_mean": 6.92533398863166, "cost1_mean": 178.3307234454855, "cost2_mean": -21.135158452059418, "cost1_max": 273.2078177127781, "cost2_max": -0.7942924094963777, "cost1_min": 56.03638513011892, "cost2_min": -54.427031133723844}, "done": false, "time_total_s": 9175.212909460068, "episode_reward_min": 261.5878432629053, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 106, "time_since_restore": 9175.212909460068, "time_this_iter_s": 85.03015565872192, "pid": 63744, "episode_reward_mean": 862.5256775791214, "info": {"grad_time_ms": 33798.361, "update_time_ms": 8.702, "num_steps_trained": 14310000, "num_steps_sampled": 14310000, "load_time_ms": 18.355, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.602864146232605, "total_loss": 7.6573591232299805, "vf_loss": 7.662351131439209, "entropy": 1.4051501750946045, "kl": 0.01639486476778984, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008681535720825195}, "sample_time_ms": 51677.795}, "episodes_total": 4121, "timesteps_total": 14310000, "hostname": "flow-main", "episode_reward_max": 1361.528885750795, "timesteps_this_iter": 135000, "training_iteration": 106, "node_ip": "10.138.0.2", "date": "2019-05-16_19-18-22", "policy_reward_mean": {}}
{"timestamp": 1558034389, "timesteps_since_restore": 14445000, "episode_len_mean": 724.65, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c50>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.456849249235567, "system_level_velocity_max": 13.319673639696171, "system_level_velocity_mean": 6.7657792087610105, "cost1_mean": 172.40706304562198, "cost2_mean": -20.785513390444244, "cost1_max": 273.2078177127781, "cost2_max": -0.7942924094963777, "cost1_min": 41.47585315049677, "cost2_min": -122.89150650507507}, "done": false, "time_total_s": 9262.358346223831, "episode_reward_min": 204.81540895110302, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 107, "time_since_restore": 9262.358346223831, "time_this_iter_s": 87.14543676376343, "pid": 63744, "episode_reward_mean": 835.5358171591782, "info": {"grad_time_ms": 33935.854, "update_time_ms": 8.572, "num_steps_trained": 14445000, "num_steps_sampled": 14445000, "load_time_ms": 18.373, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.671593427658081, "total_loss": 7.62028694152832, "vf_loss": 7.6242499351501465, "entropy": 1.4284170866012573, "kl": 0.017223453149199486, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007838264107704163}, "sample_time_ms": 51626.035}, "episodes_total": 4157, "timesteps_total": 14445000, "hostname": "flow-main", "episode_reward_max": 1361.528885750795, "timesteps_this_iter": 135000, "training_iteration": 107, "node_ip": "10.138.0.2", "date": "2019-05-16_19-19-49", "policy_reward_mean": {}}
{"timestamp": 1558034476, "timesteps_since_restore": 14580000, "episode_len_mean": 731.73, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c87f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c81d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.456849249235567, "system_level_velocity_max": 11.3709742769508, "system_level_velocity_mean": 6.541107646293984, "cost1_mean": 169.0815263728259, "cost2_mean": -23.237692716613807, "cost1_max": 260.10715635464317, "cost2_max": -2.161729332552377, "cost1_min": 41.47585315049677, "cost2_min": -122.89150650507507}, "done": false, "time_total_s": 9348.544742584229, "episode_reward_min": 204.81540895110302, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 108, "time_since_restore": 9348.544742584229, "time_this_iter_s": 86.18639636039734, "pid": 63744, "episode_reward_mean": 817.8602932325249, "info": {"grad_time_ms": 33942.961, "update_time_ms": 8.627, "num_steps_trained": 14580000, "num_steps_sampled": 14580000, "load_time_ms": 18.249, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6290239095687866, "total_loss": 7.60659646987915, "vf_loss": 7.611330986022949, "entropy": 1.409635066986084, "kl": 0.017178954556584358, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00860004872083664}, "sample_time_ms": 51668.738}, "episodes_total": 4194, "timesteps_total": 14580000, "hostname": "flow-main", "episode_reward_max": 1263.2515841400298, "timesteps_this_iter": 135000, "training_iteration": 108, "node_ip": "10.138.0.2", "date": "2019-05-16_19-21-16", "policy_reward_mean": {}}
{"timestamp": 1558034560, "timesteps_since_restore": 14715000, "episode_len_mean": 737.96, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c45f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4518>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 1.456849249235567, "system_level_velocity_max": 10.941832403476955, "system_level_velocity_mean": 6.295824577118922, "cost1_mean": 164.4854716454483, "cost2_mean": -24.512758093566646, "cost1_max": 254.00074943757795, "cost2_max": -2.161729332552377, "cost1_min": 41.47585315049677, "cost2_min": -122.89150650507507}, "done": false, "time_total_s": 9433.160536050797, "episode_reward_min": 204.81540895110302, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 109, "time_since_restore": 9433.160536050797, "time_this_iter_s": 84.615793466568, "pid": 63744, "episode_reward_mean": 792.3741777014325, "info": {"grad_time_ms": 33893.4, "update_time_ms": 8.626, "num_steps_trained": 14715000, "num_steps_sampled": 14715000, "load_time_ms": 18.315, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6030952334403992, "total_loss": 7.575725078582764, "vf_loss": 7.5806498527526855, "entropy": 1.4011403322219849, "kl": 0.016630137339234352, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008665655739605427}, "sample_time_ms": 51652.451}, "episodes_total": 4230, "timesteps_total": 14715000, "hostname": "flow-main", "episode_reward_max": 1247.8847931989128, "timesteps_this_iter": 135000, "training_iteration": 109, "node_ip": "10.138.0.2", "date": "2019-05-16_19-22-40", "policy_reward_mean": {}}
{"timestamp": 1558034644, "timesteps_since_restore": 14850000, "episode_len_mean": 749.61, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fdf60>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.960152817781463, "system_level_velocity_max": 10.941832403476955, "system_level_velocity_mean": 6.55141977409279, "cost1_mean": 173.0007788331723, "cost2_mean": -22.039932018345617, "cost1_max": 254.00074943757795, "cost2_max": -2.161729332552377, "cost1_min": 82.29726410004228, "cost2_min": -119.06439131938751}, "done": false, "time_total_s": 9516.524637699127, "episode_reward_min": 383.19764541005793, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 110, "time_since_restore": 9516.524637699127, "time_this_iter_s": 83.36410164833069, "pid": 63744, "episode_reward_mean": 835.6911166860618, "info": {"grad_time_ms": 33531.743, "update_time_ms": 8.499, "num_steps_trained": 14850000, "num_steps_sampled": 14850000, "load_time_ms": 17.922, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5986731052398682, "total_loss": 7.231846332550049, "vf_loss": 7.234926700592041, "entropy": 1.4109591245651245, "kl": 0.018574509769678116, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007259405218064785}, "sample_time_ms": 51560.929}, "episodes_total": 4266, "timesteps_total": 14850000, "hostname": "flow-main", "episode_reward_max": 1247.8847931989128, "timesteps_this_iter": 135000, "training_iteration": 110, "node_ip": "10.138.0.2", "date": "2019-05-16_19-24-04", "policy_reward_mean": {}}
{"timestamp": 1558034730, "timesteps_since_restore": 14985000, "episode_len_mean": 743.86, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c87f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8780>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8f98>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.6867947080577532, "system_level_velocity_max": 12.953825793536394, "system_level_velocity_mean": 6.759574926705543, "cost1_mean": 176.28727134292996, "cost2_mean": -19.900917059138315, "cost1_max": 273.1984371312615, "cost2_max": -2.6277127007798624, "cost1_min": 39.85855263449033, "cost2_min": -63.10059597186769}, "done": false, "time_total_s": 9602.928380966187, "episode_reward_min": 182.52828373595645, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 111, "time_since_restore": 9602.928380966187, "time_this_iter_s": 86.40374326705933, "pid": 63744, "episode_reward_mean": 853.1382784263819, "info": {"grad_time_ms": 33639.064, "update_time_ms": 8.456, "num_steps_trained": 14985000, "num_steps_sampled": 14985000, "load_time_ms": 17.923, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.545663058757782, "total_loss": 7.229753494262695, "vf_loss": 7.233907222747803, "entropy": 1.4026156663894653, "kl": 0.01799486204981804, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008201590739190578}, "sample_time_ms": 51546.21}, "episodes_total": 4302, "timesteps_total": 14985000, "hostname": "flow-main", "episode_reward_max": 1355.3606101449557, "timesteps_this_iter": 135000, "training_iteration": 111, "node_ip": "10.138.0.2", "date": "2019-05-16_19-25-30", "policy_reward_mean": {}}
{"timestamp": 1558034814, "timesteps_since_restore": 15120000, "episode_len_mean": 736.13, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c41d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c45c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c48d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.469635593585798, "system_level_velocity_max": 12.953825793536394, "system_level_velocity_mean": 6.592910639942683, "cost1_mean": 171.53474796360882, "cost2_mean": -21.485649563900036, "cost1_max": 273.1984371312615, "cost2_max": -1.9320869468488053, "cost1_min": 39.85855263449033, "cost2_min": -71.46619155107018}, "done": false, "time_total_s": 9686.617636203766, "episode_reward_min": 182.52828373595645, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 112, "time_since_restore": 9686.617636203766, "time_this_iter_s": 83.68925523757935, "pid": 63744, "episode_reward_mean": 827.6515277457166, "info": {"grad_time_ms": 33515.744, "update_time_ms": 8.484, "num_steps_trained": 15120000, "num_steps_sampled": 15120000, "load_time_ms": 17.793, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.623513400554657, "total_loss": 7.32767915725708, "vf_loss": 7.332470417022705, "entropy": 1.4593936204910278, "kl": 0.018299417570233345, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008908015675842762}, "sample_time_ms": 51484.637}, "episodes_total": 4339, "timesteps_total": 15120000, "hostname": "flow-main", "episode_reward_max": 1355.3606101449557, "timesteps_this_iter": 135000, "training_iteration": 112, "node_ip": "10.138.0.2", "date": "2019-05-16_19-26-54", "policy_reward_mean": {}}
{"timestamp": 1558034898, "timesteps_since_restore": 15255000, "episode_len_mean": 729.77, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8c50>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.469635593585798, "system_level_velocity_max": 12.953825793536394, "system_level_velocity_mean": 6.56603427079276, "cost1_mean": 169.4976560576753, "cost2_mean": -21.688796287595334, "cost1_max": 273.1984371312615, "cost2_max": -1.9320869468488053, "cost1_min": 54.652498203731966, "cost2_min": -76.44687797405939}, "done": false, "time_total_s": 9770.506176710129, "episode_reward_min": 250.94866484248618, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 113, "time_since_restore": 9770.506176710129, "time_this_iter_s": 83.88854050636292, "pid": 63744, "episode_reward_mean": 818.2971296680912, "info": {"grad_time_ms": 33434.651, "update_time_ms": 8.624, "num_steps_trained": 15255000, "num_steps_sampled": 15255000, "load_time_ms": 17.607, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6065003871917725, "total_loss": 7.203185558319092, "vf_loss": 7.207128047943115, "entropy": 1.426322340965271, "kl": 0.01635703817009926, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007622792851179838}, "sample_time_ms": 51451.648}, "episodes_total": 4375, "timesteps_total": 15255000, "hostname": "flow-main", "episode_reward_max": 1355.3606101449557, "timesteps_this_iter": 135000, "training_iteration": 113, "node_ip": "10.138.0.2", "date": "2019-05-16_19-28-18", "policy_reward_mean": {}}
{"timestamp": 1558034983, "timesteps_since_restore": 15390000, "episode_len_mean": 726.45, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c87f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.5662170907499506, "system_level_velocity_max": 12.828713326566106, "system_level_velocity_mean": 6.508431941335097, "cost1_mean": 167.44001009879798, "cost2_mean": -21.51982322571182, "cost1_max": 273.744198580765, "cost2_max": -1.4503982440090937, "cost1_min": 54.652498203731966, "cost2_min": -83.58864271036859}, "done": false, "time_total_s": 9855.436450719833, "episode_reward_min": 250.94866484248618, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 114, "time_since_restore": 9855.436450719833, "time_this_iter_s": 84.93027400970459, "pid": 63744, "episode_reward_mean": 809.0882511261266, "info": {"grad_time_ms": 33464.685, "update_time_ms": 8.4, "num_steps_trained": 15390000, "num_steps_sampled": 15390000, "load_time_ms": 17.699, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6338050365447998, "total_loss": 7.13004207611084, "vf_loss": 7.13541316986084, "entropy": 1.4052270650863647, "kl": 0.017722725868225098, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009359204210340977}, "sample_time_ms": 51299.805}, "episodes_total": 4412, "timesteps_total": 15390000, "hostname": "flow-main", "episode_reward_max": 1366.0976300325472, "timesteps_this_iter": 135000, "training_iteration": 114, "node_ip": "10.138.0.2", "date": "2019-05-16_19-29-43", "policy_reward_mean": {}}
{"timestamp": 1558035068, "timesteps_since_restore": 15525000, "episode_len_mean": 721.11, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c43c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c45f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c50>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.2019329235241956, "system_level_velocity_max": 12.828713326566106, "system_level_velocity_mean": 6.49097571405686, "cost1_mean": 165.78133404409843, "cost2_mean": -19.0103043524891, "cost1_max": 273.744198580765, "cost2_max": -1.4503982440090937, "cost1_min": 48.46865681902851, "cost2_min": -83.58864271036859}, "done": false, "time_total_s": 9940.939244747162, "episode_reward_min": 239.9295284022411, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 115, "time_since_restore": 9940.939244747162, "time_this_iter_s": 85.50279402732849, "pid": 63744, "episode_reward_mean": 803.1266694653407, "info": {"grad_time_ms": 33442.534, "update_time_ms": 8.479, "num_steps_trained": 15525000, "num_steps_sampled": 15525000, "load_time_ms": 17.703, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6405039429664612, "total_loss": 7.510690212249756, "vf_loss": 7.5152201652526855, "entropy": 1.4232923984527588, "kl": 0.017697621136903763, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008511730469763279}, "sample_time_ms": 51387.875}, "episodes_total": 4451, "timesteps_total": 15525000, "hostname": "flow-main", "episode_reward_max": 1366.0976300325472, "timesteps_this_iter": 135000, "training_iteration": 115, "node_ip": "10.138.0.2", "date": "2019-05-16_19-31-08", "policy_reward_mean": {}}
{"timestamp": 1558035154, "timesteps_since_restore": 15660000, "episode_len_mean": 712.13, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c88d0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.2019329235241956, "system_level_velocity_max": 12.307929965880353, "system_level_velocity_mean": 6.464831004274649, "cost1_mean": 162.78955889232807, "cost2_mean": -17.625655438162227, "cost1_max": 270.26388608001866, "cost2_max": -1.4503982440090937, "cost1_min": 27.852345543267415, "cost2_min": -83.58864271036859}, "done": false, "time_total_s": 10026.402418851852, "episode_reward_min": 136.0833639603469, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 116, "time_since_restore": 10026.402418851852, "time_this_iter_s": 85.46317410469055, "pid": 63744, "episode_reward_mean": 790.3757399104126, "info": {"grad_time_ms": 33451.969, "update_time_ms": 8.4, "num_steps_trained": 15660000, "num_steps_sampled": 15660000, "load_time_ms": 17.632, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6237947940826416, "total_loss": 7.8173298835754395, "vf_loss": 7.822215557098389, "entropy": 1.4344381093978882, "kl": 0.016990121454000473, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008709040470421314}, "sample_time_ms": 51424.391}, "episodes_total": 4490, "timesteps_total": 15660000, "hostname": "flow-main", "episode_reward_max": 1335.5789787316553, "timesteps_this_iter": 135000, "training_iteration": 116, "node_ip": "10.138.0.2", "date": "2019-05-16_19-32-34", "policy_reward_mean": {}}
{"timestamp": 1558035239, "timesteps_since_restore": 15795000, "episode_len_mean": 703.91, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8cf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c85c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.035568562781728, "system_level_velocity_max": 12.307929965880353, "system_level_velocity_mean": 6.466834699852678, "cost1_mean": 160.83885538383402, "cost2_mean": -14.30040875812885, "cost1_max": 270.26388608001866, "cost2_max": -0.2563513542835226, "cost1_min": 15.6773970985531, "cost2_min": -63.68218161501001}, "done": false, "time_total_s": 10111.464447021484, "episode_reward_min": 78.25429481021146, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 117, "time_since_restore": 10111.464447021484, "time_this_iter_s": 85.06202816963196, "pid": 63744, "episode_reward_mean": 784.2965167984737, "info": {"grad_time_ms": 33297.249, "update_time_ms": 8.367, "num_steps_trained": 15795000, "num_steps_sampled": 15795000, "load_time_ms": 17.678, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5861846804618835, "total_loss": 7.117229461669922, "vf_loss": 7.121697425842285, "entropy": 1.4146729707717896, "kl": 0.01791476644575596, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008498531766235828}, "sample_time_ms": 51371.222}, "episodes_total": 4528, "timesteps_total": 15795000, "hostname": "flow-main", "episode_reward_max": 1335.5789787316553, "timesteps_this_iter": 135000, "training_iteration": 117, "node_ip": "10.138.0.2", "date": "2019-05-16_19-33-59", "policy_reward_mean": {}}
{"timestamp": 1558035327, "timesteps_since_restore": 15930000, "episode_len_mean": 709.71, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b00>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a20>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.035568562781728, "system_level_velocity_max": 12.307929965880353, "system_level_velocity_mean": 6.3514067548258115, "cost1_mean": 158.69858861928438, "cost2_mean": -12.510886733146046, "cost1_max": 270.26388608001866, "cost2_max": -0.2563513542835226, "cost1_min": 15.6773970985531, "cost2_min": -63.68218161501001}, "done": false, "time_total_s": 10198.91338968277, "episode_reward_min": 78.25429481021146, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 118, "time_since_restore": 10198.91338968277, "time_this_iter_s": 87.4489426612854, "pid": 63744, "episode_reward_mean": 776.3159482436324, "info": {"grad_time_ms": 33475.05, "update_time_ms": 8.352, "num_steps_trained": 15930000, "num_steps_sampled": 15930000, "load_time_ms": 17.737, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.610232412815094, "total_loss": 7.112216472625732, "vf_loss": 7.11712646484375, "entropy": 1.4668275117874146, "kl": 0.017241939902305603, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008789683692157269}, "sample_time_ms": 51319.097}, "episodes_total": 4566, "timesteps_total": 15930000, "hostname": "flow-main", "episode_reward_max": 1335.5789787316553, "timesteps_this_iter": 135000, "training_iteration": 118, "node_ip": "10.138.0.2", "date": "2019-05-16_19-35-27", "policy_reward_mean": {}}
{"timestamp": 1558035412, "timesteps_since_restore": 16065000, "episode_len_mean": 713.89, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8c18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8128>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.035568562781728, "system_level_velocity_max": 10.298690012950704, "system_level_velocity_mean": 6.027618157039729, "cost1_mean": 153.78578239728097, "cost2_mean": -11.487330212247787, "cost1_max": 247.00388882602442, "cost2_max": -0.142556043531925, "cost1_min": 15.6773970985531, "cost2_min": -49.96542677243804}, "done": false, "time_total_s": 10284.138928413391, "episode_reward_min": 78.25429481021146, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 119, "time_since_restore": 10284.138928413391, "time_this_iter_s": 85.22553873062134, "pid": 63744, "episode_reward_mean": 753.0801743586661, "info": {"grad_time_ms": 33492.117, "update_time_ms": 8.584, "num_steps_trained": 16065000, "num_steps_sampled": 16065000, "load_time_ms": 17.598, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.557824969291687, "total_loss": 6.902355670928955, "vf_loss": 6.907191276550293, "entropy": 1.4342671632766724, "kl": 0.01716640591621399, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00869757030159235}, "sample_time_ms": 51358.77}, "episodes_total": 4603, "timesteps_total": 16065000, "hostname": "flow-main", "episode_reward_max": 1229.8006347898743, "timesteps_this_iter": 135000, "training_iteration": 119, "node_ip": "10.138.0.2", "date": "2019-05-16_19-36-52", "policy_reward_mean": {}}
{"timestamp": 1558035498, "timesteps_since_restore": 16200000, "episode_len_mean": 714.41, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8198>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.172442094832601, "system_level_velocity_max": 10.718298897466148, "system_level_velocity_mean": 5.973025753244322, "cost1_mean": 152.31208105851573, "cost2_mean": -11.511820722034216, "cost1_max": 254.32873014828021, "cost2_max": -0.142556043531925, "cost1_min": 17.165245245980785, "cost2_min": -56.588705919986936}, "done": false, "time_total_s": 10370.113548994064, "episode_reward_min": 85.81681234565752, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 120, "time_since_restore": 10370.113548994064, "time_this_iter_s": 85.97462058067322, "pid": 63744, "episode_reward_mean": 746.4227824729372, "info": {"grad_time_ms": 33686.97, "update_time_ms": 8.624, "num_steps_trained": 16200000, "num_steps_sampled": 16200000, "load_time_ms": 17.678, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6175262928009033, "total_loss": 7.057034492492676, "vf_loss": 7.062273979187012, "entropy": 1.452191710472107, "kl": 0.017829161137342453, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009251082316040993}, "sample_time_ms": 51426.319}, "episodes_total": 4641, "timesteps_total": 16200000, "hostname": "flow-main", "episode_reward_max": 1265.8936086764982, "timesteps_this_iter": 135000, "training_iteration": 120, "node_ip": "10.138.0.2", "date": "2019-05-16_19-38-18", "policy_reward_mean": {}}
{"timestamp": 1558035583, "timesteps_since_restore": 16335000, "episode_len_mean": 722.04, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8c18>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.172442094832601, "system_level_velocity_max": 10.812093964690387, "system_level_velocity_mean": 6.302336067922234, "cost1_mean": 160.67918036768162, "cost2_mean": -9.836300812619879, "cost1_max": 254.32873014828021, "cost2_max": -0.142556043531925, "cost1_min": 17.165245245980785, "cost2_min": -56.588705919986936}, "done": false, "time_total_s": 10455.415219306946, "episode_reward_min": 85.81681234565752, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 121, "time_since_restore": 10455.415219306946, "time_this_iter_s": 85.30167031288147, "pid": 63744, "episode_reward_mean": 790.2706280355557, "info": {"grad_time_ms": 33570.878, "update_time_ms": 8.666, "num_steps_trained": 16335000, "num_steps_sampled": 16335000, "load_time_ms": 17.588, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5844676494598389, "total_loss": 7.855987548828125, "vf_loss": 7.859594821929932, "entropy": 1.4199330806732178, "kl": 0.016138548031449318, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007238044869154692}, "sample_time_ms": 51433.279}, "episodes_total": 4678, "timesteps_total": 16335000, "hostname": "flow-main", "episode_reward_max": 1265.8936086764982, "timesteps_this_iter": 135000, "training_iteration": 121, "node_ip": "10.138.0.2", "date": "2019-05-16_19-39-43", "policy_reward_mean": {}}
{"timestamp": 1558035670, "timesteps_since_restore": 16470000, "episode_len_mean": 733.21, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8cf8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.172442094832601, "system_level_velocity_max": 10.812093964690387, "system_level_velocity_mean": 6.2229544176935985, "cost1_mean": 160.53731836591743, "cost2_mean": -11.09076587546866, "cost1_max": 254.32873014828021, "cost2_max": -2.1902076159302086, "cost1_min": 33.686265875179494, "cost2_min": -56.588705919986936}, "done": false, "time_total_s": 10541.823638439178, "episode_reward_min": 148.339799152423, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 122, "time_since_restore": 10541.823638439178, "time_this_iter_s": 86.40841913223267, "pid": 63744, "episode_reward_mean": 788.3200631703195, "info": {"grad_time_ms": 33750.583, "update_time_ms": 8.754, "num_steps_trained": 16470000, "num_steps_sampled": 16470000, "load_time_ms": 17.694, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6062788963317871, "total_loss": 6.7643046379089355, "vf_loss": 6.7695441246032715, "entropy": 1.488474726676941, "kl": 0.017230259254574776, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00911644659936428}, "sample_time_ms": 51526.284}, "episodes_total": 4714, "timesteps_total": 16470000, "hostname": "flow-main", "episode_reward_max": 1265.8936086764982, "timesteps_this_iter": 135000, "training_iteration": 122, "node_ip": "10.138.0.2", "date": "2019-05-16_19-41-10", "policy_reward_mean": {}}
{"timestamp": 1558035756, "timesteps_since_restore": 16605000, "episode_len_mean": 726.36, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8358>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8898>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.8826716499729366, "system_level_velocity_max": 10.812093964690387, "system_level_velocity_mean": 6.3754163615298385, "cost1_mean": 163.01656913581405, "cost2_mean": -9.916971343325837, "cost1_max": 251.54567689368696, "cost2_max": -1.9522427490373861, "cost1_min": 29.67889146403458, "cost2_min": -54.550705116623725}, "done": false, "time_total_s": 10628.454855680466, "episode_reward_min": 145.63580708597246, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 123, "time_since_restore": 10628.454855680466, "time_this_iter_s": 86.63121724128723, "pid": 63744, "episode_reward_mean": 801.9255656699893, "info": {"grad_time_ms": 33879.041, "update_time_ms": 8.776, "num_steps_trained": 16605000, "num_steps_sampled": 16605000, "load_time_ms": 17.945, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5714717507362366, "total_loss": 7.409462928771973, "vf_loss": 7.413991451263428, "entropy": 1.4538716077804565, "kl": 0.016985341906547546, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008350097574293613}, "sample_time_ms": 51667.487}, "episodes_total": 4751, "timesteps_total": 16605000, "hostname": "flow-main", "episode_reward_max": 1248.6232784298807, "timesteps_this_iter": 135000, "training_iteration": 123, "node_ip": "10.138.0.2", "date": "2019-05-16_19-42-36", "policy_reward_mean": {}}
{"timestamp": 1558035843, "timesteps_since_restore": 16740000, "episode_len_mean": 726.76, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aa90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd5c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.8826716499729366, "system_level_velocity_max": 10.769949486732973, "system_level_velocity_mean": 6.161016364447709, "cost1_mean": 158.22825004990696, "cost2_mean": -10.876062283937731, "cost1_max": 249.98418274898228, "cost2_max": -1.9522427490373861, "cost1_min": 29.67889146403458, "cost2_min": -83.09955079904083}, "done": false, "time_total_s": 10715.117855548859, "episode_reward_min": 145.63580708597246, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 124, "time_since_restore": 10715.117855548859, "time_this_iter_s": 86.66299986839294, "pid": 63744, "episode_reward_mean": 777.0570940510108, "info": {"grad_time_ms": 33935.14, "update_time_ms": 8.932, "num_steps_trained": 16740000, "num_steps_sampled": 16740000, "load_time_ms": 17.809, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5921541452407837, "total_loss": 7.3616156578063965, "vf_loss": 7.365937232971191, "entropy": 1.4923357963562012, "kl": 0.01743449829518795, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008244143798947334}, "sample_time_ms": 51787.272}, "episodes_total": 4789, "timesteps_total": 16740000, "hostname": "flow-main", "episode_reward_max": 1227.1180852172274, "timesteps_this_iter": 135000, "training_iteration": 124, "node_ip": "10.138.0.2", "date": "2019-05-16_19-44-03", "policy_reward_mean": {}}
{"timestamp": 1558035929, "timesteps_since_restore": 16875000, "episode_len_mean": 732.82, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f40f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8198>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.1985362682678606, "system_level_velocity_max": 10.769949486732973, "system_level_velocity_mean": 6.459944297491324, "cost1_mean": 166.2359105872022, "cost2_mean": -11.689404937544033, "cost1_max": 249.98418274898228, "cost2_max": -1.9522427490373861, "cost1_min": 29.67889146403458, "cost2_min": -83.09955079904083}, "done": false, "time_total_s": 10801.260211229324, "episode_reward_min": 145.63580708597246, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 125, "time_since_restore": 10801.260211229324, "time_this_iter_s": 86.1423556804657, "pid": 63744, "episode_reward_mean": 815.6759700275993, "info": {"grad_time_ms": 34017.275, "update_time_ms": 8.995, "num_steps_trained": 16875000, "num_steps_sampled": 16875000, "load_time_ms": 17.612, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5463327765464783, "total_loss": 7.326533317565918, "vf_loss": 7.330907344818115, "entropy": 1.4434902667999268, "kl": 0.01739111728966236, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00828743726015091}, "sample_time_ms": 51772.066}, "episodes_total": 4825, "timesteps_total": 16875000, "hostname": "flow-main", "episode_reward_max": 1237.815765962034, "timesteps_this_iter": 135000, "training_iteration": 125, "node_ip": "10.138.0.2", "date": "2019-05-16_19-45-29", "policy_reward_mean": {}}
{"timestamp": 1558036014, "timesteps_since_restore": 17010000, "episode_len_mean": 743.76, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8f98>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.1985362682678606, "system_level_velocity_max": 10.769949486732973, "system_level_velocity_mean": 6.4344456807397705, "cost1_mean": 168.2984998727482, "cost2_mean": -13.525937650030901, "cost1_max": 249.98418274898228, "cost2_max": -1.7439523057214554, "cost1_min": 77.25827341045756, "cost2_min": -83.09955079904083}, "done": false, "time_total_s": 10886.246611833572, "episode_reward_min": 368.5855422743979, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 126, "time_since_restore": 10886.246611833572, "time_this_iter_s": 84.98640060424805, "pid": 63744, "episode_reward_mean": 824.0835191332226, "info": {"grad_time_ms": 33937.455, "update_time_ms": 9.212, "num_steps_trained": 17010000, "num_steps_sampled": 17010000, "load_time_ms": 17.536, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5813074111938477, "total_loss": 7.449148178100586, "vf_loss": 7.453370571136475, "entropy": 1.4816142320632935, "kl": 0.016302961856126785, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007890375331044197}, "sample_time_ms": 51802.023}, "episodes_total": 4862, "timesteps_total": 17010000, "hostname": "flow-main", "episode_reward_max": 1237.815765962034, "timesteps_this_iter": 135000, "training_iteration": 126, "node_ip": "10.138.0.2", "date": "2019-05-16_19-46-54", "policy_reward_mean": {}}
{"timestamp": 1558036101, "timesteps_since_restore": 17145000, "episode_len_mean": 735.6, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4a90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.603545138514261, "system_level_velocity_max": 12.51436432757388, "system_level_velocity_mean": 6.731835617326266, "cost1_mean": 172.50152039996956, "cost2_mean": -12.566108889000978, "cost1_max": 264.099963696234, "cost2_max": -1.7439523057214554, "cost1_min": 31.185235410341257, "cost2_min": -74.8735812793963}, "done": false, "time_total_s": 10973.123155593872, "episode_reward_min": 151.40460657240942, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 127, "time_since_restore": 10973.123155593872, "time_this_iter_s": 86.87654376029968, "pid": 63744, "episode_reward_mean": 845.7026906087367, "info": {"grad_time_ms": 33947.362, "update_time_ms": 9.217, "num_steps_trained": 17145000, "num_steps_sampled": 17145000, "load_time_ms": 17.584, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5879574418067932, "total_loss": 8.155672073364258, "vf_loss": 8.160050392150879, "entropy": 1.464200496673584, "kl": 0.01767048053443432, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008354843594133854}, "sample_time_ms": 51972.381}, "episodes_total": 4901, "timesteps_total": 17145000, "hostname": "flow-main", "episode_reward_max": 1298.7201884896692, "timesteps_this_iter": 135000, "training_iteration": 127, "node_ip": "10.138.0.2", "date": "2019-05-16_19-48-21", "policy_reward_mean": {}}
{"timestamp": 1558036187, "timesteps_since_restore": 17280000, "episode_len_mean": 735.6, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c50>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.406526071828266, "system_level_velocity_max": 12.51436432757388, "system_level_velocity_mean": 6.652670836469854, "cost1_mean": 170.33441840157303, "cost2_mean": -14.393106712028805, "cost1_max": 264.099963696234, "cost2_max": -1.7439523057214554, "cost1_min": 31.185235410341257, "cost2_min": -115.89151435471342}, "done": false, "time_total_s": 11058.800651550293, "episode_reward_min": 151.40460657240942, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 128, "time_since_restore": 11058.800651550293, "time_this_iter_s": 85.6774959564209, "pid": 63744, "episode_reward_mean": 833.7291943382537, "info": {"grad_time_ms": 33778.059, "update_time_ms": 9.165, "num_steps_trained": 17280000, "num_steps_sampled": 17280000, "load_time_ms": 17.465, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6231571435928345, "total_loss": 7.833129405975342, "vf_loss": 7.838162899017334, "entropy": 1.4882099628448486, "kl": 0.017260437831282616, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008916747756302357}, "sample_time_ms": 51963.987}, "episodes_total": 4937, "timesteps_total": 17280000, "hostname": "flow-main", "episode_reward_max": 1298.7201884896692, "timesteps_this_iter": 135000, "training_iteration": 128, "node_ip": "10.138.0.2", "date": "2019-05-16_19-49-47", "policy_reward_mean": {}}
{"timestamp": 1558036276, "timesteps_since_restore": 17415000, "episode_len_mean": 733.37, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c80f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c87f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8e80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.406526071828266, "system_level_velocity_max": 11.016186669860321, "system_level_velocity_mean": 6.593819979897129, "cost1_mean": 169.3199009000013, "cost2_mean": -13.766496991724033, "cost1_max": 258.64674048875474, "cost2_max": -1.1339890499176324, "cost1_min": 31.185235410341257, "cost2_min": -115.89151435471342}, "done": false, "time_total_s": 11147.778057336807, "episode_reward_min": 151.40460657240942, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 129, "time_since_restore": 11147.778057336807, "time_this_iter_s": 88.97740578651428, "pid": 63744, "episode_reward_mean": 828.8464965188135, "info": {"grad_time_ms": 34075.832, "update_time_ms": 8.984, "num_steps_trained": 17415000, "num_steps_sampled": 17415000, "load_time_ms": 17.521, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5555668473243713, "total_loss": 7.443692207336426, "vf_loss": 7.448305130004883, "entropy": 1.4595376253128052, "kl": 0.017259636893868446, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008496462367475033}, "sample_time_ms": 52043.852}, "episodes_total": 4973, "timesteps_total": 17415000, "hostname": "flow-main", "episode_reward_max": 1282.101403670181, "timesteps_this_iter": 135000, "training_iteration": 129, "node_ip": "10.138.0.2", "date": "2019-05-16_19-51-16", "policy_reward_mean": {}}
{"timestamp": 1558036362, "timesteps_since_restore": 17550000, "episode_len_mean": 745.66, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4358>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.998722925069082, "system_level_velocity_max": 9.983713323486684, "system_level_velocity_mean": 6.558008838018006, "cost1_mean": 172.39085921936473, "cost2_mean": -14.369608603504314, "cost1_max": 244.81377705294202, "cost2_max": -1.1339890499176324, "cost1_min": 64.67254724880726, "cost2_min": -115.89151435471342}, "done": false, "time_total_s": 11234.140224218369, "episode_reward_min": 305.5084759406069, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 130, "time_since_restore": 11234.140224218369, "time_this_iter_s": 86.36216688156128, "pid": 63744, "episode_reward_mean": 843.5705175752842, "info": {"grad_time_ms": 34088.781, "update_time_ms": 9.225, "num_steps_trained": 17550000, "num_steps_sampled": 17550000, "load_time_ms": 17.656, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4732626676559448, "total_loss": 7.339324951171875, "vf_loss": 7.343156814575195, "entropy": 1.4580097198486328, "kl": 0.016961807385087013, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007649378385394812}, "sample_time_ms": 52069.247}, "episodes_total": 5009, "timesteps_total": 17550000, "hostname": "flow-main", "episode_reward_max": 1211.2835305584592, "timesteps_this_iter": 135000, "training_iteration": 130, "node_ip": "10.138.0.2", "date": "2019-05-16_19-52-42", "policy_reward_mean": {}}
{"timestamp": 1558036449, "timesteps_since_restore": 17685000, "episode_len_mean": 733.14, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c48d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4ac8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4550>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.998722925069082, "system_level_velocity_max": 10.814851107987906, "system_level_velocity_mean": 6.507307430635843, "cost1_mean": 168.75311623407643, "cost2_mean": -13.22734915207943, "cost1_max": 251.86395017284377, "cost2_max": -1.649235794694939, "cost1_min": 27.526462828436145, "cost2_min": -50.57652903897748}, "done": false, "time_total_s": 11320.651051282883, "episode_reward_min": 131.83770478828694, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 131, "time_since_restore": 11320.651051282883, "time_this_iter_s": 86.51082706451416, "pid": 63744, "episode_reward_mean": 825.7683476025607, "info": {"grad_time_ms": 34086.625, "update_time_ms": 9.224, "num_steps_trained": 17685000, "num_steps_sampled": 17685000, "load_time_ms": 17.651, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4975191056728363, "total_loss": 7.7457804679870605, "vf_loss": 7.749797821044922, "entropy": 1.498389720916748, "kl": 0.01941455714404583, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008386141620576382}, "sample_time_ms": 52192.101}, "episodes_total": 5047, "timesteps_total": 17685000, "hostname": "flow-main", "episode_reward_max": 1246.4208911495407, "timesteps_this_iter": 135000, "training_iteration": 131, "node_ip": "10.138.0.2", "date": "2019-05-16_19-54-09", "policy_reward_mean": {}}
{"timestamp": 1558036535, "timesteps_since_restore": 17820000, "episode_len_mean": 726.86, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c85f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8898>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.998722925069082, "system_level_velocity_max": 10.814851107987906, "system_level_velocity_mean": 6.441569685353691, "cost1_mean": 166.05073200593054, "cost2_mean": -12.797436241152159, "cost1_max": 251.86395017284377, "cost2_max": -1.649235794694939, "cost1_min": 27.526462828436145, "cost2_min": -50.57652903897748}, "done": false, "time_total_s": 11406.86581492424, "episode_reward_min": 131.83770478828694, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 132, "time_since_restore": 11406.86581492424, "time_this_iter_s": 86.21476364135742, "pid": 63744, "episode_reward_mean": 813.0708695139723, "info": {"grad_time_ms": 34072.437, "update_time_ms": 9.073, "num_steps_trained": 17820000, "num_steps_sampled": 17820000, "load_time_ms": 17.609, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.550065279006958, "total_loss": 7.835626125335693, "vf_loss": 7.839323043823242, "entropy": 1.4965243339538574, "kl": 0.0169682539999485, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007513746619224548}, "sample_time_ms": 52186.764}, "episodes_total": 5085, "timesteps_total": 17820000, "hostname": "flow-main", "episode_reward_max": 1246.4208911495407, "timesteps_this_iter": 135000, "training_iteration": 132, "node_ip": "10.138.0.2", "date": "2019-05-16_19-55-35", "policy_reward_mean": {}}
{"timestamp": 1558036622, "timesteps_since_restore": 17955000, "episode_len_mean": 726.93, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.524536008749, "system_level_velocity_max": 10.289905715999824, "system_level_velocity_mean": 6.315012275141766, "cost1_mean": 163.14356950828244, "cost2_mean": -13.371076191802105, "cost1_max": 248.52881122148148, "cost2_max": -1.1792589356456755, "cost1_min": 27.526462828436145, "cost2_min": -109.69956011570784}, "done": false, "time_total_s": 11493.079711437225, "episode_reward_min": 131.83770478828694, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 133, "time_since_restore": 11493.079711437225, "time_this_iter_s": 86.21389651298523, "pid": 63744, "episode_reward_mean": 798.7656451944813, "info": {"grad_time_ms": 34069.607, "update_time_ms": 8.974, "num_steps_trained": 17955000, "num_steps_sampled": 17955000, "load_time_ms": 17.401, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.560621440410614, "total_loss": 6.949784278869629, "vf_loss": 6.953985691070557, "entropy": 1.513817548751831, "kl": 0.018443431705236435, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008351387456059456}, "sample_time_ms": 52149.666}, "episodes_total": 5122, "timesteps_total": 17955000, "hostname": "flow-main", "episode_reward_max": 1230.4047121716708, "timesteps_this_iter": 135000, "training_iteration": 133, "node_ip": "10.138.0.2", "date": "2019-05-16_19-57-02", "policy_reward_mean": {}}
{"timestamp": 1558036707, "timesteps_since_restore": 18090000, "episode_len_mean": 716.5, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.4891574100488687, "system_level_velocity_max": 10.83136096880244, "system_level_velocity_mean": 6.213845497672399, "cost1_mean": 158.63371370681386, "cost2_mean": -12.756620425728618, "cost1_max": 253.49731434600366, "cost2_max": -0.8548908777169241, "cost1_min": 39.9476053662853, "cost2_min": -109.69956011570784}, "done": false, "time_total_s": 11578.464563131332, "episode_reward_min": 185.46690907993758, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 134, "time_since_restore": 11578.464563131332, "time_this_iter_s": 85.38485169410706, "pid": 63744, "episode_reward_mean": 777.2746873152491, "info": {"grad_time_ms": 34048.256, "update_time_ms": 8.879, "num_steps_trained": 18090000, "num_steps_sampled": 18090000, "load_time_ms": 17.508, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5608311891555786, "total_loss": 6.981803894042969, "vf_loss": 6.986717224121094, "entropy": 1.5273436307907104, "kl": 0.018215971067547798, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009011507034301758}, "sample_time_ms": 52041.704}, "episodes_total": 5160, "timesteps_total": 18090000, "hostname": "flow-main", "episode_reward_max": 1238.4274371117, "timesteps_this_iter": 135000, "training_iteration": 134, "node_ip": "10.138.0.2", "date": "2019-05-16_19-58-27", "policy_reward_mean": {}}
{"timestamp": 1558036793, "timesteps_since_restore": 18225000, "episode_len_mean": 704.27, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8668>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8cc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.4482691588997834, "system_level_velocity_max": 10.83136096880244, "system_level_velocity_mean": 6.193363665657875, "cost1_mean": 154.99321171403506, "cost2_mean": -12.948870874527909, "cost1_max": 253.49731434600366, "cost2_max": -0.8548908777169241, "cost1_min": 39.58893200335325, "cost2_min": -109.69956011570784}, "done": false, "time_total_s": 11664.694004774094, "episode_reward_min": 172.15808325612375, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 135, "time_since_restore": 11664.694004774094, "time_this_iter_s": 86.22944164276123, "pid": 63744, "episode_reward_mean": 759.8145657361607, "info": {"grad_time_ms": 34068.765, "update_time_ms": 8.74, "num_steps_trained": 18225000, "num_steps_sampled": 18225000, "load_time_ms": 17.582, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6116344332695007, "total_loss": 7.722404956817627, "vf_loss": 7.726178169250488, "entropy": 1.5388407707214355, "kl": 0.0194582287222147, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008150271140038967}, "sample_time_ms": 52029.754}, "episodes_total": 5198, "timesteps_total": 18225000, "hostname": "flow-main", "episode_reward_max": 1238.4274371117, "timesteps_this_iter": 135000, "training_iteration": 135, "node_ip": "10.138.0.2", "date": "2019-05-16_19-59-53", "policy_reward_mean": {}}
{"timestamp": 1558036881, "timesteps_since_restore": 18360000, "episode_len_mean": 702.51, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccbe0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.4482691588997834, "system_level_velocity_max": 11.192533552632225, "system_level_velocity_mean": 6.436185797813026, "cost1_mean": 159.58296816280523, "cost2_mean": -13.25125049335832, "cost1_max": 255.13644494337828, "cost2_max": -0.1341848633745512, "cost1_min": 16.070226125506498, "cost2_min": -84.18077141002163}, "done": false, "time_total_s": 11752.184731006622, "episode_reward_min": 80.35113062753256, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 136, "time_since_restore": 11752.184731006622, "time_this_iter_s": 87.49072623252869, "pid": 63744, "episode_reward_mean": 780.7879345373066, "info": {"grad_time_ms": 34357.772, "update_time_ms": 8.656, "num_steps_trained": 18360000, "num_steps_sampled": 18360000, "load_time_ms": 17.788, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.4998364746570587, "total_loss": 7.634200572967529, "vf_loss": 7.63826322555542, "entropy": 1.4523142576217651, "kl": 0.0183375533670187, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00818863045424223}, "sample_time_ms": 51990.434}, "episodes_total": 5235, "timesteps_total": 18360000, "hostname": "flow-main", "episode_reward_max": 1246.7300395403838, "timesteps_this_iter": 135000, "training_iteration": 136, "node_ip": "10.138.0.2", "date": "2019-05-16_20-01-21", "policy_reward_mean": {}}
{"timestamp": 1558036966, "timesteps_since_restore": 18495000, "episode_len_mean": 704.09, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5fd0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.170879463376853, "system_level_velocity_max": 11.86518952129269, "system_level_velocity_mean": 6.752451807236871, "cost1_mean": 166.576502239798, "cost2_mean": -14.740360941150456, "cost1_max": 258.13571526186445, "cost2_max": -0.1341848633745512, "cost1_min": 15.699219258608201, "cost2_min": -67.87419426332427}, "done": false, "time_total_s": 11837.39584183693, "episode_reward_min": 77.1304059673978, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 137, "time_since_restore": 11837.39584183693, "time_this_iter_s": 85.211110830307, "pid": 63744, "episode_reward_mean": 813.4660946505293, "info": {"grad_time_ms": 34294.701, "update_time_ms": 8.823, "num_steps_trained": 18495000, "num_steps_sampled": 18495000, "load_time_ms": 17.665, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5647252798080444, "total_loss": 7.701327800750732, "vf_loss": 7.705969333648682, "entropy": 1.4981833696365356, "kl": 0.01874587871134281, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008859475143253803}, "sample_time_ms": 51889.529}, "episodes_total": 5273, "timesteps_total": 18495000, "hostname": "flow-main", "episode_reward_max": 1273.1305455003564, "timesteps_this_iter": 135000, "training_iteration": 137, "node_ip": "10.138.0.2", "date": "2019-05-16_20-02-46", "policy_reward_mean": {}}
{"timestamp": 1558037053, "timesteps_since_restore": 18630000, "episode_len_mean": 691.7, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4be0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.170879463376853, "system_level_velocity_max": 11.86518952129269, "system_level_velocity_mean": 6.5900687106669285, "cost1_mean": 161.003070341624, "cost2_mean": -14.94568012382866, "cost1_max": 258.13571526186445, "cost2_max": -0.1341848633745512, "cost1_min": 14.923593690648687, "cost2_min": -67.87419426332427}, "done": false, "time_total_s": 11924.178537845612, "episode_reward_min": 64.69551049716787, "episodes_this_iter": 41, "num_metric_batches_dropped": 0, "iterations_since_restore": 138, "time_since_restore": 11924.178537845612, "time_this_iter_s": 86.78269600868225, "pid": 63744, "episode_reward_mean": 785.5259996475165, "info": {"grad_time_ms": 34302.432, "update_time_ms": 8.774, "num_steps_trained": 18630000, "num_steps_sampled": 18630000, "load_time_ms": 17.992, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5627180337905884, "total_loss": 8.278889656066895, "vf_loss": 8.283855438232422, "entropy": 1.4968664646148682, "kl": 0.017957691103219986, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0090072276070714}, "sample_time_ms": 51991.144}, "episodes_total": 5314, "timesteps_total": 18630000, "hostname": "flow-main", "episode_reward_max": 1273.1305455003564, "timesteps_this_iter": 135000, "training_iteration": 138, "node_ip": "10.138.0.2", "date": "2019-05-16_20-04-13", "policy_reward_mean": {}}
{"timestamp": 1558037141, "timesteps_since_restore": 18765000, "episode_len_mean": 692.01, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccac8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7235536231478736, "system_level_velocity_max": 11.86518952129269, "system_level_velocity_mean": 6.67165427214602, "cost1_mean": 163.74280921706125, "cost2_mean": -14.319641243555953, "cost1_max": 258.13571526186445, "cost2_max": -0.1444461283671881, "cost1_min": 13.046009815976586, "cost2_min": -51.181290852770616}, "done": false, "time_total_s": 12012.364457130432, "episode_reward_min": 64.69551049716787, "episodes_this_iter": 40, "num_metric_batches_dropped": 0, "iterations_since_restore": 139, "time_since_restore": 12012.364457130432, "time_this_iter_s": 88.18591928482056, "pid": 63744, "episode_reward_mean": 799.2322692563316, "info": {"grad_time_ms": 34170.494, "update_time_ms": 8.815, "num_steps_trained": 18765000, "num_steps_sampled": 18765000, "load_time_ms": 18.038, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5585224032402039, "total_loss": 8.52578353881836, "vf_loss": 8.530304908752441, "entropy": 1.5035316944122314, "kl": 0.017928380519151688, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008554721251130104}, "sample_time_ms": 52042.687}, "episodes_total": 5354, "timesteps_total": 18765000, "hostname": "flow-main", "episode_reward_max": 1273.1305455003564, "timesteps_this_iter": 135000, "training_iteration": 139, "node_ip": "10.138.0.2", "date": "2019-05-16_20-05-41", "policy_reward_mean": {}}
{"timestamp": 1558037229, "timesteps_since_restore": 18900000, "episode_len_mean": 707.06, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccdd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4e48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc0b8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.2287366983138686, "system_level_velocity_max": 10.838127752722203, "system_level_velocity_mean": 6.616710864332979, "cost1_mean": 165.19940703243793, "cost2_mean": -15.624850311966002, "cost1_max": 253.62975877441914, "cost2_max": -0.1444461283671881, "cost1_min": 13.046009815976586, "cost2_min": -82.9145700602146}, "done": false, "time_total_s": 12099.751299381256, "episode_reward_min": 65.23004907988296, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 140, "time_since_restore": 12099.751299381256, "time_this_iter_s": 87.38684225082397, "pid": 63744, "episode_reward_mean": 805.6267528996646, "info": {"grad_time_ms": 34131.198, "update_time_ms": 8.692, "num_steps_trained": 18900000, "num_steps_sampled": 18900000, "load_time_ms": 18.039, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5661118030548096, "total_loss": 8.14604377746582, "vf_loss": 8.150226593017578, "entropy": 1.4854402542114258, "kl": 0.017838504165410995, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008197063580155373}, "sample_time_ms": 52182.761}, "episodes_total": 5393, "timesteps_total": 18900000, "hostname": "flow-main", "episode_reward_max": 1262.0968095308156, "timesteps_this_iter": 135000, "training_iteration": 140, "node_ip": "10.138.0.2", "date": "2019-05-16_20-07-09", "policy_reward_mean": {}}
{"timestamp": 1558037314, "timesteps_since_restore": 19035000, "episode_len_mean": 709.39, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4748>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccc50>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.2287366983138686, "system_level_velocity_max": 10.955491760811016, "system_level_velocity_mean": 6.3074962707254985, "cost1_mean": 158.611371922663, "cost2_mean": -17.056361213843523, "cost1_max": 256.0837139480478, "cost2_max": -0.1444461283671881, "cost1_min": 13.046009815976586, "cost2_min": -82.9145700602146}, "done": false, "time_total_s": 12185.558750629425, "episode_reward_min": 65.23004907988296, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 141, "time_since_restore": 12185.558750629425, "time_this_iter_s": 85.80745124816895, "pid": 63744, "episode_reward_mean": 771.1625893460243, "info": {"grad_time_ms": 34125.795, "update_time_ms": 8.65, "num_steps_trained": 19035000, "num_steps_sampled": 19035000, "load_time_ms": 18.276, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5949416756629944, "total_loss": 7.181997776031494, "vf_loss": 7.1867523193359375, "entropy": 1.5273175239562988, "kl": 0.01960819773375988, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009166124276816845}, "sample_time_ms": 52118.349}, "episodes_total": 5430, "timesteps_total": 19035000, "hostname": "flow-main", "episode_reward_max": 1268.6715512804897, "timesteps_this_iter": 135000, "training_iteration": 141, "node_ip": "10.138.0.2", "date": "2019-05-16_20-08-34", "policy_reward_mean": {}}
{"timestamp": 1558037401, "timesteps_since_restore": 19170000, "episode_len_mean": 719.33, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccb38>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.2287366983138686, "system_level_velocity_max": 10.955491760811016, "system_level_velocity_mean": 6.347408275704097, "cost1_mean": 160.79273803073175, "cost2_mean": -16.44510069536528, "cost1_max": 256.0837139480478, "cost2_max": -0.44633004560686723, "cost1_min": 21.786694163044334, "cost2_min": -82.9145700602146}, "done": false, "time_total_s": 12272.164328336716, "episode_reward_min": 106.90808975378053, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 142, "time_since_restore": 12272.164328336716, "time_this_iter_s": 86.60557770729065, "pid": 63744, "episode_reward_mean": 783.1814186972629, "info": {"grad_time_ms": 34124.573, "update_time_ms": 8.673, "num_steps_trained": 19170000, "num_steps_sampled": 19170000, "load_time_ms": 18.472, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5939971804618835, "total_loss": 7.327956676483154, "vf_loss": 7.332707405090332, "entropy": 1.5408376455307007, "kl": 0.018746662884950638, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00896765198558569}, "sample_time_ms": 52157.47}, "episodes_total": 5467, "timesteps_total": 19170000, "hostname": "flow-main", "episode_reward_max": 1268.6715512804897, "timesteps_this_iter": 135000, "training_iteration": 142, "node_ip": "10.138.0.2", "date": "2019-05-16_20-10-01", "policy_reward_mean": {}}
{"timestamp": 1558037488, "timesteps_since_restore": 19305000, "episode_len_mean": 726.07, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cccc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc5c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.755044132860805, "system_level_velocity_max": 10.929509251363823, "system_level_velocity_mean": 6.2771609525453425, "cost1_mean": 161.37365099739648, "cost2_mean": -16.330199800542765, "cost1_max": 254.86289782465812, "cost2_max": -0.44633004560686723, "cost1_min": 21.786694163044334, "cost2_min": -75.09109676477291}, "done": false, "time_total_s": 12358.747358560562, "episode_reward_min": 106.90808975378053, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 143, "time_since_restore": 12358.747358560562, "time_this_iter_s": 86.58303022384644, "pid": 63744, "episode_reward_mean": 785.8462541093825, "info": {"grad_time_ms": 34156.61, "update_time_ms": 8.697, "num_steps_trained": 19305000, "num_steps_sampled": 19305000, "load_time_ms": 18.692, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5774959921836853, "total_loss": 7.272129058837891, "vf_loss": 7.276788711547852, "entropy": 1.5534753799438477, "kl": 0.01850215345621109, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008822331205010414}, "sample_time_ms": 52160.559}, "episodes_total": 5503, "timesteps_total": 19305000, "hostname": "flow-main", "episode_reward_max": 1252.7232604958015, "timesteps_this_iter": 135000, "training_iteration": 143, "node_ip": "10.138.0.2", "date": "2019-05-16_20-11-28", "policy_reward_mean": {}}
{"timestamp": 1558037574, "timesteps_since_restore": 19440000, "episode_len_mean": 729.58, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c83c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c80f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.755044132860805, "system_level_velocity_max": 10.987595740734616, "system_level_velocity_mean": 6.3509038684631, "cost1_mean": 163.03099078744387, "cost2_mean": -14.404771439930961, "cost1_max": 254.7348219925727, "cost2_max": -0.44633004560686723, "cost1_min": 13.424602230397797, "cost2_min": -75.09109676477291}, "done": false, "time_total_s": 12444.505700588226, "episode_reward_min": 65.34703433310952, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 144, "time_since_restore": 12444.505700588226, "time_this_iter_s": 85.75834202766418, "pid": 63744, "episode_reward_mean": 796.2762175806727, "info": {"grad_time_ms": 34090.952, "update_time_ms": 8.742, "num_steps_trained": 19440000, "num_steps_sampled": 19440000, "load_time_ms": 18.537, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5847353339195251, "total_loss": 7.580661773681641, "vf_loss": 7.585524559020996, "entropy": 1.5605480670928955, "kl": 0.01912076026201248, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009165431372821331}, "sample_time_ms": 52266.139}, "episodes_total": 5540, "timesteps_total": 19440000, "hostname": "flow-main", "episode_reward_max": 1256.6545551841361, "timesteps_this_iter": 135000, "training_iteration": 144, "node_ip": "10.138.0.2", "date": "2019-05-16_20-12-54", "policy_reward_mean": {}}
{"timestamp": 1558037659, "timesteps_since_restore": 19575000, "episode_len_mean": 711.47, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0acf8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.9789862373378977, "system_level_velocity_max": 10.987595740734616, "system_level_velocity_mean": 6.422887881889187, "cost1_mean": 161.04233296658558, "cost2_mean": -12.335686073487588, "cost1_max": 254.7348219925727, "cost2_max": -0.14103889593238156, "cost1_min": 13.424602230397797, "cost2_min": -68.49733934372424}, "done": false, "time_total_s": 12529.664677619934, "episode_reward_min": 65.34703433310952, "episodes_this_iter": 40, "num_metric_batches_dropped": 0, "iterations_since_restore": 145, "time_since_restore": 12529.664677619934, "time_this_iter_s": 85.15897703170776, "pid": 63744, "episode_reward_mean": 788.9246929783752, "info": {"grad_time_ms": 34048.867, "update_time_ms": 8.665, "num_steps_trained": 19575000, "num_steps_sampled": 19575000, "load_time_ms": 18.563, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5930402874946594, "total_loss": 7.675272464752197, "vf_loss": 7.68093729019165, "entropy": 1.5918985605239868, "kl": 0.01859300024807453, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009847634471952915}, "sample_time_ms": 52199.941}, "episodes_total": 5580, "timesteps_total": 19575000, "hostname": "flow-main", "episode_reward_max": 1256.6545551841361, "timesteps_this_iter": 135000, "training_iteration": 145, "node_ip": "10.138.0.2", "date": "2019-05-16_20-14-19", "policy_reward_mean": {}}
{"timestamp": 1558037744, "timesteps_since_restore": 19710000, "episode_len_mean": 691.48, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc5c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.7187467634968883, "system_level_velocity_max": 11.11411981943468, "system_level_velocity_mean": 6.212227271197336, "cost1_mean": 152.5622996744616, "cost2_mean": -11.598480615218355, "cost1_max": 266.2158696356456, "cost2_max": -0.14103889593238156, "cost1_min": 17.314877337069927, "cost2_min": -68.49733934372424}, "done": false, "time_total_s": 12614.431743144989, "episode_reward_min": 86.57438668534967, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 146, "time_since_restore": 12614.431743144989, "time_this_iter_s": 84.76706552505493, "pid": 63744, "episode_reward_mean": 747.8294716364721, "info": {"grad_time_ms": 33828.423, "update_time_ms": 8.588, "num_steps_trained": 19710000, "num_steps_sampled": 19710000, "load_time_ms": 18.434, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6223253011703491, "total_loss": 8.257089614868164, "vf_loss": 8.261738777160645, "entropy": 1.6082704067230225, "kl": 0.018737737089395523, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00886484608054161}, "sample_time_ms": 52150.095}, "episodes_total": 5619, "timesteps_total": 19710000, "hostname": "flow-main", "episode_reward_max": 1313.2953154345703, "timesteps_this_iter": 135000, "training_iteration": 146, "node_ip": "10.138.0.2", "date": "2019-05-16_20-15-44", "policy_reward_mean": {}}
{"timestamp": 1558037830, "timesteps_since_restore": 19845000, "episode_len_mean": 677.29, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c85f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.7187467634968883, "system_level_velocity_max": 11.11411981943468, "system_level_velocity_mean": 6.167241145607173, "cost1_mean": 148.38244450136983, "cost2_mean": -12.642277623608532, "cost1_max": 266.2158696356456, "cost2_max": -0.07480696043027653, "cost1_min": 13.562150519195656, "cost2_min": -73.74885879224384}, "done": false, "time_total_s": 12700.378698587418, "episode_reward_min": 67.81075259597836, "episodes_this_iter": 41, "num_metric_batches_dropped": 0, "iterations_since_restore": 147, "time_since_restore": 12700.378698587418, "time_this_iter_s": 85.94695544242859, "pid": 63744, "episode_reward_mean": 727.1545589249673, "info": {"grad_time_ms": 33996.655, "update_time_ms": 8.356, "num_steps_trained": 19845000, "num_steps_sampled": 19845000, "load_time_ms": 18.615, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.642078161239624, "total_loss": 8.567793846130371, "vf_loss": 8.57275390625, "entropy": 1.6329704523086548, "kl": 0.017938360571861267, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008996370248496532}, "sample_time_ms": 52051.122}, "episodes_total": 5660, "timesteps_total": 19845000, "hostname": "flow-main", "episode_reward_max": 1313.2953154345703, "timesteps_this_iter": 135000, "training_iteration": 147, "node_ip": "10.138.0.2", "date": "2019-05-16_20-17-10", "policy_reward_mean": {}}
{"timestamp": 1558037915, "timesteps_since_restore": 19980000, "episode_len_mean": 682.22, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ada0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.7187467634968883, "system_level_velocity_max": 11.423257719860487, "system_level_velocity_mean": 6.290822160792575, "cost1_mean": 151.33687909753783, "cost2_mean": -13.478629513180724, "cost1_max": 266.2158696356456, "cost2_max": -0.07480696043027653, "cost1_min": 13.562150519195656, "cost2_min": -75.22508998821193}, "done": false, "time_total_s": 12785.376237392426, "episode_reward_min": 67.81075259597836, "episodes_this_iter": 40, "num_metric_batches_dropped": 0, "iterations_since_restore": 148, "time_since_restore": 12785.376237392426, "time_this_iter_s": 84.99753880500793, "pid": 63744, "episode_reward_mean": 741.1253552539254, "info": {"grad_time_ms": 33987.407, "update_time_ms": 8.395, "num_steps_trained": 19980000, "num_steps_sampled": 19980000, "load_time_ms": 18.367, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6329967379570007, "total_loss": 8.809406280517578, "vf_loss": 8.813844680786133, "entropy": 1.6320034265518188, "kl": 0.018064482137560844, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008502469398081303}, "sample_time_ms": 51885.415}, "episodes_total": 5700, "timesteps_total": 19980000, "hostname": "flow-main", "episode_reward_max": 1313.2953154345703, "timesteps_this_iter": 135000, "training_iteration": 148, "node_ip": "10.138.0.2", "date": "2019-05-16_20-18-35", "policy_reward_mean": {}}
{"timestamp": 1558038000, "timesteps_since_restore": 20115000, "episode_len_mean": 693.31, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ac88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aeb8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.774242922823311, "system_level_velocity_max": 11.60432929361113, "system_level_velocity_mean": 6.340960727673061, "cost1_mean": 154.88288013722783, "cost2_mean": -13.459886652741236, "cost1_max": 256.3731595937657, "cost2_max": -0.07480696043027653, "cost1_min": 13.562150519195656, "cost2_min": -75.22508998821193}, "done": false, "time_total_s": 12870.401254415512, "episode_reward_min": 67.81075259597836, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 149, "time_since_restore": 12870.401254415512, "time_this_iter_s": 85.02501702308655, "pid": 63744, "episode_reward_mean": 757.9688581383793, "info": {"grad_time_ms": 33850.232, "update_time_ms": 8.237, "num_steps_trained": 20115000, "num_steps_sampled": 20115000, "load_time_ms": 18.449, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6455013751983643, "total_loss": 7.160881042480469, "vf_loss": 7.16603946685791, "entropy": 1.6213798522949219, "kl": 0.019522063434123993, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009550034999847412}, "sample_time_ms": 51705.559}, "episodes_total": 5737, "timesteps_total": 20115000, "hostname": "flow-main", "episode_reward_max": 1258.0122283059636, "timesteps_this_iter": 135000, "training_iteration": 149, "node_ip": "10.138.0.2", "date": "2019-05-16_20-20-00", "policy_reward_mean": {}}
{"timestamp": 1558038085, "timesteps_since_restore": 20250000, "episode_len_mean": 703.14, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccc50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.774242922823311, "system_level_velocity_max": 11.60432929361113, "system_level_velocity_mean": 6.304585841633679, "cost1_mean": 156.3523290920623, "cost2_mean": -13.224453530253147, "cost1_max": 246.6901928304024, "cost2_max": -0.1491634823376328, "cost1_min": 12.132104293987958, "cost2_min": -56.73251344793555}, "done": false, "time_total_s": 12956.14959192276, "episode_reward_min": 60.65247417442216, "episodes_this_iter": 40, "num_metric_batches_dropped": 0, "iterations_since_restore": 150, "time_since_restore": 12956.14959192276, "time_this_iter_s": 85.74833750724792, "pid": 63744, "episode_reward_mean": 764.6687502956166, "info": {"grad_time_ms": 33834.771, "update_time_ms": 8.302, "num_steps_trained": 20250000, "num_steps_sampled": 20250000, "load_time_ms": 18.266, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5453038215637207, "total_loss": 7.629703044891357, "vf_loss": 7.634133338928223, "entropy": 1.5766128301620483, "kl": 0.018649490550160408, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008626542054116726}, "sample_time_ms": 51557.463}, "episodes_total": 5777, "timesteps_total": 20250000, "hostname": "flow-main", "episode_reward_max": 1215.971418678616, "timesteps_this_iter": 135000, "training_iteration": 150, "node_ip": "10.138.0.2", "date": "2019-05-16_20-21-25", "policy_reward_mean": {}}
{"timestamp": 1558038171, "timesteps_since_restore": 20385000, "episode_len_mean": 711.42, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a2b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.774242922823311, "system_level_velocity_max": 11.60432929361113, "system_level_velocity_mean": 6.222223848830902, "cost1_mean": 155.79922818677088, "cost2_mean": -13.942543034833047, "cost1_max": 250.19260693909717, "cost2_max": -0.1491634823376328, "cost1_min": 12.132104293987958, "cost2_min": -61.38090123446683}, "done": false, "time_total_s": 13041.721101522446, "episode_reward_min": 60.65247417442216, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 151, "time_since_restore": 13041.721101522446, "time_this_iter_s": 85.57150959968567, "pid": 63744, "episode_reward_mean": 761.1500711259993, "info": {"grad_time_ms": 33765.1, "update_time_ms": 8.33, "num_steps_trained": 20385000, "num_steps_sampled": 20385000, "load_time_ms": 18.055, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6306581497192383, "total_loss": 7.553187370300293, "vf_loss": 7.557802677154541, "entropy": 1.6338090896606445, "kl": 0.019013818353414536, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008892551995813847}, "sample_time_ms": 51603.896}, "episodes_total": 5814, "timesteps_total": 20385000, "hostname": "flow-main", "episode_reward_max": 1244.572856718636, "timesteps_this_iter": 135000, "training_iteration": 151, "node_ip": "10.138.0.2", "date": "2019-05-16_20-22-51", "policy_reward_mean": {}}
{"timestamp": 1558038257, "timesteps_since_restore": 20520000, "episode_len_mean": 710.42, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8b00>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.889314322896774, "system_level_velocity_max": 10.768357424471473, "system_level_velocity_mean": 6.024697655783288, "cost1_mean": 150.98383693280863, "cost2_mean": -13.807415541567723, "cost1_max": 250.19260693909717, "cost2_max": -0.6650024135363521, "cost1_min": 20.600607938166686, "cost2_min": -69.70801901926006}, "done": false, "time_total_s": 13127.228101491928, "episode_reward_min": 102.19425869473717, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 152, "time_since_restore": 13127.228101491928, "time_this_iter_s": 85.50699996948242, "pid": 63744, "episode_reward_mean": 738.3396517591983, "info": {"grad_time_ms": 33758.697, "update_time_ms": 8.232, "num_steps_trained": 20520000, "num_steps_sampled": 20520000, "load_time_ms": 17.856, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5827733874320984, "total_loss": 7.913576126098633, "vf_loss": 7.9174370765686035, "entropy": 1.5976266860961914, "kl": 0.018911799415946007, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008116315118968487}, "sample_time_ms": 51497.069}, "episodes_total": 5852, "timesteps_total": 20520000, "hostname": "flow-main", "episode_reward_max": 1244.572856718636, "timesteps_this_iter": 135000, "training_iteration": 152, "node_ip": "10.138.0.2", "date": "2019-05-16_20-24-17", "policy_reward_mean": {}}
{"timestamp": 1558038342, "timesteps_since_restore": 20655000, "episode_len_mean": 714.32, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c48d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4358>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.8363724449224628, "system_level_velocity_max": 10.453937916962689, "system_level_velocity_mean": 6.095602822751665, "cost1_mean": 154.35608347647053, "cost2_mean": -15.077493943676023, "cost1_max": 245.73074342856734, "cost2_max": -0.6650024135363521, "cost1_min": 20.600607938166686, "cost2_min": -69.70801901926006}, "done": false, "time_total_s": 13212.973963022232, "episode_reward_min": 102.19425869473717, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 153, "time_since_restore": 13212.973963022232, "time_this_iter_s": 85.74586153030396, "pid": 63744, "episode_reward_mean": 754.7225636685591, "info": {"grad_time_ms": 33719.369, "update_time_ms": 8.389, "num_steps_trained": 20655000, "num_steps_sampled": 20655000, "load_time_ms": 17.615, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6167078018188477, "total_loss": 7.918676853179932, "vf_loss": 7.923405647277832, "entropy": 1.6297138929367065, "kl": 0.01861567236483097, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008916502818465233}, "sample_time_ms": 51454.791}, "episodes_total": 5889, "timesteps_total": 20655000, "hostname": "flow-main", "episode_reward_max": 1221.8860960316013, "timesteps_this_iter": 135000, "training_iteration": 153, "node_ip": "10.138.0.2", "date": "2019-05-16_20-25-42", "policy_reward_mean": {}}
{"timestamp": 1558038428, "timesteps_since_restore": 20790000, "episode_len_mean": 697.99, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aa58>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.3239396462116226, "system_level_velocity_max": 10.789790068935266, "system_level_velocity_mean": 6.218539947777498, "cost1_mean": 152.96739311000195, "cost2_mean": -14.303118457086333, "cost1_max": 249.64167950907827, "cost2_max": -0.13620955163256343, "cost1_min": 12.512371706893598, "cost2_min": -69.70801901926006}, "done": false, "time_total_s": 13298.342918634415, "episode_reward_min": 62.561858534468016, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 154, "time_since_restore": 13298.342918634415, "time_this_iter_s": 85.36895561218262, "pid": 63744, "episode_reward_mean": 749.0998359399293, "info": {"grad_time_ms": 33734.954, "update_time_ms": 8.289, "num_steps_trained": 20790000, "num_steps_sampled": 20790000, "load_time_ms": 17.564, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6232863068580627, "total_loss": 7.704975128173828, "vf_loss": 7.709910869598389, "entropy": 1.6719340085983276, "kl": 0.018246915191411972, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00904081854969263}, "sample_time_ms": 51397.398}, "episodes_total": 5928, "timesteps_total": 20790000, "hostname": "flow-main", "episode_reward_max": 1234.8999073599098, "timesteps_this_iter": 135000, "training_iteration": 154, "node_ip": "10.138.0.2", "date": "2019-05-16_20-27-08", "policy_reward_mean": {}}
{"timestamp": 1558038514, "timesteps_since_restore": 20925000, "episode_len_mean": 684.72, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c80f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c43c8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.3239396462116226, "system_level_velocity_max": 10.789790068935266, "system_level_velocity_mean": 5.7649021941481955, "cost1_mean": 139.89591546778817, "cost2_mean": -14.614431694767877, "cost1_max": 249.64167950907827, "cost2_max": -0.13620955163256343, "cost1_min": 12.512371706893598, "cost2_min": -64.8169639331311}, "done": false, "time_total_s": 13384.51365184784, "episode_reward_min": 62.561858534468016, "episodes_this_iter": 41, "num_metric_batches_dropped": 0, "iterations_since_restore": 155, "time_since_restore": 13384.51365184784, "time_this_iter_s": 86.17073321342468, "pid": 63744, "episode_reward_mean": 682.9378761161548, "info": {"grad_time_ms": 33720.17, "update_time_ms": 8.482, "num_steps_trained": 20925000, "num_steps_sampled": 20925000, "load_time_ms": 17.478, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5966203808784485, "total_loss": 6.9919867515563965, "vf_loss": 6.99691915512085, "entropy": 1.696759581565857, "kl": 0.019798314198851585, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009387143887579441}, "sample_time_ms": 51515.068}, "episodes_total": 5969, "timesteps_total": 20925000, "hostname": "flow-main", "episode_reward_max": 1234.8999073599098, "timesteps_this_iter": 135000, "training_iteration": 155, "node_ip": "10.138.0.2", "date": "2019-05-16_20-28-34", "policy_reward_mean": {}}
{"timestamp": 1558038600, "timesteps_since_restore": 21060000, "episode_len_mean": 702.65, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cccf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc358>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cccc0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.5885630752276834, "system_level_velocity_max": 10.789790068935266, "system_level_velocity_mean": 5.718979918995553, "cost1_mean": 142.26261793496778, "cost2_mean": -14.091578427812864, "cost1_max": 252.31051103403888, "cost2_max": -0.3173330307426917, "cost1_min": 19.234053715226928, "cost2_min": -62.99158346348504}, "done": false, "time_total_s": 13469.958273649216, "episode_reward_min": 95.90979331315619, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 156, "time_since_restore": 13469.958273649216, "time_this_iter_s": 85.44462180137634, "pid": 63744, "episode_reward_mean": 694.9878814101999, "info": {"grad_time_ms": 33746.515, "update_time_ms": 8.449, "num_steps_trained": 21060000, "num_steps_sampled": 21060000, "load_time_ms": 17.438, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.6081256866455078, "total_loss": 6.598206996917725, "vf_loss": 6.603831768035889, "entropy": 1.5989240407943726, "kl": 0.01962646096944809, "cur_lr": 0.0005000000237487257, "policy_loss": -0.01004006341099739}, "sample_time_ms": 51553.583}, "episodes_total": 6005, "timesteps_total": 21060000, "hostname": "flow-main", "episode_reward_max": 1241.8356430806787, "timesteps_this_iter": 135000, "training_iteration": 156, "node_ip": "10.138.0.2", "date": "2019-05-16_20-30-00", "policy_reward_mean": {}}
{"timestamp": 1558038686, "timesteps_since_restore": 21195000, "episode_len_mean": 702.85, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a2b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4c18>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.9432836595494414, "system_level_velocity_max": 10.609173874986626, "system_level_velocity_mean": 5.828224344193927, "cost1_mean": 146.11221908736724, "cost2_mean": -12.56207431370705, "cost1_max": 252.31051103403888, "cost2_max": -0.3173330307426917, "cost1_min": 19.234053715226928, "cost2_min": -45.66376915118028}, "done": false, "time_total_s": 13556.074254512787, "episode_reward_min": 95.90979331315619, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 157, "time_since_restore": 13556.074254512787, "time_this_iter_s": 86.11598086357117, "pid": 63744, "episode_reward_mean": 715.4171516779745, "info": {"grad_time_ms": 33640.008, "update_time_ms": 8.54, "num_steps_trained": 21195000, "num_steps_sampled": 21195000, "load_time_ms": 17.238, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5955821871757507, "total_loss": 7.026346683502197, "vf_loss": 7.03100061416626, "entropy": 1.5522736310958862, "kl": 0.019418638199567795, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009023498743772507}, "sample_time_ms": 51680.077}, "episodes_total": 6043, "timesteps_total": 21195000, "hostname": "flow-main", "episode_reward_max": 1241.8356430806787, "timesteps_this_iter": 135000, "training_iteration": 157, "node_ip": "10.138.0.2", "date": "2019-05-16_20-31-26", "policy_reward_mean": {}}
{"timestamp": 1558038772, "timesteps_since_restore": 21330000, "episode_len_mean": 709.29, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8470>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.9432836595494414, "system_level_velocity_max": 10.609173874986626, "system_level_velocity_mean": 6.341676585409837, "cost1_mean": 159.65583792941948, "cost2_mean": -11.132015224568947, "cost1_max": 252.31051103403888, "cost2_max": -0.09913623136961307, "cost1_min": 12.642159844288816, "cost2_min": -78.29977547736112}, "done": false, "time_total_s": 13642.370604515076, "episode_reward_min": 63.10696383714191, "episodes_this_iter": 40, "num_metric_batches_dropped": 0, "iterations_since_restore": 158, "time_since_restore": 13642.370604515076, "time_this_iter_s": 86.29635000228882, "pid": 63744, "episode_reward_mean": 784.1815005885979, "info": {"grad_time_ms": 33747.313, "update_time_ms": 8.953, "num_steps_trained": 21330000, "num_steps_sampled": 21330000, "load_time_ms": 17.218, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5866166353225708, "total_loss": 8.010825157165527, "vf_loss": 8.015608787536621, "entropy": 1.5855884552001953, "kl": 0.018891533836722374, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00903362687677145}, "sample_time_ms": 51702.132}, "episodes_total": 6083, "timesteps_total": 21330000, "hostname": "flow-main", "episode_reward_max": 1241.8356430806787, "timesteps_this_iter": 135000, "training_iteration": 158, "node_ip": "10.138.0.2", "date": "2019-05-16_20-32-52", "policy_reward_mean": {}}
{"timestamp": 1558038858, "timesteps_since_restore": 21465000, "episode_len_mean": 712.26, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cce10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccb00>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.3180410172508643, "system_level_velocity_max": 10.540333637872306, "system_level_velocity_mean": 6.271753450396253, "cost1_mean": 158.14764399515872, "cost2_mean": -12.814042088933776, "cost1_max": 248.82537290798916, "cost2_max": -0.09076847647949385, "cost1_min": 12.642159844288816, "cost2_min": -178.97669584311402}, "done": false, "time_total_s": 13728.110532522202, "episode_reward_min": 63.10696383714191, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 159, "time_since_restore": 13728.110532522202, "time_this_iter_s": 85.73992800712585, "pid": 63744, "episode_reward_mean": 776.4504261212039, "info": {"grad_time_ms": 33753.87, "update_time_ms": 8.942, "num_steps_trained": 21465000, "num_steps_sampled": 21465000, "load_time_ms": 16.993, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.5391074419021606, "total_loss": 7.440617084503174, "vf_loss": 7.445196628570557, "entropy": 1.5881508588790894, "kl": 0.020215105265378952, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009128112345933914}, "sample_time_ms": 51769.187}, "episodes_total": 6120, "timesteps_total": 21465000, "hostname": "flow-main", "episode_reward_max": 1235.7910427151778, "timesteps_this_iter": 135000, "training_iteration": 159, "node_ip": "10.138.0.2", "date": "2019-05-16_20-34-18", "policy_reward_mean": {}}
{"timestamp": 1558038944, "timesteps_since_restore": 21600000, "episode_len_mean": 713.6, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a390>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.3180410172508643, "system_level_velocity_max": 10.540333637872306, "system_level_velocity_mean": 6.342087057051, "cost1_mean": 159.51986135953226, "cost2_mean": -13.87979000524066, "cost1_max": 248.82537290798916, "cost2_max": -0.09076847647949385, "cost1_min": 11.348361649684676, "cost2_min": -178.97669584311402}, "done": false, "time_total_s": 13814.5533618927, "episode_reward_min": 56.457296631069646, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 160, "time_since_restore": 13814.5533618927, "time_this_iter_s": 86.44282937049866, "pid": 63744, "episode_reward_mean": 782.6730700898773, "info": {"grad_time_ms": 33807.874, "update_time_ms": 8.862, "num_steps_trained": 21600000, "num_steps_sampled": 21600000, "load_time_ms": 17.107, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.548984706401825, "total_loss": 7.900467395782471, "vf_loss": 7.903537273406982, "entropy": 1.6075551509857178, "kl": 0.015988251194357872, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008466041646897793}, "sample_time_ms": 51784.849}, "episodes_total": 6158, "timesteps_total": 21600000, "hostname": "flow-main", "episode_reward_max": 1235.7910427151778, "timesteps_this_iter": 135000, "training_iteration": 160, "node_ip": "10.138.0.2", "date": "2019-05-16_20-35-44", "policy_reward_mean": {}}
{"timestamp": 1558039029, "timesteps_since_restore": 21735000, "episode_len_mean": 718.45, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8dd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.1741082981930693, "system_level_velocity_max": 10.540333637872306, "system_level_velocity_mean": 6.430228924942628, "cost1_mean": 163.6019120306961, "cost2_mean": -12.08300423114716, "cost1_max": 257.88124970251073, "cost2_max": -0.09076847647949385, "cost1_min": 11.348361649684676, "cost2_min": -76.81752661737536}, "done": false, "time_total_s": 13899.560730218887, "episode_reward_min": 56.457296631069646, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 161, "time_since_restore": 13899.560730218887, "time_this_iter_s": 85.00736832618713, "pid": 63744, "episode_reward_mean": 802.9942228580617, "info": {"grad_time_ms": 33855.551, "update_time_ms": 8.865, "num_steps_trained": 21735000, "num_steps_sampled": 21735000, "load_time_ms": 17.301, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5465187430381775, "total_loss": 7.4718427658081055, "vf_loss": 7.475165843963623, "entropy": 1.6033893823623657, "kl": 0.015374799259006977, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008512061089277267}, "sample_time_ms": 51680.354}, "episodes_total": 6194, "timesteps_total": 21735000, "hostname": "flow-main", "episode_reward_max": 1264.5438904099833, "timesteps_this_iter": 135000, "training_iteration": 161, "node_ip": "10.138.0.2", "date": "2019-05-16_20-37-09", "policy_reward_mean": {}}
{"timestamp": 1558039116, "timesteps_since_restore": 21870000, "episode_len_mean": 706.54, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c86a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8400>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.1741082981930693, "system_level_velocity_max": 10.52438713116906, "system_level_velocity_mean": 6.283293979705971, "cost1_mean": 158.62793113313958, "cost2_mean": -13.770166467734414, "cost1_max": 257.88124970251073, "cost2_max": -0.3014569837086103, "cost1_min": 11.348361649684676, "cost2_min": -67.76413325155858}, "done": false, "time_total_s": 13985.8955245018, "episode_reward_min": 56.457296631069646, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 162, "time_since_restore": 13985.8955245018, "time_this_iter_s": 86.33479428291321, "pid": 63744, "episode_reward_mean": 776.5552971483951, "info": {"grad_time_ms": 33832.872, "update_time_ms": 9.022, "num_steps_trained": 21870000, "num_steps_sampled": 21870000, "load_time_ms": 17.634, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.6233492493629456, "total_loss": 7.6953535079956055, "vf_loss": 7.699129581451416, "entropy": 1.655049204826355, "kl": 0.015179255977272987, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008899161592125893}, "sample_time_ms": 51789.487}, "episodes_total": 6233, "timesteps_total": 21870000, "hostname": "flow-main", "episode_reward_max": 1264.5438904099833, "timesteps_this_iter": 135000, "training_iteration": 162, "node_ip": "10.138.0.2", "date": "2019-05-16_20-38-36", "policy_reward_mean": {}}
{"timestamp": 1558039201, "timesteps_since_restore": 22005000, "episode_len_mean": 707.56, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.9885723903250696, "system_level_velocity_max": 11.728404300682838, "system_level_velocity_mean": 6.220849267758281, "cost1_mean": 157.01910141397758, "cost2_mean": -14.596885826821312, "cost1_max": 257.88124970251073, "cost2_max": -0.6005516801954074, "cost1_min": 12.463034494332499, "cost2_min": -67.76413325155858}, "done": false, "time_total_s": 14071.331838607788, "episode_reward_min": 61.46375212671372, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 163, "time_since_restore": 14071.331838607788, "time_this_iter_s": 85.43631410598755, "pid": 63744, "episode_reward_mean": 768.4608151472867, "info": {"grad_time_ms": 33826.227, "update_time_ms": 8.771, "num_steps_trained": 22005000, "num_steps_sampled": 22005000, "load_time_ms": 17.941, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.6104939579963684, "total_loss": 7.821749687194824, "vf_loss": 7.825639247894287, "entropy": 1.6720751523971558, "kl": 0.016100158914923668, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009323450736701488}, "sample_time_ms": 51764.222}, "episodes_total": 6272, "timesteps_total": 22005000, "hostname": "flow-main", "episode_reward_max": 1264.5438904099833, "timesteps_this_iter": 135000, "training_iteration": 163, "node_ip": "10.138.0.2", "date": "2019-05-16_20-40-01", "policy_reward_mean": {}}
{"timestamp": 1558039288, "timesteps_since_restore": 22140000, "episode_len_mean": 723.53, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8780>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.9885723903250696, "system_level_velocity_max": 11.728404300682838, "system_level_velocity_mean": 6.328709751262332, "cost1_mean": 161.8225246675412, "cost2_mean": -14.69363947646952, "cost1_max": 252.56682551563262, "cost2_max": -1.5740245037109775, "cost1_min": 62.040345300675945, "cost2_min": -48.32496390719736}, "done": false, "time_total_s": 14157.518526554108, "episode_reward_min": 291.695166624753, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 164, "time_since_restore": 14157.518526554108, "time_this_iter_s": 86.18668794631958, "pid": 63744, "episode_reward_mean": 792.0318355258889, "info": {"grad_time_ms": 33898.078, "update_time_ms": 8.996, "num_steps_trained": 22140000, "num_steps_sampled": 22140000, "load_time_ms": 18.181, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5828157663345337, "total_loss": 7.4441237449646, "vf_loss": 7.447809219360352, "entropy": 1.6286535263061523, "kl": 0.014965824782848358, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008735982701182365}, "sample_time_ms": 51773.104}, "episodes_total": 6309, "timesteps_total": 22140000, "hostname": "flow-main", "episode_reward_max": 1245.165268053213, "timesteps_this_iter": 135000, "training_iteration": 164, "node_ip": "10.138.0.2", "date": "2019-05-16_20-41-28", "policy_reward_mean": {}}
{"timestamp": 1558039375, "timesteps_since_restore": 22275000, "episode_len_mean": 723.34, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c84e0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.9885723903250696, "system_level_velocity_max": 12.250393300471725, "system_level_velocity_mean": 6.436201401495114, "cost1_mean": 163.82039189045727, "cost2_mean": -14.937839443620833, "cost1_max": 262.1953185844076, "cost2_max": -1.176125180968333, "cost1_min": 60.26295058166248, "cost2_min": -56.57743481530591}, "done": false, "time_total_s": 14244.712314605713, "episode_reward_min": 291.695166624753, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 165, "time_since_restore": 14244.712314605713, "time_this_iter_s": 87.19378805160522, "pid": 63744, "episode_reward_mean": 802.0122466274062, "info": {"grad_time_ms": 33969.053, "update_time_ms": 8.954, "num_steps_trained": 22275000, "num_steps_sampled": 22275000, "load_time_ms": 18.273, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5826943516731262, "total_loss": 7.677845478057861, "vf_loss": 7.680638313293457, "entropy": 1.6022971868515015, "kl": 0.015235806815326214, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007934234105050564}, "sample_time_ms": 51801.972}, "episodes_total": 6346, "timesteps_total": 22275000, "hostname": "flow-main", "episode_reward_max": 1295.8395447400815, "timesteps_this_iter": 135000, "training_iteration": 165, "node_ip": "10.138.0.2", "date": "2019-05-16_20-42-55", "policy_reward_mean": {}}
{"timestamp": 1558039460, "timesteps_since_restore": 22410000, "episode_len_mean": 716.15, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0aa58>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7462628302943144, "system_level_velocity_max": 12.250393300471725, "system_level_velocity_mean": 6.626046403921839, "cost1_mean": 166.27740712504587, "cost2_mean": -14.006648501288103, "cost1_max": 262.1953185844076, "cost2_max": -0.15243376770856465, "cost1_min": 15.391249500526941, "cost2_min": -56.57743481530591}, "done": false, "time_total_s": 14330.130197286606, "episode_reward_min": 76.93486438941872, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 166, "time_since_restore": 14330.130197286606, "time_this_iter_s": 85.41788268089294, "pid": 63744, "episode_reward_mean": 814.7268797542507, "info": {"grad_time_ms": 33955.442, "update_time_ms": 8.916, "num_steps_trained": 22410000, "num_steps_sampled": 22410000, "load_time_ms": 18.371, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.591733992099762, "total_loss": 7.498486042022705, "vf_loss": 7.501748561859131, "entropy": 1.6557928323745728, "kl": 0.014939898625016212, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008304460905492306}, "sample_time_ms": 51813.973}, "episodes_total": 6383, "timesteps_total": 22410000, "hostname": "flow-main", "episode_reward_max": 1295.8395447400815, "timesteps_this_iter": 135000, "training_iteration": 166, "node_ip": "10.138.0.2", "date": "2019-05-16_20-44-20", "policy_reward_mean": {}}
{"timestamp": 1558039546, "timesteps_since_restore": 22545000, "episode_len_mean": 714.22, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c87b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ba8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.4214720045594285, "system_level_velocity_max": 12.250393300471725, "system_level_velocity_mean": 6.621157948450818, "cost1_mean": 166.33885165897544, "cost2_mean": -13.48810767963593, "cost1_max": 262.1953185844076, "cost2_max": -0.15243376770856465, "cost1_min": 15.391249500526941, "cost2_min": -54.00158738702903}, "done": false, "time_total_s": 14415.864993810654, "episode_reward_min": 76.93486438941872, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 167, "time_since_restore": 14415.864993810654, "time_this_iter_s": 85.73479652404785, "pid": 63744, "episode_reward_mean": 814.3384380314299, "info": {"grad_time_ms": 33934.67, "update_time_ms": 9.03, "num_steps_trained": 22545000, "num_steps_sampled": 22545000, "load_time_ms": 18.277, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5247513055801392, "total_loss": 6.6553053855896, "vf_loss": 6.658684730529785, "entropy": 1.631882667541504, "kl": 0.015842588618397713, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008726307190954685}, "sample_time_ms": 51795.097}, "episodes_total": 6419, "timesteps_total": 22545000, "hostname": "flow-main", "episode_reward_max": 1295.8395447400815, "timesteps_this_iter": 135000, "training_iteration": 167, "node_ip": "10.138.0.2", "date": "2019-05-16_20-45-46", "policy_reward_mean": {}}
{"timestamp": 1558039631, "timesteps_since_restore": 22680000, "episode_len_mean": 726.2, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc7b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccf28>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.4214720045594285, "system_level_velocity_max": 10.868919762128707, "system_level_velocity_mean": 6.34575509181531, "cost1_mean": 163.3788167899636, "cost2_mean": -14.801741086749377, "cost1_max": 255.36518584547247, "cost2_max": -1.5234150985449724, "cost1_min": 19.947705445899956, "cost2_min": -54.00158738702903}, "done": false, "time_total_s": 14501.244457960129, "episode_reward_min": 97.60358533638525, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 168, "time_since_restore": 14501.244457960129, "time_this_iter_s": 85.3794641494751, "pid": 63744, "episode_reward_mean": 797.8303126628327, "info": {"grad_time_ms": 33803.085, "update_time_ms": 8.775, "num_steps_trained": 22680000, "num_steps_sampled": 22680000, "load_time_ms": 18.32, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5135800242424011, "total_loss": 7.41263484954834, "vf_loss": 7.415783882141113, "entropy": 1.6947128772735596, "kl": 0.01740056648850441, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009022027254104614}, "sample_time_ms": 51834.603}, "episodes_total": 6457, "timesteps_total": 22680000, "hostname": "flow-main", "episode_reward_max": 1263.4064255554028, "timesteps_this_iter": 135000, "training_iteration": 168, "node_ip": "10.138.0.2", "date": "2019-05-16_20-47-11", "policy_reward_mean": {}}
{"timestamp": 1558039718, "timesteps_since_restore": 22815000, "episode_len_mean": 726.99, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa040b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d20b8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.940598453096016, "system_level_velocity_max": 10.868919762128707, "system_level_velocity_mean": 6.36571066786021, "cost1_mean": 164.4921980894581, "cost2_mean": -15.30933123811439, "cost1_max": 255.36518584547247, "cost2_max": -0.9458422918993264, "cost1_min": 19.947705445899956, "cost2_min": -63.54563078141205}, "done": false, "time_total_s": 14587.356200933456, "episode_reward_min": 97.60358533638525, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 169, "time_since_restore": 14587.356200933456, "time_this_iter_s": 86.11174297332764, "pid": 63744, "episode_reward_mean": 802.2429131416654, "info": {"grad_time_ms": 33774.148, "update_time_ms": 9.066, "num_steps_trained": 22815000, "num_steps_sampled": 22815000, "load_time_ms": 18.709, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4750182628631592, "total_loss": 6.792963981628418, "vf_loss": 6.7965569496154785, "entropy": 1.6131927967071533, "kl": 0.01550297997891903, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008824623189866543}, "sample_time_ms": 51898.985}, "episodes_total": 6493, "timesteps_total": 22815000, "hostname": "flow-main", "episode_reward_max": 1263.4064255554028, "timesteps_this_iter": 135000, "training_iteration": 169, "node_ip": "10.138.0.2", "date": "2019-05-16_20-48-38", "policy_reward_mean": {}}
{"timestamp": 1558039803, "timesteps_since_restore": 22950000, "episode_len_mean": 726.78, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c84a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a58>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8550>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.8587759495373786, "system_level_velocity_max": 10.868919762128707, "system_level_velocity_mean": 6.408576634385319, "cost1_mean": 165.35076471660653, "cost2_mean": -15.678571619432487, "cost1_max": 255.36518584547247, "cost2_max": -0.2256835835925519, "cost1_min": 15.849872253936496, "cost2_min": -63.54563078141205}, "done": false, "time_total_s": 14673.09926199913, "episode_reward_min": 79.0123284003308, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 170, "time_since_restore": 14673.09926199913, "time_this_iter_s": 85.74306106567383, "pid": 63744, "episode_reward_mean": 805.8508464153891, "info": {"grad_time_ms": 33708.768, "update_time_ms": 8.974, "num_steps_trained": 22950000, "num_steps_sampled": 22950000, "load_time_ms": 18.935, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.44213518500328064, "total_loss": 6.988252639770508, "vf_loss": 6.99228572845459, "entropy": 1.6230427026748657, "kl": 0.015153544954955578, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00914744846522808}, "sample_time_ms": 51891.401}, "episodes_total": 6529, "timesteps_total": 22950000, "hostname": "flow-main", "episode_reward_max": 1263.4064255554028, "timesteps_this_iter": 135000, "training_iteration": 170, "node_ip": "10.138.0.2", "date": "2019-05-16_20-50-03", "policy_reward_mean": {}}
{"timestamp": 1558039889, "timesteps_since_restore": 23085000, "episode_len_mean": 735.29, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8c18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a20>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.8587759495373786, "system_level_velocity_max": 9.609135678444474, "system_level_velocity_mean": 6.452614185304159, "cost1_mean": 167.6914397360325, "cost2_mean": -17.368951268958035, "cost1_max": 238.668830739749, "cost2_max": -0.2256835835925519, "cost1_min": 15.849872253936496, "cost2_min": -63.54563078141205}, "done": false, "time_total_s": 14758.353652477264, "episode_reward_min": 79.0123284003308, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 171, "time_since_restore": 14758.353652477264, "time_this_iter_s": 85.25439047813416, "pid": 63744, "episode_reward_mean": 815.9101979262263, "info": {"grad_time_ms": 33713.437, "update_time_ms": 9.148, "num_steps_trained": 23085000, "num_steps_sampled": 23085000, "load_time_ms": 18.873, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.45699411630630493, "total_loss": 7.176957130432129, "vf_loss": 7.180848598480225, "entropy": 1.6492195129394531, "kl": 0.014985586516559124, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00894922949373722}, "sample_time_ms": 51909.406}, "episodes_total": 6566, "timesteps_total": 23085000, "hostname": "flow-main", "episode_reward_max": 1167.352058364751, "timesteps_this_iter": 135000, "training_iteration": 171, "node_ip": "10.138.0.2", "date": "2019-05-16_20-51-29", "policy_reward_mean": {}}
{"timestamp": 1558039974, "timesteps_since_restore": 23220000, "episode_len_mean": 725.78, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2748>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.826942624345078, "system_level_velocity_max": 10.247988685533945, "system_level_velocity_mean": 6.406545568225607, "cost1_mean": 164.10184409611156, "cost2_mean": -18.299713743118946, "cost1_max": 243.01160241602167, "cost2_max": -0.2154181681956616, "cost1_min": 17.614612942380912, "cost2_min": -61.96424351251413}, "done": false, "time_total_s": 14843.86241555214, "episode_reward_min": 87.956796545592, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 172, "time_since_restore": 14843.86241555214, "time_this_iter_s": 85.50876307487488, "pid": 63744, "episode_reward_mean": 798.0531831340186, "info": {"grad_time_ms": 33666.011, "update_time_ms": 9.124, "num_steps_trained": 23220000, "num_steps_sampled": 23220000, "load_time_ms": 18.464, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.553863525390625, "total_loss": 7.487348556518555, "vf_loss": 7.492819786071777, "entropy": 1.690116047859192, "kl": 0.015765318647027016, "cur_lr": 0.0005000000237487257, "policy_loss": -0.010791782289743423}, "sample_time_ms": 51875.135}, "episodes_total": 6603, "timesteps_total": 23220000, "hostname": "flow-main", "episode_reward_max": 1202.6619082401342, "timesteps_this_iter": 135000, "training_iteration": 172, "node_ip": "10.138.0.2", "date": "2019-05-16_20-52-54", "policy_reward_mean": {}}
{"timestamp": 1558040060, "timesteps_since_restore": 23355000, "episode_len_mean": 716.65, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d588>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.826942624345078, "system_level_velocity_max": 10.50412285993765, "system_level_velocity_mean": 6.476568235983453, "cost1_mean": 163.6932121251831, "cost2_mean": -19.533954783775982, "cost1_max": 246.4802559347204, "cost2_max": -0.2154181681956616, "cost1_min": 17.614612942380912, "cost2_min": -90.9238287500956}, "done": false, "time_total_s": 14929.292161226273, "episode_reward_min": 87.956796545592, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 173, "time_since_restore": 14929.292161226273, "time_this_iter_s": 85.4297456741333, "pid": 63744, "episode_reward_mean": 795.1725548220154, "info": {"grad_time_ms": 33629.926, "update_time_ms": 9.297, "num_steps_trained": 23355000, "num_steps_sampled": 23355000, "load_time_ms": 18.26, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4991728365421295, "total_loss": 7.449364185333252, "vf_loss": 7.453254222869873, "entropy": 1.6664830446243286, "kl": 0.015748437494039536, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009205707348883152}, "sample_time_ms": 51908.218}, "episodes_total": 6641, "timesteps_total": 23355000, "hostname": "flow-main", "episode_reward_max": 1227.2992029028076, "timesteps_this_iter": 135000, "training_iteration": 173, "node_ip": "10.138.0.2", "date": "2019-05-16_20-54-20", "policy_reward_mean": {}}
{"timestamp": 1558040145, "timesteps_since_restore": 23490000, "episode_len_mean": 717.81, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8c88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2160>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.826942624345078, "system_level_velocity_max": 10.50412285993765, "system_level_velocity_mean": 6.535338461758448, "cost1_mean": 165.7613211033105, "cost2_mean": -19.97336257033854, "cost1_max": 246.4802559347204, "cost2_max": -0.2154181681956616, "cost1_min": 17.614612942380912, "cost2_min": -90.9238287500956}, "done": false, "time_total_s": 15014.948097467422, "episode_reward_min": 87.956796545592, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 174, "time_since_restore": 15014.948097467422, "time_this_iter_s": 85.6559362411499, "pid": 63744, "episode_reward_mean": 805.2580301642795, "info": {"grad_time_ms": 33581.645, "update_time_ms": 9.178, "num_steps_trained": 23490000, "num_steps_sampled": 23490000, "load_time_ms": 18.323, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4579927623271942, "total_loss": 7.295624732971191, "vf_loss": 7.299178600311279, "entropy": 1.7405049800872803, "kl": 0.016093524172902107, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008985836058855057}, "sample_time_ms": 51905.114}, "episodes_total": 6678, "timesteps_total": 23490000, "hostname": "flow-main", "episode_reward_max": 1227.2992029028076, "timesteps_this_iter": 135000, "training_iteration": 174, "node_ip": "10.138.0.2", "date": "2019-05-16_20-55-45", "policy_reward_mean": {}}
{"timestamp": 1558040233, "timesteps_since_restore": 23625000, "episode_len_mean": 736.0, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2eb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d25c0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.0120955836257406, "system_level_velocity_max": 10.50412285993765, "system_level_velocity_mean": 6.324619878436481, "cost1_mean": 165.1722043091058, "cost2_mean": -19.272117093839356, "cost1_max": 246.4802559347204, "cost2_max": -2.601777291871012, "cost1_min": 81.24061626977135, "cost2_min": -90.9238287500956}, "done": false, "time_total_s": 15101.935416698456, "episode_reward_min": 375.5125155503544, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 175, "time_since_restore": 15101.935416698456, "time_this_iter_s": 86.98731923103333, "pid": 63744, "episode_reward_mean": 802.8481844314001, "info": {"grad_time_ms": 33723.994, "update_time_ms": 9.103, "num_steps_trained": 23625000, "num_steps_sampled": 23625000, "load_time_ms": 18.442, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5212737917900085, "total_loss": 6.884985446929932, "vf_loss": 6.888864994049072, "entropy": 1.7255195379257202, "kl": 0.016328508034348488, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009390748105943203}, "sample_time_ms": 51741.793}, "episodes_total": 6715, "timesteps_total": 23625000, "hostname": "flow-main", "episode_reward_max": 1227.2992029028076, "timesteps_this_iter": 135000, "training_iteration": 175, "node_ip": "10.138.0.2", "date": "2019-05-16_20-57-13", "policy_reward_mean": {}}
{"timestamp": 1558040319, "timesteps_since_restore": 23760000, "episode_len_mean": 729.23, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c4780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c47f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.0120955836257406, "system_level_velocity_max": 10.075392231536789, "system_level_velocity_mean": 6.2548892547545565, "cost1_mean": 162.6858503565281, "cost2_mean": -17.33417040852904, "cost1_max": 242.11340100281814, "cost2_max": 0.0, "cost1_min": 11.827178975649732, "cost2_min": -85.06496101467384}, "done": false, "time_total_s": 15188.85534954071, "episode_reward_min": 59.13589487824857, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 176, "time_since_restore": 15188.85534954071, "time_this_iter_s": 86.91993284225464, "pid": 63744, "episode_reward_mean": 792.4536725511654, "info": {"grad_time_ms": 33831.176, "update_time_ms": 9.168, "num_steps_trained": 23760000, "num_steps_sampled": 23760000, "load_time_ms": 18.548, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.49163830280303955, "total_loss": 7.308288097381592, "vf_loss": 7.311681747436523, "entropy": 1.71190345287323, "kl": 0.0155212776735425, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008631979115307331}, "sample_time_ms": 51784.202}, "episodes_total": 6753, "timesteps_total": 23760000, "hostname": "flow-main", "episode_reward_max": 1191.7868251796215, "timesteps_this_iter": 135000, "training_iteration": 176, "node_ip": "10.138.0.2", "date": "2019-05-16_20-58-39", "policy_reward_mean": {}}
{"timestamp": 1558040404, "timesteps_since_restore": 23895000, "episode_len_mean": 724.85, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8d30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2400>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.3082653216950626, "system_level_velocity_max": 9.596517608621962, "system_level_velocity_mean": 6.240493947356207, "cost1_mean": 160.87923993660377, "cost2_mean": -15.669543610223823, "cost1_max": 226.829485322116, "cost2_max": 0.0, "cost1_min": 11.827178975649732, "cost2_min": -85.06496101467384}, "done": false, "time_total_s": 15273.748417854309, "episode_reward_min": 59.13589487824857, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 177, "time_since_restore": 15273.748417854309, "time_this_iter_s": 84.89306831359863, "pid": 63744, "episode_reward_mean": 785.3783020397569, "info": {"grad_time_ms": 33808.544, "update_time_ms": 8.969, "num_steps_trained": 23895000, "num_steps_sampled": 23895000, "load_time_ms": 18.528, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5203535556793213, "total_loss": 7.204169273376465, "vf_loss": 7.207742691040039, "entropy": 1.7345659732818604, "kl": 0.015505644492805004, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008806734345853329}, "sample_time_ms": 51725.067}, "episodes_total": 6790, "timesteps_total": 23895000, "hostname": "flow-main", "episode_reward_max": 1111.454082878886, "timesteps_this_iter": 135000, "training_iteration": 177, "node_ip": "10.138.0.2", "date": "2019-05-16_21-00-04", "policy_reward_mean": {}}
{"timestamp": 1558040491, "timesteps_since_restore": 24030000, "episode_len_mean": 712.56, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8198>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.3082653216950626, "system_level_velocity_max": 10.60147012325773, "system_level_velocity_mean": 6.475707465656381, "cost1_mean": 163.4998518943682, "cost2_mean": -13.257768480992969, "cost1_max": 249.13493139818246, "cost2_max": 0.0, "cost1_min": 11.827178975649732, "cost2_min": -40.83255299408247}, "done": false, "time_total_s": 15359.854425907135, "episode_reward_min": 59.13589487824857, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 178, "time_since_restore": 15359.854425907135, "time_this_iter_s": 86.10600805282593, "pid": 63744, "episode_reward_mean": 800.379193221327, "info": {"grad_time_ms": 33857.786, "update_time_ms": 8.842, "num_steps_trained": 24030000, "num_steps_sampled": 24030000, "load_time_ms": 18.698, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5117726922035217, "total_loss": 7.959896087646484, "vf_loss": 7.963914394378662, "entropy": 1.7184606790542603, "kl": 0.015209603123366833, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009152219630777836}, "sample_time_ms": 51742.252}, "episodes_total": 6828, "timesteps_total": 24030000, "hostname": "flow-main", "episode_reward_max": 1231.6819836422665, "timesteps_this_iter": 135000, "training_iteration": 178, "node_ip": "10.138.0.2", "date": "2019-05-16_21-01-31", "policy_reward_mean": {}}
{"timestamp": 1558040575, "timesteps_since_restore": 24165000, "episode_len_mean": 697.79, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8438>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.684588319087338, "system_level_velocity_max": 10.60147012325773, "system_level_velocity_mean": 6.525108522489018, "cost1_mean": 160.88546742638943, "cost2_mean": -14.585237867221279, "cost1_max": 249.13493139818246, "cost2_max": -0.4394465705565632, "cost1_min": 17.86271629627227, "cost2_min": -49.22539809519573}, "done": false, "time_total_s": 15444.181594133377, "episode_reward_min": 87.96507390365839, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 179, "time_since_restore": 15444.181594133377, "time_this_iter_s": 84.32716822624207, "pid": 63744, "episode_reward_mean": 786.4246300231434, "info": {"grad_time_ms": 33809.505, "update_time_ms": 8.661, "num_steps_trained": 24165000, "num_steps_sampled": 24165000, "load_time_ms": 18.416, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5459886789321899, "total_loss": 7.488596439361572, "vf_loss": 7.492688179016113, "entropy": 1.6962153911590576, "kl": 0.015249545685946941, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009238692000508308}, "sample_time_ms": 51615.943}, "episodes_total": 6867, "timesteps_total": 24165000, "hostname": "flow-main", "episode_reward_max": 1231.6819836422665, "timesteps_this_iter": 135000, "training_iteration": 179, "node_ip": "10.138.0.2", "date": "2019-05-16_21-02-55", "policy_reward_mean": {}}
{"timestamp": 1558040661, "timesteps_since_restore": 24300000, "episode_len_mean": 698.64, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2390>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.3684260769373857, "system_level_velocity_max": 9.480734302394639, "system_level_velocity_mean": 6.302831076557479, "cost1_mean": 156.1252561998678, "cost2_mean": -14.388627823293284, "cost1_max": 235.74152635091454, "cost2_max": -0.4394465705565632, "cost1_min": 17.86271629627227, "cost2_min": -49.22539809519573}, "done": false, "time_total_s": 15530.16683626175, "episode_reward_min": 87.96507390365839, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 180, "time_since_restore": 15530.16683626175, "time_this_iter_s": 85.98524212837219, "pid": 63744, "episode_reward_mean": 763.2628807903619, "info": {"grad_time_ms": 33758.361, "update_time_ms": 8.597, "num_steps_trained": 24300000, "num_steps_sampled": 24300000, "load_time_ms": 18.287, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5852793455123901, "total_loss": 7.271747589111328, "vf_loss": 7.275960922241211, "entropy": 1.7233505249023438, "kl": 0.014701680280268192, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009175067767500877}, "sample_time_ms": 51694.811}, "episodes_total": 6906, "timesteps_total": 24300000, "hostname": "flow-main", "episode_reward_max": 1138.4677175278084, "timesteps_this_iter": 135000, "training_iteration": 180, "node_ip": "10.138.0.2", "date": "2019-05-16_21-04-21", "policy_reward_mean": {}}
{"timestamp": 1558040746, "timesteps_since_restore": 24435000, "episode_len_mean": 698.58, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc9b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc630>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.3684260769373857, "system_level_velocity_max": 10.3599281767668, "system_level_velocity_mean": 6.334266080803887, "cost1_mean": 156.72779043743944, "cost2_mean": -14.647169985624634, "cost1_max": 247.7878850761898, "cost2_max": -1.089439604996601, "cost1_min": 17.86271629627227, "cost2_min": -64.20213901067896}, "done": false, "time_total_s": 15614.811611890793, "episode_reward_min": 87.96507390365839, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 181, "time_since_restore": 15614.811611890793, "time_this_iter_s": 84.64477562904358, "pid": 63744, "episode_reward_mean": 765.5198040483447, "info": {"grad_time_ms": 33727.798, "update_time_ms": 8.385, "num_steps_trained": 24435000, "num_steps_sampled": 24435000, "load_time_ms": 18.167, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5506467223167419, "total_loss": 7.628765106201172, "vf_loss": 7.632911682128906, "entropy": 1.750807523727417, "kl": 0.015705645084381104, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009448066353797913}, "sample_time_ms": 51664.925}, "episodes_total": 6944, "timesteps_total": 24435000, "hostname": "flow-main", "episode_reward_max": 1225.8999928454566, "timesteps_this_iter": 135000, "training_iteration": 181, "node_ip": "10.138.0.2", "date": "2019-05-16_21-05-46", "policy_reward_mean": {}}
{"timestamp": 1558040831, "timesteps_since_restore": 24570000, "episode_len_mean": 718.3, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c86d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c89e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.074337827605587, "system_level_velocity_max": 10.3599281767668, "system_level_velocity_mean": 6.426381430652237, "cost1_mean": 163.58911955119854, "cost2_mean": -16.564781742519322, "cost1_max": 247.7878850761898, "cost2_max": -1.7087222287194075, "cost1_min": 51.00608437370117, "cost2_min": -64.20213901067896}, "done": false, "time_total_s": 15700.47969508171, "episode_reward_min": 232.50582724072842, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 182, "time_since_restore": 15700.47969508171, "time_this_iter_s": 85.66808319091797, "pid": 63744, "episode_reward_mean": 796.9915385307477, "info": {"grad_time_ms": 33736.898, "update_time_ms": 8.498, "num_steps_trained": 24570000, "num_steps_sampled": 24570000, "load_time_ms": 18.265, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5050135850906372, "total_loss": 7.61582612991333, "vf_loss": 7.62055778503418, "entropy": 1.7374950647354126, "kl": 0.015292632393538952, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009892738424241543}, "sample_time_ms": 51665.599}, "episodes_total": 6982, "timesteps_total": 24570000, "hostname": "flow-main", "episode_reward_max": 1225.8999928454566, "timesteps_this_iter": 135000, "training_iteration": 182, "node_ip": "10.138.0.2", "date": "2019-05-16_21-07-11", "policy_reward_mean": {}}
{"timestamp": 1558040923, "timesteps_since_restore": 24705000, "episode_len_mean": 728.86, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2160>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.0924297731722517, "system_level_velocity_max": 10.3599281767668, "system_level_velocity_mean": 6.388990912505851, "cost1_mean": 165.27824236532516, "cost2_mean": -19.72781736375843, "cost1_max": 247.7878850761898, "cost2_max": -3.1090464086440823, "cost1_min": 49.91636412785811, "cost2_min": -99.6624597500037}, "done": false, "time_total_s": 15792.102429389954, "episode_reward_min": 235.87792311221438, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 183, "time_since_restore": 15792.102429389954, "time_this_iter_s": 91.6227343082428, "pid": 63744, "episode_reward_mean": 803.246333840395, "info": {"grad_time_ms": 33953.915, "update_time_ms": 8.419, "num_steps_trained": 24705000, "num_steps_sampled": 24705000, "load_time_ms": 18.941, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5247265696525574, "total_loss": 7.123459339141846, "vf_loss": 7.1271867752075195, "entropy": 1.7406418323516846, "kl": 0.016854191198945045, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009415010921657085}, "sample_time_ms": 52065.423}, "episodes_total": 7020, "timesteps_total": 24705000, "hostname": "flow-main", "episode_reward_max": 1225.8999928454566, "timesteps_this_iter": 135000, "training_iteration": 183, "node_ip": "10.138.0.2", "date": "2019-05-16_21-08-43", "policy_reward_mean": {}}
{"timestamp": 1558041009, "timesteps_since_restore": 24840000, "episode_len_mean": 722.91, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8a58>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2240>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.0924297731722517, "system_level_velocity_max": 10.500222565612443, "system_level_velocity_mean": 6.234648267392869, "cost1_mean": 161.0803846757768, "cost2_mean": -17.82792721627031, "cost1_max": 249.79336040121117, "cost2_max": -3.255202533858031, "cost1_min": 46.08073145249372, "cost2_min": -99.6624597500037}, "done": false, "time_total_s": 15878.301519155502, "episode_reward_min": 224.73326100486454, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 184, "time_since_restore": 15878.301519155502, "time_this_iter_s": 86.1990897655487, "pid": 63744, "episode_reward_mean": 784.7551207351448, "info": {"grad_time_ms": 34003.667, "update_time_ms": 8.403, "num_steps_trained": 24840000, "num_steps_sampled": 24840000, "load_time_ms": 18.802, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5462784171104431, "total_loss": 7.543734550476074, "vf_loss": 7.547967910766602, "entropy": 1.7170058488845825, "kl": 0.015334145165979862, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009408476762473583}, "sample_time_ms": 52071.295}, "episodes_total": 7058, "timesteps_total": 24840000, "hostname": "flow-main", "episode_reward_max": 1238.3249890198, "timesteps_this_iter": 135000, "training_iteration": 184, "node_ip": "10.138.0.2", "date": "2019-05-16_21-10-09", "policy_reward_mean": {}}
{"timestamp": 1558041096, "timesteps_since_restore": 24975000, "episode_len_mean": 706.67, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ac88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0ada0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa0a208>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.0924297731722517, "system_level_velocity_max": 10.500222565612443, "system_level_velocity_mean": 6.273136627150186, "cost1_mean": 157.95377181693374, "cost2_mean": -17.992493142678082, "cost1_max": 249.79336040121117, "cost2_max": -0.2896585969123363, "cost1_min": 24.341154324957817, "cost2_min": -99.6624597500037}, "done": false, "time_total_s": 15964.662519216537, "episode_reward_min": 121.4645829092934, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 185, "time_since_restore": 15964.662519216537, "time_this_iter_s": 86.36100006103516, "pid": 63744, "episode_reward_mean": 769.9411619185546, "info": {"grad_time_ms": 33851.412, "update_time_ms": 8.392, "num_steps_trained": 24975000, "num_steps_sampled": 24975000, "load_time_ms": 18.636, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5529491901397705, "total_loss": 7.5760931968688965, "vf_loss": 7.579645156860352, "entropy": 1.7433691024780273, "kl": 0.014291070401668549, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008375231176614761}, "sample_time_ms": 52163.017}, "episodes_total": 7097, "timesteps_total": 24975000, "hostname": "flow-main", "episode_reward_max": 1238.3249890198, "timesteps_this_iter": 135000, "training_iteration": 185, "node_ip": "10.138.0.2", "date": "2019-05-16_21-11-36", "policy_reward_mean": {}}
{"timestamp": 1558041182, "timesteps_since_restore": 25110000, "episode_len_mean": 706.92, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2470>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.729444135475005, "system_level_velocity_max": 10.500222565612443, "system_level_velocity_mean": 6.340282958476153, "cost1_mean": 159.31259767346074, "cost2_mean": -15.856500086077347, "cost1_max": 249.79336040121117, "cost2_max": -0.2896585969123363, "cost1_min": 24.341154324957817, "cost2_min": -96.10465512606929}, "done": false, "time_total_s": 16050.596102237701, "episode_reward_min": 121.4645829092934, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 186, "time_since_restore": 16050.596102237701, "time_this_iter_s": 85.93358302116394, "pid": 63744, "episode_reward_mean": 778.3735388900619, "info": {"grad_time_ms": 33759.763, "update_time_ms": 8.411, "num_steps_trained": 25110000, "num_steps_sampled": 25110000, "load_time_ms": 18.617, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5662465691566467, "total_loss": 7.752321720123291, "vf_loss": 7.756356716156006, "entropy": 1.7509276866912842, "kl": 0.014988171868026257, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009093410335481167}, "sample_time_ms": 52156.79}, "episodes_total": 7134, "timesteps_total": 25110000, "hostname": "flow-main", "episode_reward_max": 1238.3249890198, "timesteps_this_iter": 135000, "training_iteration": 186, "node_ip": "10.138.0.2", "date": "2019-05-16_21-13-02", "policy_reward_mean": {}}
{"timestamp": 1558041269, "timesteps_since_restore": 25245000, "episode_len_mean": 714.85, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc940>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.729444135475005, "system_level_velocity_max": 10.462534826465893, "system_level_velocity_mean": 6.353068135096762, "cost1_mean": 161.1313158133874, "cost2_mean": -16.625976820224313, "cost1_max": 248.36291664240917, "cost2_max": -0.2896585969123363, "cost1_min": 24.341154324957817, "cost2_min": -69.31862809311573}, "done": false, "time_total_s": 16137.423646688461, "episode_reward_min": 121.4645829092934, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 187, "time_since_restore": 16137.423646688461, "time_this_iter_s": 86.82754445075989, "pid": 63744, "episode_reward_mean": 786.1357025919407, "info": {"grad_time_ms": 33794.193, "update_time_ms": 8.444, "num_steps_trained": 25245000, "num_steps_sampled": 25245000, "load_time_ms": 18.687, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5454003214836121, "total_loss": 8.250833511352539, "vf_loss": 8.25429916381836, "entropy": 1.7105103731155396, "kl": 0.01552093867212534, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008703339844942093}, "sample_time_ms": 52315.618}, "episodes_total": 7172, "timesteps_total": 25245000, "hostname": "flow-main", "episode_reward_max": 1233.4554091539444, "timesteps_this_iter": 135000, "training_iteration": 187, "node_ip": "10.138.0.2", "date": "2019-05-16_21-14-29", "policy_reward_mean": {}}
{"timestamp": 1558041354, "timesteps_since_restore": 25380000, "episode_len_mean": 729.48, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d25f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d20b8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 2.729444135475005, "system_level_velocity_max": 10.591792197353799, "system_level_velocity_mean": 6.43140778125929, "cost1_mean": 165.75255470776133, "cost2_mean": -17.44273319070151, "cost1_max": 248.81881196931357, "cost2_max": -1.499226223801055, "cost1_min": 53.66619172401617, "cost2_min": -69.31862809311573}, "done": false, "time_total_s": 16223.249872684479, "episode_reward_min": 262.07448432559397, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 188, "time_since_restore": 16223.249872684479, "time_this_iter_s": 85.82622599601746, "pid": 63744, "episode_reward_mean": 808.3823804561603, "info": {"grad_time_ms": 33799.799, "update_time_ms": 8.459, "num_steps_trained": 25380000, "num_steps_sampled": 25380000, "load_time_ms": 18.611, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5811837315559387, "total_loss": 8.138501167297363, "vf_loss": 8.142304420471191, "entropy": 1.7766413688659668, "kl": 0.015481540001928806, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009028680622577667}, "sample_time_ms": 52285.627}, "episodes_total": 7208, "timesteps_total": 25380000, "hostname": "flow-main", "episode_reward_max": 1236.9826536259782, "timesteps_this_iter": 135000, "training_iteration": 188, "node_ip": "10.138.0.2", "date": "2019-05-16_21-15-54", "policy_reward_mean": {}}
{"timestamp": 1558041440, "timesteps_since_restore": 25515000, "episode_len_mean": 730.53, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2f28>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.4983577972825284, "system_level_velocity_max": 10.591792197353799, "system_level_velocity_mean": 6.358429140632257, "cost1_mean": 164.32239433360917, "cost2_mean": -17.070230226595058, "cost1_max": 248.81881196931357, "cost2_max": -0.36385349923510946, "cost1_min": 22.341404506987033, "cost2_min": -69.31862809311573}, "done": false, "time_total_s": 16309.22521018982, "episode_reward_min": 111.3782655013313, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 189, "time_since_restore": 16309.22521018982, "time_this_iter_s": 85.97533750534058, "pid": 63744, "episode_reward_mean": 800.9353104450914, "info": {"grad_time_ms": 33881.899, "update_time_ms": 8.415, "num_steps_trained": 25515000, "num_steps_sampled": 25515000, "load_time_ms": 18.647, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5918948650360107, "total_loss": 8.118046760559082, "vf_loss": 8.122797012329102, "entropy": 1.7658581733703613, "kl": 0.014978778548538685, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009805385023355484}, "sample_time_ms": 52367.551}, "episodes_total": 7245, "timesteps_total": 25515000, "hostname": "flow-main", "episode_reward_max": 1236.9826536259782, "timesteps_this_iter": 135000, "training_iteration": 189, "node_ip": "10.138.0.2", "date": "2019-05-16_21-17-20", "policy_reward_mean": {}}
{"timestamp": 1558041526, "timesteps_since_restore": 25650000, "episode_len_mean": 728.49, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc0b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc4e0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.6394345431809065, "system_level_velocity_max": 10.599973037999144, "system_level_velocity_mean": 6.521627459888755, "cost1_mean": 167.09811145988624, "cost2_mean": -17.80976226847299, "cost1_max": 253.60188562993892, "cost2_max": -0.36385349923510946, "cost1_min": 22.341404506987033, "cost2_min": -81.67851036273807}, "done": false, "time_total_s": 16394.770068645477, "episode_reward_min": 111.3782655013313, "episodes_this_iter": 39, "num_metric_batches_dropped": 0, "iterations_since_restore": 190, "time_since_restore": 16394.770068645477, "time_this_iter_s": 85.54485845565796, "pid": 63744, "episode_reward_mean": 814.4170806302245, "info": {"grad_time_ms": 33902.472, "update_time_ms": 8.785, "num_steps_trained": 25650000, "num_steps_sampled": 25650000, "load_time_ms": 18.642, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5584467649459839, "total_loss": 8.541544914245605, "vf_loss": 8.545084953308105, "entropy": 1.7223016023635864, "kl": 0.015225525945425034, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008679399266839027}, "sample_time_ms": 52304.196}, "episodes_total": 7284, "timesteps_total": 25650000, "hostname": "flow-main", "episode_reward_max": 1244.3983425835331, "timesteps_this_iter": 135000, "training_iteration": 190, "node_ip": "10.138.0.2", "date": "2019-05-16_21-18-46", "policy_reward_mean": {}}
{"timestamp": 1558041612, "timesteps_since_restore": 25785000, "episode_len_mean": 723.77, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d25f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2e80>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.6394345431809065, "system_level_velocity_max": 10.599973037999144, "system_level_velocity_mean": 6.571033346657238, "cost1_mean": 167.2547520640064, "cost2_mean": -18.43619782586423, "cost1_max": 253.60188562993892, "cost2_max": -0.36385349923510946, "cost1_min": 22.341404506987033, "cost2_min": -81.67851036273807}, "done": false, "time_total_s": 16481.051379680634, "episode_reward_min": 111.3782655013313, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 191, "time_since_restore": 16481.051379680634, "time_this_iter_s": 86.28131103515625, "pid": 63744, "episode_reward_mean": 814.4395860362896, "info": {"grad_time_ms": 33983.692, "update_time_ms": 8.783, "num_steps_trained": 25785000, "num_steps_sampled": 25785000, "load_time_ms": 18.702, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5090678334236145, "total_loss": 7.808943748474121, "vf_loss": 7.812985420227051, "entropy": 1.8116623163223267, "kl": 0.015583498403429985, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009299764409661293}, "sample_time_ms": 52389.523}, "episodes_total": 7321, "timesteps_total": 25785000, "hostname": "flow-main", "episode_reward_max": 1244.3983425835331, "timesteps_this_iter": 135000, "training_iteration": 191, "node_ip": "10.138.0.2", "date": "2019-05-16_21-20-12", "policy_reward_mean": {}}
{"timestamp": 1558041698, "timesteps_since_restore": 25920000, "episode_len_mean": 728.8, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d23c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2518>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.963682362017078, "system_level_velocity_max": 10.599973037999144, "system_level_velocity_mean": 6.516187603040617, "cost1_mean": 167.4931271442685, "cost2_mean": -20.008445935055416, "cost1_max": 253.60188562993892, "cost2_max": -2.6687590211876513, "cost1_min": 48.370495546112906, "cost2_min": -81.67851036273807}, "done": false, "time_total_s": 16567.00082039833, "episode_reward_min": 220.05045807195606, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 192, "time_since_restore": 16567.00082039833, "time_this_iter_s": 85.94944071769714, "pid": 63744, "episode_reward_mean": 813.6735220658077, "info": {"grad_time_ms": 34033.518, "update_time_ms": 8.61, "num_steps_trained": 25920000, "num_steps_sampled": 25920000, "load_time_ms": 18.791, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.47533518075942993, "total_loss": 7.715559005737305, "vf_loss": 7.719418525695801, "entropy": 1.7481962442398071, "kl": 0.0155434999614954, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00910604652017355}, "sample_time_ms": 52372.236}, "episodes_total": 7359, "timesteps_total": 25920000, "hostname": "flow-main", "episode_reward_max": 1244.3983425835331, "timesteps_this_iter": 135000, "training_iteration": 192, "node_ip": "10.138.0.2", "date": "2019-05-16_21-21-38", "policy_reward_mean": {}}
{"timestamp": 1558041783, "timesteps_since_restore": 26055000, "episode_len_mean": 734.4, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2b70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2d68>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.7863295296656, "system_level_velocity_max": 10.481849408455625, "system_level_velocity_mean": 6.561462355599712, "cost1_mean": 170.22223163088955, "cost2_mean": -19.576097347197695, "cost1_max": 251.66010730851417, "cost2_max": -2.6687590211876513, "cost1_min": 48.370495546112906, "cost2_min": -78.52949992905232}, "done": false, "time_total_s": 16651.522746562958, "episode_reward_min": 220.05045807195606, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 193, "time_since_restore": 16651.522746562958, "time_this_iter_s": 84.52192616462708, "pid": 63744, "episode_reward_mean": 826.4278933459054, "info": {"grad_time_ms": 33763.638, "update_time_ms": 8.627, "num_steps_trained": 26055000, "num_steps_sampled": 26055000, "load_time_ms": 17.957, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5141792893409729, "total_loss": 7.583543300628662, "vf_loss": 7.587952613830566, "entropy": 1.755389928817749, "kl": 0.014823803678154945, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009412591345608234}, "sample_time_ms": 51938.882}, "episodes_total": 7395, "timesteps_total": 26055000, "hostname": "flow-main", "episode_reward_max": 1236.2912088814917, "timesteps_this_iter": 135000, "training_iteration": 193, "node_ip": "10.138.0.2", "date": "2019-05-16_21-23-03", "policy_reward_mean": {}}
{"timestamp": 1558041870, "timesteps_since_restore": 26190000, "episode_len_mean": 732.96, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c8048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fa04d68>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.0339800399022714, "system_level_velocity_max": 10.370742661943313, "system_level_velocity_mean": 6.5217410159073665, "cost1_mean": 169.5299217345914, "cost2_mean": -20.39996353432086, "cost1_max": 251.66010730851417, "cost2_max": -2.7033334497389574, "cost1_min": 48.370495546112906, "cost2_min": -78.52949992905232}, "done": false, "time_total_s": 16738.76332783699, "episode_reward_min": 220.05045807195606, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 194, "time_since_restore": 16738.76332783699, "time_this_iter_s": 87.24058127403259, "pid": 63744, "episode_reward_mean": 821.6968541246492, "info": {"grad_time_ms": 33871.781, "update_time_ms": 8.498, "num_steps_trained": 26190000, "num_steps_sampled": 26190000, "load_time_ms": 18.001, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.46432188153266907, "total_loss": 7.338884353637695, "vf_loss": 7.342957496643066, "entropy": 1.8180313110351562, "kl": 0.014564130455255508, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00898812711238861}, "sample_time_ms": 51932.262}, "episodes_total": 7431, "timesteps_total": 26190000, "hostname": "flow-main", "episode_reward_max": 1236.2912088814917, "timesteps_this_iter": 135000, "training_iteration": 194, "node_ip": "10.138.0.2", "date": "2019-05-16_21-24-30", "policy_reward_mean": {}}
{"timestamp": 1558041956, "timesteps_since_restore": 26325000, "episode_len_mean": 729.44, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d75f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d7278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d7a90>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.0339800399022714, "system_level_velocity_max": 10.370742661943313, "system_level_velocity_mean": 6.420734995205571, "cost1_mean": 167.02232747372284, "cost2_mean": -21.370781367283676, "cost1_max": 251.66010730851417, "cost2_max": -0.2249327930342657, "cost1_min": 17.298520801065415, "cost2_min": -78.52949992905232}, "done": false, "time_total_s": 16823.94285607338, "episode_reward_min": 85.78639201907771, "episodes_this_iter": 38, "num_metric_batches_dropped": 0, "iterations_since_restore": 195, "time_since_restore": 16823.94285607338, "time_this_iter_s": 85.17952823638916, "pid": 63744, "episode_reward_mean": 807.8288892959566, "info": {"grad_time_ms": 33756.767, "update_time_ms": 8.573, "num_steps_trained": 26325000, "num_steps_sampled": 26325000, "load_time_ms": 18.371, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.48073792457580566, "total_loss": 7.749364376068115, "vf_loss": 7.753908157348633, "entropy": 1.8231449127197266, "kl": 0.015445095486938953, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009755955077707767}, "sample_time_ms": 51926.83}, "episodes_total": 7469, "timesteps_total": 26325000, "hostname": "flow-main", "episode_reward_max": 1236.2912088814917, "timesteps_this_iter": 135000, "training_iteration": 195, "node_ip": "10.138.0.2", "date": "2019-05-16_21-25-56", "policy_reward_mean": {}}
{"timestamp": 1558042041, "timesteps_since_restore": 26460000, "episode_len_mean": 732.41, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d75c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d73c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d7828>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.0339800399022714, "system_level_velocity_max": 10.189707419929162, "system_level_velocity_mean": 6.333148111688752, "cost1_mean": 165.40875052552835, "cost2_mean": -21.679582924090802, "cost1_max": 243.10048574939168, "cost2_max": -0.2249327930342657, "cost1_min": 17.298520801065415, "cost2_min": -66.44174535544857}, "done": false, "time_total_s": 16909.449689149857, "episode_reward_min": 85.78639201907771, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 196, "time_since_restore": 16909.449689149857, "time_this_iter_s": 85.50683307647705, "pid": 63744, "episode_reward_mean": 799.6031788324777, "info": {"grad_time_ms": 33734.668, "update_time_ms": 8.514, "num_steps_trained": 26460000, "num_steps_sampled": 26460000, "load_time_ms": 18.256, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.474143385887146, "total_loss": 7.431467533111572, "vf_loss": 7.436099052429199, "entropy": 1.7840549945831299, "kl": 0.015152612701058388, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009746253490447998}, "sample_time_ms": 51906.553}, "episodes_total": 7505, "timesteps_total": 26460000, "hostname": "flow-main", "episode_reward_max": 1199.8614739986442, "timesteps_this_iter": 135000, "training_iteration": 196, "node_ip": "10.138.0.2", "date": "2019-05-16_21-27-21", "policy_reward_mean": {}}
{"timestamp": 1558042125, "timesteps_since_restore": 26595000, "episode_len_mean": 728.89, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cca58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503ccf28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc7f0>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.2843660015263922, "system_level_velocity_max": 10.361280629117594, "system_level_velocity_mean": 6.302356138774175, "cost1_mean": 163.8952020527387, "cost2_mean": -22.403632173703983, "cost1_max": 250.9301459784749, "cost2_max": -0.2249327930342657, "cost1_min": 17.298520801065415, "cost2_min": -65.08459217063506}, "done": false, "time_total_s": 16993.64523267746, "episode_reward_min": 85.78639201907771, "episodes_this_iter": 36, "num_metric_batches_dropped": 0, "iterations_since_restore": 197, "time_since_restore": 16993.64523267746, "time_this_iter_s": 84.19554352760315, "pid": 63744, "episode_reward_mean": 791.9848484846251, "info": {"grad_time_ms": 33618.701, "update_time_ms": 8.516, "num_steps_trained": 26595000, "num_steps_sampled": 26595000, "load_time_ms": 18.374, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4831649363040924, "total_loss": 8.112052917480469, "vf_loss": 8.116107940673828, "entropy": 1.8277924060821533, "kl": 0.01585204154253006, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009404998272657394}, "sample_time_ms": 51757.097}, "episodes_total": 7541, "timesteps_total": 26595000, "hostname": "flow-main", "episode_reward_max": 1225.8911643005479, "timesteps_this_iter": 135000, "training_iteration": 197, "node_ip": "10.138.0.2", "date": "2019-05-16_21-28-45", "policy_reward_mean": {}}
{"timestamp": 1558042211, "timesteps_since_restore": 26730000, "episode_len_mean": 738.16, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2860>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.2843660015263922, "system_level_velocity_max": 10.361280629117594, "system_level_velocity_mean": 6.341805479808527, "cost1_mean": 166.24581598621236, "cost2_mean": -23.68800594467414, "cost1_max": 250.9301459784749, "cost2_max": -2.6086928448158107, "cost1_min": 53.89676960849839, "cost2_min": -65.08459217063506}, "done": false, "time_total_s": 17079.166373729706, "episode_reward_min": 256.85976239134146, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 198, "time_since_restore": 17079.166373729706, "time_this_iter_s": 85.5211410522461, "pid": 63744, "episode_reward_mean": 802.252908877719, "info": {"grad_time_ms": 33498.628, "update_time_ms": 8.46, "num_steps_trained": 26730000, "num_steps_sampled": 26730000, "load_time_ms": 18.225, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5212602615356445, "total_loss": 7.624207019805908, "vf_loss": 7.628995418548584, "entropy": 1.8283721208572388, "kl": 0.015427643433213234, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009995665401220322}, "sample_time_ms": 51847.155}, "episodes_total": 7578, "timesteps_total": 26730000, "hostname": "flow-main", "episode_reward_max": 1225.8911643005479, "timesteps_this_iter": 135000, "training_iteration": 198, "node_ip": "10.138.0.2", "date": "2019-05-16_21-30-11", "policy_reward_mean": {}}
{"timestamp": 1558042295, "timesteps_since_restore": 26865000, "episode_len_mean": 731.68, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d29e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d22e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503c49e8>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 3.9325335500461223, "system_level_velocity_max": 10.361280629117594, "system_level_velocity_mean": 6.306907285775197, "cost1_mean": 164.56775850385017, "cost2_mean": -20.7506826703256, "cost1_max": 250.9301459784749, "cost2_max": -0.4471743898774792, "cost1_min": 20.875155920963763, "cost2_min": -65.08459217063506}, "done": false, "time_total_s": 17163.243035554886, "episode_reward_min": 103.81835579192334, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 199, "time_since_restore": 17163.243035554886, "time_this_iter_s": 84.07666182518005, "pid": 63744, "episode_reward_mean": 797.3153110533548, "info": {"grad_time_ms": 33418.872, "update_time_ms": 8.538, "num_steps_trained": 26865000, "num_steps_sampled": 26865000, "load_time_ms": 18.115, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5090700387954712, "total_loss": 7.244863986968994, "vf_loss": 7.2492876052856445, "entropy": 1.808249592781067, "kl": 0.015993788838386536, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009822055697441101}, "sample_time_ms": 51737.647}, "episodes_total": 7615, "timesteps_total": 26865000, "hostname": "flow-main", "episode_reward_max": 1230.960007398429, "timesteps_this_iter": 135000, "training_iteration": 199, "node_ip": "10.138.0.2", "date": "2019-05-16_21-31-35", "policy_reward_mean": {}}
{"timestamp": 1558042380, "timesteps_since_restore": 27000000, "episode_len_mean": 736.71, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:10.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "sgd_minibatch_size": 128, "input_evaluation": null, "lr_schedule": null, "monitor": false, "straggler_mitigation": false, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "vf_clip_param": 1000000.0, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "synchronize_filters": true, "clip_param": 0.3, "num_cpus_for_driver": 1, "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "model": {"custom_preprocessor": null, "squash_to_range": false, "grayscale": false, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "framestack": true, "lstm_cell_size": 256, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_model": null, "fcnet_hiddens": [128, 64, 32], "zero_mean": true}, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503cc208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2503d2320>"}, "optimizer": {}, "kl_target": 0.01, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "57aa789efa2a4dedb5bff0fd9b2de653", "custom_metrics": {"system_level_velocity_min": 4.069147432994884, "system_level_velocity_max": 10.077020344981465, "system_level_velocity_mean": 6.502144958817513, "cost1_mean": 170.30087534016133, "cost2_mean": -17.726025927748097, "cost1_max": 248.31125832647987, "cost2_max": -0.4471743898774792, "cost1_min": 20.875155920963763, "cost2_min": -62.91350232333534}, "done": true, "time_total_s": 17247.95165514946, "episode_reward_min": 103.81835579192334, "episodes_this_iter": 37, "num_metric_batches_dropped": 0, "iterations_since_restore": 200, "time_since_restore": 17247.95165514946, "time_this_iter_s": 84.70861959457397, "pid": 63744, "episode_reward_mean": 828.9430750427276, "info": {"grad_time_ms": 33371.403, "update_time_ms": 8.307, "num_steps_trained": 27000000, "num_steps_sampled": 27000000, "load_time_ms": 17.932, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4131964147090912, "total_loss": 7.741206169128418, "vf_loss": 7.7452073097229, "entropy": 1.71383798122406, "kl": 0.01443085353821516, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00887180957943201}, "sample_time_ms": 51701.144}, "episodes_total": 7652, "timesteps_total": 27000000, "hostname": "flow-main", "episode_reward_max": 1230.960007398429, "timesteps_this_iter": 135000, "training_iteration": 200, "node_ip": "10.138.0.2", "date": "2019-05-16_21-33-00", "policy_reward_mean": {}}
