{"pid": 18724, "custom_metrics": {"cost1_max": 144.9988846880896, "cost1_min": 100.14558389813182, "cost2_min": -46.53923718173266, "system_level_velocity_max": 11.804286450464232, "outflow_rate_mean": 760.6534218755896, "system_level_velocity_mean": 10.190508639529645, "system_level_velocity_min": 8.461230549809887, "outflow_rate_min": 528.4720000000001, "cost2_max": -16.16219879800259, "cost2_mean": -25.986379216100723, "outflow_rate_max": 1009.2560841789789, "cost1_mean": 122.92231249945239}, "iterations_since_restore": 1, "done": false, "episodes_total": 40, "time_total_s": 31.779192686080933, "episode_reward_min": 145.84897261985924, "time_since_restore": 31.779192686080933, "episodes_this_iter": 40, "timesteps_since_restore": 41444, "episode_reward_max": 375.53583238454604, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815a0f0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815a128>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815a160>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572520, "episode_reward_mean": 221.98239842678822, "info": {"load_time_ms": 60.336, "default": {"entropy": 1.4185680150985718, "vf_explained_var": 0.8902135491371155, "kl": 0.0033245740924030542, "cur_lr": 0.0005000000237487257, "vf_loss": 1.8120665550231934, "cur_kl_coeff": 0.20000001788139343, "total_loss": 1.8107377290725708, "policy_loss": -0.001993597485125065}, "update_time_ms": 892.01, "num_steps_trained": 41444, "sample_time_ms": 19917.372, "num_steps_sampled": 41444, "grad_time_ms": 10769.772}, "hostname": "flow-main", "timesteps_this_iter": 41444, "num_metric_batches_dropped": 0, "timesteps_total": 41444, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 1, "date": "2019-05-23_00-48-40", "time_this_iter_s": 31.779192686080933, "episode_len_mean": 325.0, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 144.9988846880896, "cost1_min": 100.14558389813182, "cost2_min": -46.53923718173266, "system_level_velocity_max": 11.804286450464232, "outflow_rate_mean": 742.4767547792262, "system_level_velocity_mean": 10.25737397025352, "system_level_velocity_min": 8.461230549809887, "outflow_rate_min": 378.4309216589861, "cost2_max": -16.16219879800259, "cost2_mean": -26.527293757276436, "outflow_rate_max": 1009.2560841789789, "cost1_mean": 123.93007328501781}, "iterations_since_restore": 2, "done": false, "episodes_total": 80, "time_total_s": 59.21804928779602, "episode_reward_min": 145.84897261985924, "time_since_restore": 59.21804928779602, "episodes_this_iter": 40, "timesteps_since_restore": 85555, "episode_reward_max": 375.53583238454604, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166470>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f181664a8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f181664e0>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572547, "episode_reward_mean": 232.49230395052336, "info": {"load_time_ms": 31.842, "default": {"entropy": 1.4008913040161133, "vf_explained_var": 0.9488029479980469, "kl": 0.008095397613942623, "cur_lr": 0.0005000000237487257, "vf_loss": 1.466288685798645, "cur_kl_coeff": 0.10000001639127731, "total_loss": 1.4633065462112427, "policy_loss": -0.0037916437722742558}, "update_time_ms": 450.073, "num_steps_trained": 85555, "sample_time_ms": 19084.946, "num_steps_sampled": 85555, "grad_time_ms": 9931.209}, "hostname": "flow-main", "timesteps_this_iter": 44111, "num_metric_batches_dropped": 0, "timesteps_total": 85555, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 2, "date": "2019-05-23_00-49-07", "time_this_iter_s": 27.438856601715088, "episode_len_mean": 325.0, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 157.8024543033199, "cost1_min": 22.574317501699085, "cost2_min": -48.162161682942354, "system_level_velocity_max": 18.13076731388249, "outflow_rate_mean": 755.8240427955419, "system_level_velocity_mean": 10.692635873817897, "system_level_velocity_min": 8.540292691368446, "outflow_rate_min": 378.4309216589861, "cost2_max": -12.266223838628326, "cost2_mean": -27.3732069287334, "outflow_rate_max": 1009.2560841789789, "cost1_mean": 127.73072417854786}, "iterations_since_restore": 3, "done": false, "episodes_total": 121, "time_total_s": 89.79652690887451, "episode_reward_min": 50.99010588273782, "time_since_restore": 89.79652690887451, "episodes_this_iter": 41, "timesteps_since_restore": 132007, "episode_reward_max": 375.6334245089113, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815ab00>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815a898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815ad30>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572578, "episode_reward_mean": 256.9555877182541, "info": {"load_time_ms": 23.525, "default": {"entropy": 1.3888667821884155, "vf_explained_var": 0.9189040660858154, "kl": 0.009125986136496067, "cur_lr": 0.0005000000237487257, "vf_loss": 3.548405647277832, "cur_kl_coeff": 0.10000000894069672, "total_loss": 3.5437779426574707, "policy_loss": -0.005540024489164352}, "update_time_ms": 302.821, "num_steps_trained": 132007, "sample_time_ms": 19168.608, "num_steps_sampled": 132007, "grad_time_ms": 10335.654}, "hostname": "flow-main", "timesteps_this_iter": 46452, "num_metric_batches_dropped": 0, "timesteps_total": 132007, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 3, "date": "2019-05-23_00-49-38", "time_this_iter_s": 30.57847762107849, "episode_len_mean": 322.1, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 169.87030442029885, "cost1_min": 22.574317501699085, "cost2_min": -48.162161682942354, "system_level_velocity_max": 18.13076731388249, "outflow_rate_mean": 796.0365490442654, "system_level_velocity_mean": 11.37979941786286, "system_level_velocity_min": 8.912245080097163, "outflow_rate_min": 422.23563794983636, "cost2_max": -12.266223838628326, "cost2_mean": -29.129047483662184, "outflow_rate_max": 1053.7187171286425, "cost1_mean": 136.78391756986332}, "iterations_since_restore": 4, "done": false, "episodes_total": 181, "time_total_s": 121.87659406661987, "episode_reward_min": 50.99010588273782, "time_since_restore": 121.87659406661987, "episodes_this_iter": 60, "timesteps_since_restore": 179686, "episode_reward_max": 412.2647071418255, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f181663c8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166400>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f99eb2c18>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572610, "episode_reward_mean": 316.49219351885574, "info": {"load_time_ms": 18.641, "default": {"entropy": 1.3802834749221802, "vf_explained_var": 0.9237728118896484, "kl": 0.008140972815454006, "cur_lr": 0.0005000000237487257, "vf_loss": 5.34183406829834, "cur_kl_coeff": 0.10000000894069672, "total_loss": 5.339860916137695, "policy_loss": -0.002787646371871233}, "update_time_ms": 229.441, "num_steps_trained": 179686, "sample_time_ms": 19840.89, "num_steps_sampled": 179686, "grad_time_ms": 10284.004}, "hostname": "flow-main", "timesteps_this_iter": 47679, "num_metric_batches_dropped": 0, "timesteps_total": 179686, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 4, "date": "2019-05-23_00-50-10", "time_this_iter_s": 32.08006715774536, "episode_len_mean": 322.1, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 169.87030442029885, "cost1_min": 108.16268389623991, "cost2_min": -42.57108108131395, "system_level_velocity_max": 13.767965951382637, "outflow_rate_mean": 807.0441691412898, "system_level_velocity_mean": 11.441475374862291, "system_level_velocity_min": 8.997433842792136, "outflow_rate_min": 422.23563794983636, "cost2_max": -23.026009414900848, "cost2_mean": -32.03293095686977, "outflow_rate_max": 1053.7187171286425, "cost1_mean": 139.6576346773863}, "iterations_since_restore": 5, "done": false, "episodes_total": 221, "time_total_s": 152.61776113510132, "episode_reward_min": 276.69646589777676, "time_since_restore": 152.61776113510132, "episodes_this_iter": 40, "timesteps_since_restore": 229962, "episode_reward_max": 412.2647071418255, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166978>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166940>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f181a6a58>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572641, "episode_reward_mean": 345.29207624174995, "info": {"load_time_ms": 16.49, "default": {"entropy": 1.3839662075042725, "vf_explained_var": 0.9295554161071777, "kl": 0.0064607299864292145, "cur_lr": 0.0005000000237487257, "vf_loss": 5.465887546539307, "cur_kl_coeff": 0.10000000894069672, "total_loss": 5.463595867156982, "policy_loss": -0.002937251003459096}, "update_time_ms": 185.063, "num_steps_trained": 229962, "sample_time_ms": 19796.545, "num_steps_sampled": 229962, "grad_time_ms": 10429.795}, "hostname": "flow-main", "timesteps_this_iter": 50276, "num_metric_batches_dropped": 0, "timesteps_total": 229962, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 5, "date": "2019-05-23_00-50-41", "time_this_iter_s": 30.741167068481445, "episode_len_mean": 325.0, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 161.30730970592168, "cost1_min": 79.644482779998, "cost2_min": -45.55576076300479, "system_level_velocity_max": 13.076653194636668, "outflow_rate_mean": 820.3151221663451, "system_level_velocity_mean": 11.474875015057634, "system_level_velocity_min": 6.652865834170572, "outflow_rate_min": 558.682687312687, "cost2_max": -23.9440573521914, "cost2_mean": -33.93367144001815, "outflow_rate_max": 997.2051408196619, "cost1_mean": 140.18701056530747}, "iterations_since_restore": 6, "done": false, "episodes_total": 261, "time_total_s": 184.6284897327423, "episode_reward_min": 280.38785797236955, "time_since_restore": 184.6284897327423, "episodes_this_iter": 40, "timesteps_since_restore": 281856, "episode_reward_max": 400.30008814779296, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815a710>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815a550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815a6a0>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572673, "episode_reward_mean": 356.20532696154083, "info": {"load_time_ms": 14.86, "default": {"entropy": 1.3774988651275635, "vf_explained_var": 0.9335610270500183, "kl": 0.007743538822978735, "cur_lr": 0.0005000000237487257, "vf_loss": 5.708139419555664, "cur_kl_coeff": 0.10000001639127731, "total_loss": 5.70639705657959, "policy_loss": -0.002516231033951044}, "update_time_ms": 155.573, "num_steps_trained": 281856, "sample_time_ms": 19809.895, "num_steps_sampled": 281856, "grad_time_ms": 10695.402}, "hostname": "flow-main", "timesteps_this_iter": 51894, "num_metric_batches_dropped": 0, "timesteps_total": 281856, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 6, "date": "2019-05-23_00-51-13", "time_this_iter_s": 32.01072859764099, "episode_len_mean": 325.0, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 163.31207459883018, "cost1_min": 79.644482779998, "cost2_min": -48.046694572856865, "system_level_velocity_max": 13.221853333955574, "outflow_rate_mean": 818.8633801821816, "system_level_velocity_mean": 11.480359304564438, "system_level_velocity_min": 6.652865834170572, "outflow_rate_min": 471.34648351648354, "cost2_max": -26.953031459585397, "cost2_mean": -34.53872430936997, "outflow_rate_max": 1022.7551341381622, "cost1_mean": 140.0661481010447}, "iterations_since_restore": 7, "done": false, "episodes_total": 321, "time_total_s": 219.16041684150696, "episode_reward_min": 280.38785797236955, "time_since_restore": 219.16041684150696, "episodes_this_iter": 60, "timesteps_since_restore": 333974, "episode_reward_max": 407.9445482603118, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166d68>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f181663c8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166470>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572707, "episode_reward_mean": 361.42856767675136, "info": {"load_time_ms": 13.654, "default": {"entropy": 1.3680944442749023, "vf_explained_var": 0.9431097507476807, "kl": 0.007629187777638435, "cur_lr": 0.0005000000237487257, "vf_loss": 6.395992279052734, "cur_kl_coeff": 0.10000002384185791, "total_loss": 6.393868923187256, "policy_loss": -0.002886220347136259}, "update_time_ms": 134.38, "num_steps_trained": 333974, "sample_time_ms": 20003.778, "num_steps_sampled": 333974, "grad_time_ms": 11062.304}, "hostname": "flow-main", "timesteps_this_iter": 52118, "num_metric_batches_dropped": 0, "timesteps_total": 333974, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 7, "date": "2019-05-23_00-51-47", "time_this_iter_s": 34.53192710876465, "episode_len_mean": 325.0, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 163.31207459883018, "cost1_min": 104.96807646490356, "cost2_min": -48.046694572856865, "system_level_velocity_max": 13.221853333955574, "outflow_rate_mean": 758.6487006087295, "system_level_velocity_mean": 11.106253895263537, "system_level_velocity_min": 8.804873532967575, "outflow_rate_min": 388.2471264994549, "cost2_max": -22.51434159555465, "cost2_mean": -33.70109088049162, "outflow_rate_max": 1022.7551341381622, "cost1_mean": 134.77900849181185}, "iterations_since_restore": 8, "done": false, "episodes_total": 361, "time_total_s": 253.1447410583496, "episode_reward_min": 302.34099990115675, "time_since_restore": 253.1447410583496, "episodes_this_iter": 40, "timesteps_since_restore": 388519, "episode_reward_max": 407.9445482603118, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1816f9e8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1816fa58>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1816fba8>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572741, "episode_reward_mean": 350.43266047150007, "info": {"load_time_ms": 12.831, "default": {"entropy": 1.3603333234786987, "vf_explained_var": 0.943409264087677, "kl": 0.00911977794021368, "cur_lr": 0.0005000000237487257, "vf_loss": 5.784237384796143, "cur_kl_coeff": 0.10000001639127731, "total_loss": 5.7811808586120605, "policy_loss": -0.003968838602304459}, "update_time_ms": 118.636, "num_steps_trained": 388519, "sample_time_ms": 19958.62, "num_steps_sampled": 388519, "grad_time_ms": 11457.601}, "hostname": "flow-main", "timesteps_this_iter": 54545, "num_metric_batches_dropped": 0, "timesteps_total": 388519, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 8, "date": "2019-05-23_00-52-21", "time_this_iter_s": 33.98432421684265, "episode_len_mean": 325.0, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 163.31207459883018, "cost1_min": 61.25989475469248, "cost2_min": -42.88873348428233, "system_level_velocity_max": 13.221853333955574, "outflow_rate_mean": 647.9667167086337, "system_level_velocity_mean": 10.440676209575754, "system_level_velocity_min": 5.2786084338161166, "outflow_rate_min": 66.24, "cost2_max": -22.51434159555465, "cost2_mean": -33.0840428771927, "outflow_rate_max": 992.757610062893, "cost1_mean": 125.96930519007728}, "iterations_since_restore": 9, "done": false, "episodes_total": 401, "time_total_s": 292.3269217014313, "episode_reward_min": 214.1371000689035, "time_since_restore": 292.3269217014313, "episodes_this_iter": 40, "timesteps_since_restore": 449608, "episode_reward_max": 406.2581622180995, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f99eb2c18>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1816f2b0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1816ff98>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572781, "episode_reward_mean": 333.57365762520567, "info": {"load_time_ms": 12.38, "default": {"entropy": 1.349909782409668, "vf_explained_var": 0.9430561065673828, "kl": 0.01153742615133524, "cur_lr": 0.0005000000237487257, "vf_loss": 4.72970724105835, "cur_kl_coeff": 0.10000002384185791, "total_loss": 4.727461338043213, "policy_loss": -0.0033993131946772337}, "update_time_ms": 106.412, "num_steps_trained": 449608, "sample_time_ms": 20036.654, "num_steps_sampled": 449608, "grad_time_ms": 12228.231}, "hostname": "flow-main", "timesteps_this_iter": 61089, "num_metric_batches_dropped": 0, "timesteps_total": 449608, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 9, "date": "2019-05-23_00-53-01", "time_this_iter_s": 39.182180643081665, "episode_len_mean": 325.0, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 142.33412134952363, "cost1_min": 61.25989475469248, "cost2_min": -43.01670628513435, "system_level_velocity_max": 11.627300579274726, "outflow_rate_mean": 481.18463236511934, "system_level_velocity_mean": 9.450263697885148, "system_level_velocity_min": 5.23646712146344, "outflow_rate_min": 66.24, "cost2_max": -19.256791332422218, "cost2_mean": -31.424400043960013, "outflow_rate_max": 768.1843944353517, "cost1_mean": 113.35487430322316}, "iterations_since_restore": 10, "done": false, "episodes_total": 460, "time_total_s": 332.027850151062, "episode_reward_min": 214.1371000689035, "time_since_restore": 332.027850151062, "episodes_this_iter": 59, "timesteps_since_restore": 512391, "episode_reward_max": 372.4468760996362, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166828>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166cc0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f18166710>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572820, "episode_reward_mean": 309.6850088014203, "info": {"load_time_ms": 11.954, "default": {"entropy": 1.3467377424240112, "vf_explained_var": 0.9463121294975281, "kl": 0.011036122217774391, "cur_lr": 0.0005000000237487257, "vf_loss": 4.727401256561279, "cur_kl_coeff": 0.10000001639127731, "total_loss": 4.7245635986328125, "policy_loss": -0.003941344562917948}, "update_time_ms": 96.542, "num_steps_trained": 512391, "sample_time_ms": 20267.36, "num_steps_sampled": 512391, "grad_time_ms": 12728.367}, "hostname": "flow-main", "timesteps_this_iter": 62783, "num_metric_batches_dropped": 0, "timesteps_total": 512391, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 10, "date": "2019-05-23_00-53-40", "time_this_iter_s": 39.70092844963074, "episode_len_mean": 325.0, "policy_reward_mean": {}}
{"pid": 18724, "custom_metrics": {"cost1_max": 142.33412134952363, "cost1_min": 61.42065271110227, "cost2_min": -43.01670628513435, "system_level_velocity_max": 11.627300579274726, "outflow_rate_mean": 434.5732576527192, "system_level_velocity_mean": 9.26410632954646, "system_level_velocity_min": 5.23646712146344, "outflow_rate_min": 66.24, "cost2_max": -19.256791332422218, "cost2_mean": -29.691809403998764, "outflow_rate_max": 748.6183816183818, "cost1_mean": 110.87329553676501}, "iterations_since_restore": 11, "done": false, "episodes_total": 501, "time_total_s": 371.03320121765137, "episode_reward_min": 216.44388156472115, "time_since_restore": 371.03320121765137, "episodes_this_iter": 41, "timesteps_since_restore": 571049, "episode_reward_max": 362.73045529890504, "node_ip": "10.138.0.2", "config": {"output_compress_columns": ["obs", "new_obs"], "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1815afd0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1816ff28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9f1816f0f0>"}, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "clip_param": 0.3, "input": "sampler", "vf_share_layers": false, "num_gpus_per_worker": 0, "num_workers": 20, "num_envs_per_worker": 1, "train_batch_size": 15000, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "synchronize_filters": true, "sample_batch_size": 750, "horizon": 750, "straggler_mitigation": false, "model": {"grayscale": false, "max_seq_len": 20, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "custom_options": {}, "framestack": true, "custom_preprocessor": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "channel_major": false, "squash_to_range": false, "fcnet_hiddens": [128, 64, 32], "free_log_std": false, "conv_filters": null, "custom_model": null}, "compress_observations": false, "output": null, "use_gae": true, "simple_optimizer": false, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "gamma": 0.99, "input_evaluation": null, "lr_schedule": null, "sgd_minibatch_size": 128, "entropy_coeff": 0.0, "vf_clip_param": 1000000.0, "optimizer": {}, "num_gpus": 0, "num_cpus_for_driver": 1, "num_sgd_iter": 10, "clip_actions": false, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "lr": 0.0005, "monitor": false, "preprocessor_pref": "deepmind", "tf_session_args": {"allow_soft_placement": true, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "intra_op_parallelism_threads": 2}, "output_max_file_size": 67108864, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "custom_resources_per_worker": {}, "kl_target": 0.01, "observation_filter": "MeanStdFilter", "batch_mode": "truncate_episodes", "sample_async": false, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1"}, "timestamp": 1558572859, "episode_reward_mean": 304.002424986607, "info": {"load_time_ms": 6.705, "default": {"entropy": 1.3353191614151, "vf_explained_var": 0.9528189301490784, "kl": 0.01088773738592863, "cur_lr": 0.0005000000237487257, "vf_loss": 4.636655807495117, "cur_kl_coeff": 0.10000002384185791, "total_loss": 4.633433818817139, "policy_loss": -0.00431046262383461}, "update_time_ms": 8.141, "num_steps_trained": 571049, "sample_time_ms": 20377.997, "num_steps_sampled": 571049, "grad_time_ms": 13436.78}, "hostname": "flow-main", "timesteps_this_iter": 58658, "num_metric_batches_dropped": 0, "timesteps_total": 571049, "experiment_id": "0d88f51b43e54d20a007016419f995fe", "training_iteration": 11, "date": "2019-05-23_00-54-19", "time_this_iter_s": 39.005351066589355, "episode_len_mean": 325.0, "policy_reward_mean": {}}
