{"config": {"num_gpus_per_worker": 0, "lr": 0.0005, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "train_batch_size": 15000, "horizon": 750, "clip_actions": false, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "lr_schedule": null, "output": null, "vf_share_layers": false, "monitor": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "output_max_file_size": 67108864, "model": {"channel_major": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_filters": null, "conv_activation": "relu", "grayscale": false, "max_seq_len": 20, "custom_options": {}, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_preprocessor": null, "lstm_cell_size": 256, "fcnet_activation": "tanh", "zero_mean": true, "dim": 84, "lstm_use_prev_action_reward": false}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f536ae01a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f536ae019e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f536ae01a20>"}, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "num_cpus_for_driver": 1, "num_cpus_per_worker": 1, "sample_async": false, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "input_evaluation": null, "use_gae": true, "clip_param": 0.3, "vf_loss_coeff": 1.0, "num_workers": 20, "log_level": "INFO", "compress_observations": false, "optimizer": {}, "synchronize_filters": true, "batch_mode": "truncate_episodes", "entropy_coeff": 0.0, "kl_target": 0.01, "clip_rewards": null, "gamma": 0.99, "num_gpus": 0, "observation_filter": "MeanStdFilter", "sample_batch_size": 750, "tf_session_args": {"gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "simple_optimizer": false, "preprocessor_pref": "deepmind", "input": "sampler", "lambda": 0.97}, "timesteps_since_restore": 41004, "episodes_this_iter": 40, "pid": 45007, "timesteps_this_iter": 41004, "time_since_restore": 31.300025701522827, "node_ip": "10.138.0.2", "episode_len_mean": 325.0, "hostname": "flow-main", "training_iteration": 1, "iterations_since_restore": 1, "episode_reward_max": -310.16236361025915, "policy_reward_mean": {}, "done": false, "time_this_iter_s": 31.300025701522827, "episodes_total": 40, "timesteps_total": 41004, "episode_reward_mean": -694.4031547956881, "timestamp": 1558583040, "num_metric_batches_dropped": 0, "experiment_id": "b314c6363a3f437798bd5ad9a73b3c00", "date": "2019-05-23_03-44-00", "custom_metrics": {"cost2_min": -78.78194879273917, "cost1_mean": 123.9942769964201, "outflow_rate_min": 426.1761290322579, "cost2_mean": -45.57314859970881, "outflow_rate_max": 945.0268159647837, "cost1_max": 143.61833454036466, "system_level_velocity_min": 8.299907758940572, "cost2_max": -21.89654514438914, "cost1_min": 98.51307727719175, "system_level_velocity_mean": 10.324900458379851, "outflow_rate_mean": 742.5550872815329, "system_level_velocity_max": 12.419045399902334}, "time_total_s": 31.300025701522827, "info": {"default": {"cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.20000001788139343, "entropy": 1.4176300764083862, "vf_explained_var": 0.5287904739379883, "kl": 0.0034581527579575777, "vf_loss": 16.7158260345459, "total_loss": 16.714529037475586, "policy_loss": -0.0019890395924448967}, "sample_time_ms": 19712.295, "num_steps_sampled": 41004, "num_steps_trained": 41004, "grad_time_ms": 10528.408, "load_time_ms": 64.547, "update_time_ms": 832.717}, "episode_reward_min": -918.3406490687083}
{"config": {"num_gpus_per_worker": 0, "lr": 0.0005, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "train_batch_size": 15000, "horizon": 750, "clip_actions": false, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "lr_schedule": null, "output": null, "vf_share_layers": false, "monitor": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "collect_metrics_timeout": 180, "output_max_file_size": 67108864, "model": {"channel_major": false, "use_lstm": false, "custom_model": null, "free_log_std": false, "conv_filters": null, "conv_activation": "relu", "grayscale": false, "max_seq_len": 20, "custom_options": {}, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_preprocessor": null, "lstm_cell_size": 256, "fcnet_activation": "tanh", "zero_mean": true, "dim": 84, "lstm_use_prev_action_reward": false}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5369bad6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5369bad668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5369bad6a0>"}, "output_compress_columns": ["obs", "new_obs"], "num_sgd_iter": 10, "num_cpus_for_driver": 1, "num_cpus_per_worker": 1, "sample_async": false, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "input_evaluation": null, "use_gae": true, "clip_param": 0.3, "vf_loss_coeff": 1.0, "num_workers": 20, "log_level": "INFO", "compress_observations": false, "optimizer": {}, "synchronize_filters": true, "batch_mode": "truncate_episodes", "entropy_coeff": 0.0, "kl_target": 0.01, "clip_rewards": null, "gamma": 0.99, "num_gpus": 0, "observation_filter": "MeanStdFilter", "sample_batch_size": 750, "tf_session_args": {"gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "intra_op_parallelism_threads": 2, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "simple_optimizer": false, "preprocessor_pref": "deepmind", "input": "sampler", "lambda": 0.97}, "timesteps_since_restore": 82689, "episodes_this_iter": 40, "pid": 45007, "timesteps_this_iter": 41685, "time_since_restore": 59.66114830970764, "node_ip": "10.138.0.2", "episode_len_mean": 325.0, "hostname": "flow-main", "training_iteration": 2, "iterations_since_restore": 2, "episode_reward_max": -310.16236361025915, "policy_reward_mean": {}, "done": false, "time_this_iter_s": 28.361122608184814, "episodes_total": 80, "timesteps_total": 82689, "episode_reward_mean": -686.8294898884682, "timestamp": 1558583069, "num_metric_batches_dropped": 0, "experiment_id": "b314c6363a3f437798bd5ad9a73b3c00", "date": "2019-05-23_03-44-29", "custom_metrics": {"cost2_min": -78.78194879273917, "cost1_mean": 125.06639957576749, "outflow_rate_min": 426.1761290322579, "cost2_mean": -47.123388177222196, "outflow_rate_max": 960.6583275261324, "cost1_max": 150.9686006246784, "system_level_velocity_min": 8.299907758940572, "cost2_max": -21.89654514438914, "cost1_min": 98.51307727719175, "system_level_velocity_mean": 10.402115177122718, "outflow_rate_mean": 758.4155069348496, "system_level_velocity_max": 12.419045399902334}, "time_total_s": 59.66114830970764, "info": {"default": {"cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000002384185791, "entropy": 1.4088751077651978, "vf_explained_var": 0.5489255785942078, "kl": 0.008430731482803822, "vf_loss": 36.2707633972168, "total_loss": 36.268341064453125, "policy_loss": -0.003264717059209943}, "sample_time_ms": 18828.867, "num_steps_sampled": 82689, "num_steps_trained": 82689, "grad_time_ms": 10424.194, "load_time_ms": 35.04, "update_time_ms": 420.556}, "episode_reward_min": -918.3406490687083}
