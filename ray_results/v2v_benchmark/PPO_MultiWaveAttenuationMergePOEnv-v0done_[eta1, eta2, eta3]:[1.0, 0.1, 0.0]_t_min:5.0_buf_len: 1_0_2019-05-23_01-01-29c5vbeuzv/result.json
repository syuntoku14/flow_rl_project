{"hostname": "flow-main", "timesteps_since_restore": 40979, "training_iteration": 1, "custom_metrics": {"cost1_mean": 117.799321379512, "cost2_min": -40.55483360536335, "cost2_max": -14.627518635245458, "cost1_min": 23.69597318894422, "outflow_rate_min": 359.3485984251968, "cost1_max": 147.19658914958734, "outflow_rate_mean": 735.4632227141142, "system_level_velocity_mean": 10.184997514316379, "system_level_velocity_max": 17.487404466808346, "system_level_velocity_min": 8.276305155258143, "cost2_mean": -25.091295377147446, "outflow_rate_max": 955.2952577319586}, "episodes_this_iter": 41, "iterations_since_restore": 1, "time_total_s": 29.099737405776978, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca96ba898>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca96ba908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca96ba8d0>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0007083683158271015, "cur_lr": 0.0005000000237487257, "vf_loss": 1.584829330444336, "total_loss": 1.5844452381134033, "vf_explained_var": 0.899675726890564, "kl": 0.0016212299233302474, "entropy": 1.4150431156158447}, "num_steps_sampled": 40979, "sample_time_ms": 19627.946, "update_time_ms": 735.283, "grad_time_ms": 8544.484, "num_steps_trained": 40979, "load_time_ms": 49.807}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573371, "episodes_total": 41, "timesteps_total": 40979, "episode_len_mean": 317.9756097560976, "episode_reward_max": 292.8707548872577, "time_this_iter_s": 29.099737405776978, "node_ip": "10.138.0.2", "date": "2019-05-23_01-02-51", "policy_reward_mean": {}, "time_since_restore": 29.099737405776978, "episode_reward_min": 48.681068365157365, "timesteps_this_iter": 40979, "done": false, "episode_reward_mean": 192.17707790014938}
{"hostname": "flow-main", "timesteps_since_restore": 82141, "training_iteration": 2, "custom_metrics": {"cost1_mean": 119.96928486497616, "cost2_min": -40.55483360536335, "cost2_max": -12.231025977343739, "cost1_min": 22.578893552668298, "outflow_rate_min": 359.3485984251968, "cost1_max": 147.19658914958734, "outflow_rate_mean": 747.8954006534007, "system_level_velocity_mean": 10.373358313644498, "system_level_velocity_max": 18.180992579033028, "system_level_velocity_min": 8.276305155258143, "cost2_mean": -24.732584631720393, "outflow_rate_max": 955.2952577319586}, "episodes_this_iter": 41, "iterations_since_restore": 2, "time_total_s": 57.63501214981079, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9462b00>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9462b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9462b38>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.004476040601730347, "cur_lr": 0.0005000000237487257, "vf_loss": 1.513201355934143, "total_loss": 1.5098322629928589, "vf_explained_var": 0.9472358822822571, "kl": 0.011070026084780693, "entropy": 1.4072316884994507}, "num_steps_sampled": 82141, "sample_time_ms": 19053.931, "update_time_ms": 371.52, "grad_time_ms": 9258.737, "num_steps_trained": 82141, "load_time_ms": 26.799}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573400, "episodes_total": 82, "timesteps_total": 82141, "episode_len_mean": 317.9512195121951, "episode_reward_max": 297.67113875391306, "time_this_iter_s": 28.535274744033813, "node_ip": "10.138.0.2", "date": "2019-05-23_01-03-20", "policy_reward_mean": {}, "time_since_restore": 57.63501214981079, "episode_reward_min": 47.27951099021598, "timesteps_this_iter": 41162, "done": false, "episode_reward_mean": 203.16716452451283}
{"hostname": "flow-main", "timesteps_since_restore": 124667, "training_iteration": 3, "custom_metrics": {"cost1_mean": 128.17653245309074, "cost2_min": -42.63360251766785, "cost2_max": -12.231025977343739, "cost1_min": 22.578893552668298, "outflow_rate_min": 445.765573770492, "cost1_max": 172.58309870060805, "outflow_rate_mean": 808.5994532278029, "system_level_velocity_mean": 10.938760534499036, "system_level_velocity_max": 18.180992579033028, "system_level_velocity_min": 8.276305155258143, "cost2_mean": -26.957602698494767, "outflow_rate_max": 1100.6744866583342}, "episodes_this_iter": 41, "iterations_since_restore": 3, "time_total_s": 86.71406531333923, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946abe0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca94767b8>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.005604829639196396, "cur_lr": 0.0005000000237487257, "vf_loss": 3.30832839012146, "total_loss": 3.3040146827697754, "vf_explained_var": 0.9299881458282471, "kl": 0.012911537662148476, "entropy": 1.3912458419799805}, "num_steps_sampled": 124667, "sample_time_ms": 18960.416, "update_time_ms": 250.18, "grad_time_ms": 9575.712, "num_steps_trained": 124667, "load_time_ms": 19.308}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573429, "episodes_total": 123, "timesteps_total": 124667, "episode_len_mean": 319.25, "episode_reward_max": 384.07455326103053, "time_this_iter_s": 29.079053163528442, "node_ip": "10.138.0.2", "date": "2019-05-23_01-03-49", "policy_reward_mean": {}, "time_since_restore": 86.71406531333923, "episode_reward_min": 47.27951099021598, "timesteps_this_iter": 42526, "done": false, "episode_reward_mean": 237.81056199217525}
{"hostname": "flow-main", "timesteps_since_restore": 166934, "training_iteration": 4, "custom_metrics": {"cost1_mean": 150.04425234335994, "cost2_min": -51.02148098470984, "cost2_max": -15.41379951891533, "cost1_min": 25.917608909726802, "outflow_rate_min": 480.7985364308436, "cost1_max": 185.74546708291686, "outflow_rate_mean": 937.6105082313942, "system_level_velocity_mean": 12.469427079953121, "system_level_velocity_max": 18.0657682081798, "system_level_velocity_min": 8.962859940960989, "cost2_mean": -31.580396233892657, "outflow_rate_max": 1190.2670174233972}, "episodes_this_iter": 60, "iterations_since_restore": 4, "time_total_s": 116.22345566749573, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946a518>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946a358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946a550>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.003623621305450797, "cur_lr": 0.0005000000237487257, "vf_loss": 7.709776878356934, "total_loss": 7.706855297088623, "vf_explained_var": 0.9055364727973938, "kl": 0.007016076240688562, "entropy": 1.3786430358886719}, "num_steps_sampled": 166934, "sample_time_ms": 19001.116, "update_time_ms": 189.607, "grad_time_ms": 9756.377, "num_steps_trained": 166934, "load_time_ms": 15.605}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573459, "episodes_total": 183, "timesteps_total": 166934, "episode_len_mean": 322.15, "episode_reward_max": 440.96583649816677, "time_this_iter_s": 29.509390354156494, "node_ip": "10.138.0.2", "date": "2019-05-23_01-04-19", "policy_reward_mean": {}, "time_since_restore": 116.22345566749573, "episode_reward_min": 57.141881176021954, "timesteps_this_iter": 42267, "done": false, "episode_reward_mean": 319.59872123672454}
{"hostname": "flow-main", "timesteps_since_restore": 215851, "training_iteration": 5, "custom_metrics": {"cost1_mean": 158.2958867140012, "cost2_min": -60.63245319539982, "cost2_max": -20.684265912269588, "cost1_min": 60.27661067236798, "outflow_rate_min": 68.04, "cost1_max": 189.533385107505, "outflow_rate_mean": 969.9006097525042, "system_level_velocity_mean": 12.952473199226837, "system_level_velocity_max": 15.291458098938701, "system_level_velocity_min": 5.190897355955955, "cost2_mean": -38.03638380815008, "outflow_rate_max": 1199.028742714411}, "episodes_this_iter": 40, "iterations_since_restore": 5, "time_total_s": 147.4935007095337, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476438>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca94764a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476470>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000000894069672, "policy_loss": -0.0023213871754705906, "cur_lr": 0.0005000000237487257, "vf_loss": 5.926104545593262, "total_loss": 5.924431324005127, "vf_explained_var": 0.9428208470344543, "kl": 0.006488977465778589, "entropy": 1.3813616037368774}, "num_steps_sampled": 215851, "sample_time_ms": 19123.769, "update_time_ms": 153.336, "grad_time_ms": 10117.693, "num_steps_trained": 215851, "load_time_ms": 13.415}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573490, "episodes_total": 223, "timesteps_total": 215851, "episode_len_mean": 325.0, "episode_reward_max": 458.76470369926034, "time_this_iter_s": 31.270045042037964, "node_ip": "10.138.0.2", "date": "2019-05-23_01-04-50", "policy_reward_mean": {}, "time_since_restore": 147.4935007095337, "episode_reward_min": 190.40324193959515, "timesteps_this_iter": 48917, "done": false, "episode_reward_mean": 360.80113894045985}
{"hostname": "flow-main", "timesteps_since_restore": 270267, "training_iteration": 6, "custom_metrics": {"cost1_mean": 154.63831011434706, "cost2_min": -60.63245319539982, "cost2_max": -20.684265912269588, "cost1_min": 60.27661067236798, "outflow_rate_min": 68.04, "cost1_max": 194.0203085223317, "outflow_rate_mean": 929.0813563166074, "system_level_velocity_mean": 12.663839716692127, "system_level_velocity_max": 15.79446333386895, "system_level_velocity_min": 5.190897355955955, "cost2_mean": -43.26188222211125, "outflow_rate_max": 1219.863685443116}, "episodes_this_iter": 40, "iterations_since_restore": 6, "time_total_s": 184.1356017589569, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946a630>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca96bac18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946ab38>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.003313653636723757, "cur_lr": 0.0005000000237487257, "vf_loss": 5.0302348136901855, "total_loss": 5.028100967407227, "vf_explained_var": 0.9515390992164612, "kl": 0.011798624880611897, "entropy": 1.394269347190857}, "num_steps_sampled": 270267, "sample_time_ms": 19397.428, "update_time_ms": 128.991, "grad_time_ms": 11058.64, "num_steps_trained": 270267, "load_time_ms": 11.938}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573527, "episodes_total": 263, "timesteps_total": 270267, "episode_len_mean": 325.0, "episode_reward_max": 458.76470369926034, "time_this_iter_s": 36.64210104942322, "node_ip": "10.138.0.2", "date": "2019-05-23_01-05-27", "policy_reward_mean": {}, "time_since_restore": 184.1356017589569, "episode_reward_min": 190.40324193959515, "timesteps_this_iter": 54416, "done": false, "episode_reward_mean": 366.75778799287946}
{"hostname": "flow-main", "timesteps_since_restore": 324593, "training_iteration": 7, "custom_metrics": {"cost1_mean": 146.52890512566609, "cost2_min": -57.43407779712454, "cost2_max": -36.27901900551068, "cost1_min": 99.88040105701116, "outflow_rate_min": 397.24452380952397, "cost1_max": 194.0203085223317, "outflow_rate_mean": 842.0939526275557, "system_level_velocity_mean": 12.044012609392137, "system_level_velocity_max": 15.79446333386895, "system_level_velocity_min": 8.41077653560685, "cost2_mean": -45.09153560839555, "outflow_rate_max": 1219.863685443116}, "episodes_this_iter": 60, "iterations_since_restore": 7, "time_total_s": 219.7461874485016, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946a518>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946a0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca946a470>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000000894069672, "policy_loss": -0.0036045326851308346, "cur_lr": 0.0005000000237487257, "vf_loss": 4.947201251983643, "total_loss": 4.944533824920654, "vf_explained_var": 0.9598207473754883, "kl": 0.009377027861773968, "entropy": 1.38399338722229}, "num_steps_sampled": 324593, "sample_time_ms": 19766.946, "update_time_ms": 111.635, "grad_time_ms": 11410.155, "num_steps_trained": 324593, "load_time_ms": 10.935}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573562, "episodes_total": 323, "timesteps_total": 324593, "episode_len_mean": 325.0, "episode_reward_max": 453.77289418484366, "time_this_iter_s": 35.61058568954468, "node_ip": "10.138.0.2", "date": "2019-05-23_01-06-02", "policy_reward_mean": {}, "time_since_restore": 219.7461874485016, "episode_reward_min": 251.54223603454346, "timesteps_this_iter": 54326, "done": false, "episode_reward_mean": 356.4657240473073}
{"hostname": "flow-main", "timesteps_since_restore": 377533, "training_iteration": 8, "custom_metrics": {"cost1_mean": 143.0551242816229, "cost2_min": -53.53156371442117, "cost2_max": -31.584831792277285, "cost1_min": 100.98036746363852, "outflow_rate_min": 350.77835548172754, "cost1_max": 188.97517864160784, "outflow_rate_mean": 796.7038163557191, "system_level_velocity_mean": 11.776178209125126, "system_level_velocity_max": 15.321127863074118, "system_level_velocity_min": 8.453239955347842, "cost2_mean": -41.899509553985624, "outflow_rate_max": 1189.5985986932428}, "episodes_this_iter": 40, "iterations_since_restore": 8, "time_total_s": 252.89952945709229, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca94765c0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476a90>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.0060875327326357365, "cur_lr": 0.0005000000237487257, "vf_loss": 4.786579608917236, "total_loss": 4.781760215759277, "vf_explained_var": 0.960294783115387, "kl": 0.012684500776231289, "entropy": 1.3823437690734863}, "num_steps_sampled": 377533, "sample_time_ms": 19736.629, "update_time_ms": 98.639, "grad_time_ms": 11673.635, "num_steps_trained": 377533, "load_time_ms": 10.162}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573595, "episodes_total": 363, "timesteps_total": 377533, "episode_len_mean": 325.0, "episode_reward_max": 453.6169097634632, "time_this_iter_s": 33.1533420085907, "node_ip": "10.138.0.2", "date": "2019-05-23_01-06-35", "policy_reward_mean": {}, "time_since_restore": 252.89952945709229, "episode_reward_min": 251.54223603454346, "timesteps_this_iter": 52940, "done": false, "episode_reward_mean": 348.34969672469225}
{"hostname": "flow-main", "timesteps_since_restore": 434363, "training_iteration": 9, "custom_metrics": {"cost1_mean": 138.00666830696534, "cost2_min": -50.78839876594837, "cost2_max": -30.7571537783458, "cost1_min": 99.82963980424176, "outflow_rate_min": 348.916171875, "cost1_max": 186.4669915933233, "outflow_rate_mean": 740.568591833563, "system_level_velocity_mean": 11.386523773481194, "system_level_velocity_max": 15.063657413297149, "system_level_velocity_min": 8.470140680399481, "cost2_mean": -39.24997359594488, "outflow_rate_max": 1189.5985986932428}, "episodes_this_iter": 40, "iterations_since_restore": 9, "time_total_s": 287.9236602783203, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476a58>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476898>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.004148520994931459, "cur_lr": 0.0005000000237487257, "vf_loss": 4.052286148071289, "total_loss": 4.049141883850098, "vf_explained_var": 0.9551576375961304, "kl": 0.0100387092679739, "entropy": 1.369374394416809}, "num_steps_sampled": 434363, "sample_time_ms": 19786.067, "update_time_ms": 88.58, "grad_time_ms": 12014.431, "num_steps_trained": 434363, "load_time_ms": 9.576}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573631, "episodes_total": 403, "timesteps_total": 434363, "episode_len_mean": 325.0, "episode_reward_max": 453.4102301159144, "time_this_iter_s": 35.02413082122803, "node_ip": "10.138.0.2", "date": "2019-05-23_01-07-11", "policy_reward_mean": {}, "time_since_restore": 287.9236602783203, "episode_reward_min": 251.54223603454346, "timesteps_this_iter": 56830, "done": false, "episode_reward_mean": 336.6224164812995}
{"hostname": "flow-main", "timesteps_since_restore": 497610, "training_iteration": 10, "custom_metrics": {"cost1_mean": 122.06455437747532, "cost2_min": -50.78839876594837, "cost2_max": -23.34586624380014, "cost1_min": 66.57021381927446, "outflow_rate_min": 38.88, "cost1_max": 166.47134821914756, "outflow_rate_mean": 579.4410302390914, "system_level_velocity_mean": 10.156060919345197, "system_level_velocity_max": 13.550834401020573, "system_level_velocity_min": 5.77853372303843, "cost2_mean": -36.56643470919262, "outflow_rate_max": 1081.1647037384726}, "episodes_this_iter": 57, "iterations_since_restore": 10, "time_total_s": 330.0902919769287, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476080>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476e80>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000000894069672, "policy_loss": -0.005461466498672962, "cur_lr": 0.0005000000237487257, "vf_loss": 3.561922788619995, "total_loss": 3.5578079223632812, "vf_explained_var": 0.9585186243057251, "kl": 0.013466350734233856, "entropy": 1.3659809827804565}, "num_steps_sampled": 497610, "sample_time_ms": 20117.553, "update_time_ms": 80.564, "grad_time_ms": 12707.251, "num_steps_trained": 497610, "load_time_ms": 9.497}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573673, "episodes_total": 460, "timesteps_total": 497610, "episode_len_mean": 325.0, "episode_reward_max": 409.3260947091076, "time_this_iter_s": 42.1666316986084, "node_ip": "10.138.0.2", "date": "2019-05-23_01-07-53", "policy_reward_mean": {}, "time_since_restore": 330.0902919769287, "episode_reward_min": 222.6483375367534, "timesteps_this_iter": 63247, "done": false, "episode_reward_mean": 306.9478617355279}
{"hostname": "flow-main", "timesteps_since_restore": 555135, "training_iteration": 11, "custom_metrics": {"cost1_mean": 110.2738008642241, "cost2_min": -45.4940920020918, "cost2_max": -23.34586624380014, "cost1_min": 66.57021381927446, "outflow_rate_min": 38.88, "cost1_max": 153.22864096718294, "outflow_rate_mean": 475.9592755239874, "system_level_velocity_mean": 9.261554329680115, "system_level_velocity_max": 12.696692193049847, "system_level_velocity_min": 5.77853372303843, "cost2_mean": -34.48246733804551, "outflow_rate_max": 882.9968067226889}, "episodes_this_iter": 43, "iterations_since_restore": 11, "time_total_s": 368.2745819091797, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca94762b0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476b00>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.006750717293471098, "cur_lr": 0.0005000000237487257, "vf_loss": 3.9272572994232178, "total_loss": 3.922091484069824, "vf_explained_var": 0.9523504376411438, "kl": 0.015847261995077133, "entropy": 1.3603237867355347}, "num_steps_sampled": 555135, "sample_time_ms": 20259.148, "update_time_ms": 7.874, "grad_time_ms": 13556.171, "num_steps_trained": 555135, "load_time_ms": 5.002}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573711, "episodes_total": 503, "timesteps_total": 555135, "episode_len_mean": 325.0, "episode_reward_max": 375.3394174807161, "time_this_iter_s": 38.18428993225098, "node_ip": "10.138.0.2", "date": "2019-05-23_01-08-31", "policy_reward_mean": {}, "time_since_restore": 368.2745819091797, "episode_reward_min": 222.6483375367534, "timesteps_this_iter": 57525, "done": false, "episode_reward_mean": 282.44695144930506}
{"hostname": "flow-main", "timesteps_since_restore": 619171, "training_iteration": 12, "custom_metrics": {"cost1_mean": 100.29813798738685, "cost2_min": -45.4940920020918, "cost2_max": -23.45432603544941, "cost1_min": 58.87833213421412, "outflow_rate_min": 34.92, "cost1_max": 144.54181610133662, "outflow_rate_mean": 417.6752415630072, "system_level_velocity_mean": 8.487077109154418, "system_level_velocity_max": 11.870074541913475, "system_level_velocity_min": 5.070802724672145, "cost2_mean": -33.20534644414565, "outflow_rate_max": 763.2550549450549}, "episodes_this_iter": 40, "iterations_since_restore": 12, "time_total_s": 408.9428884983063, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476780>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca94767b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476fd0>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.006422167178243399, "cur_lr": 0.0005000000237487257, "vf_loss": 3.637296438217163, "total_loss": 3.6322991847991943, "vf_explained_var": 0.9284114241600037, "kl": 0.014248603954911232, "entropy": 1.3566315174102783}, "num_steps_sampled": 619171, "sample_time_ms": 20593.697, "update_time_ms": 7.922, "grad_time_ms": 14431.673, "num_steps_trained": 619171, "load_time_ms": 5.326}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573752, "episodes_total": 543, "timesteps_total": 619171, "episode_len_mean": 325.0, "episode_reward_max": 356.4688153420112, "time_this_iter_s": 40.66830658912659, "node_ip": "10.138.0.2", "date": "2019-05-23_01-09-12", "policy_reward_mean": {}, "time_since_restore": 408.9428884983063, "episode_reward_min": 186.10310848708875, "timesteps_this_iter": 64036, "done": false, "episode_reward_mean": 266.1777657943646}
{"hostname": "flow-main", "timesteps_since_restore": 685733, "training_iteration": 13, "custom_metrics": {"cost1_mean": 84.26222583088851, "cost2_min": -43.54722324225728, "cost2_max": -20.27570108897195, "cost1_min": 57.083284968921916, "outflow_rate_min": 34.92, "cost1_max": 140.18095727448855, "outflow_rate_mean": 315.22175933386586, "system_level_velocity_mean": 7.2287315421471305, "system_level_velocity_max": 11.661554314295866, "system_level_velocity_min": 4.955649686341452, "cost2_mean": -30.86873655025247, "outflow_rate_max": 967.2643196056276}, "episodes_this_iter": 57, "iterations_since_restore": 13, "time_total_s": 452.45148968696594, "num_metric_batches_dropped": 0, "config": {"env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0_buf_len: 1", "sample_batch_size": 750, "lambda": 0.97, "num_workers": 20, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "input": "sampler", "vf_loss_coeff": 1.0, "model": {"dim": 84, "framestack": true, "fcnet_hiddens": [128, 64, 32], "squash_to_range": false, "custom_options": {}, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "use_lstm": false, "conv_activation": "relu", "max_seq_len": 20, "lstm_cell_size": 256, "custom_model": null, "grayscale": false, "fcnet_activation": "tanh", "channel_major": false, "zero_mean": true}, "lr_schedule": null, "clip_actions": false, "gamma": 0.99, "custom_resources_per_worker": {}, "train_batch_size": 15000, "clip_param": 0.3, "entropy_coeff": 0.0, "optimizer": {}, "sample_async": false, "output_compress_columns": ["obs", "new_obs"], "monitor": false, "output_max_file_size": 67108864, "collect_metrics_timeout": 180, "kl_target": 0.01, "clip_rewards": null, "callbacks": {"on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9462518>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca9476080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5ca96eb630>"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "num_cpus_per_worker": 1, "simple_optimizer": false, "sgd_minibatch_size": 128, "vf_share_layers": false, "num_cpus_for_driver": 1, "compress_observations": false, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "use_gae": true, "lr": 0.0005, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "MeanStdFilter", "num_sgd_iter": 10, "input_evaluation": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 750,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "horizon": 750, "kl_coeff": 0.2, "output": null}, "info": {"default": {"cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.004067163448780775, "cur_lr": 0.0005000000237487257, "vf_loss": 3.4859390258789062, "total_loss": 3.482914924621582, "vf_explained_var": 0.9188671708106995, "kl": 0.010427936911582947, "entropy": 1.3406325578689575}, "num_steps_sampled": 685733, "sample_time_ms": 21133.736, "update_time_ms": 7.995, "grad_time_ms": 15331.682, "num_steps_trained": 685733, "load_time_ms": 5.842}, "experiment_id": "1a58f7ad9d634c35ae52310c8023b791", "pid": 36669, "timestamp": 1558573795, "episodes_total": 600, "timesteps_total": 685733, "episode_len_mean": 325.0, "episode_reward_max": 353.55053558189405, "time_this_iter_s": 43.50860118865967, "node_ip": "10.138.0.2", "date": "2019-05-23_01-09-55", "policy_reward_mean": {}, "time_since_restore": 452.45148968696594, "episode_reward_min": 180.41353700075524, "timesteps_this_iter": 66562, "done": false, "episode_reward_mean": 243.8737771692435}
