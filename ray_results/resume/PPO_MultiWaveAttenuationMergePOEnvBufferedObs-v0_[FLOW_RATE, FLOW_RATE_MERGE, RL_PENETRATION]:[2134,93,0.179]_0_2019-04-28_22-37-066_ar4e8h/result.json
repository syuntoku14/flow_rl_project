{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1264e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1264a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126470>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 500.03089429717295, "cost2_max": 0.0, "system_level_velocity_mean": 16.611815414577027, "cost2_mean": 0.0, "cost2_min": 0.0, "system_level_velocity_min": 16.611815414577027, "cost1_max": 21.770489788088266, "cost1_min": 21.770489788088266, "outflow_rate_min": 500.03089429717295, "outflow_rate_max": 500.03089429717295, "system_level_velocity_max": 16.611815414577027, "cost1_mean": 21.770489788088266}, "episodes_total": 9121, "timesteps_total": 17324138, "episodes_this_iter": 1, "time_since_restore": 66.80768823623657, "episode_reward_max": 101.84578738521644, "episode_reward_mean": 101.84578738521644, "timestamp": 1556491119, "training_iteration": 151, "episode_len_mean": 34.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 101.84578738521644, "node_ip": "10.138.0.2", "time_this_iter_s": 66.80768823623657, "info": {"load_time_ms": 68.423, "num_steps_trained": 17324138, "num_steps_sampled": 17324138, "grad_time_ms": 35046.754, "sample_time_ms": 30146.045, "default": {"vf_loss": 14.057921409606934, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016066054813563824, "kl": 0.010239755734801292, "entropy": 0.8108943700790405, "cur_kl_coeff": 0.20000003278255463, "total_loss": 14.05836296081543, "vf_explained_var": 0.9459450244903564}, "update_time_ms": 1247.526}, "policy_reward_mean": {}, "date": "2019-04-28_22-38-39", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 164400, "time_total_s": 6028.217392921448, "timesteps_this_iter": 164400, "iterations_since_restore": 1}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126dd8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1022.0323734180528, "cost2_max": 0.0, "system_level_velocity_mean": 11.49223645198986, "cost2_mean": -0.03858897711837681, "cost2_min": -0.28529803406029985, "system_level_velocity_min": 10.170894361710817, "cost1_max": 330.0842332139854, "cost1_min": 21.770489788088266, "outflow_rate_min": 500.03089429717295, "outflow_rate_max": 1112.5106112785495, "system_level_velocity_max": 17.41596249904598, "cost1_mean": 287.85308708750307}, "episodes_total": 9183, "timesteps_total": 17470357, "episodes_this_iter": 62, "time_since_restore": 108.84178233146667, "episode_reward_max": 3030.882942438387, "episode_reward_mean": 2672.14904201903, "timestamp": 1556491161, "training_iteration": 152, "episode_len_mean": 668.2857142857143, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 101.84578738521644, "node_ip": "10.138.0.2", "time_this_iter_s": 42.0340940952301, "info": {"load_time_ms": 48.939, "num_steps_trained": 17470357, "num_steps_sampled": 17470357, "grad_time_ms": 32183.099, "sample_time_ms": 21278.069, "default": {"vf_loss": 96.67780303955078, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0034425321500748396, "kl": 0.009842487052083015, "entropy": 0.8453704714775085, "cur_kl_coeff": 0.20000001788139343, "total_loss": 96.67632293701172, "vf_explained_var": 0.7154917120933533}, "update_time_ms": 629.341}, "policy_reward_mean": {}, "date": "2019-04-28_22-39-21", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 310619, "time_total_s": 6070.251487016678, "timesteps_this_iter": 146219, "iterations_since_restore": 2}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c828>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1027.797201036136, "cost2_max": 0.0, "system_level_velocity_mean": 11.465383541250931, "cost2_mean": -0.039934403510487625, "cost2_min": -0.38636363636363635, "system_level_velocity_min": 10.170894361710817, "cost1_max": 330.0842332139854, "cost1_min": 21.770489788088266, "outflow_rate_min": 500.03089429717295, "outflow_rate_max": 1112.5106112785495, "system_level_velocity_max": 17.41596249904598, "cost1_mean": 290.2418350555534}, "episodes_total": 9194, "timesteps_total": 17641575, "episodes_this_iter": 11, "time_since_restore": 158.47253131866455, "episode_reward_max": 3030.882942438387, "episode_reward_mean": 2696.005274428255, "timestamp": 1556491210, "training_iteration": 153, "episode_len_mean": 673.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 101.84578738521644, "node_ip": "10.138.0.2", "time_this_iter_s": 49.630748987197876, "info": {"load_time_ms": 43.689, "num_steps_trained": 17641575, "num_steps_sampled": 17641575, "grad_time_ms": 33183.009, "sample_time_ms": 18891.261, "default": {"vf_loss": 28.808446884155273, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002245366806164384, "kl": 0.008248163387179375, "entropy": 0.8503516316413879, "cur_kl_coeff": 0.20000001788139343, "total_loss": 28.80784797668457, "vf_explained_var": 0.8482774496078491}, "update_time_ms": 422.687}, "policy_reward_mean": {}, "date": "2019-04-28_22-40-10", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 481837, "time_total_s": 6119.882236003876, "timesteps_this_iter": 171218, "iterations_since_restore": 3}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c160>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1035.1604428579378, "cost2_max": 0.0, "system_level_velocity_mean": 11.304222509897137, "cost2_mean": -0.038332419302315006, "cost2_min": -0.38636363636363635, "system_level_velocity_min": 9.927195805947147, "cost1_max": 330.0842332139854, "cost1_min": 21.96907566480483, "outflow_rate_min": 507.9948698187451, "outflow_rate_max": 1110.7065276663332, "system_level_velocity_max": 17.572092577282625, "cost1_mean": 294.21833899277505}, "episodes_total": 9244, "timesteps_total": 17783906, "episodes_this_iter": 50, "time_since_restore": 198.4088191986084, "episode_reward_max": 3027.4667513562617, "episode_reward_mean": 2742.0208209239104, "timestamp": 1556491250, "training_iteration": 154, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.35117222226897, "node_ip": "10.138.0.2", "time_this_iter_s": 39.93628787994385, "info": {"load_time_ms": 39.78, "num_steps_trained": 17783906, "num_steps_sampled": 17783906, "grad_time_ms": 31953.26, "sample_time_ms": 17016.819, "default": {"vf_loss": 87.90629577636719, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020635302644222975, "kl": 0.00858906377106905, "entropy": 0.8497470617294312, "cur_kl_coeff": 0.20000001788139343, "total_loss": 87.90596008300781, "vf_explained_var": 0.7204553484916687}, "update_time_ms": 319.886}, "policy_reward_mean": {}, "date": "2019-04-28_22-40-50", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 624168, "time_total_s": 6159.81852388382, "timesteps_this_iter": 142331, "iterations_since_restore": 4}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c6a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c710>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1035.5881394861133, "cost2_max": 0.0, "system_level_velocity_mean": 11.305104987479782, "cost2_mean": -0.03532518753781431, "cost2_min": -0.38636363636363635, "system_level_velocity_min": 9.927195805947147, "cost1_max": 330.0842332139854, "cost1_min": 21.96907566480483, "outflow_rate_min": 507.9948698187451, "outflow_rate_max": 1110.7065276663332, "system_level_velocity_max": 17.572092577282625, "cost1_mean": 294.19047503283343}, "episodes_total": 9252, "timesteps_total": 17947826, "episodes_this_iter": 8, "time_since_restore": 242.1126148700714, "episode_reward_max": 3027.4667513562617, "episode_reward_mean": 2740.6595502643963, "timestamp": 1556491294, "training_iteration": 155, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.35117222226897, "node_ip": "10.138.0.2", "time_this_iter_s": 43.70379567146301, "info": {"load_time_ms": 38.004, "num_steps_trained": 17947826, "num_steps_sampled": 17947826, "grad_time_ms": 31996.214, "sample_time_ms": 15851.003, "default": {"vf_loss": 22.878971099853516, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016744158929213881, "kl": 0.007540398743003607, "entropy": 0.8639802932739258, "cur_kl_coeff": 0.20000001788139343, "total_loss": 22.878803253173828, "vf_explained_var": 0.8625267148017883}, "update_time_ms": 258.436}, "policy_reward_mean": {}, "date": "2019-04-28_22-41-34", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 788088, "time_total_s": 6203.522319555283, "timesteps_this_iter": 163920, "iterations_since_restore": 5}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c1d0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1044.470555643434, "cost2_max": 0.0, "system_level_velocity_mean": 11.458916771058911, "cost2_mean": -0.03700785537999259, "cost2_min": -0.38605399365272924, "system_level_velocity_min": 8.624805696289801, "cost1_max": 348.35604829121394, "cost1_min": 22.08697988093786, "outflow_rate_min": 507.9948698187451, "outflow_rate_max": 1164.6793338587133, "system_level_velocity_max": 17.572092577282625, "cost1_mean": 298.24217531993185}, "episodes_total": 9310, "timesteps_total": 18097584, "episodes_this_iter": 58, "time_since_restore": 288.14923214912415, "episode_reward_max": 3025.763446309532, "episode_reward_mean": 2753.7228640760995, "timestamp": 1556491340, "training_iteration": 156, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.2097595184768, "node_ip": "10.138.0.2", "time_this_iter_s": 46.036617279052734, "info": {"load_time_ms": 36.024, "num_steps_trained": 18097584, "num_steps_sampled": 18097584, "grad_time_ms": 31874.494, "sample_time_ms": 15620.286, "default": {"vf_loss": 97.39097595214844, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020632969681173563, "kl": 0.008075306192040443, "entropy": 0.8503665328025818, "cur_kl_coeff": 0.20000001788139343, "total_loss": 97.39053344726562, "vf_explained_var": 0.6670202016830444}, "update_time_ms": 216.986}, "policy_reward_mean": {}, "date": "2019-04-28_22-42-20", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 937846, "time_total_s": 6249.558936834335, "timesteps_this_iter": 149758, "iterations_since_restore": 6}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cac8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1053.2230781639703, "cost2_max": 0.0, "system_level_velocity_mean": 11.480876841988767, "cost2_mean": -0.05368254908122041, "cost2_min": -0.38605399365272924, "system_level_velocity_min": 8.624805696289801, "cost1_max": 348.35604829121394, "cost1_min": 22.08697988093786, "outflow_rate_min": 516.3920970706192, "outflow_rate_max": 1164.6793338587133, "system_level_velocity_max": 17.46295279912703, "cost1_mean": 302.9768276715155}, "episodes_total": 9354, "timesteps_total": 18258487, "episodes_this_iter": 44, "time_since_restore": 336.60996890068054, "episode_reward_max": 3075.183465987442, "episode_reward_mean": 2781.468661654609, "timestamp": 1556491389, "training_iteration": 157, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.2097595184768, "node_ip": "10.138.0.2", "time_this_iter_s": 48.4607367515564, "info": {"load_time_ms": 34.86, "num_steps_trained": 18258487, "num_steps_sampled": 18258487, "grad_time_ms": 32442.76, "sample_time_ms": 15142.343, "default": {"vf_loss": 72.68125915527344, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0017544402508065104, "kl": 0.007488134782761335, "entropy": 0.8682071566581726, "cur_kl_coeff": 0.20000003278255463, "total_loss": 72.68099975585938, "vf_explained_var": 0.6430157423019409}, "update_time_ms": 187.49}, "policy_reward_mean": {}, "date": "2019-04-28_22-43-09", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 1098749, "time_total_s": 6298.019673585892, "timesteps_this_iter": 160903, "iterations_since_restore": 7}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cc88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cef0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1051.2901814043107, "cost2_max": 0.0, "system_level_velocity_mean": 11.468901827181158, "cost2_mean": -0.06024751566582662, "cost2_min": -0.38605399365272924, "system_level_velocity_min": 9.819382748125232, "cost1_max": 348.35604829121394, "cost1_min": 22.08697988093786, "outflow_rate_min": 516.3920970706192, "outflow_rate_max": 1164.6793338587133, "system_level_velocity_max": 17.46295279912703, "cost1_mean": 302.39956462763195}, "episodes_total": 9370, "timesteps_total": 18417435, "episodes_this_iter": 16, "time_since_restore": 381.69007682800293, "episode_reward_max": 3075.183465987442, "episode_reward_mean": 2778.1150286054867, "timestamp": 1556491434, "training_iteration": 158, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.2097595184768, "node_ip": "10.138.0.2", "time_this_iter_s": 45.08010792732239, "info": {"load_time_ms": 32.44, "num_steps_trained": 18417435, "num_steps_sampled": 18417435, "grad_time_ms": 32298.51, "sample_time_ms": 14935.233, "default": {"vf_loss": 36.27967071533203, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0018505535554140806, "kl": 0.007646307814866304, "entropy": 0.8560364842414856, "cur_kl_coeff": 0.20000001788139343, "total_loss": 36.27935028076172, "vf_explained_var": 0.7990096807479858}, "update_time_ms": 165.448}, "policy_reward_mean": {}, "date": "2019-04-28_22-43-54", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 1257697, "time_total_s": 6343.099781513214, "timesteps_this_iter": 158948, "iterations_since_restore": 8}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c2e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cdd8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1045.6438104865313, "cost2_max": 0.0, "system_level_velocity_mean": 11.397509787198358, "cost2_mean": -0.05759870920820134, "cost2_min": -0.38461538461538464, "system_level_velocity_min": 9.60383561834213, "cost1_max": 365.9573630169477, "cost1_min": 21.951142692404, "outflow_rate_min": 512.977782751833, "outflow_rate_max": 1186.6164939315372, "system_level_velocity_max": 17.27922528674529, "cost1_mean": 300.1148174836326}, "episodes_total": 9419, "timesteps_total": 18569581, "episodes_this_iter": 49, "time_since_restore": 423.9731137752533, "episode_reward_max": 3075.183465987442, "episode_reward_mean": 2758.090073541805, "timestamp": 1556491476, "training_iteration": 159, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 104.09345328967478, "node_ip": "10.138.0.2", "time_this_iter_s": 42.283036947250366, "info": {"load_time_ms": 31.527, "num_steps_trained": 18569581, "num_steps_sampled": 18569581, "grad_time_ms": 32077.069, "sample_time_ms": 14572.424, "default": {"vf_loss": 81.49855041503906, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0018997276201844215, "kl": 0.007837507873773575, "entropy": 0.8755753040313721, "cur_kl_coeff": 0.20000001788139343, "total_loss": 81.49821472167969, "vf_explained_var": 0.6573627591133118}, "update_time_ms": 148.288}, "policy_reward_mean": {}, "date": "2019-04-28_22-44-36", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 1409843, "time_total_s": 6385.3828184604645, "timesteps_this_iter": 152146, "iterations_since_restore": 9}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cbe0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c7f0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1047.3646695726013, "cost2_max": 0.0, "system_level_velocity_mean": 11.417496870630131, "cost2_mean": -0.05321512804783393, "cost2_min": -0.38461538461538464, "system_level_velocity_min": 9.60383561834213, "cost1_max": 365.9573630169477, "cost1_min": 21.951142692404, "outflow_rate_min": 512.977782751833, "outflow_rate_max": 1186.6164939315372, "system_level_velocity_max": 17.27922528674529, "cost1_mean": 300.58020947642984}, "episodes_total": 9439, "timesteps_total": 18732957, "episodes_this_iter": 20, "time_since_restore": 470.96840739250183, "episode_reward_max": 3060.1701097176424, "episode_reward_mean": 2759.1845908402383, "timestamp": 1556491523, "training_iteration": 160, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 104.09345328967478, "node_ip": "10.138.0.2", "time_this_iter_s": 46.995293617248535, "info": {"load_time_ms": 31.685, "num_steps_trained": 18732957, "num_steps_sampled": 18732957, "grad_time_ms": 32160.459, "sample_time_ms": 14491.027, "default": {"vf_loss": 43.50733184814453, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001606219564564526, "kl": 0.006732646841555834, "entropy": 0.8737714290618896, "cur_kl_coeff": 0.20000003278255463, "total_loss": 43.50707244873047, "vf_explained_var": 0.7323322892189026}, "update_time_ms": 134.589}, "policy_reward_mean": {}, "date": "2019-04-28_22-45-23", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 1573219, "time_total_s": 6432.378112077713, "timesteps_this_iter": 163376, "iterations_since_restore": 10}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c0f0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1047.1107940509753, "cost2_max": 0.0, "system_level_velocity_mean": 11.593210311474063, "cost2_mean": -0.0589832336341827, "cost2_min": -0.3149483033335777, "system_level_velocity_min": 9.60383561834213, "cost1_max": 365.9573630169477, "cost1_min": 22.19735476930298, "outflow_rate_min": 490.24500937034327, "outflow_rate_max": 1186.6164939315372, "system_level_velocity_max": 17.449238612728525, "cost1_mean": 300.5908501828883}, "episodes_total": 9488, "timesteps_total": 18878679, "episodes_this_iter": 49, "time_since_restore": 512.3288149833679, "episode_reward_max": 3060.1701097176424, "episode_reward_mean": 2730.707771852496, "timestamp": 1556491564, "training_iteration": 161, "episode_len_mean": 686.76, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 105.22819358465978, "node_ip": "10.138.0.2", "time_this_iter_s": 41.36040759086609, "info": {"load_time_ms": 27.523, "num_steps_trained": 18878679, "num_steps_sampled": 18878679, "grad_time_ms": 31563.399, "sample_time_ms": 12674.785, "default": {"vf_loss": 86.11265563964844, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016416461439803243, "kl": 0.007305220700800419, "entropy": 0.8865752816200256, "cur_kl_coeff": 0.20000003278255463, "total_loss": 86.11248016357422, "vf_explained_var": 0.6379997134208679}, "update_time_ms": 10.904}, "policy_reward_mean": {}, "date": "2019-04-28_22-46-04", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 1718941, "time_total_s": 6473.738519668579, "timesteps_this_iter": 145722, "iterations_since_restore": 11}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126b38>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1048.9209443427642, "cost2_max": 0.0, "system_level_velocity_mean": 11.615435555950228, "cost2_mean": -0.057894368085535636, "cost2_min": -0.3149483033335777, "system_level_velocity_min": 9.60383561834213, "cost1_max": 365.9573630169477, "cost1_min": 22.19735476930298, "outflow_rate_min": 490.24500937034327, "outflow_rate_max": 1186.6164939315372, "system_level_velocity_max": 17.449238612728525, "cost1_mean": 300.97587756186095}, "episodes_total": 9503, "timesteps_total": 19039783, "episodes_this_iter": 15, "time_since_restore": 555.7788827419281, "episode_reward_max": 3060.1701097176424, "episode_reward_mean": 2736.825337175386, "timestamp": 1556491608, "training_iteration": 162, "episode_len_mean": 686.76, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 105.22819358465978, "node_ip": "10.138.0.2", "time_this_iter_s": 43.45006775856018, "info": {"load_time_ms": 28.107, "num_steps_trained": 19039783, "num_steps_sampled": 19039783, "grad_time_ms": 31816.969, "sample_time_ms": 12561.509, "default": {"vf_loss": 35.649513244628906, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0017024445114657283, "kl": 0.007638768292963505, "entropy": 0.880196213722229, "cur_kl_coeff": 0.20000003278255463, "total_loss": 35.64933776855469, "vf_explained_var": 0.7553017139434814}, "update_time_ms": 10.818}, "policy_reward_mean": {}, "date": "2019-04-28_22-46-48", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 1880045, "time_total_s": 6517.188587427139, "timesteps_this_iter": 161104, "iterations_since_restore": 12}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0d13b28b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c5f8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1039.0042559667945, "cost2_max": 0.0, "system_level_velocity_mean": 11.632705649547228, "cost2_mean": -0.06320869261927563, "cost2_min": -0.4444444444444444, "system_level_velocity_min": 10.017357654479085, "cost1_max": 355.71358702383685, "cost1_min": 22.161698910268722, "outflow_rate_min": 490.24500937034327, "outflow_rate_max": 1172.865105850755, "system_level_velocity_max": 17.55482243099734, "cost1_mean": 296.4457269243031}, "episodes_total": 9554, "timesteps_total": 19190754, "episodes_this_iter": 51, "time_since_restore": 602.1004793643951, "episode_reward_max": 2976.2772712911496, "episode_reward_mean": 2703.9710749437513, "timestamp": 1556491654, "training_iteration": 163, "episode_len_mean": 680.1, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 104.2581732630246, "node_ip": "10.138.0.2", "time_this_iter_s": 46.32159662246704, "info": {"load_time_ms": 27.809, "num_steps_trained": 19190754, "num_steps_sampled": 19190754, "grad_time_ms": 31429.366, "sample_time_ms": 12620.195, "default": {"vf_loss": 83.8851547241211, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002107371808961034, "kl": 0.007850835099816322, "entropy": 0.8624224066734314, "cur_kl_coeff": 0.20000001788139343, "total_loss": 83.8846206665039, "vf_explained_var": 0.6642866134643555}, "update_time_ms": 11.017}, "policy_reward_mean": {}, "date": "2019-04-28_22-47-34", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 2031016, "time_total_s": 6563.510184049606, "timesteps_this_iter": 150971, "iterations_since_restore": 13}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c6d8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1052.3647576238466, "cost2_max": 0.0, "system_level_velocity_mean": 11.585083728109561, "cost2_mean": -0.0741131696342065, "cost2_min": -0.4444444444444444, "system_level_velocity_min": 9.776434865483804, "cost1_max": 356.1591467363811, "cost1_min": 22.161698910268722, "outflow_rate_min": 514.894369058487, "outflow_rate_max": 1172.865105850755, "system_level_velocity_max": 17.55482243099734, "cost1_mean": 303.690374743591}, "episodes_total": 9597, "timesteps_total": 19349760, "episodes_this_iter": 43, "time_since_restore": 647.2596988677979, "episode_reward_max": 2976.2772712911496, "episode_reward_mean": 2756.4660952119193, "timestamp": 1556491699, "training_iteration": 164, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 104.2581732630246, "node_ip": "10.138.0.2", "time_this_iter_s": 45.15921950340271, "info": {"load_time_ms": 27.984, "num_steps_trained": 19349760, "num_steps_sampled": 19349760, "grad_time_ms": 31876.957, "sample_time_ms": 12690.923, "default": {"vf_loss": 69.56462860107422, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0015108285006135702, "kl": 0.0070374635979533195, "entropy": 0.8678080439567566, "cur_kl_coeff": 0.20000001788139343, "total_loss": 69.56452941894531, "vf_explained_var": 0.6485086679458618}, "update_time_ms": 10.986}, "policy_reward_mean": {}, "date": "2019-04-28_22-48-19", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 2190022, "time_total_s": 6608.669403553009, "timesteps_this_iter": 159006, "iterations_since_restore": 14}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13c080>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1047.472521282635, "cost2_max": 0.0, "system_level_velocity_mean": 11.652737625277604, "cost2_mean": -0.06267831749799903, "cost2_min": -0.4444444444444444, "system_level_velocity_min": 9.776434865483804, "cost1_max": 356.1591467363811, "cost1_min": 21.846557525426178, "outflow_rate_min": 514.894369058487, "outflow_rate_max": 1172.865105850755, "system_level_velocity_max": 17.55482243099734, "cost1_mean": 301.16911766696103}, "episodes_total": 9616, "timesteps_total": 19507821, "episodes_this_iter": 19, "time_since_restore": 689.6982290744781, "episode_reward_max": 2976.2772712911496, "episode_reward_mean": 2728.454901367582, "timestamp": 1556491742, "training_iteration": 165, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 102.23540284844935, "node_ip": "10.138.0.2", "time_this_iter_s": 42.4385302066803, "info": {"load_time_ms": 26.445, "num_steps_trained": 19507821, "num_steps_sampled": 19507821, "grad_time_ms": 31621.085, "sample_time_ms": 12824.487, "default": {"vf_loss": 43.01449966430664, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0017315526492893696, "kl": 0.007324266713112593, "entropy": 0.8665854334831238, "cur_kl_coeff": 0.20000003278255463, "total_loss": 43.01423263549805, "vf_explained_var": 0.7682511806488037}, "update_time_ms": 10.847}, "policy_reward_mean": {}, "date": "2019-04-28_22-49-02", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 2348083, "time_total_s": 6651.107933759689, "timesteps_this_iter": 158061, "iterations_since_restore": 15}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13ce10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cf60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13ce80>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1049.3680604275398, "cost2_max": 0.0, "system_level_velocity_mean": 11.58045055694477, "cost2_mean": -0.048616626619113375, "cost2_min": -0.34485874512994497, "system_level_velocity_min": 8.78295254238192, "cost1_max": 356.1591467363811, "cost1_min": 21.846557525426178, "outflow_rate_min": 516.3920970706192, "outflow_rate_max": 1162.6829624164216, "system_level_velocity_max": 16.98748562738962, "cost1_mean": 303.27935524963476}, "episodes_total": 9663, "timesteps_total": 19658405, "episodes_this_iter": 47, "time_since_restore": 733.0595254898071, "episode_reward_max": 2968.2655150275327, "episode_reward_mean": 2739.8614518146455, "timestamp": 1556491785, "training_iteration": 166, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 102.23540284844935, "node_ip": "10.138.0.2", "time_this_iter_s": 43.36129641532898, "info": {"load_time_ms": 25.893, "num_steps_trained": 19658405, "num_steps_sampled": 19658405, "grad_time_ms": 31693.078, "sample_time_ms": 12486.532, "default": {"vf_loss": 79.74149322509766, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020480675157159567, "kl": 0.008320449851453304, "entropy": 0.8594490885734558, "cur_kl_coeff": 0.20000000298023224, "total_loss": 79.74111938476562, "vf_explained_var": 0.6727632880210876}, "update_time_ms": 10.939}, "policy_reward_mean": {}, "date": "2019-04-28_22-49-45", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 2498667, "time_total_s": 6694.469230175018, "timesteps_this_iter": 150584, "iterations_since_restore": 16}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cc88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e13cb38>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1045.9478049578056, "cost2_max": 0.0, "system_level_velocity_mean": 11.673129452433892, "cost2_mean": -0.043523706666131055, "cost2_min": -0.4557109557109557, "system_level_velocity_min": 8.78295254238192, "cost1_max": 362.0880638097178, "cost1_min": 21.846557525426178, "outflow_rate_min": 516.3920970706192, "outflow_rate_max": 1178.8807692612327, "system_level_velocity_max": 17.404658317568256, "cost1_mean": 301.48167400779874}, "episodes_total": 9690, "timesteps_total": 19817994, "episodes_this_iter": 27, "time_since_restore": 779.9501175880432, "episode_reward_max": 3006.613060249381, "episode_reward_mean": 2715.8775400073955, "timestamp": 1556491832, "training_iteration": 167, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 102.23540284844935, "node_ip": "10.138.0.2", "time_this_iter_s": 46.890592098236084, "info": {"load_time_ms": 25.205, "num_steps_trained": 19817994, "num_steps_sampled": 19817994, "grad_time_ms": 31357.087, "sample_time_ms": 12671.357, "default": {"vf_loss": 50.87656021118164, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001889032544568181, "kl": 0.007875657640397549, "entropy": 0.8616120219230652, "cur_kl_coeff": 0.20000003278255463, "total_loss": 50.87624740600586, "vf_explained_var": 0.7260006666183472}, "update_time_ms": 11.012}, "policy_reward_mean": {}, "date": "2019-04-28_22-50-32", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 2658256, "time_total_s": 6741.359822273254, "timesteps_this_iter": 159589, "iterations_since_restore": 17}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126c50>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1050.674307607324, "cost2_max": 0.0, "system_level_velocity_mean": 11.817873048792274, "cost2_mean": -0.047292938001398985, "cost2_min": -0.4557109557109557, "system_level_velocity_min": 8.78295254238192, "cost1_max": 362.0880638097178, "cost1_min": 22.025838203766256, "outflow_rate_min": 506.120477260778, "outflow_rate_max": 1178.8807692612327, "system_level_velocity_max": 17.788099826509118, "cost1_mean": 304.8140845827519}, "episodes_total": 9732, "timesteps_total": 19964097, "episodes_this_iter": 42, "time_since_restore": 821.469037771225, "episode_reward_max": 3086.9397287674187, "episode_reward_mean": 2710.5792468088785, "timestamp": 1556491874, "training_iteration": 168, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.0913500825453, "node_ip": "10.138.0.2", "time_this_iter_s": 41.51892018318176, "info": {"load_time_ms": 26.148, "num_steps_trained": 19964097, "num_steps_sampled": 19964097, "grad_time_ms": 31120.175, "sample_time_ms": 12555.808, "default": {"vf_loss": 73.72444915771484, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0019688867032527924, "kl": 0.008420245721936226, "entropy": 0.8589775562286377, "cur_kl_coeff": 0.20000001788139343, "total_loss": 73.72415924072266, "vf_explained_var": 0.6787278652191162}, "update_time_ms": 10.975}, "policy_reward_mean": {}, "date": "2019-04-28_22-51-14", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 2804359, "time_total_s": 6782.878742456436, "timesteps_this_iter": 146103, "iterations_since_restore": 18}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126ba8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1050.4703847667108, "cost2_max": 0.0, "system_level_velocity_mean": 11.824029565060819, "cost2_mean": -0.049691787455701054, "cost2_min": -0.4557109557109557, "system_level_velocity_min": 10.026245075277872, "cost1_max": 362.0880638097178, "cost1_min": 22.025838203766256, "outflow_rate_min": 506.120477260778, "outflow_rate_max": 1178.8807692612327, "system_level_velocity_max": 17.788099826509118, "cost1_mean": 304.9627563268776}, "episodes_total": 9753, "timesteps_total": 20119474, "episodes_this_iter": 21, "time_since_restore": 864.8370325565338, "episode_reward_max": 3086.9397287674187, "episode_reward_mean": 2705.320826971594, "timestamp": 1556491917, "training_iteration": 169, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.0913500825453, "node_ip": "10.138.0.2", "time_this_iter_s": 43.36799478530884, "info": {"load_time_ms": 26.742, "num_steps_trained": 20119474, "num_steps_sampled": 20119474, "grad_time_ms": 31223.759, "sample_time_ms": 12562.813, "default": {"vf_loss": 44.399131774902344, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001860044663771987, "kl": 0.0077147409319877625, "entropy": 0.8476150035858154, "cur_kl_coeff": 0.20000003278255463, "total_loss": 44.3988151550293, "vf_explained_var": 0.7344805598258972}, "update_time_ms": 10.871}, "policy_reward_mean": {}, "date": "2019-04-28_22-51-57", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 2959736, "time_total_s": 6826.246737241745, "timesteps_this_iter": 155377, "iterations_since_restore": 19}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126b38>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1054.1828783415176, "cost2_max": 0.0, "system_level_velocity_mean": 11.767165561206474, "cost2_mean": -0.05114186186615422, "cost2_min": -0.7737809792314192, "system_level_velocity_min": 10.026245075277872, "cost1_max": 354.14408488890865, "cost1_min": 22.465784355021693, "outflow_rate_min": 506.120477260778, "outflow_rate_max": 1153.5451962882462, "system_level_velocity_max": 17.788099826509118, "cost1_mean": 308.0200114826826}, "episodes_total": 9802, "timesteps_total": 20269416, "episodes_this_iter": 49, "time_since_restore": 908.0972769260406, "episode_reward_max": 3086.9397287674187, "episode_reward_mean": 2715.123604368822, "timestamp": 1556491960, "training_iteration": 170, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 106.89934278385338, "node_ip": "10.138.0.2", "time_this_iter_s": 43.260244369506836, "info": {"load_time_ms": 27.17, "num_steps_trained": 20269416, "num_steps_sampled": 20269416, "grad_time_ms": 30827.313, "sample_time_ms": 12586.347, "default": {"vf_loss": 76.49983978271484, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001945297117345035, "kl": 0.008532462641596794, "entropy": 0.8333306312561035, "cur_kl_coeff": 0.20000001788139343, "total_loss": 76.49960327148438, "vf_explained_var": 0.649513840675354}, "update_time_ms": 10.794}, "policy_reward_mean": {}, "date": "2019-04-28_22-52-40", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 3109678, "time_total_s": 6869.506981611252, "timesteps_this_iter": 149942, "iterations_since_restore": 20}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126eb8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1052.847422155028, "cost2_max": 0.0, "system_level_velocity_mean": 11.77083556134743, "cost2_mean": -0.05008233551618664, "cost2_min": -0.7737809792314192, "system_level_velocity_min": 10.165772469377526, "cost1_max": 342.89360037137357, "cost1_min": 22.20699499339976, "outflow_rate_min": 516.3920970706192, "outflow_rate_max": 1128.1044743388766, "system_level_velocity_max": 18.73844274110389, "cost1_mean": 307.78220050348904}, "episodes_total": 9842, "timesteps_total": 20424188, "episodes_this_iter": 40, "time_since_restore": 951.5264148712158, "episode_reward_max": 2896.6437818212767, "episode_reward_mean": 2703.226037646201, "timestamp": 1556492004, "training_iteration": 171, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.69121675320258, "node_ip": "10.138.0.2", "time_this_iter_s": 43.42913794517517, "info": {"load_time_ms": 26.074, "num_steps_trained": 20424188, "num_steps_sampled": 20424188, "grad_time_ms": 31029.758, "sample_time_ms": 12594.884, "default": {"vf_loss": 65.64081573486328, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014986781170591712, "kl": 0.008531265892088413, "entropy": 0.8400858640670776, "cur_kl_coeff": 0.20000003278255463, "total_loss": 65.64102935791016, "vf_explained_var": 0.6435441970825195}, "update_time_ms": 10.806}, "policy_reward_mean": {}, "date": "2019-04-28_22-53-24", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 3264450, "time_total_s": 6912.936119556427, "timesteps_this_iter": 154772, "iterations_since_restore": 21}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1267f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126a20>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1040.9981585094665, "cost2_max": 0.0, "system_level_velocity_mean": 11.872452278224964, "cost2_mean": -0.039873532363712993, "cost2_min": -0.4755849522539358, "system_level_velocity_min": 10.165772469377526, "cost1_max": 342.89360037137357, "cost1_min": 22.20699499339976, "outflow_rate_min": 511.7037326966564, "outflow_rate_max": 1128.1044743388766, "system_level_velocity_max": 18.73844274110389, "cost1_mean": 301.40658120094776}, "episodes_total": 9868, "timesteps_total": 20579814, "episodes_this_iter": 26, "time_since_restore": 996.2515013217926, "episode_reward_max": 2949.0712750412936, "episode_reward_mean": 2653.0006157304033, "timestamp": 1556492049, "training_iteration": 172, "episode_len_mean": 680.02, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.04169141664916, "node_ip": "10.138.0.2", "time_this_iter_s": 44.72508645057678, "info": {"load_time_ms": 25.836, "num_steps_trained": 20579814, "num_steps_sampled": 20579814, "grad_time_ms": 31051.603, "sample_time_ms": 12700.418, "default": {"vf_loss": 48.79114532470703, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016608721343800426, "kl": 0.008084497414529324, "entropy": 0.8385035991668701, "cur_kl_coeff": 0.20000001788139343, "total_loss": 48.79110336303711, "vf_explained_var": 0.7156751155853271}, "update_time_ms": 10.977}, "policy_reward_mean": {}, "date": "2019-04-28_22-54-09", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 3420076, "time_total_s": 6957.661206007004, "timesteps_this_iter": 155626, "iterations_since_restore": 22}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1434a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0d13b28b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1266d8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1038.3719251323625, "cost2_max": 0.0, "system_level_velocity_mean": 11.819093673477761, "cost2_mean": -0.04505029406032369, "cost2_min": -0.4755849522539358, "system_level_velocity_min": 9.874461093620491, "cost1_max": 367.82328173458416, "cost1_min": 22.20699499339976, "outflow_rate_min": 511.7037326966564, "outflow_rate_max": 1185.8457748975713, "system_level_velocity_max": 18.73844274110389, "cost1_mean": 299.6790477017006}, "episodes_total": 9909, "timesteps_total": 20731544, "episodes_this_iter": 41, "time_since_restore": 1040.7359535694122, "episode_reward_max": 2949.0712750412936, "episode_reward_mean": 2648.0508776514694, "timestamp": 1556492093, "training_iteration": 173, "episode_len_mean": 680.02, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.04169141664916, "node_ip": "10.138.0.2", "time_this_iter_s": 44.48445224761963, "info": {"load_time_ms": 25.429, "num_steps_trained": 20731544, "num_steps_sampled": 20731544, "grad_time_ms": 30989.639, "sample_time_ms": 12582.695, "default": {"vf_loss": 68.98201751708984, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0024042846634984016, "kl": 0.00847583170980215, "entropy": 0.8568731546401978, "cur_kl_coeff": 0.20000003278255463, "total_loss": 68.9813003540039, "vf_explained_var": 0.6597611904144287}, "update_time_ms": 11.097}, "policy_reward_mean": {}, "date": "2019-04-28_22-54-53", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 3571806, "time_total_s": 7002.145658254623, "timesteps_this_iter": 151730, "iterations_since_restore": 23}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1434e0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1050.6826631917875, "cost2_max": 0.0, "system_level_velocity_mean": 11.875537111836794, "cost2_mean": -0.038257410502450115, "cost2_min": -0.4755849522539358, "system_level_velocity_min": 9.874461093620491, "cost1_max": 370.253312106089, "cost1_min": 22.248532374539874, "outflow_rate_min": 511.7037326966564, "outflow_rate_max": 1185.8457748975713, "system_level_velocity_max": 17.752397433674872, "cost1_mean": 305.9879393211595}, "episodes_total": 9941, "timesteps_total": 20888263, "episodes_this_iter": 32, "time_since_restore": 1087.646806716919, "episode_reward_max": 2959.0630001504155, "episode_reward_mean": 2682.5546175979484, "timestamp": 1556492140, "training_iteration": 174, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.04169141664916, "node_ip": "10.138.0.2", "time_this_iter_s": 46.910853147506714, "info": {"load_time_ms": 25.629, "num_steps_trained": 20888263, "num_steps_sampled": 20888263, "grad_time_ms": 30914.906, "sample_time_ms": 12837.011, "default": {"vf_loss": 54.3758430480957, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0015876519028097391, "kl": 0.008274830877780914, "entropy": 0.8572389483451843, "cur_kl_coeff": 0.20000001788139343, "total_loss": 54.37590789794922, "vf_explained_var": 0.6841734051704407}, "update_time_ms": 11.034}, "policy_reward_mean": {}, "date": "2019-04-28_22-55-40", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 3728525, "time_total_s": 7049.05651140213, "timesteps_this_iter": 156719, "iterations_since_restore": 24}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1433c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1434a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143438>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1061.0733829259461, "cost2_max": 0.0, "system_level_velocity_mean": 11.753225547949693, "cost2_mean": -0.0371734141805615, "cost2_min": -0.3673277468815028, "system_level_velocity_min": 9.874461093620491, "cost1_max": 370.253312106089, "cost1_min": 259.1378025936926, "outflow_rate_min": 954.5328467117088, "outflow_rate_max": 1180.6110328033308, "system_level_velocity_max": 13.754182740957472, "cost1_mean": 311.384147464209}, "episodes_total": 9977, "timesteps_total": 21037976, "episodes_this_iter": 36, "time_since_restore": 1129.848911523819, "episode_reward_max": 2959.0630001504155, "episode_reward_mean": 2722.9042158140073, "timestamp": 1556492182, "training_iteration": 175, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2529.1693847394713, "node_ip": "10.138.0.2", "time_this_iter_s": 42.202104806900024, "info": {"load_time_ms": 27.577, "num_steps_trained": 21037976, "num_steps_sampled": 21037976, "grad_time_ms": 30972.369, "sample_time_ms": 12758.194, "default": {"vf_loss": 62.04905319213867, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001655828906223178, "kl": 0.007794711273163557, "entropy": 0.8596818447113037, "cur_kl_coeff": 0.20000001788139343, "total_loss": 62.0489616394043, "vf_explained_var": 0.6865603923797607}, "update_time_ms": 10.891}, "policy_reward_mean": {}, "date": "2019-04-28_22-56-22", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 3878238, "time_total_s": 7091.25861620903, "timesteps_this_iter": 149713, "iterations_since_restore": 25}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143470>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1055.551809138823, "cost2_max": 0.0, "system_level_velocity_mean": 11.972836380800551, "cost2_mean": -0.03911574837354937, "cost2_min": -0.37801780781824457, "system_level_velocity_min": 10.208269780311902, "cost1_max": 383.1277793195573, "cost1_min": 22.109666419734808, "outflow_rate_min": 497.2364626167815, "outflow_rate_max": 1211.3570087019782, "system_level_velocity_max": 17.557197281053497, "cost1_mean": 308.3015956037805}, "episodes_total": 10007, "timesteps_total": 21191940, "episodes_this_iter": 30, "time_since_restore": 1172.9468224048615, "episode_reward_max": 3023.142957892913, "episode_reward_mean": 2675.6748041739042, "timestamp": 1556492225, "training_iteration": 176, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.34250630886763, "node_ip": "10.138.0.2", "time_this_iter_s": 43.09791088104248, "info": {"load_time_ms": 27.239, "num_steps_trained": 21191940, "num_steps_sampled": 21191940, "grad_time_ms": 30862.528, "sample_time_ms": 12842.101, "default": {"vf_loss": 54.32113265991211, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014416741905733943, "kl": 0.00863712839782238, "entropy": 0.8615578413009644, "cur_kl_coeff": 0.20000001788139343, "total_loss": 54.321414947509766, "vf_explained_var": 0.6927163004875183}, "update_time_ms": 10.809}, "policy_reward_mean": {}, "date": "2019-04-28_22-57-05", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 4032202, "time_total_s": 7134.356527090073, "timesteps_this_iter": 153964, "iterations_since_restore": 26}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1430f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143198>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1050.5495942284483, "cost2_max": 0.0, "system_level_velocity_mean": 12.073279912312987, "cost2_mean": -0.04744985235743517, "cost2_min": -0.4838524575660462, "system_level_velocity_min": 10.208269780311902, "cost1_max": 383.1277793195573, "cost1_min": 22.109666419734808, "outflow_rate_min": 497.2364626167815, "outflow_rate_max": 1211.3570087019782, "system_level_velocity_max": 17.83842253056991, "cost1_mean": 305.7806877806927}, "episodes_total": 10055, "timesteps_total": 21344697, "episodes_this_iter": 48, "time_since_restore": 1216.7246062755585, "episode_reward_max": 3023.142957892913, "episode_reward_mean": 2639.7709047000685, "timestamp": 1556492269, "training_iteration": 177, "episode_len_mean": 680.02, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.34250630886763, "node_ip": "10.138.0.2", "time_this_iter_s": 43.77778387069702, "info": {"load_time_ms": 28.133, "num_steps_trained": 21344697, "num_steps_sampled": 21344697, "grad_time_ms": 30581.683, "sample_time_ms": 12807.42, "default": {"vf_loss": 78.731201171875, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0015335847856476903, "kl": 0.008156380616128445, "entropy": 0.8431573510169983, "cur_kl_coeff": 0.20000001788139343, "total_loss": 78.7313003540039, "vf_explained_var": 0.6448483467102051}, "update_time_ms": 10.691}, "policy_reward_mean": {}, "date": "2019-04-28_22-57-49", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 4184959, "time_total_s": 7178.13431096077, "timesteps_this_iter": 152757, "iterations_since_restore": 27}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126ba8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1048.4486928578563, "cost2_max": 0.0, "system_level_velocity_mean": 12.025275170424454, "cost2_mean": -0.044432082770999554, "cost2_min": -0.4838524575660462, "system_level_velocity_min": 10.292763063844067, "cost1_max": 383.1277793195573, "cost1_min": 22.109666419734808, "outflow_rate_min": 498.42651863635086, "outflow_rate_max": 1211.3570087019782, "system_level_velocity_max": 17.83842253056991, "cost1_mean": 304.0032810369183}, "episodes_total": 10089, "timesteps_total": 21500048, "episodes_this_iter": 34, "time_since_restore": 1260.6268591880798, "episode_reward_max": 2996.8357218619044, "episode_reward_mean": 2638.8878980374557, "timestamp": 1556492313, "training_iteration": 178, "episode_len_mean": 680.02, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.34250630886763, "node_ip": "10.138.0.2", "time_this_iter_s": 43.90225291252136, "info": {"load_time_ms": 28.681, "num_steps_trained": 21500048, "num_steps_sampled": 21500048, "grad_time_ms": 30844.449, "sample_time_ms": 12780.304, "default": {"vf_loss": 60.73891067504883, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0018675907049328089, "kl": 0.009143688715994358, "entropy": 0.8377984166145325, "cur_kl_coeff": 0.20000003278255463, "total_loss": 60.738868713378906, "vf_explained_var": 0.6834030151367188}, "update_time_ms": 10.695}, "policy_reward_mean": {}, "date": "2019-04-28_22-58-33", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 4340310, "time_total_s": 7222.036563873291, "timesteps_this_iter": 155351, "iterations_since_restore": 28}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1435f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143940>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1052.5750516223202, "cost2_max": 0.0, "system_level_velocity_mean": 11.965363419006385, "cost2_mean": -0.0341329934582906, "cost2_min": -0.4453322460616005, "system_level_velocity_min": 10.163965291030635, "cost1_max": 368.24248343287, "cost1_min": 22.258881787882615, "outflow_rate_min": 498.42651863635086, "outflow_rate_max": 1184.7873640414896, "system_level_velocity_max": 17.83842253056991, "cost1_mean": 306.59817544023184}, "episodes_total": 10120, "timesteps_total": 21652933, "episodes_this_iter": 31, "time_since_restore": 1306.1540298461914, "episode_reward_max": 2952.6026753433225, "episode_reward_mean": 2655.6458684786076, "timestamp": 1556492359, "training_iteration": 179, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 104.70436979235164, "node_ip": "10.138.0.2", "time_this_iter_s": 45.52717065811157, "info": {"load_time_ms": 27.273, "num_steps_trained": 21652933, "num_steps_sampled": 21652933, "grad_time_ms": 30858.949, "sample_time_ms": 12980.791, "default": {"vf_loss": 54.54288864135742, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0018507898785173893, "kl": 0.008105403743684292, "entropy": 0.8217720985412598, "cur_kl_coeff": 0.20000001788139343, "total_loss": 54.542659759521484, "vf_explained_var": 0.7214139699935913}, "update_time_ms": 10.99}, "policy_reward_mean": {}, "date": "2019-04-28_22-59-19", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 4493195, "time_total_s": 7267.563734531403, "timesteps_this_iter": 152885, "iterations_since_restore": 29}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143da0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1066.3515762262664, "cost2_max": 0.0, "system_level_velocity_mean": 12.013288924592635, "cost2_mean": -0.03533902679065299, "cost2_min": -0.4331362850107996, "system_level_velocity_min": 10.163965291030635, "cost1_max": 372.7716228103137, "cost1_min": 22.258881787882615, "outflow_rate_min": 516.4865848921888, "outflow_rate_max": 1190.538341108526, "system_level_velocity_max": 17.754573678944848, "cost1_mean": 312.79396487468205}, "episodes_total": 10159, "timesteps_total": 21805268, "episodes_this_iter": 39, "time_since_restore": 1350.531865119934, "episode_reward_max": 2999.7658593090755, "episode_reward_mean": 2715.3592177580663, "timestamp": 1556492403, "training_iteration": 180, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 104.70436979235164, "node_ip": "10.138.0.2", "time_this_iter_s": 44.377835273742676, "info": {"load_time_ms": 27.246, "num_steps_trained": 21805268, "num_steps_sampled": 21805268, "grad_time_ms": 31026.342, "sample_time_ms": 12924.233, "default": {"vf_loss": 70.18775177001953, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020652569364756346, "kl": 0.00882682017982006, "entropy": 0.8260775804519653, "cur_kl_coeff": 0.20000003278255463, "total_loss": 70.18744659423828, "vf_explained_var": 0.6880816221237183}, "update_time_ms": 10.942}, "policy_reward_mean": {}, "date": "2019-04-28_23-00-03", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 4645530, "time_total_s": 7311.941569805145, "timesteps_this_iter": 152335, "iterations_since_restore": 30}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1432e8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1078.616920823926, "cost2_max": 0.0, "system_level_velocity_mean": 12.078761599187379, "cost2_mean": -0.036595511787286476, "cost2_min": -0.4331362850107996, "system_level_velocity_min": 10.163965291030635, "cost1_max": 372.7716228103137, "cost1_min": 263.53822036228337, "outflow_rate_min": 938.2565378331732, "outflow_rate_max": 1190.538341108526, "system_level_velocity_max": 13.970394385865228, "cost1_mean": 319.0337620732523}, "episodes_total": 10190, "timesteps_total": 21957423, "episodes_this_iter": 31, "time_since_restore": 1392.2072649002075, "episode_reward_max": 3000.6590086526335, "episode_reward_mean": 2747.546929160672, "timestamp": 1556492445, "training_iteration": 181, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2453.9599544413127, "node_ip": "10.138.0.2", "time_this_iter_s": 41.67539978027344, "info": {"load_time_ms": 29.59, "num_steps_trained": 21957423, "num_steps_sampled": 21957423, "grad_time_ms": 30873.962, "sample_time_ms": 12897.613, "default": {"vf_loss": 55.87807846069336, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001744234818033874, "kl": 0.00877594854682684, "entropy": 0.8390263319015503, "cur_kl_coeff": 0.20000001788139343, "total_loss": 55.878089904785156, "vf_explained_var": 0.7206936478614807}, "update_time_ms": 10.933}, "policy_reward_mean": {}, "date": "2019-04-28_23-00-45", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 4797685, "time_total_s": 7353.616969585419, "timesteps_this_iter": 152155, "iterations_since_restore": 31}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1437f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143048>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1072.3318722945435, "cost2_max": 0.0, "system_level_velocity_mean": 12.126766580115827, "cost2_mean": -0.048201628539109455, "cost2_min": -0.4924328766768191, "system_level_velocity_min": 10.23817821668059, "cost1_max": 372.7716228103137, "cost1_min": 22.478264958383434, "outflow_rate_min": 511.2908684507561, "outflow_rate_max": 1190.538341108526, "system_level_velocity_max": 17.877610952886293, "cost1_mean": 315.72076818577113}, "episodes_total": 10225, "timesteps_total": 22110096, "episodes_this_iter": 35, "time_since_restore": 1432.994226694107, "episode_reward_max": 3000.6590086526335, "episode_reward_mean": 2722.187189813336, "timestamp": 1556492486, "training_iteration": 182, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 105.45853471686829, "node_ip": "10.138.0.2", "time_this_iter_s": 40.786961793899536, "info": {"load_time_ms": 29.755, "num_steps_trained": 22110096, "num_steps_sampled": 22110096, "grad_time_ms": 30537.098, "sample_time_ms": 12844.306, "default": {"vf_loss": 64.4888687133789, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0017058281227946281, "kl": 0.008387194015085697, "entropy": 0.8351289629936218, "cur_kl_coeff": 0.20000001788139343, "total_loss": 64.48884582519531, "vf_explained_var": 0.681192934513092}, "update_time_ms": 10.846}, "policy_reward_mean": {}, "date": "2019-04-28_23-01-26", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 4950358, "time_total_s": 7394.403931379318, "timesteps_this_iter": 152673, "iterations_since_restore": 32}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1435c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143c50>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1072.4644712456684, "cost2_max": 0.0, "system_level_velocity_mean": 12.160555410896805, "cost2_mean": -0.03647335166867926, "cost2_min": -0.4924328766768191, "system_level_velocity_min": 10.075041069364108, "cost1_max": 391.6118136336414, "cost1_min": 22.478264958383434, "outflow_rate_min": 511.2908684507561, "outflow_rate_max": 1218.0436198531547, "system_level_velocity_max": 17.877610952886293, "cost1_mean": 316.39824249406695}, "episodes_total": 10259, "timesteps_total": 22264503, "episodes_this_iter": 34, "time_since_restore": 1478.7531852722168, "episode_reward_max": 3024.6733826837117, "episode_reward_mean": 2718.004968380219, "timestamp": 1556492531, "training_iteration": 183, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 105.45853471686829, "node_ip": "10.138.0.2", "time_this_iter_s": 45.75895857810974, "info": {"load_time_ms": 29.626, "num_steps_trained": 22264503, "num_steps_sampled": 22264503, "grad_time_ms": 30695.013, "sample_time_ms": 12809.448, "default": {"vf_loss": 61.393898010253906, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014823621604591608, "kl": 0.008573327213525772, "entropy": 0.8340325951576233, "cur_kl_coeff": 0.20000001788139343, "total_loss": 61.39412307739258, "vf_explained_var": 0.7037982940673828}, "update_time_ms": 10.496}, "policy_reward_mean": {}, "date": "2019-04-28_23-02-11", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 5104765, "time_total_s": 7440.162889957428, "timesteps_this_iter": 154407, "iterations_since_restore": 33}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1434e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1430b8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1054.5705482257044, "cost2_max": 0.0, "system_level_velocity_mean": 12.167541883590134, "cost2_mean": -0.045687550088012514, "cost2_min": -0.4700188144716383, "system_level_velocity_min": 10.075041069364108, "cost1_max": 391.6118136336414, "cost1_min": 22.058367901975124, "outflow_rate_min": 511.2908684507561, "outflow_rate_max": 1218.0436198531547, "system_level_velocity_max": 17.877610952886293, "cost1_mean": 307.28381559617367}, "episodes_total": 10303, "timesteps_total": 22417238, "episodes_this_iter": 44, "time_since_restore": 1521.3369944095612, "episode_reward_max": 3024.6733826837117, "episode_reward_mean": 2652.1923744183746, "timestamp": 1556492574, "training_iteration": 184, "episode_len_mean": 680.02, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.24836045096212, "node_ip": "10.138.0.2", "time_this_iter_s": 42.58380913734436, "info": {"load_time_ms": 29.9, "num_steps_trained": 22417238, "num_steps_sampled": 22417238, "grad_time_ms": 30494.393, "sample_time_ms": 12575.017, "default": {"vf_loss": 79.51412200927734, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002004905603826046, "kl": 0.00841735303401947, "entropy": 0.8280343413352966, "cur_kl_coeff": 0.20000001788139343, "total_loss": 79.51380157470703, "vf_explained_var": 0.6543830037117004}, "update_time_ms": 10.747}, "policy_reward_mean": {}, "date": "2019-04-28_23-02-54", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 5257500, "time_total_s": 7482.746699094772, "timesteps_this_iter": 152735, "iterations_since_restore": 34}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1439e8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1062.885354201, "cost2_max": 0.0, "system_level_velocity_mean": 12.312623235337856, "cost2_mean": -0.05157076178468462, "cost2_min": -0.5555555555555556, "system_level_velocity_min": 10.101476988354337, "cost1_max": 391.6118136336414, "cost1_min": 22.058367901975124, "outflow_rate_min": 511.55921699369196, "outflow_rate_max": 1218.0436198531547, "system_level_velocity_max": 18.53629915715501, "cost1_mean": 311.0934160016474}, "episodes_total": 10335, "timesteps_total": 22570662, "episodes_this_iter": 32, "time_since_restore": 1566.6506173610687, "episode_reward_max": 3029.1294622517626, "episode_reward_mean": 2662.3767651277735, "timestamp": 1556492619, "training_iteration": 185, "episode_len_mean": 680.12, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.24836045096212, "node_ip": "10.138.0.2", "time_this_iter_s": 45.31362295150757, "info": {"load_time_ms": 30.54, "num_steps_trained": 22570662, "num_steps_sampled": 22570662, "grad_time_ms": 30739.794, "sample_time_ms": 12634.004, "default": {"vf_loss": 57.69230651855469, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002568748313933611, "kl": 0.008729781955480576, "entropy": 0.8320648074150085, "cur_kl_coeff": 0.20000001788139343, "total_loss": 57.69147872924805, "vf_explained_var": 0.7123545408248901}, "update_time_ms": 10.867}, "policy_reward_mean": {}, "date": "2019-04-28_23-03-39", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 5410924, "time_total_s": 7528.06032204628, "timesteps_this_iter": 153424, "iterations_since_restore": 35}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1437f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143b00>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1057.8946207924287, "cost2_max": 0.0, "system_level_velocity_mean": 12.258013596623396, "cost2_mean": -0.05223049085739155, "cost2_min": -0.5555555555555556, "system_level_velocity_min": 9.807872428053745, "cost1_max": 385.84272945003306, "cost1_min": 22.058367901975124, "outflow_rate_min": 511.55921699369196, "outflow_rate_max": 1212.9888062968773, "system_level_velocity_max": 18.53629915715501, "cost1_mean": 309.6684630895223}, "episodes_total": 10372, "timesteps_total": 22724303, "episodes_this_iter": 37, "time_since_restore": 1610.350787639618, "episode_reward_max": 3029.1294622517626, "episode_reward_mean": 2648.484699345643, "timestamp": 1556492663, "training_iteration": 186, "episode_len_mean": 680.12, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.24836045096212, "node_ip": "10.138.0.2", "time_this_iter_s": 43.700170278549194, "info": {"load_time_ms": 32.317, "num_steps_trained": 22724303, "num_steps_sampled": 22724303, "grad_time_ms": 30774.427, "sample_time_ms": 12655.636, "default": {"vf_loss": 58.39924621582031, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020036492496728897, "kl": 0.008612055331468582, "entropy": 0.8262665867805481, "cur_kl_coeff": 0.20000003278255463, "total_loss": 58.39896011352539, "vf_explained_var": 0.7150629162788391}, "update_time_ms": 11.027}, "policy_reward_mean": {}, "date": "2019-04-28_23-04-23", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 5564565, "time_total_s": 7571.760492324829, "timesteps_this_iter": 153641, "iterations_since_restore": 36}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1430f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143b38>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1072.0388103638084, "cost2_max": 0.0, "system_level_velocity_mean": 12.19668847028983, "cost2_mean": -0.04092685503677863, "cost2_min": -0.5555555555555556, "system_level_velocity_min": 9.807872428053745, "cost1_max": 385.84272945003306, "cost1_min": 28.440659703507112, "outflow_rate_min": 551.9805530968086, "outflow_rate_max": 1213.2113745499585, "system_level_velocity_max": 18.53629915715501, "cost1_mean": 317.47903794831075}, "episodes_total": 10411, "timesteps_total": 22877438, "episodes_this_iter": 39, "time_since_restore": 1656.3996362686157, "episode_reward_max": 3029.1294622517626, "episode_reward_mean": 2707.425579630197, "timestamp": 1556492709, "training_iteration": 187, "episode_len_mean": 693.44, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 133.914872245623, "node_ip": "10.138.0.2", "time_this_iter_s": 46.0488486289978, "info": {"load_time_ms": 31.788, "num_steps_trained": 22877438, "num_steps_sampled": 22877438, "grad_time_ms": 31019.169, "sample_time_ms": 12637.563, "default": {"vf_loss": 64.34491729736328, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002122871344909072, "kl": 0.008631056174635887, "entropy": 0.8238245844841003, "cur_kl_coeff": 0.20000001788139343, "total_loss": 64.34452056884766, "vf_explained_var": 0.7030032277107239}, "update_time_ms": 11.091}, "policy_reward_mean": {}, "date": "2019-04-28_23-05-09", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 5717700, "time_total_s": 7617.809340953827, "timesteps_this_iter": 153135, "iterations_since_restore": 37}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1430b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1439b0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1062.8361331807325, "cost2_max": 0.0, "system_level_velocity_mean": 11.888352476266084, "cost2_mean": -0.04946511217881648, "cost2_min": -0.5471012912289637, "system_level_velocity_min": 9.545640578499436, "cost1_max": 385.6909996862329, "cost1_min": 247.99125097174138, "outflow_rate_min": 918.8707056638829, "outflow_rate_max": 1213.2113745499585, "system_level_velocity_max": 14.392667864397014, "cost1_mean": 313.77525709044795}, "episodes_total": 10442, "timesteps_total": 23029773, "episodes_this_iter": 31, "time_since_restore": 1699.9296476840973, "episode_reward_max": 2988.6508801421232, "episode_reward_mean": 2707.8103865107933, "timestamp": 1556492753, "training_iteration": 188, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2445.1250428282938, "node_ip": "10.138.0.2", "time_this_iter_s": 43.53001141548157, "info": {"load_time_ms": 31.505, "num_steps_trained": 23029773, "num_steps_sampled": 23029773, "grad_time_ms": 30910.711, "sample_time_ms": 12710.186, "default": {"vf_loss": 56.65275192260742, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016484720399603248, "kl": 0.008798308670520782, "entropy": 0.8095583915710449, "cur_kl_coeff": 0.20000003278255463, "total_loss": 56.652862548828125, "vf_explained_var": 0.7175020575523376}, "update_time_ms": 11.15}, "policy_reward_mean": {}, "date": "2019-04-28_23-05-53", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 5870035, "time_total_s": 7661.3393523693085, "timesteps_this_iter": 152335, "iterations_since_restore": 38}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143358>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1052.544980350901, "cost2_max": 0.0, "system_level_velocity_mean": 11.82772549412948, "cost2_mean": -0.05072045380125684, "cost2_min": -0.5471012912289637, "system_level_velocity_min": 9.545640578499436, "cost1_max": 385.6909996862329, "cost1_min": 22.309377762083976, "outflow_rate_min": 518.3645701134876, "outflow_rate_max": 1213.2113745499585, "system_level_velocity_max": 17.747073124198344, "cost1_mean": 307.6778878422717}, "episodes_total": 10476, "timesteps_total": 23183556, "episodes_this_iter": 34, "time_since_restore": 1744.6530442237854, "episode_reward_max": 2988.6508801421232, "episode_reward_mean": 2684.4494764237566, "timestamp": 1556492797, "training_iteration": 189, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.40109140253726, "node_ip": "10.138.0.2", "time_this_iter_s": 44.72339653968811, "info": {"load_time_ms": 32.561, "num_steps_trained": 23183556, "num_steps_sampled": 23183556, "grad_time_ms": 30920.679, "sample_time_ms": 12616.256, "default": {"vf_loss": 64.60427856445312, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002000854816287756, "kl": 0.009476537816226482, "entropy": 0.79091876745224, "cur_kl_coeff": 0.20000001788139343, "total_loss": 64.60416412353516, "vf_explained_var": 0.6901567578315735}, "update_time_ms": 10.949}, "policy_reward_mean": {}, "date": "2019-04-28_23-06-37", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 6023818, "time_total_s": 7706.062748908997, "timesteps_this_iter": 153783, "iterations_since_restore": 39}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126eb8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1057.766015973598, "cost2_max": 0.0, "system_level_velocity_mean": 11.876923577570334, "cost2_mean": -0.05178695778811778, "cost2_min": -0.4957433518630648, "system_level_velocity_min": 9.545640578499436, "cost1_max": 375.05593963561057, "cost1_min": 22.309377762083976, "outflow_rate_min": 518.3645701134876, "outflow_rate_max": 1199.0276160247408, "system_level_velocity_max": 17.747073124198344, "cost1_mean": 308.91440868863793}, "episodes_total": 10509, "timesteps_total": 23338446, "episodes_this_iter": 33, "time_since_restore": 1789.839028596878, "episode_reward_max": 3032.6497071129725, "episode_reward_mean": 2703.2219730749334, "timestamp": 1556492843, "training_iteration": 190, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.40109140253726, "node_ip": "10.138.0.2", "time_this_iter_s": 45.18598437309265, "info": {"load_time_ms": 31.393, "num_steps_trained": 23338446, "num_steps_sampled": 23338446, "grad_time_ms": 30979.865, "sample_time_ms": 12643.133, "default": {"vf_loss": 60.9986457824707, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020780200138688087, "kl": 0.008908374235033989, "entropy": 0.7789493799209595, "cur_kl_coeff": 0.20000001788139343, "total_loss": 60.998348236083984, "vf_explained_var": 0.6996041536331177}, "update_time_ms": 11.076}, "policy_reward_mean": {}, "date": "2019-04-28_23-07-23", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 6178708, "time_total_s": 7751.248733282089, "timesteps_this_iter": 154890, "iterations_since_restore": 40}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126fd0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1063.4593888534112, "cost2_max": 0.0, "system_level_velocity_mean": 12.08114975765019, "cost2_mean": -0.03401250847089673, "cost2_min": -0.2967563472004023, "system_level_velocity_min": 9.946936010520522, "cost1_max": 375.05593963561057, "cost1_min": 22.309377762083976, "outflow_rate_min": 518.0595356996141, "outflow_rate_max": 1199.0276160247408, "system_level_velocity_max": 17.749810473049735, "cost1_mean": 310.1002543929858}, "episodes_total": 10549, "timesteps_total": 23490289, "episodes_this_iter": 40, "time_since_restore": 1833.671948671341, "episode_reward_max": 3032.6497071129725, "episode_reward_mean": 2712.013192788733, "timestamp": 1556492887, "training_iteration": 191, "episode_len_mean": 686.68, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 103.40109140253726, "node_ip": "10.138.0.2", "time_this_iter_s": 43.83292007446289, "info": {"load_time_ms": 31.51, "num_steps_trained": 23490289, "num_steps_sampled": 23490289, "grad_time_ms": 31179.463, "sample_time_ms": 12659.286, "default": {"vf_loss": 69.41265106201172, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012578294845297933, "kl": 0.009075185284018517, "entropy": 0.7852599024772644, "cur_kl_coeff": 0.20000000298023224, "total_loss": 69.4132080078125, "vf_explained_var": 0.6957577466964722}, "update_time_ms": 10.939}, "policy_reward_mean": {}, "date": "2019-04-28_23-08-07", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 6330551, "time_total_s": 7795.081653356552, "timesteps_this_iter": 151843, "iterations_since_restore": 41}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9b9383c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9b938400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9b938390>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1075.3899035686102, "cost2_max": 0.0, "system_level_velocity_mean": 12.151376724736322, "cost2_mean": -0.030491473521289895, "cost2_min": -0.23076923076923078, "system_level_velocity_min": 9.936166054639829, "cost1_max": 375.05593963561057, "cost1_min": 22.331813976854363, "outflow_rate_min": 518.0595356996141, "outflow_rate_max": 1199.0276160247408, "system_level_velocity_max": 17.749810473049735, "cost1_mean": 316.4311251535175}, "episodes_total": 10582, "timesteps_total": 23646138, "episodes_this_iter": 33, "time_since_restore": 1878.971960067749, "episode_reward_max": 3032.6497071129725, "episode_reward_mean": 2748.0965613502362, "timestamp": 1556492932, "training_iteration": 192, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 104.252402606439, "node_ip": "10.138.0.2", "time_this_iter_s": 45.30001139640808, "info": {"load_time_ms": 34.106, "num_steps_trained": 23646138, "num_steps_sampled": 23646138, "grad_time_ms": 31588.646, "sample_time_ms": 12694.389, "default": {"vf_loss": 62.56779098510742, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012335926294326782, "kl": 0.008844926953315735, "entropy": 0.7900744080543518, "cur_kl_coeff": 0.20000001788139343, "total_loss": 62.568328857421875, "vf_explained_var": 0.6989467740058899}, "update_time_ms": 10.911}, "policy_reward_mean": {}, "date": "2019-04-28_23-08-52", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 6486400, "time_total_s": 7840.38166475296, "timesteps_this_iter": 155849, "iterations_since_restore": 42}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143da0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1078.7487596612314, "cost2_max": 0.0, "system_level_velocity_mean": 12.222511978111543, "cost2_mean": -0.036567504043397855, "cost2_min": -0.4444444444444444, "system_level_velocity_min": 9.936166054639829, "cost1_max": 382.0531376588849, "cost1_min": 22.331813976854363, "outflow_rate_min": 518.0595356996141, "outflow_rate_max": 1211.5446286872673, "system_level_velocity_max": 17.749810473049735, "cost1_mean": 318.13606994042345}, "episodes_total": 10618, "timesteps_total": 23799852, "episodes_this_iter": 36, "time_since_restore": 1921.6370294094086, "episode_reward_max": 2983.327217393694, "episode_reward_mean": 2742.9337092630653, "timestamp": 1556492975, "training_iteration": 193, "episode_len_mean": 693.34, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 104.252402606439, "node_ip": "10.138.0.2", "time_this_iter_s": 42.665069341659546, "info": {"load_time_ms": 37.276, "num_steps_trained": 23799852, "num_steps_sampled": 23799852, "grad_time_ms": 31395.041, "sample_time_ms": 12579.358, "default": {"vf_loss": 63.92842483520508, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020373633597046137, "kl": 0.008899601176381111, "entropy": 0.8009123802185059, "cur_kl_coeff": 0.20000003278255463, "total_loss": 63.928165435791016, "vf_explained_var": 0.6974242925643921}, "update_time_ms": 11.165}, "policy_reward_mean": {}, "date": "2019-04-28_23-09-35", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 6640114, "time_total_s": 7883.04673409462, "timesteps_this_iter": 153714, "iterations_since_restore": 43}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1430b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1434e0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1087.5063531113717, "cost2_max": 0.0, "system_level_velocity_mean": 12.204022136029849, "cost2_mean": -0.039857644700761134, "cost2_min": -0.4444444444444444, "system_level_velocity_min": 10.494154756718002, "cost1_max": 382.0531376588849, "cost1_min": 271.50221638757023, "outflow_rate_min": 956.9894340024616, "outflow_rate_max": 1211.5446286872673, "system_level_velocity_max": 14.414719198441936, "cost1_mean": 321.8987711572344}, "episodes_total": 10657, "timesteps_total": 23952834, "episodes_this_iter": 39, "time_since_restore": 1964.0135159492493, "episode_reward_max": 2983.327217393694, "episode_reward_mean": 2779.4206596781332, "timestamp": 1556493017, "training_iteration": 194, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2502.1338954700077, "node_ip": "10.138.0.2", "time_this_iter_s": 42.3764865398407, "info": {"load_time_ms": 38.691, "num_steps_trained": 23952834, "num_steps_sampled": 23952834, "grad_time_ms": 31403.244, "sample_time_ms": 12549.393, "default": {"vf_loss": 70.10445404052734, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016557557974010706, "kl": 0.008283903822302818, "entropy": 0.8060139417648315, "cur_kl_coeff": 0.20000003278255463, "total_loss": 70.10444641113281, "vf_explained_var": 0.7023160457611084}, "update_time_ms": 10.82}, "policy_reward_mean": {}, "date": "2019-04-28_23-10-17", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 6793096, "time_total_s": 7925.42322063446, "timesteps_this_iter": 152982, "iterations_since_restore": 44}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143b70>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1086.5010756890076, "cost2_max": 0.0, "system_level_velocity_mean": 12.168321544018843, "cost2_mean": -0.053798045918600775, "cost2_min": -0.4444444444444444, "system_level_velocity_min": 9.748641293726617, "cost1_max": 382.0531376588849, "cost1_min": 251.31468971039592, "outflow_rate_min": 923.9127611881823, "outflow_rate_max": 1211.5446286872673, "system_level_velocity_max": 14.414719198441936, "cost1_mean": 320.7124252675506}, "episodes_total": 10690, "timesteps_total": 24106375, "episodes_this_iter": 33, "time_since_restore": 2007.6054048538208, "episode_reward_max": 3010.9982927125743, "episode_reward_mean": 2779.012696402287, "timestamp": 1556493061, "training_iteration": 195, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2521.5244589441595, "node_ip": "10.138.0.2", "time_this_iter_s": 43.59188890457153, "info": {"load_time_ms": 37.264, "num_steps_trained": 24106375, "num_steps_sampled": 24106375, "grad_time_ms": 31271.618, "sample_time_ms": 12513.893, "default": {"vf_loss": 61.84001159667969, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0020860405638813972, "kl": 0.0090260561555624, "entropy": 0.8167900443077087, "cur_kl_coeff": 0.20000001788139343, "total_loss": 61.83973693847656, "vf_explained_var": 0.7131262421607971}, "update_time_ms": 10.825}, "policy_reward_mean": {}, "date": "2019-04-28_23-11-01", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 6946637, "time_total_s": 7969.015109539032, "timesteps_this_iter": 153541, "iterations_since_restore": 45}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1438d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1436a0>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1093.3869495169442, "cost2_max": 0.0, "system_level_velocity_mean": 12.285032785912922, "cost2_mean": -0.05426459755397156, "cost2_min": -0.5063317357393984, "system_level_velocity_min": 9.748641293726617, "cost1_max": 419.27156033916856, "cost1_min": 251.31468971039592, "outflow_rate_min": 923.9127611881823, "outflow_rate_max": 1266.108324879636, "system_level_velocity_max": 15.638395161511383, "cost1_mean": 323.88495351587545}, "episodes_total": 10722, "timesteps_total": 24258353, "episodes_this_iter": 32, "time_since_restore": 2051.3569796085358, "episode_reward_max": 3096.60109936963, "episode_reward_mean": 2789.2909395339807, "timestamp": 1556493104, "training_iteration": 196, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2521.5244589441595, "node_ip": "10.138.0.2", "time_this_iter_s": 43.751574754714966, "info": {"load_time_ms": 40.478, "num_steps_trained": 24258353, "num_steps_sampled": 24258353, "grad_time_ms": 31155.629, "sample_time_ms": 12634.474, "default": {"vf_loss": 60.54959487915039, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001720440573990345, "kl": 0.007843026891350746, "entropy": 0.8213611245155334, "cur_kl_coeff": 0.20000001788139343, "total_loss": 60.549442291259766, "vf_explained_var": 0.7161422371864319}, "update_time_ms": 11.97}, "policy_reward_mean": {}, "date": "2019-04-28_23-11-44", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 7098615, "time_total_s": 8012.766684293747, "timesteps_this_iter": 151978, "iterations_since_restore": 46}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e1432b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e143780>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1084.2588421985183, "cost2_max": 0.0, "system_level_velocity_mean": 12.176050162586018, "cost2_mean": -0.0632107501397528, "cost2_min": -0.5063317357393984, "system_level_velocity_min": 9.748641293726617, "cost1_max": 419.27156033916856, "cost1_min": 251.31468971039592, "outflow_rate_min": 923.9127611881823, "outflow_rate_max": 1266.108324879636, "system_level_velocity_max": 15.638395161511383, "cost1_mean": 320.70495331169013}, "episodes_total": 10758, "timesteps_total": 24410726, "episodes_this_iter": 36, "time_since_restore": 2093.584162712097, "episode_reward_max": 3096.60109936963, "episode_reward_mean": 2767.173765310958, "timestamp": 1556493147, "training_iteration": 197, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2521.5244589441595, "node_ip": "10.138.0.2", "time_this_iter_s": 42.2271831035614, "info": {"load_time_ms": 40.75, "num_steps_trained": 24410726, "num_steps_sampled": 24410726, "grad_time_ms": 30941.905, "sample_time_ms": 12462.539, "default": {"vf_loss": 68.99919128417969, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0016174023039638996, "kl": 0.008362311869859695, "entropy": 0.7972298860549927, "cur_kl_coeff": 0.20000003278255463, "total_loss": 68.99925231933594, "vf_explained_var": 0.6842307448387146}, "update_time_ms": 12.076}, "policy_reward_mean": {}, "date": "2019-04-28_23-12-27", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 7250988, "time_total_s": 8054.993867397308, "timesteps_this_iter": 152373, "iterations_since_restore": 47}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126cf8>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1082.787840512119, "cost2_max": 0.0, "system_level_velocity_mean": 12.154409059926033, "cost2_mean": -0.0550162600595369, "cost2_min": -0.6678520688150369, "system_level_velocity_min": 9.842568826825513, "cost1_max": 419.27156033916856, "cost1_min": 255.21097435048438, "outflow_rate_min": 933.6543940682728, "outflow_rate_max": 1266.108324879636, "system_level_velocity_max": 15.638395161511383, "cost1_mean": 319.8803501280156}, "episodes_total": 10794, "timesteps_total": 24563890, "episodes_this_iter": 36, "time_since_restore": 2138.7267570495605, "episode_reward_max": 3096.60109936963, "episode_reward_mean": 2772.613800210894, "timestamp": 1556493192, "training_iteration": 198, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2521.812275982039, "node_ip": "10.138.0.2", "time_this_iter_s": 45.14259433746338, "info": {"load_time_ms": 43.859, "num_steps_trained": 24563890, "num_steps_sampled": 24563890, "grad_time_ms": 30993.233, "sample_time_ms": 12567.602, "default": {"vf_loss": 68.68234252929688, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0015291677555069327, "kl": 0.00875895470380783, "entropy": 0.8051578402519226, "cur_kl_coeff": 0.20000001788139343, "total_loss": 68.68255615234375, "vf_explained_var": 0.6936545968055725}, "update_time_ms": 12.072}, "policy_reward_mean": {}, "date": "2019-04-28_23-13-12", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 7404152, "time_total_s": 8100.136461734772, "timesteps_this_iter": 153164, "iterations_since_restore": 48}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126b00>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1072.4961743008478, "cost2_max": 0.0, "system_level_velocity_mean": 11.953887225214972, "cost2_mean": -0.048797200944346975, "cost2_min": -0.6678520688150369, "system_level_velocity_min": 10.066703117387027, "cost1_max": 389.83378097488117, "cost1_min": 258.4403309632406, "outflow_rate_min": 943.5116509088152, "outflow_rate_max": 1231.902907658016, "system_level_velocity_max": 14.67342770494697, "cost1_mean": 314.2672961641088}, "episodes_total": 10826, "timesteps_total": 24716449, "episodes_this_iter": 32, "time_since_restore": 2182.1138739585876, "episode_reward_max": 3074.28932409681, "episode_reward_mean": 2758.723270906092, "timestamp": 1556493235, "training_iteration": 199, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2521.812275982039, "node_ip": "10.138.0.2", "time_this_iter_s": 43.3871169090271, "info": {"load_time_ms": 46.336, "num_steps_trained": 24716449, "num_steps_sampled": 24716449, "grad_time_ms": 30959.918, "sample_time_ms": 12467.341, "default": {"vf_loss": 60.73114013671875, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0017893924377858639, "kl": 0.008342773653566837, "entropy": 0.8260589241981506, "cur_kl_coeff": 0.20000001788139343, "total_loss": 60.731021881103516, "vf_explained_var": 0.7142613530158997}, "update_time_ms": 12.018}, "policy_reward_mean": {}, "date": "2019-04-28_23-13-55", "done": false, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 7556711, "time_total_s": 8143.523578643799, "timesteps_this_iter": 152559, "iterations_since_restore": 49}
{"config": {"optimizer": {}, "sample_batch_size": 200, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "input_evaluation": null, "simple_optimizer": false, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "lr": 0.0005, "sgd_minibatch_size": 128, "kl_target": 0.01, "num_workers": 60, "model": {"custom_model": null, "max_seq_len": 20, "custom_options": {}, "conv_filters": null, "squash_to_range": false, "channel_major": false, "framestack": true, "dim": 84, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256, "zero_mean": true, "grayscale": false, "fcnet_hiddens": [100, 50, 25], "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh"}, "vf_share_layers": false, "output": null, "vf_loss_coeff": 1.0, "straggler_mitigation": false, "lambda": 0.97, "monitor": false, "num_sgd_iter": 10, "batch_mode": "truncate_episodes", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "num_gpus": 0, "num_cpus_for_driver": 1, "sample_async": false, "train_batch_size": 90000, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_param": 0.3, "clip_rewards": null, "entropy_coeff": 0.0, "horizon": 1500, "clip_actions": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[2134,93,0.179]", "use_gae": true, "synchronize_filters": true, "log_level": "INFO", "custom_resources_per_worker": {}, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0c9e126e80>", "on_sample_end": null, "on_train_result": null}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "gamma": 0.99, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_gpus_per_worker": 0}, "custom_metrics": {"outflow_rate_mean": 1086.4274409137624, "cost2_max": 0.0, "system_level_velocity_mean": 12.18829442785642, "cost2_mean": -0.05898912409841141, "cost2_min": -0.6678520688150369, "system_level_velocity_min": 9.977201301579003, "cost1_max": 419.59045422756026, "cost1_min": 257.53110258693994, "outflow_rate_min": 941.3927815875851, "outflow_rate_max": 1274.4838199880528, "system_level_velocity_max": 15.56965043909902, "cost1_mean": 320.6114146479788}, "episodes_total": 10863, "timesteps_total": 24871313, "episodes_this_iter": 37, "time_since_restore": 2225.612627029419, "episode_reward_max": 3124.0686788922767, "episode_reward_mean": 2782.7024853771245, "timestamp": 1556493279, "training_iteration": 200, "episode_len_mean": 700.0, "pid": 1798, "num_metric_batches_dropped": 0, "episode_reward_min": 2523.3554784515095, "node_ip": "10.138.0.2", "time_this_iter_s": 43.4987530708313, "info": {"load_time_ms": 47.724, "num_steps_trained": 24871313, "num_steps_sampled": 24871313, "grad_time_ms": 30753.586, "sample_time_ms": 12498.409, "default": {"vf_loss": 68.50245666503906, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001536279683932662, "kl": 0.0088278129696846, "entropy": 0.8094481825828552, "cur_kl_coeff": 0.20000003278255463, "total_loss": 68.502685546875, "vf_explained_var": 0.6776807904243469}, "update_time_ms": 12.04}, "policy_reward_mean": {}, "date": "2019-04-28_23-14-39", "done": true, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "hostname": "flow-main", "timesteps_since_restore": 7711575, "time_total_s": 8187.02233171463, "timesteps_this_iter": 154864, "iterations_since_restore": 50}
