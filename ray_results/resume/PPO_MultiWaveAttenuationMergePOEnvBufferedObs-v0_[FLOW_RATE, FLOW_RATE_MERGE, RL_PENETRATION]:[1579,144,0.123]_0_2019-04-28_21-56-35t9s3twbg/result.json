{"time_this_iter_s": 59.7894492149353, "iterations_since_restore": 1, "timestamp": 1556488680, "training_iteration": 101, "time_since_restore": 59.7894492149353, "done": false, "episode_len_mean": 700.0, "timesteps_total": 10746079, "custom_metrics": {"outflow_rate_min": 1000.6519605423726, "cost1_mean": 325.7998019924931, "cost1_min": 303.9095400020491, "system_level_velocity_min": 11.46291335248468, "system_level_velocity_mean": 12.279178279897058, "outflow_rate_max": 1079.3276532974323, "system_level_velocity_max": 13.296855810622759, "cost1_max": 353.78115453143465, "cost2_max": -0.1853068052249217, "cost2_min": -0.19398164129912998, "outflow_rate_mean": 1036.7094362107728, "cost2_mean": -0.19065361837397424}, "episode_reward_max": 1812.5629580747257, "time_total_s": 3962.381612300873, "policy_reward_mean": {}, "timesteps_since_restore": 137637, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26681.036, "num_steps_trained": 10746079, "num_steps_sampled": 10746079, "load_time_ms": 70.203, "update_time_ms": 1197.809, "sample_time_ms": 31579.294, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0025150917936116457, "vf_loss": 35.90127182006836, "entropy": 0.9545044302940369, "vf_explained_var": 0.8779000639915466, "cur_lr": 0.0005000000237487257, "total_loss": 35.90056610107422, "kl": 0.009049447253346443}}, "timesteps_this_iter": 137637, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac160>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac0f0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_21-58-00", "episodes_total": 6880, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1720.095816223899, "episode_reward_mean": 1759.2269915960635, "hostname": "flow-main", "episodes_this_iter": 3}
{"time_this_iter_s": 38.25093364715576, "iterations_since_restore": 2, "timestamp": 1556488718, "training_iteration": 102, "time_since_restore": 98.04038286209106, "done": false, "episode_len_mean": 700.0, "timesteps_total": 10877193, "custom_metrics": {"outflow_rate_min": 967.6423534827717, "cost1_mean": 315.4966461439795, "cost1_min": 293.25636598036886, "system_level_velocity_min": 11.045701779953419, "system_level_velocity_mean": 11.908611285992176, "outflow_rate_max": 1109.939777861185, "system_level_velocity_max": 13.839773643821529, "cost1_max": 368.4189230509279, "cost2_max": -0.1776308554747369, "cost2_min": -1.3445817715877415, "outflow_rate_mean": 1015.0359316384665, "cost2_mean": -0.24658516756704568}, "episode_reward_max": 1812.5629580747257, "time_total_s": 4000.6325459480286, "policy_reward_mean": {}, "timesteps_since_restore": 268751, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25264.101, "num_steps_trained": 10877193, "num_steps_sampled": 10877193, "load_time_ms": 49.605, "update_time_ms": 604.569, "sample_time_ms": 22861.618, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.001985739916563034, "vf_loss": 87.76995849609375, "entropy": 0.9547337293624878, "vf_explained_var": 0.7493609189987183, "cur_lr": 0.0005000000237487257, "total_loss": 87.76951599121094, "kl": 0.0076975151896476746}}, "timesteps_this_iter": 131114, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baaca20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baaca58>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac9e8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_21-58-38", "episodes_total": 6940, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1673.1625395541205, "episode_reward_mean": 1745.2022951345136, "hostname": "flow-main", "episodes_this_iter": 60}
{"time_this_iter_s": 38.70092463493347, "iterations_since_restore": 3, "timestamp": 1556488757, "training_iteration": 103, "time_since_restore": 136.74130749702454, "done": false, "episode_len_mean": 700.0, "timesteps_total": 11004279, "custom_metrics": {"outflow_rate_min": 884.1191709190175, "cost1_mean": 312.75177849452916, "cost1_min": 235.00689016327829, "system_level_velocity_min": 9.014874644730678, "system_level_velocity_mean": 11.806563951573626, "outflow_rate_max": 1109.939777861185, "system_level_velocity_max": 13.839773643821529, "cost1_max": 368.4189230509279, "cost2_max": -0.14588750471191292, "cost2_min": -0.7117896408530985, "outflow_rate_mean": 1012.0942827698562, "cost2_mean": -0.2418620990985588}, "episode_reward_max": 1828.9676772556372, "time_total_s": 4039.333470582962, "policy_reward_mean": {}, "timesteps_since_restore": 395837, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 24899.239, "num_steps_trained": 11004279, "num_steps_sampled": 11004279, "load_time_ms": 42.224, "update_time_ms": 406.952, "sample_time_ms": 20002.262, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.002370784990489483, "vf_loss": 82.73125457763672, "entropy": 0.9410930275917053, "vf_explained_var": 0.7593736052513123, "cur_lr": 0.0005000000237487257, "total_loss": 82.73056030273438, "kl": 0.008384124375879765}}, "timesteps_this_iter": 127086, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac14a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac14e0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1470>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_21-59-17", "episodes_total": 6997, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1613.8091871620845, "episode_reward_mean": 1743.801994235766, "hostname": "flow-main", "episodes_this_iter": 57}
{"time_this_iter_s": 41.571680307388306, "iterations_since_restore": 4, "timestamp": 1556488799, "training_iteration": 104, "time_since_restore": 178.31298780441284, "done": false, "episode_len_mean": 700.0, "timesteps_total": 11138075, "custom_metrics": {"outflow_rate_min": 884.1191709190175, "cost1_mean": 313.45123975857086, "cost1_min": 235.00689016327829, "system_level_velocity_min": 9.014874644730678, "system_level_velocity_mean": 11.825547388082269, "outflow_rate_max": 1100.577937195979, "system_level_velocity_max": 13.44306362744712, "cost1_max": 363.7831462948052, "cost2_max": -0.14588750471191292, "cost2_min": -0.7117896408530985, "outflow_rate_mean": 1013.6839167366484, "cost2_mean": -0.2375395760962495}, "episode_reward_max": 1842.080416104168, "time_total_s": 4080.9051508903503, "policy_reward_mean": {}, "timesteps_since_restore": 529633, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25528.665, "num_steps_trained": 11138075, "num_steps_sampled": 11138075, "load_time_ms": 35.612, "update_time_ms": 308.528, "sample_time_ms": 18474.126, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0016608285950496793, "vf_loss": 45.541439056396484, "entropy": 0.9491678476333618, "vf_explained_var": 0.8360798358917236, "cur_lr": 0.0005000000237487257, "total_loss": 45.541194915771484, "kl": 0.007096437271684408}}, "timesteps_this_iter": 133796, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baacda0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac5c0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_21-59-59", "episodes_total": 7025, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1613.8091871620845, "episode_reward_mean": 1744.9621186838895, "hostname": "flow-main", "episodes_this_iter": 28}
{"time_this_iter_s": 42.445860624313354, "iterations_since_restore": 5, "timestamp": 1556488841, "training_iteration": 105, "time_since_restore": 220.7588484287262, "done": false, "episode_len_mean": 700.0, "timesteps_total": 11269245, "custom_metrics": {"outflow_rate_min": 943.5865572060894, "cost1_mean": 317.2356333981599, "cost1_min": 272.34154980670223, "system_level_velocity_min": 10.435557151954267, "system_level_velocity_mean": 11.937639550653957, "outflow_rate_max": 1130.2189706836664, "system_level_velocity_max": 14.129195678194518, "cost1_max": 382.4940948231633, "cost2_max": -0.1683427446890313, "cost2_min": -0.8339907013166905, "outflow_rate_mean": 1019.6054848100741, "cost2_mean": -0.2540074293147747}, "episode_reward_max": 1851.648518978054, "time_total_s": 4123.351011514664, "policy_reward_mean": {}, "timesteps_since_restore": 660803, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25948.446, "num_steps_trained": 11269245, "num_steps_sampled": 11269245, "load_time_ms": 33.183, "update_time_ms": 248.988, "sample_time_ms": 17692.97, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.002789613790810108, "vf_loss": 79.62982177734375, "entropy": 0.938919186592102, "vf_explained_var": 0.7550021409988403, "cur_lr": 0.0005000000237487257, "total_loss": 79.62867736816406, "kl": 0.008251680061221123}}, "timesteps_this_iter": 131170, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1748>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1128>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-00-41", "episodes_total": 7085, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1682.745566072421, "episode_reward_mean": 1751.8644282918647, "hostname": "flow-main", "episodes_this_iter": 60}
{"time_this_iter_s": 42.4288911819458, "iterations_since_restore": 6, "timestamp": 1556488884, "training_iteration": 106, "time_since_restore": 263.187739610672, "done": false, "episode_len_mean": 700.0, "timesteps_total": 11405954, "custom_metrics": {"outflow_rate_min": 966.5277893748587, "cost1_mean": 317.3669038156242, "cost1_min": 281.8732393400402, "system_level_velocity_min": 10.535331117110674, "system_level_velocity_mean": 11.940589419347093, "outflow_rate_max": 1130.2189706836664, "system_level_velocity_max": 14.129195678194518, "cost1_max": 382.4940948231633, "cost2_max": -0.17902590756871123, "cost2_min": -0.8339907013166905, "outflow_rate_mean": 1018.3473852100449, "cost2_mean": -0.2722785120081162}, "episode_reward_max": 1851.648518978054, "time_total_s": 4165.7799026966095, "policy_reward_mean": {}, "timesteps_since_restore": 797512, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26289.791, "num_steps_trained": 11405954, "num_steps_sampled": 11405954, "load_time_ms": 30.811, "update_time_ms": 209.178, "sample_time_ms": 17106.249, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0021253852173686028, "vf_loss": 53.94359588623047, "entropy": 0.9538232684135437, "vf_explained_var": 0.8095251321792603, "cur_lr": 0.0005000000237487257, "total_loss": 53.94297790527344, "kl": 0.007536626420915127}}, "timesteps_this_iter": 136709, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac780>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baacb70>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-01-24", "episodes_total": 7120, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1675.5291967907829, "episode_reward_mean": 1750.5459978993347, "hostname": "flow-main", "episodes_this_iter": 35}
{"time_this_iter_s": 42.16029667854309, "iterations_since_restore": 7, "timestamp": 1556488926, "training_iteration": 107, "time_since_restore": 305.3480362892151, "done": false, "episode_len_mean": 700.0, "timesteps_total": 11538471, "custom_metrics": {"outflow_rate_min": 935.4747374307109, "cost1_mean": 316.86803563601075, "cost1_min": 270.84290753676885, "system_level_velocity_min": 10.441985518559804, "system_level_velocity_mean": 11.921771138171732, "outflow_rate_max": 1110.4958339778725, "system_level_velocity_max": 13.691379439120304, "cost1_max": 368.9019809822321, "cost2_max": -0.15856751423583343, "cost2_min": -1.0127410517097204, "outflow_rate_mean": 1016.992739656518, "cost2_mean": -0.3078076353657753}, "episode_reward_max": 1871.5788105278841, "time_total_s": 4207.940199375153, "policy_reward_mean": {}, "timesteps_since_restore": 930029, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26399.144, "num_steps_trained": 11538471, "num_steps_sampled": 11538471, "load_time_ms": 28.297, "update_time_ms": 181.062, "sample_time_ms": 16782.378, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0021087885834276676, "vf_loss": 66.65748596191406, "entropy": 0.938834547996521, "vf_explained_var": 0.7894122004508972, "cur_lr": 0.0005000000237487257, "total_loss": 66.6568603515625, "kl": 0.007445149589329958}}, "timesteps_this_iter": 132517, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1470>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac10b8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-02-06", "episodes_total": 7160, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1669.7464481419872, "episode_reward_mean": 1748.2199143815885, "hostname": "flow-main", "episodes_this_iter": 40}
{"time_this_iter_s": 40.745888471603394, "iterations_since_restore": 8, "timestamp": 1556488966, "training_iteration": 108, "time_since_restore": 346.0939247608185, "done": false, "episode_len_mean": 700.0, "timesteps_total": 11669004, "custom_metrics": {"outflow_rate_min": 889.6634489336228, "cost1_mean": 320.4625863307674, "cost1_min": 234.17237551682464, "system_level_velocity_min": 8.92503070862028, "system_level_velocity_mean": 12.063623618015681, "outflow_rate_max": 1129.9325391787897, "system_level_velocity_max": 14.35147451958911, "cost1_max": 385.3987736540506, "cost2_max": -0.15677231804543335, "cost2_min": -1.0648634765281737, "outflow_rate_mean": 1022.7388357603014, "cost2_mean": -0.36050781131903425}, "episode_reward_max": 1871.5788105278841, "time_total_s": 4248.686087846756, "policy_reward_mean": {}, "timesteps_since_restore": 1060562, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26338.725, "num_steps_trained": 11669004, "num_steps_sampled": 11669004, "load_time_ms": 27.292, "update_time_ms": 159.756, "sample_time_ms": 16507.678, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0023731065448373556, "vf_loss": 81.61698150634766, "entropy": 0.9274645447731018, "vf_explained_var": 0.7522227764129639, "cur_lr": 0.0005000000237487257, "total_loss": 81.6160659790039, "kl": 0.007342231925576925}}, "timesteps_this_iter": 130533, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baacb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baaca20>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac940>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-02-46", "episodes_total": 7217, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1634.8162337687827, "episode_reward_mean": 1750.7420868627898, "hostname": "flow-main", "episodes_this_iter": 57}
{"time_this_iter_s": 38.99516940116882, "iterations_since_restore": 9, "timestamp": 1556489006, "training_iteration": 109, "time_since_restore": 385.0890941619873, "done": false, "episode_len_mean": 700.0, "timesteps_total": 11797801, "custom_metrics": {"outflow_rate_min": 889.6634489336228, "cost1_mean": 320.4192161123033, "cost1_min": 234.17237551682464, "system_level_velocity_min": 8.92503070862028, "system_level_velocity_mean": 12.066884570079123, "outflow_rate_max": 1129.9325391787897, "system_level_velocity_max": 14.35147451958911, "cost1_max": 385.3987736540506, "cost2_max": -0.15677231804543335, "cost2_min": -1.0648634765281737, "outflow_rate_mean": 1022.5958926868733, "cost2_mean": -0.35156320175955313}, "episode_reward_max": 1854.7332528883353, "time_total_s": 4287.681257247925, "policy_reward_mean": {}, "timesteps_since_restore": 1189359, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26166.666, "num_steps_trained": 11797801, "num_steps_sampled": 11797801, "load_time_ms": 26.374, "update_time_ms": 143.163, "sample_time_ms": 16225.943, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0022623143158853054, "vf_loss": 59.373374938964844, "entropy": 0.9308984279632568, "vf_explained_var": 0.803026556968689, "cur_lr": 0.0005000000237487257, "total_loss": 59.37260055541992, "kl": 0.007459885906428099}}, "timesteps_this_iter": 128797, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac10f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1a20>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-03-26", "episodes_total": 7256, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1634.8162337687827, "episode_reward_mean": 1750.5926436870059, "hostname": "flow-main", "episodes_this_iter": 39}
{"time_this_iter_s": 39.166706562042236, "iterations_since_restore": 10, "timestamp": 1556489045, "training_iteration": 110, "time_since_restore": 424.25580072402954, "done": false, "episode_len_mean": 700.0, "timesteps_total": 11928809, "custom_metrics": {"outflow_rate_min": 933.0771693235162, "cost1_mean": 320.54430572577445, "cost1_min": 268.44266610870693, "system_level_velocity_min": 10.36762010522387, "system_level_velocity_mean": 12.068910783160959, "outflow_rate_max": 1129.9325391787897, "system_level_velocity_max": 14.35147451958911, "cost1_max": 385.3987736540506, "cost2_max": -0.18470808018240464, "cost2_min": -1.1502626093798696, "outflow_rate_mean": 1022.3868953178687, "cost2_mean": -0.34435704067005596}, "episode_reward_max": 1854.7332528883353, "time_total_s": 4326.847963809967, "policy_reward_mean": {}, "timesteps_since_restore": 1320367, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26017.101, "num_steps_trained": 11928809, "num_steps_sampled": 11928809, "load_time_ms": 26.863, "update_time_ms": 129.903, "sample_time_ms": 16025.209, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0020377153996378183, "vf_loss": 67.02110290527344, "entropy": 0.9252191185951233, "vf_explained_var": 0.7547508478164673, "cur_lr": 0.0005000000237487257, "total_loss": 67.02056884765625, "kl": 0.007501521147787571}}, "timesteps_this_iter": 131008, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baaceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baacd68>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-04-05", "episodes_total": 7307, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1670.3941212858138, "episode_reward_mean": 1750.0984579341862, "hostname": "flow-main", "episodes_this_iter": 51}
{"time_this_iter_s": 41.22515153884888, "iterations_since_restore": 11, "timestamp": 1556489086, "training_iteration": 111, "time_since_restore": 465.4809522628784, "done": false, "episode_len_mean": 700.0, "timesteps_total": 12067019, "custom_metrics": {"outflow_rate_min": 917.4881842637845, "cost1_mean": 317.7826267233465, "cost1_min": 247.90485300615353, "system_level_velocity_min": 9.448565796039244, "system_level_velocity_mean": 11.955333195975227, "outflow_rate_max": 1127.6927016697534, "system_level_velocity_max": 14.200994828572625, "cost1_max": 383.6813919897545, "cost2_max": -0.16600357413934874, "cost2_min": -1.1502626093798696, "outflow_rate_mean": 1019.3572185641492, "cost2_mean": -0.307030471012291}, "episode_reward_max": 1843.0937940089846, "time_total_s": 4368.073115348816, "policy_reward_mean": {}, "timesteps_since_restore": 1458577, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25992.888, "num_steps_trained": 12067019, "num_steps_sampled": 12067019, "load_time_ms": 23.417, "update_time_ms": 11.221, "sample_time_ms": 14318.308, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0017241450259462, "vf_loss": 53.233272552490234, "entropy": 0.9313265681266785, "vf_explained_var": 0.7789852023124695, "cur_lr": 0.0005000000237487257, "total_loss": 53.233028411865234, "kl": 0.007396533153951168}}, "timesteps_this_iter": 138210, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1b70>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1ef0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-04-46", "episodes_total": 7348, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1670.3941212858138, "episode_reward_mean": 1746.0408970209205, "hostname": "flow-main", "episodes_this_iter": 41}
{"time_this_iter_s": 40.009679317474365, "iterations_since_restore": 12, "timestamp": 1556489126, "training_iteration": 112, "time_since_restore": 505.4906315803528, "done": false, "episode_len_mean": 700.0, "timesteps_total": 12198877, "custom_metrics": {"outflow_rate_min": 917.4881842637845, "cost1_mean": 315.9866084746054, "cost1_min": 247.90485300615353, "system_level_velocity_min": 9.448565796039244, "system_level_velocity_mean": 11.877939152322703, "outflow_rate_max": 1127.6927016697534, "system_level_velocity_max": 14.200994828572625, "cost1_max": 383.6813919897545, "cost2_max": -0.16600357413934874, "cost2_min": -1.2102876129869267, "outflow_rate_mean": 1016.9217540826378, "cost2_mean": -0.3046319979104832}, "episode_reward_max": 1832.2596664363246, "time_total_s": 4408.08279466629, "policy_reward_mean": {}, "timesteps_since_restore": 1590435, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26167.202, "num_steps_trained": 12198877, "num_steps_sampled": 12198877, "load_time_ms": 23.127, "update_time_ms": 11.273, "sample_time_ms": 14318.089, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0022994119208306074, "vf_loss": 48.00505065917969, "entropy": 0.920678973197937, "vf_explained_var": 0.8160483837127686, "cur_lr": 0.0005000000237487257, "total_loss": 48.004180908203125, "kl": 0.007120554801076651}}, "timesteps_this_iter": 131858, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bb0fb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1c50>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f69c03c4c18>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-05-26", "episodes_total": 7380, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1672.5994924392437, "episode_reward_mean": 1747.9083931956336, "hostname": "flow-main", "episodes_this_iter": 32}
{"time_this_iter_s": 40.099822759628296, "iterations_since_restore": 13, "timestamp": 1556489166, "training_iteration": 113, "time_since_restore": 545.5904543399811, "done": false, "episode_len_mean": 700.0, "timesteps_total": 12326537, "custom_metrics": {"outflow_rate_min": 866.3935009899242, "cost1_mean": 316.13142352952747, "cost1_min": 226.91319668019003, "system_level_velocity_min": 8.71286241741677, "system_level_velocity_mean": 11.883897122538274, "outflow_rate_max": 1123.0637307938362, "system_level_velocity_max": 14.04038828387412, "cost1_max": 377.7410246450062, "cost2_max": -0.17817808923452189, "cost2_min": -1.2102876129869267, "outflow_rate_mean": 1016.8296428176203, "cost2_mean": -0.3003885887583293}, "episode_reward_max": 1853.0690245201986, "time_total_s": 4448.182617425919, "policy_reward_mean": {}, "timesteps_since_restore": 1718095, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26318.608, "num_steps_trained": 12326537, "num_steps_sampled": 12326537, "load_time_ms": 21.771, "update_time_ms": 11.363, "sample_time_ms": 14304.166, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0019795699045062065, "vf_loss": 75.28666687011719, "entropy": 0.9214363098144531, "vf_explained_var": 0.7525295615196228, "cur_lr": 0.0005000000237487257, "total_loss": 75.28605651855469, "kl": 0.006871607154607773}}, "timesteps_this_iter": 127660, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac15f8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-06-06", "episodes_total": 7440, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1624.4769940700132, "episode_reward_mean": 1750.3981261076458, "hostname": "flow-main", "episodes_this_iter": 60}
{"time_this_iter_s": 41.99517512321472, "iterations_since_restore": 14, "timestamp": 1556489208, "training_iteration": 114, "time_since_restore": 587.5856294631958, "done": false, "episode_len_mean": 700.0, "timesteps_total": 12455758, "custom_metrics": {"outflow_rate_min": 866.3935009899242, "cost1_mean": 321.35704209300894, "cost1_min": 226.91319668019003, "system_level_velocity_min": 8.71286241741677, "system_level_velocity_mean": 12.092078025373528, "outflow_rate_max": 1128.3372506201774, "system_level_velocity_max": 14.262444947734798, "cost1_max": 383.90363970141516, "cost2_max": -0.18312794432877624, "cost2_min": -1.0683110586860507, "outflow_rate_mean": 1024.4608127109889, "cost2_mean": -0.28320307375706827}, "episode_reward_max": 1861.374801383583, "time_total_s": 4490.177792549133, "policy_reward_mean": {}, "timesteps_since_restore": 1847316, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26328.916, "num_steps_trained": 12455758, "num_steps_sampled": 12455758, "load_time_ms": 22.369, "update_time_ms": 11.029, "sample_time_ms": 14334.551, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0021172882989048958, "vf_loss": 65.36968994140625, "entropy": 0.9083113074302673, "vf_explained_var": 0.7696224451065063, "cur_lr": 0.0005000000237487257, "total_loss": 65.36907196044922, "kl": 0.007498337421566248}}, "timesteps_this_iter": 129221, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1978>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1e80>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-06-48", "episodes_total": 7486, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1624.4769940700132, "episode_reward_mean": 1755.577150565416, "hostname": "flow-main", "episodes_this_iter": 46}
{"time_this_iter_s": 42.15036988258362, "iterations_since_restore": 15, "timestamp": 1556489250, "training_iteration": 115, "time_since_restore": 629.7359993457794, "done": false, "episode_len_mean": 700.0, "timesteps_total": 12588765, "custom_metrics": {"outflow_rate_min": 958.6307391536762, "cost1_mean": 325.9427734005636, "cost1_min": 279.2037672076417, "system_level_velocity_min": 10.705530193834486, "system_level_velocity_mean": 12.260553784883777, "outflow_rate_max": 1128.3372506201774, "system_level_velocity_max": 14.262444947734798, "cost1_max": 383.90363970141516, "cost2_max": -0.18312794432877624, "cost2_min": -1.0683110586860507, "outflow_rate_mean": 1031.0843774546158, "cost2_mean": -0.31643059762993364}, "episode_reward_max": 1861.374801383583, "time_total_s": 4532.328162431717, "policy_reward_mean": {}, "timesteps_since_restore": 1980323, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26333.591, "num_steps_trained": 12588765, "num_steps_sampled": 12588765, "load_time_ms": 22.609, "update_time_ms": 11.014, "sample_time_ms": 14296.96, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0021165681537240744, "vf_loss": 52.20459747314453, "entropy": 0.9072074294090271, "vf_explained_var": 0.7930862903594971, "cur_lr": 0.0005000000237487257, "total_loss": 52.203983306884766, "kl": 0.007487794384360313}}, "timesteps_this_iter": 133007, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac16d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac14a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1710>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-07-30", "episodes_total": 7521, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1681.5133535628654, "episode_reward_mean": 1761.05260205481, "hostname": "flow-main", "episodes_this_iter": 35}
{"time_this_iter_s": 41.44782042503357, "iterations_since_restore": 16, "timestamp": 1556489292, "training_iteration": 116, "time_since_restore": 671.183819770813, "done": false, "episode_len_mean": 700.0, "timesteps_total": 12725023, "custom_metrics": {"outflow_rate_min": 869.783769190602, "cost1_mean": 325.67017037433556, "cost1_min": 227.6519418288775, "system_level_velocity_min": 8.753781329029628, "system_level_velocity_mean": 12.249178112205282, "outflow_rate_max": 1140.9452611697382, "system_level_velocity_max": 14.51743573385613, "cost1_max": 392.44324504803666, "cost2_max": -0.18350015802878156, "cost2_min": -1.1265792275481328, "outflow_rate_mean": 1028.9436733989028, "cost2_mean": -0.3369524392371115}, "episode_reward_max": 1882.478988623971, "time_total_s": 4573.7759828567505, "policy_reward_mean": {}, "timesteps_since_restore": 2116581, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26195.021, "num_steps_trained": 12725023, "num_steps_sampled": 12725023, "load_time_ms": 23.69, "update_time_ms": 11.376, "sample_time_ms": 14337.239, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0014386283000931144, "vf_loss": 63.83949279785156, "entropy": 0.8849700689315796, "vf_explained_var": 0.7581421732902527, "cur_lr": 0.0005000000237487257, "total_loss": 63.83950424194336, "kl": 0.007267591543495655}}, "timesteps_this_iter": 136258, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1438>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-08-12", "episodes_total": 7572, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1631.884039183346, "episode_reward_mean": 1753.9750880557401, "hostname": "flow-main", "episodes_this_iter": 51}
{"time_this_iter_s": 38.37218642234802, "iterations_since_restore": 17, "timestamp": 1556489330, "training_iteration": 117, "time_since_restore": 709.556006193161, "done": false, "episode_len_mean": 700.0, "timesteps_total": 12855880, "custom_metrics": {"outflow_rate_min": 869.783769190602, "cost1_mean": 324.04907523237745, "cost1_min": 227.6519418288775, "system_level_velocity_min": 8.753781329029628, "system_level_velocity_mean": 12.17258340095698, "outflow_rate_max": 1140.9452611697382, "system_level_velocity_max": 14.51743573385613, "cost1_max": 392.44324504803666, "cost2_max": -0.18350015802878156, "cost2_min": -1.1265792275481328, "outflow_rate_mean": 1028.0579390517573, "cost2_mean": -0.3032132416882051}, "episode_reward_max": 1882.478988623971, "time_total_s": 4612.1481692790985, "policy_reward_mean": {}, "timesteps_since_restore": 2247438, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25977.876, "num_steps_trained": 12855880, "num_steps_sampled": 12855880, "load_time_ms": 25.021, "update_time_ms": 11.207, "sample_time_ms": 14174.102, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.002340620383620262, "vf_loss": 50.193668365478516, "entropy": 0.8913087844848633, "vf_explained_var": 0.8166256546974182, "cur_lr": 0.0005000000237487257, "total_loss": 50.19285202026367, "kl": 0.007604519836604595}}, "timesteps_this_iter": 130857, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1588>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac15c0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-08-50", "episodes_total": 7608, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1631.884039183346, "episode_reward_mean": 1753.0095456986235, "hostname": "flow-main", "episodes_this_iter": 36}
{"time_this_iter_s": 38.29782724380493, "iterations_since_restore": 18, "timestamp": 1556489369, "training_iteration": 118, "time_since_restore": 747.8538334369659, "done": false, "episode_len_mean": 700.0, "timesteps_total": 12981229, "custom_metrics": {"outflow_rate_min": 980.1375373935796, "cost1_mean": 324.4551767983928, "cost1_min": 296.28887297696656, "system_level_velocity_min": 11.003334219142737, "system_level_velocity_mean": 12.183049576939206, "outflow_rate_max": 1129.6712996447761, "system_level_velocity_max": 14.433795761055745, "cost1_max": 383.83158862289235, "cost2_max": -0.1830142174981516, "cost2_min": -1.3130907904021423, "outflow_rate_mean": 1029.9899621462635, "cost2_mean": -0.2873665066693404}, "episode_reward_max": 1882.478988623971, "time_total_s": 4650.445996522903, "policy_reward_mean": {}, "timesteps_since_restore": 2372787, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25815.611, "num_steps_trained": 12981229, "num_steps_sampled": 12981229, "load_time_ms": 24.778, "update_time_ms": 11.371, "sample_time_ms": 14090.307, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.002269268035888672, "vf_loss": 70.76361083984375, "entropy": 0.8931111693382263, "vf_explained_var": 0.769734263420105, "cur_lr": 0.0005000000237487257, "total_loss": 70.76283264160156, "kl": 0.00737207243219018}}, "timesteps_this_iter": 125349, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baaca58>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baaca20>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-09-29", "episodes_total": 7662, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1693.4163124052316, "episode_reward_mean": 1754.5830414884072, "hostname": "flow-main", "episodes_this_iter": 54}
{"time_this_iter_s": 39.247713804244995, "iterations_since_restore": 19, "timestamp": 1556489408, "training_iteration": 119, "time_since_restore": 787.1015472412109, "done": false, "episode_len_mean": 700.0, "timesteps_total": 13111883, "custom_metrics": {"outflow_rate_min": 956.3473830147689, "cost1_mean": 328.6078705471729, "cost1_min": 276.03976633695356, "system_level_velocity_min": 10.3589141237661, "system_level_velocity_mean": 12.357970108917968, "outflow_rate_max": 1138.9960535216026, "system_level_velocity_max": 14.692506614713283, "cost1_max": 394.99404378243634, "cost2_max": -0.1830142174981516, "cost2_min": -1.3130907904021423, "outflow_rate_mean": 1034.188988518388, "cost2_mean": -0.372937268647728}, "episode_reward_max": 1882.8825084135344, "time_total_s": 4689.693710327148, "policy_reward_mean": {}, "timesteps_since_restore": 2503441, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25820.02, "num_steps_trained": 13111883, "num_steps_sampled": 13111883, "load_time_ms": 25.803, "update_time_ms": 11.47, "sample_time_ms": 14108.874, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0025024903006851673, "vf_loss": 70.32414245605469, "entropy": 0.8828763365745544, "vf_explained_var": 0.7492608428001404, "cur_lr": 0.0005000000237487257, "total_loss": 70.32320404052734, "kl": 0.007800467777997255}}, "timesteps_this_iter": 130654, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1b70>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1d68>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-10-08", "episodes_total": 7719, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1682.9366929264422, "episode_reward_mean": 1755.9551122390412, "hostname": "flow-main", "episodes_this_iter": 57}
{"time_this_iter_s": 41.78525185585022, "iterations_since_restore": 20, "timestamp": 1556489450, "training_iteration": 120, "time_since_restore": 828.8867990970612, "done": false, "episode_len_mean": 700.0, "timesteps_total": 13247772, "custom_metrics": {"outflow_rate_min": 956.3473830147689, "cost1_mean": 330.43522058147516, "cost1_min": 276.03976633695356, "system_level_velocity_min": 10.3589141237661, "system_level_velocity_mean": 12.429470684758995, "outflow_rate_max": 1139.098862712203, "system_level_velocity_max": 14.692506614713283, "cost1_max": 394.99404378243634, "cost2_max": -0.1830142174981516, "cost2_min": -1.2749386477388942, "outflow_rate_mean": 1036.5068995288455, "cost2_mean": -0.41864815498248203}, "episode_reward_max": 1882.8825084135344, "time_total_s": 4731.478962182999, "policy_reward_mean": {}, "timesteps_since_restore": 2639330, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26057.543, "num_steps_trained": 13247772, "num_steps_sampled": 13247772, "load_time_ms": 25.443, "update_time_ms": 11.574, "sample_time_ms": 14130.832, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0014401774387806654, "vf_loss": 39.09726333618164, "entropy": 0.8847464323043823, "vf_explained_var": 0.8346912264823914, "cur_lr": 0.0005000000237487257, "total_loss": 39.09730529785156, "kl": 0.00744763994589448}}, "timesteps_this_iter": 135889, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1ba8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-10-50", "episodes_total": 7743, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1670.415407039691, "episode_reward_mean": 1754.2491677297003, "hostname": "flow-main", "episodes_this_iter": 24}
{"time_this_iter_s": 43.45538353919983, "iterations_since_restore": 21, "timestamp": 1556489493, "training_iteration": 121, "time_since_restore": 872.342182636261, "done": false, "episode_len_mean": 700.0, "timesteps_total": 13379262, "custom_metrics": {"outflow_rate_min": 956.3473830147689, "cost1_mean": 329.3976503902675, "cost1_min": 276.03976633695356, "system_level_velocity_min": 10.3589141237661, "system_level_velocity_mean": 12.392161629663844, "outflow_rate_max": 1139.098862712203, "system_level_velocity_max": 14.692506614713283, "cost1_max": 394.99404378243634, "cost2_max": -0.18539071399408524, "cost2_min": -1.1730505954839818, "outflow_rate_mean": 1035.3055082396825, "cost2_mean": -0.3926213980022694}, "episode_reward_max": 1882.8825084135344, "time_total_s": 4774.9343457221985, "policy_reward_mean": {}, "timesteps_since_restore": 2770820, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26250.105, "num_steps_trained": 13379262, "num_steps_sampled": 13379262, "load_time_ms": 24.78, "update_time_ms": 11.585, "sample_time_ms": 14160.653, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0021312828175723553, "vf_loss": 65.50396728515625, "entropy": 0.8768079876899719, "vf_explained_var": 0.7752196788787842, "cur_lr": 0.0005000000237487257, "total_loss": 65.5033950805664, "kl": 0.007774414960294962}}, "timesteps_this_iter": 131490, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac14e0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1240>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-11-33", "episodes_total": 7792, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1670.415407039691, "episode_reward_mean": 1754.4645652100069, "hostname": "flow-main", "episodes_this_iter": 49}
{"time_this_iter_s": 40.74381613731384, "iterations_since_restore": 22, "timestamp": 1556489534, "training_iteration": 122, "time_since_restore": 913.0859987735748, "done": false, "episode_len_mean": 700.0, "timesteps_total": 13509755, "custom_metrics": {"outflow_rate_min": 980.3628027683578, "cost1_mean": 328.6571989034736, "cost1_min": 297.6061667760872, "system_level_velocity_min": 11.259408041366823, "system_level_velocity_mean": 12.382769865344976, "outflow_rate_max": 1154.3483628040335, "system_level_velocity_max": 14.99517518120758, "cost1_max": 404.2190210363284, "cost2_max": -0.18539071399408524, "cost2_min": -0.9470359303952868, "outflow_rate_mean": 1033.9924837114022, "cost2_mean": -0.3421305146976369}, "episode_reward_max": 1860.8645304060578, "time_total_s": 4815.678161859512, "policy_reward_mean": {}, "timesteps_since_restore": 2901313, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26294.924, "num_steps_trained": 13509755, "num_steps_sampled": 13509755, "load_time_ms": 24.19, "update_time_ms": 11.377, "sample_time_ms": 14192.419, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0028089978732168674, "vf_loss": 67.11585998535156, "entropy": 0.8666751980781555, "vf_explained_var": 0.7736942172050476, "cur_lr": 0.0005000000237487257, "total_loss": 67.11467742919922, "kl": 0.008165279403328896}}, "timesteps_this_iter": 130493, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baacf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f69c03c4c18>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baacd68>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-12-14", "episodes_total": 7842, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1672.8998950302262, "episode_reward_mean": 1750.4146637346191, "hostname": "flow-main", "episodes_this_iter": 50}
{"time_this_iter_s": 39.36236834526062, "iterations_since_restore": 23, "timestamp": 1556489573, "training_iteration": 123, "time_since_restore": 952.4483671188354, "done": false, "episode_len_mean": 700.0, "timesteps_total": 13637983, "custom_metrics": {"outflow_rate_min": 986.8488807258333, "cost1_mean": 331.4141666299942, "cost1_min": 305.7441860065704, "system_level_velocity_min": 11.658722375889251, "system_level_velocity_mean": 12.499612879855054, "outflow_rate_max": 1154.3483628040335, "system_level_velocity_max": 14.99517518120758, "cost1_max": 404.2190210363284, "cost2_max": -0.18226126672897125, "cost2_min": -1.1834481294875638, "outflow_rate_mean": 1037.5451356618273, "cost2_mean": -0.3668944511872235}, "episode_reward_max": 1845.8680642518657, "time_total_s": 4855.040530204773, "policy_reward_mean": {}, "timesteps_since_restore": 3029541, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26243.237, "num_steps_trained": 13637983, "num_steps_sampled": 13637983, "load_time_ms": 24.394, "update_time_ms": 11.472, "sample_time_ms": 14173.112, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0021254755556583405, "vf_loss": 62.478233337402344, "entropy": 0.8648766875267029, "vf_explained_var": 0.7937983870506287, "cur_lr": 0.0005000000237487257, "total_loss": 62.477622985839844, "kl": 0.007583733182400465}}, "timesteps_this_iter": 128228, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baacb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baaceb8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1be0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-12-53", "episodes_total": 7886, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1672.8998950302262, "episode_reward_mean": 1753.6588435790793, "hostname": "flow-main", "episodes_this_iter": 44}
{"time_this_iter_s": 40.54075813293457, "iterations_since_restore": 24, "timestamp": 1556489614, "training_iteration": 124, "time_since_restore": 992.98912525177, "done": false, "episode_len_mean": 700.0, "timesteps_total": 13766305, "custom_metrics": {"outflow_rate_min": 983.7500629268613, "cost1_mean": 331.9648838343509, "cost1_min": 286.86451525053764, "system_level_velocity_min": 11.111451849213026, "system_level_velocity_mean": 12.535405437971967, "outflow_rate_max": 1141.3661930882135, "system_level_velocity_max": 14.702756743942466, "cost1_max": 393.78240788280607, "cost2_max": -0.16441834804403185, "cost2_min": -1.1834481294875638, "outflow_rate_mean": 1037.6546433611247, "cost2_mean": -0.37203697285401327}, "episode_reward_max": 1845.8680642518657, "time_total_s": 4895.5812883377075, "policy_reward_mean": {}, "timesteps_since_restore": 3157863, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26115.486, "num_steps_trained": 13766305, "num_steps_sampled": 13766305, "load_time_ms": 24.749, "update_time_ms": 11.621, "sample_time_ms": 14158.441, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.00205360259860754, "vf_loss": 70.14667510986328, "entropy": 0.8592291474342346, "vf_explained_var": 0.7628098726272583, "cur_lr": 0.0005000000237487257, "total_loss": 70.14617919921875, "kl": 0.007815644145011902}}, "timesteps_this_iter": 128322, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baacd68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac898>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac710>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-13-34", "episodes_total": 7943, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1679.9161500727319, "episode_reward_mean": 1754.6106142373021, "hostname": "flow-main", "episodes_this_iter": 57}
{"time_this_iter_s": 40.975863456726074, "iterations_since_restore": 25, "timestamp": 1556489655, "training_iteration": 125, "time_since_restore": 1033.964988708496, "done": false, "episode_len_mean": 700.0, "timesteps_total": 13901805, "custom_metrics": {"outflow_rate_min": 956.21497908654, "cost1_mean": 331.6479926338519, "cost1_min": 275.6913244569324, "system_level_velocity_min": 10.61126931407253, "system_level_velocity_mean": 12.533699257563336, "outflow_rate_max": 1148.5651851324299, "system_level_velocity_max": 14.814436540980267, "cost1_max": 395.60011854630125, "cost2_max": -0.16441834804403185, "cost2_min": -1.3373749517688014, "outflow_rate_mean": 1037.2111896396743, "cost2_mean": -0.42937115412887594}, "episode_reward_max": 1820.0161859385125, "time_total_s": 4936.557151794434, "policy_reward_mean": {}, "timesteps_since_restore": 3293363, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25989.369, "num_steps_trained": 13901805, "num_steps_sampled": 13901805, "load_time_ms": 24.218, "update_time_ms": 11.857, "sample_time_ms": 14169.219, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0023825124371796846, "vf_loss": 49.230674743652344, "entropy": 0.8677210807800293, "vf_explained_var": 0.8029276132583618, "cur_lr": 0.0005000000237487257, "total_loss": 49.22992706298828, "kl": 0.008171694353222847}}, "timesteps_this_iter": 135500, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baac9b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baace80>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-14-15", "episodes_total": 7978, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1676.8430431733752, "episode_reward_mean": 1750.2528372720992, "hostname": "flow-main", "episodes_this_iter": 35}
{"time_this_iter_s": 43.11032032966614, "iterations_since_restore": 26, "timestamp": 1556489698, "training_iteration": 126, "time_since_restore": 1077.0753090381622, "done": false, "episode_len_mean": 700.0, "timesteps_total": 14035240, "custom_metrics": {"outflow_rate_min": 956.21497908654, "cost1_mean": 333.05145695533525, "cost1_min": 275.6913244569324, "system_level_velocity_min": 10.61126931407253, "system_level_velocity_mean": 12.583104494121553, "outflow_rate_max": 1154.103739258488, "system_level_velocity_max": 15.063140282270792, "cost1_max": 404.99983593932654, "cost2_max": -0.1660454102921484, "cost2_min": -1.3373749517688014, "outflow_rate_mean": 1039.9005486245273, "cost2_mean": -0.4328159473953777}, "episode_reward_max": 1855.7817532562533, "time_total_s": 4979.6674721241, "policy_reward_mean": {}, "timesteps_since_restore": 3426798, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26157.715, "num_steps_trained": 14035240, "num_steps_sampled": 14035240, "load_time_ms": 24.17, "update_time_ms": 11.482, "sample_time_ms": 14162.553, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0021744549740105867, "vf_loss": 55.328819274902344, "entropy": 0.8587081432342529, "vf_explained_var": 0.7985835075378418, "cur_lr": 0.0005000000237487257, "total_loss": 55.32817840576172, "kl": 0.007667562458664179}}, "timesteps_this_iter": 133435, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac18d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1a58>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-14-58", "episodes_total": 8017, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1676.3822263025702, "episode_reward_mean": 1750.0557076265277, "hostname": "flow-main", "episodes_this_iter": 39}
{"time_this_iter_s": 41.73316764831543, "iterations_since_restore": 27, "timestamp": 1556489740, "training_iteration": 127, "time_since_restore": 1118.8084766864777, "done": false, "episode_len_mean": 700.0, "timesteps_total": 14167733, "custom_metrics": {"outflow_rate_min": 875.3505058751047, "cost1_mean": 331.12769120499036, "cost1_min": 240.52283610097354, "system_level_velocity_min": 9.076589543105905, "system_level_velocity_mean": 12.522135375355115, "outflow_rate_max": 1154.103739258488, "system_level_velocity_max": 15.063140282270792, "cost1_max": 404.99983593932654, "cost2_max": -0.15949688752616764, "cost2_min": -1.3373749517688014, "outflow_rate_mean": 1037.8453177814079, "cost2_mean": -0.4114440712136574}, "episode_reward_max": 1855.7817532562533, "time_total_s": 5021.400639772415, "policy_reward_mean": {}, "timesteps_since_restore": 3559291, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26401.617, "num_steps_trained": 14167733, "num_steps_sampled": 14167733, "load_time_ms": 23.329, "update_time_ms": 11.528, "sample_time_ms": 14253.361, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0021207970567047596, "vf_loss": 66.47672271728516, "entropy": 0.8529651761054993, "vf_explained_var": 0.7837954163551331, "cur_lr": 0.0005000000237487257, "total_loss": 66.47615051269531, "kl": 0.007699694484472275}}, "timesteps_this_iter": 132493, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baceb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacef98>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace3c8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-15-40", "episodes_total": 8066, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1632.5154521842435, "episode_reward_mean": 1750.0005944128018, "hostname": "flow-main", "episodes_this_iter": 49}
{"time_this_iter_s": 39.082666635513306, "iterations_since_restore": 28, "timestamp": 1556489779, "training_iteration": 128, "time_since_restore": 1157.891143321991, "done": false, "episode_len_mean": 700.0, "timesteps_total": 14294118, "custom_metrics": {"outflow_rate_min": 875.3505058751047, "cost1_mean": 331.85782367291495, "cost1_min": 240.52283610097354, "system_level_velocity_min": 9.076589543105905, "system_level_velocity_mean": 12.551963734004364, "outflow_rate_max": 1164.097456952545, "system_level_velocity_max": 15.463404115955923, "cost1_max": 413.8109484179096, "cost2_max": -0.15949688752616764, "cost2_min": -1.1545939476814917, "outflow_rate_mean": 1039.1904453290067, "cost2_mean": -0.4299765615075984}, "episode_reward_max": 1826.4155267093322, "time_total_s": 5060.4833064079285, "policy_reward_mean": {}, "timesteps_since_restore": 3685676, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26439.374, "num_steps_trained": 14294118, "num_steps_sampled": 14294118, "load_time_ms": 24.513, "update_time_ms": 11.393, "sample_time_ms": 14294.235, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.002654202049598098, "vf_loss": 64.2346420288086, "entropy": 0.8538841605186462, "vf_explained_var": 0.8041061162948608, "cur_lr": 0.0005000000237487257, "total_loss": 64.23371124267578, "kl": 0.008649717085063457}}, "timesteps_this_iter": 126385, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac17b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baceb38>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1160>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-16-19", "episodes_total": 8112, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1632.5154521842435, "episode_reward_mean": 1750.3103301114104, "hostname": "flow-main", "episodes_this_iter": 46}
{"time_this_iter_s": 42.10502910614014, "iterations_since_restore": 29, "timestamp": 1556489821, "training_iteration": 129, "time_since_restore": 1199.996172428131, "done": false, "episode_len_mean": 700.0, "timesteps_total": 14420755, "custom_metrics": {"outflow_rate_min": 945.6768707139037, "cost1_mean": 338.55179213911833, "cost1_min": 277.47524044041256, "system_level_velocity_min": 10.703018314093303, "system_level_velocity_mean": 12.802252350613148, "outflow_rate_max": 1169.3561303840024, "system_level_velocity_max": 15.65739200857483, "cost1_max": 418.6525198178075, "cost2_max": -0.1880773512281074, "cost2_min": -1.2870132316783083, "outflow_rate_mean": 1048.9123239581659, "cost2_mean": -0.47977052401020737}, "episode_reward_max": 1854.5298313145388, "time_total_s": 5102.588335514069, "policy_reward_mean": {}, "timesteps_since_restore": 3812313, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26713.868, "num_steps_trained": 14420755, "num_steps_sampled": 14420755, "load_time_ms": 23.176, "update_time_ms": 11.289, "sample_time_ms": 14303.897, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0025529195554554462, "vf_loss": 74.3833236694336, "entropy": 0.8580361008644104, "vf_explained_var": 0.7689945697784424, "cur_lr": 0.0005000000237487257, "total_loss": 74.38233184814453, "kl": 0.007812005467712879}}, "timesteps_this_iter": 126637, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baceb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace780>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacef98>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-17-01", "episodes_total": 8168, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1679.3471353293062, "episode_reward_mean": 1753.0276039682649, "hostname": "flow-main", "episodes_this_iter": 56}
{"time_this_iter_s": 41.54728078842163, "iterations_since_restore": 30, "timestamp": 1556489863, "training_iteration": 130, "time_since_restore": 1241.5434532165527, "done": false, "episode_len_mean": 700.0, "timesteps_total": 14554798, "custom_metrics": {"outflow_rate_min": 927.5429228588224, "cost1_mean": 338.77135647631496, "cost1_min": 271.8773182658311, "system_level_velocity_min": 10.524634035007237, "system_level_velocity_mean": 12.821123113466648, "outflow_rate_max": 1169.3561303840024, "system_level_velocity_max": 15.65739200857483, "cost1_max": 418.6525198178075, "cost2_max": -0.1651799252618394, "cost2_min": -1.2870132316783083, "outflow_rate_mean": 1049.8253524132897, "cost2_mean": -0.4682550990053996}, "episode_reward_max": 1854.5298313145388, "time_total_s": 5144.13561630249, "policy_reward_mean": {}, "timesteps_since_restore": 3946356, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26679.989, "num_steps_trained": 14554798, "num_steps_sampled": 14554798, "load_time_ms": 23.683, "update_time_ms": 11.272, "sample_time_ms": 14317.375, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0018938657594844699, "vf_loss": 58.57948684692383, "entropy": 0.8659595847129822, "vf_explained_var": 0.7901664972305298, "cur_lr": 0.0005000000237487257, "total_loss": 58.57908630371094, "kl": 0.007473972626030445}}, "timesteps_this_iter": 134043, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace080>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace0b8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-17-43", "episodes_total": 8210, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1657.6727875346562, "episode_reward_mean": 1753.8277838432787, "hostname": "flow-main", "episodes_this_iter": 42}
{"time_this_iter_s": 42.109654903411865, "iterations_since_restore": 31, "timestamp": 1556489905, "training_iteration": 131, "time_since_restore": 1283.6531081199646, "done": false, "episode_len_mean": 700.0, "timesteps_total": 14688361, "custom_metrics": {"outflow_rate_min": 927.4146608352246, "cost1_mean": 338.00709963279354, "cost1_min": 268.7772754292481, "system_level_velocity_min": 10.387467949026627, "system_level_velocity_mean": 12.793585246519049, "outflow_rate_max": 1219.2150393749082, "system_level_velocity_max": 17.24385452480926, "cost1_max": 467.42293551300116, "cost2_max": -0.1651799252618394, "cost2_min": -1.2910050154234012, "outflow_rate_mean": 1047.2713098192623, "cost2_mean": -0.4517244676192743}, "episode_reward_max": 1854.5298313145388, "time_total_s": 5186.245271205902, "policy_reward_mean": {}, "timesteps_since_restore": 4079919, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26550.226, "num_steps_trained": 14688361, "num_steps_sampled": 14688361, "load_time_ms": 23.35, "update_time_ms": 11.241, "sample_time_ms": 14312.023, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0018019948620349169, "vf_loss": 53.263580322265625, "entropy": 0.8736024498939514, "vf_explained_var": 0.8092950582504272, "cur_lr": 0.0005000000237487257, "total_loss": 53.263370513916016, "kl": 0.007964475080370903}}, "timesteps_this_iter": 133563, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace3c8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baceb70>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-18-25", "episodes_total": 8244, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1657.6727875346562, "episode_reward_mean": 1751.0631723402446, "hostname": "flow-main", "episodes_this_iter": 34}
{"time_this_iter_s": 41.48925566673279, "iterations_since_restore": 32, "timestamp": 1556489946, "training_iteration": 132, "time_since_restore": 1325.1423637866974, "done": false, "episode_len_mean": 700.0, "timesteps_total": 14820262, "custom_metrics": {"outflow_rate_min": 887.1808027132046, "cost1_mean": 337.5211384060263, "cost1_min": 240.51750369250598, "system_level_velocity_min": 9.28610835576988, "system_level_velocity_mean": 12.779973445149835, "outflow_rate_max": 1219.2150393749082, "system_level_velocity_max": 17.24385452480926, "cost1_max": 467.42293551300116, "cost2_max": -0.16304535036747783, "cost2_min": -1.3277811332405391, "outflow_rate_mean": 1045.694287903281, "cost2_mean": -0.44260424385362285}, "episode_reward_max": 1828.3449934371156, "time_total_s": 5227.734526872635, "policy_reward_mean": {}, "timesteps_since_restore": 4211820, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26660.035, "num_steps_trained": 14820262, "num_steps_sampled": 14820262, "load_time_ms": 23.551, "update_time_ms": 11.369, "sample_time_ms": 14271.319, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0023392983712255955, "vf_loss": 69.91453552246094, "entropy": 0.8703840970993042, "vf_explained_var": 0.772124707698822, "cur_lr": 0.0005000000237487257, "total_loss": 69.91386413574219, "kl": 0.00834085512906313}}, "timesteps_this_iter": 131901, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace048>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace7b8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-19-06", "episodes_total": 8294, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1606.388830710821, "episode_reward_mean": 1745.8869611667976, "hostname": "flow-main", "episodes_this_iter": 50}
{"time_this_iter_s": 40.55184817314148, "iterations_since_restore": 33, "timestamp": 1556489987, "training_iteration": 133, "time_since_restore": 1365.6942119598389, "done": false, "episode_len_mean": 700.0, "timesteps_total": 14946768, "custom_metrics": {"outflow_rate_min": 887.1808027132046, "cost1_mean": 333.8710472857675, "cost1_min": 240.51750369250598, "system_level_velocity_min": 9.28610835576988, "system_level_velocity_mean": 12.6494217501137, "outflow_rate_max": 1157.9692300460642, "system_level_velocity_max": 15.449459229139482, "cost1_max": 411.80621703199495, "cost2_max": -0.16304535036747783, "cost2_min": -1.3277811332405391, "outflow_rate_mean": 1040.4384789260016, "cost2_mean": -0.42918071590192974}, "episode_reward_max": 1828.3449934371156, "time_total_s": 5268.286375045776, "policy_reward_mean": {}, "timesteps_since_restore": 4338326, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26776.2, "num_steps_trained": 14946768, "num_steps_sampled": 14946768, "load_time_ms": 24.795, "update_time_ms": 11.328, "sample_time_ms": 14272.709, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.00293498276732862, "vf_loss": 64.06168365478516, "entropy": 0.8570559620857239, "vf_explained_var": 0.8031743764877319, "cur_lr": 0.0005000000237487257, "total_loss": 64.0604476928711, "kl": 0.008458048105239868}}, "timesteps_this_iter": 126506, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baceac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace630>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace8d0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-19-47", "episodes_total": 8340, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1606.388830710821, "episode_reward_mean": 1749.225074877343, "hostname": "flow-main", "episodes_this_iter": 46}
{"time_this_iter_s": 40.78698015213013, "iterations_since_restore": 34, "timestamp": 1556490028, "training_iteration": 134, "time_since_restore": 1406.481192111969, "done": false, "episode_len_mean": 700.0, "timesteps_total": 15072169, "custom_metrics": {"outflow_rate_min": 926.7293177312422, "cost1_mean": 337.5454407765662, "cost1_min": 263.5113451215602, "system_level_velocity_min": 10.225789925813801, "system_level_velocity_mean": 12.767664150158224, "outflow_rate_max": 1148.1932604684737, "system_level_velocity_max": 14.94119698642935, "cost1_max": 398.454159089869, "cost2_max": -0.1646970333843981, "cost2_min": -1.5516212338174689, "outflow_rate_mean": 1046.3524014296572, "cost2_mean": -0.4182666671578158}, "episode_reward_max": 1855.7977456087824, "time_total_s": 5309.0733551979065, "policy_reward_mean": {}, "timesteps_since_restore": 4463727, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26803.463, "num_steps_trained": 15072169, "num_steps_sampled": 15072169, "load_time_ms": 27.296, "update_time_ms": 11.184, "sample_time_ms": 14264.662, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0022903229109942913, "vf_loss": 71.99412536621094, "entropy": 0.8615103960037231, "vf_explained_var": 0.7745046019554138, "cur_lr": 0.0005000000237487257, "total_loss": 71.99356079101562, "kl": 0.008630143478512764}}, "timesteps_this_iter": 125401, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacea58>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace7b8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-20-28", "episodes_total": 8393, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1640.1370724060962, "episode_reward_mean": 1753.3338886887539, "hostname": "flow-main", "episodes_this_iter": 53}
{"time_this_iter_s": 40.3405225276947, "iterations_since_restore": 35, "timestamp": 1556490068, "training_iteration": 135, "time_since_restore": 1446.8217146396637, "done": false, "episode_len_mean": 700.0, "timesteps_total": 15206828, "custom_metrics": {"outflow_rate_min": 989.5651510331691, "cost1_mean": 339.63382631028225, "cost1_min": 288.6714938826493, "system_level_velocity_min": 11.134775498435777, "system_level_velocity_mean": 12.845096778578736, "outflow_rate_max": 1214.3571248678682, "system_level_velocity_max": 16.980357458350372, "cost1_max": 456.31435078207613, "cost2_max": -0.1912994498773975, "cost2_min": -1.5516212338174689, "outflow_rate_mean": 1049.216634531713, "cost2_mean": -0.4413006408820657}, "episode_reward_max": 1855.7977456087824, "time_total_s": 5349.413877725601, "policy_reward_mean": {}, "timesteps_since_restore": 4598386, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26737.279, "num_steps_trained": 15206828, "num_steps_sampled": 15206828, "load_time_ms": 28.19, "update_time_ms": 10.973, "sample_time_ms": 14263.827, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.002061297418549657, "vf_loss": 63.56061553955078, "entropy": 0.8534950017929077, "vf_explained_var": 0.7629312872886658, "cur_lr": 0.0005000000237487257, "total_loss": 63.56013107299805, "kl": 0.007902249693870544}}, "timesteps_this_iter": 134659, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace470>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacef28>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-21-08", "episodes_total": 8442, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1680.1207036940305, "episode_reward_mean": 1752.9100959336004, "hostname": "flow-main", "episodes_this_iter": 49}
{"time_this_iter_s": 42.07502889633179, "iterations_since_restore": 36, "timestamp": 1556490110, "training_iteration": 136, "time_since_restore": 1488.8967435359955, "done": false, "episode_len_mean": 700.0, "timesteps_total": 15344585, "custom_metrics": {"outflow_rate_min": 917.3414647010085, "cost1_mean": 339.7560964559518, "cost1_min": 255.9357739922475, "system_level_velocity_min": 9.680721603418483, "system_level_velocity_mean": 12.846842615746066, "outflow_rate_max": 1214.3571248678682, "system_level_velocity_max": 16.980357458350372, "cost1_max": 456.31435078207613, "cost2_max": -0.18511782253548204, "cost2_min": -1.5516212338174689, "outflow_rate_mean": 1049.616270898882, "cost2_mean": -0.47142291334997}, "episode_reward_max": 1815.7471479893632, "time_total_s": 5391.488906621933, "policy_reward_mean": {}, "timesteps_since_restore": 4736143, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26586.796, "num_steps_trained": 15344585, "num_steps_sampled": 15344585, "load_time_ms": 26.526, "update_time_ms": 11.185, "sample_time_ms": 14313.008, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0027811613399535418, "vf_loss": 44.0313720703125, "entropy": 0.8492581844329834, "vf_explained_var": 0.8271779417991638, "cur_lr": 0.0005000000237487257, "total_loss": 44.030391693115234, "kl": 0.008973580785095692}}, "timesteps_this_iter": 137757, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacea58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacec88>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacee80>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-21-50", "episodes_total": 8468, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1680.1207036940305, "episode_reward_mean": 1751.5892090386553, "hostname": "flow-main", "episodes_this_iter": 26}
{"time_this_iter_s": 42.45138454437256, "iterations_since_restore": 37, "timestamp": 1556490153, "training_iteration": 137, "time_since_restore": 1531.348128080368, "done": false, "episode_len_mean": 700.0, "timesteps_total": 15474108, "custom_metrics": {"outflow_rate_min": 910.3317707796556, "cost1_mean": 339.12306470400114, "cost1_min": 245.57012750150432, "system_level_velocity_min": 9.483587655269599, "system_level_velocity_mean": 12.826331015932203, "outflow_rate_max": 1216.6918092280198, "system_level_velocity_max": 17.060775918374862, "cost1_max": 458.4100734406144, "cost2_max": -0.15559108969711458, "cost2_min": -1.1658220267376156, "outflow_rate_mean": 1047.625579702753, "cost2_mean": -0.474715019453721}, "episode_reward_max": 1810.8217265410196, "time_total_s": 5433.9402911663055, "policy_reward_mean": {}, "timesteps_since_restore": 4865666, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26608.832, "num_steps_trained": 15474108, "num_steps_sampled": 15474108, "load_time_ms": 27.485, "update_time_ms": 11.174, "sample_time_ms": 14361.189, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.002300348598510027, "vf_loss": 67.67888641357422, "entropy": 0.860632598400116, "vf_explained_var": 0.7853384017944336, "cur_lr": 0.0005000000237487257, "total_loss": 67.67823028564453, "kl": 0.008241189643740654}}, "timesteps_this_iter": 129523, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694baceba8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace8d0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-22-33", "episodes_total": 8517, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1637.662128461588, "episode_reward_mean": 1751.0348623351529, "hostname": "flow-main", "episodes_this_iter": 49}
{"time_this_iter_s": 40.5243706703186, "iterations_since_restore": 38, "timestamp": 1556490193, "training_iteration": 138, "time_since_restore": 1571.8724987506866, "done": false, "episode_len_mean": 700.0, "timesteps_total": 15599513, "custom_metrics": {"outflow_rate_min": 885.7945368150762, "cost1_mean": 335.7167562073593, "cost1_min": 237.3481271898717, "system_level_velocity_min": 9.15234519846719, "system_level_velocity_mean": 12.704080310477032, "outflow_rate_max": 1216.6918092280198, "system_level_velocity_max": 17.060775918374862, "cost1_max": 458.4100734406144, "cost2_max": -0.15559108969711458, "cost2_min": -1.8213308165864273, "outflow_rate_mean": 1042.4169108816254, "cost2_mean": -0.48104381426260545}, "episode_reward_max": 1815.36793273361, "time_total_s": 5474.464661836624, "policy_reward_mean": {}, "timesteps_since_restore": 4991071, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26755.639, "num_steps_trained": 15599513, "num_steps_sampled": 15599513, "load_time_ms": 26.979, "update_time_ms": 11.146, "sample_time_ms": 14356.89, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0021560864988714457, "vf_loss": 75.55792999267578, "entropy": 0.8582738637924194, "vf_explained_var": 0.7850494980812073, "cur_lr": 0.0005000000237487257, "total_loss": 75.55750274658203, "kl": 0.008648006245493889}}, "timesteps_this_iter": 125405, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacea58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace9b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacec88>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-23-13", "episodes_total": 8574, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1637.662128461588, "episode_reward_mean": 1751.2338796026256, "hostname": "flow-main", "episodes_this_iter": 57}
{"time_this_iter_s": 41.06302189826965, "iterations_since_restore": 39, "timestamp": 1556490234, "training_iteration": 139, "time_since_restore": 1612.9355206489563, "done": false, "episode_len_mean": 700.0, "timesteps_total": 15727947, "custom_metrics": {"outflow_rate_min": 885.7945368150762, "cost1_mean": 341.36324562777264, "cost1_min": 237.3481271898717, "system_level_velocity_min": 9.15234519846719, "system_level_velocity_mean": 12.903028030043435, "outflow_rate_max": 1224.0078710766002, "system_level_velocity_max": 17.5055127256131, "cost1_max": 474.28279658270344, "cost2_max": -0.19115083164816699, "cost2_min": -1.8213308165864273, "outflow_rate_mean": 1050.8406670148945, "cost2_mean": -0.5009073661883011}, "episode_reward_max": 1833.515584852018, "time_total_s": 5515.527683734894, "policy_reward_mean": {}, "timesteps_since_restore": 5119505, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26672.396, "num_steps_trained": 15727947, "num_steps_sampled": 15727947, "load_time_ms": 29.949, "update_time_ms": 11.079, "sample_time_ms": 14332.063, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.002574973041191697, "vf_loss": 63.30286407470703, "entropy": 0.865336000919342, "vf_explained_var": 0.8026834726333618, "cur_lr": 0.0005000000237487257, "total_loss": 63.30198287963867, "kl": 0.008474260568618774}}, "timesteps_this_iter": 128434, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacecf8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace128>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-23-54", "episodes_total": 8618, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1679.585407624697, "episode_reward_mean": 1754.8126079351007, "hostname": "flow-main", "episodes_this_iter": 44}
{"time_this_iter_s": 41.84991097450256, "iterations_since_restore": 40, "timestamp": 1556490276, "training_iteration": 140, "time_since_restore": 1654.7854316234589, "done": false, "episode_len_mean": 700.0, "timesteps_total": 15860217, "custom_metrics": {"outflow_rate_min": 938.1002104536824, "cost1_mean": 342.818185184792, "cost1_min": 273.96007349725824, "system_level_velocity_min": 10.658889796382375, "system_level_velocity_mean": 12.95579016885, "outflow_rate_max": 1224.0078710766002, "system_level_velocity_max": 17.5055127256131, "cost1_max": 474.28279658270344, "cost2_max": -0.19369906589270464, "cost2_min": -1.3846806344585922, "outflow_rate_mean": 1052.4224532370986, "cost2_mean": -0.46914407127614743}, "episode_reward_max": 1833.515584852018, "time_total_s": 5557.377594709396, "policy_reward_mean": {}, "timesteps_since_restore": 5251775, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26700.469, "num_steps_trained": 15860217, "num_steps_sampled": 15860217, "load_time_ms": 31.647, "update_time_ms": 11.031, "sample_time_ms": 14328.992, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0025225600693374872, "vf_loss": 69.48992156982422, "entropy": 0.8704397678375244, "vf_explained_var": 0.7653470635414124, "cur_lr": 0.0005000000237487257, "total_loss": 69.4889907836914, "kl": 0.00798130314797163}}, "timesteps_this_iter": 132270, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1160>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-24-36", "episodes_total": 8668, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1670.7441955536171, "episode_reward_mean": 1750.5455375768884, "hostname": "flow-main", "episodes_this_iter": 50}
{"time_this_iter_s": 40.99496936798096, "iterations_since_restore": 41, "timestamp": 1556490317, "training_iteration": 141, "time_since_restore": 1695.7804009914398, "done": false, "episode_len_mean": 700.0, "timesteps_total": 15997472, "custom_metrics": {"outflow_rate_min": 938.1002104536824, "cost1_mean": 338.8866451172188, "cost1_min": 273.3071780172696, "system_level_velocity_min": 10.572738952180108, "system_level_velocity_mean": 12.810839710951008, "outflow_rate_max": 1224.0078710766002, "system_level_velocity_max": 17.5055127256131, "cost1_max": 474.28279658270344, "cost2_max": -0.19369906589270464, "cost2_min": -1.3846806344585922, "outflow_rate_mean": 1046.4804027035518, "cost2_mean": -0.4252885715980903}, "episode_reward_max": 1812.1771404427313, "time_total_s": 5598.372564077377, "policy_reward_mean": {}, "timesteps_since_restore": 5389030, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26589.318, "num_steps_trained": 15997472, "num_steps_sampled": 15997472, "load_time_ms": 35.353, "update_time_ms": 11.202, "sample_time_ms": 14324.289, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0018631845014169812, "vf_loss": 52.08183288574219, "entropy": 0.8622122406959534, "vf_explained_var": 0.8130330443382263, "cur_lr": 0.0005000000237487257, "total_loss": 52.08158874511719, "kl": 0.008095326833426952}}, "timesteps_this_iter": 137255, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacef28>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacea20>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-25-17", "episodes_total": 8703, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1670.7441955536171, "episode_reward_mean": 1747.3804529009649, "hostname": "flow-main", "episodes_this_iter": 35}
{"time_this_iter_s": 39.44191908836365, "iterations_since_restore": 42, "timestamp": 1556490357, "training_iteration": 142, "time_since_restore": 1735.2223200798035, "done": false, "episode_len_mean": 700.0, "timesteps_total": 16126466, "custom_metrics": {"outflow_rate_min": 938.1002104536824, "cost1_mean": 337.633989482918, "cost1_min": 273.3071780172696, "system_level_velocity_min": 10.572738952180108, "system_level_velocity_mean": 12.768494624350632, "outflow_rate_max": 1198.2293740617017, "system_level_velocity_max": 16.43100957659508, "cost1_max": 442.7530316073771, "cost2_max": -0.17897261526268576, "cost2_min": -1.5961006639999422, "outflow_rate_mean": 1045.8052361436673, "cost2_mean": -0.42491735130979824}, "episode_reward_max": 1819.0244386424479, "time_total_s": 5637.814483165741, "policy_reward_mean": {}, "timesteps_since_restore": 5518024, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26400.179, "num_steps_trained": 16126466, "num_steps_sampled": 16126466, "load_time_ms": 37.482, "update_time_ms": 11.035, "sample_time_ms": 14308.392, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.002465978730469942, "vf_loss": 58.46535110473633, "entropy": 0.8634351491928101, "vf_explained_var": 0.8144267201423645, "cur_lr": 0.0005000000237487257, "total_loss": 58.464630126953125, "kl": 0.008741060271859169}}, "timesteps_this_iter": 128994, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1a58>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-25-57", "episodes_total": 8742, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1670.7441955536171, "episode_reward_mean": 1750.6363657082652, "hostname": "flow-main", "episodes_this_iter": 39}
{"time_this_iter_s": 38.43001079559326, "iterations_since_restore": 43, "timestamp": 1556490395, "training_iteration": 143, "time_since_restore": 1773.6523308753967, "done": false, "episode_len_mean": 700.0, "timesteps_total": 16250679, "custom_metrics": {"outflow_rate_min": 930.5758091791384, "cost1_mean": 344.3290788479251, "cost1_min": 270.30329531151403, "system_level_velocity_min": 10.4511284642797, "system_level_velocity_mean": 13.009789212952416, "outflow_rate_max": 1209.6877025026813, "system_level_velocity_max": 16.770914478508157, "cost1_max": 457.0314427928913, "cost2_max": -0.17897261526268576, "cost2_min": -1.5961006639999422, "outflow_rate_mean": 1055.5110377835947, "cost2_mean": -0.43964619359540935}, "episode_reward_max": 1819.6215646009202, "time_total_s": 5676.244493961334, "policy_reward_mean": {}, "timesteps_since_restore": 5642237, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26162.754, "num_steps_trained": 16250679, "num_steps_sampled": 16250679, "load_time_ms": 37.831, "update_time_ms": 10.816, "sample_time_ms": 14331.712, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.002563922666013241, "vf_loss": 84.0162582397461, "entropy": 0.8555758595466614, "vf_explained_var": 0.7747438549995422, "cur_lr": 0.0005000000237487257, "total_loss": 84.01544952392578, "kl": 0.008749337866902351}}, "timesteps_this_iter": 124213, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace518>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace3c8>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-26-35", "episodes_total": 8802, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1637.6429883484034, "episode_reward_mean": 1753.7785996073999, "hostname": "flow-main", "episodes_this_iter": 60}
{"time_this_iter_s": 42.95920968055725, "iterations_since_restore": 44, "timestamp": 1556490438, "training_iteration": 144, "time_since_restore": 1816.611540555954, "done": false, "episode_len_mean": 700.0, "timesteps_total": 16375744, "custom_metrics": {"outflow_rate_min": 930.5758091791384, "cost1_mean": 349.0373826637302, "cost1_min": 270.30329531151403, "system_level_velocity_min": 10.4511284642797, "system_level_velocity_mean": 13.18194578607048, "outflow_rate_max": 1216.259399816795, "system_level_velocity_max": 17.10060599245316, "cost1_max": 461.7465522358196, "cost2_max": -0.16570176703912404, "cost2_min": -1.5267671018013307, "outflow_rate_mean": 1061.929181175793, "cost2_mean": -0.4870254180195412}, "episode_reward_max": 1829.1188985292395, "time_total_s": 5719.2037036418915, "policy_reward_mean": {}, "timesteps_since_restore": 5767302, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26339.467, "num_steps_trained": 16375744, "num_steps_sampled": 16375744, "load_time_ms": 37.86, "update_time_ms": 11.072, "sample_time_ms": 14371.429, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0027620752807706594, "vf_loss": 75.15924072265625, "entropy": 0.8496185541152954, "vf_explained_var": 0.782704770565033, "cur_lr": 0.0005000000237487257, "total_loss": 75.15824890136719, "kl": 0.008855534717440605}}, "timesteps_this_iter": 125065, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacefd0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacee80>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-27-18", "episodes_total": 8853, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1637.6429883484034, "episode_reward_mean": 1753.1626200223732, "hostname": "flow-main", "episodes_this_iter": 51}
{"time_this_iter_s": 41.89751148223877, "iterations_since_restore": 45, "timestamp": 1556490480, "training_iteration": 145, "time_since_restore": 1858.5090520381927, "done": false, "episode_len_mean": 700.0, "timesteps_total": 16509278, "custom_metrics": {"outflow_rate_min": 959.6991409152988, "cost1_mean": 354.25878331358496, "cost1_min": 282.79950471328044, "system_level_velocity_min": 10.972981422233321, "system_level_velocity_mean": 13.370462980772874, "outflow_rate_max": 1216.259399816795, "system_level_velocity_max": 17.10060599245316, "cost1_max": 461.7465522358196, "cost2_max": -0.16570176703912404, "cost2_min": -1.5267671018013307, "outflow_rate_mean": 1070.9712287663747, "cost2_mean": -0.49799718241749213}, "episode_reward_max": 1829.1188985292395, "time_total_s": 5761.10121512413, "policy_reward_mean": {}, "timesteps_since_restore": 5900836, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26481.346, "num_steps_trained": 16509278, "num_steps_sampled": 16509278, "load_time_ms": 40.673, "update_time_ms": 11.242, "sample_time_ms": 14382.293, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0019223851850256324, "vf_loss": 59.56532669067383, "entropy": 0.8530041575431824, "vf_explained_var": 0.7853232622146606, "cur_lr": 0.0005000000237487257, "total_loss": 59.56508255004883, "kl": 0.008387967012822628}}, "timesteps_this_iter": 133534, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694baceb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace080>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacecc0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-28-00", "episodes_total": 8893, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1691.9232499679085, "episode_reward_mean": 1759.0735210648718, "hostname": "flow-main", "episodes_this_iter": 40}
{"time_this_iter_s": 41.26431584358215, "iterations_since_restore": 46, "timestamp": 1556490521, "training_iteration": 146, "time_since_restore": 1899.773367881775, "done": false, "episode_len_mean": 700.0, "timesteps_total": 16641732, "custom_metrics": {"outflow_rate_min": 959.6991409152988, "cost1_mean": 346.7577217212488, "cost1_min": 282.79950471328044, "system_level_velocity_min": 10.972981422233321, "system_level_velocity_mean": 13.111505861574756, "outflow_rate_max": 1216.1535767656048, "system_level_velocity_max": 17.23498322251757, "cost1_max": 462.6983440526401, "cost2_max": -0.17106662226293906, "cost2_min": -1.7014087398793458, "outflow_rate_mean": 1059.4768131616029, "cost2_mean": -0.5044683166863964}, "episode_reward_max": 1828.5972932080301, "time_total_s": 5802.365530967712, "policy_reward_mean": {}, "timesteps_since_restore": 6033290, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26452.526, "num_steps_trained": 16641732, "num_steps_sampled": 16641732, "load_time_ms": 44.646, "update_time_ms": 11.158, "sample_time_ms": 14328.086, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0021249193232506514, "vf_loss": 59.77189636230469, "entropy": 0.8499200940132141, "vf_explained_var": 0.7989553809165955, "cur_lr": 0.0005000000237487257, "total_loss": 59.77138137817383, "kl": 0.008070163428783417}}, "timesteps_this_iter": 132454, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bacee48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace978>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-28-41", "episodes_total": 8934, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1659.1851821882346, "episode_reward_mean": 1750.199970568252, "hostname": "flow-main", "episodes_this_iter": 41}
{"time_this_iter_s": 39.17585206031799, "iterations_since_restore": 47, "timestamp": 1556490560, "training_iteration": 147, "time_since_restore": 1938.949219942093, "done": false, "episode_len_mean": 700.0, "timesteps_total": 16771941, "custom_metrics": {"outflow_rate_min": 875.2540584159728, "cost1_mean": 344.58011566202, "cost1_min": 235.80098832186943, "system_level_velocity_min": 9.140027067810562, "system_level_velocity_mean": 13.022255414478664, "outflow_rate_max": 1220.0292705506658, "system_level_velocity_max": 17.382351248235544, "cost1_max": 469.24360396482587, "cost2_max": -0.1405918677394981, "cost2_min": -1.7014087398793458, "outflow_rate_mean": 1054.9538811276007, "cost2_mean": -0.44405436197499576}, "episode_reward_max": 1828.5972932080301, "time_total_s": 5841.54138302803, "policy_reward_mean": {}, "timesteps_since_restore": 6163499, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 26160.117, "num_steps_trained": 16771941, "num_steps_sampled": 16771941, "load_time_ms": 45.667, "update_time_ms": 11.427, "sample_time_ms": 14294.653, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0019541357178241014, "vf_loss": 65.0215072631836, "entropy": 0.8420338034629822, "vf_explained_var": 0.7889646887779236, "cur_lr": 0.0005000000237487257, "total_loss": 65.0211181640625, "kl": 0.007827253080904484}}, "timesteps_this_iter": 130209, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace048>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace5c0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-29-20", "episodes_total": 8978, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1566.7835823170196, "episode_reward_mean": 1746.4067886313653, "hostname": "flow-main", "episodes_this_iter": 44}
{"time_this_iter_s": 38.774879693984985, "iterations_since_restore": 48, "timestamp": 1556490599, "training_iteration": 148, "time_since_restore": 1977.7240996360779, "done": false, "episode_len_mean": 700.0, "timesteps_total": 16897737, "custom_metrics": {"outflow_rate_min": 875.2540584159728, "cost1_mean": 340.5763415963093, "cost1_min": 235.80098832186943, "system_level_velocity_min": 9.140027067810562, "system_level_velocity_mean": 12.890381594092906, "outflow_rate_max": 1220.0292705506658, "system_level_velocity_max": 17.382351248235544, "cost1_max": 469.24360396482587, "cost2_max": -0.1405918677394981, "cost2_min": -1.490107999877447, "outflow_rate_mean": 1048.722115819785, "cost2_mean": -0.4297828424203618}, "episode_reward_max": 1822.5440325327568, "time_total_s": 5880.316262722015, "policy_reward_mean": {}, "timesteps_since_restore": 6289295, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25988.823, "num_steps_trained": 16897737, "num_steps_sampled": 16897737, "load_time_ms": 46.565, "update_time_ms": 11.362, "sample_time_ms": 14291.54, "default": {"cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.0027669863775372505, "vf_loss": 72.56614685058594, "entropy": 0.835992157459259, "vf_explained_var": 0.7892378568649292, "cur_lr": 0.0005000000237487257, "total_loss": 72.5650634765625, "kl": 0.008410242386162281}}, "timesteps_this_iter": 125796, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac17b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac18d0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1518>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-29-59", "episodes_total": 9031, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1566.7835823170196, "episode_reward_mean": 1746.8490756823678, "hostname": "flow-main", "episodes_this_iter": 53}
{"time_this_iter_s": 38.73401641845703, "iterations_since_restore": 49, "timestamp": 1556490638, "training_iteration": 149, "time_since_restore": 2016.458116054535, "done": false, "episode_len_mean": 700.0, "timesteps_total": 17025973, "custom_metrics": {"outflow_rate_min": 936.1133161608038, "cost1_mean": 343.991097596185, "cost1_min": 270.82303304382606, "system_level_velocity_min": 10.492785225815297, "system_level_velocity_mean": 13.029291964623146, "outflow_rate_max": 1230.4905202157884, "system_level_velocity_max": 17.71869631488053, "cost1_max": 476.5888349432791, "cost2_max": -0.15815025752919995, "cost2_min": -1.3659627032223534, "outflow_rate_mean": 1054.8770604489896, "cost2_mean": -0.4164666843416607}, "episode_reward_max": 1832.1428070535003, "time_total_s": 5919.050279140472, "policy_reward_mean": {}, "timesteps_since_restore": 6417531, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25739.166, "num_steps_trained": 17025973, "num_steps_sampled": 17025973, "load_time_ms": 44.091, "update_time_ms": 11.5, "sample_time_ms": 14310.543, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0023375244345515966, "vf_loss": 73.03826904296875, "entropy": 0.8384647369384766, "vf_explained_var": 0.7826141715049744, "cur_lr": 0.0005000000237487257, "total_loss": 73.03771209716797, "kl": 0.008965736255049706}}, "timesteps_this_iter": 128236, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bace438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694baceb38>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-30-38", "episodes_total": 9082, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1644.296502475169, "episode_reward_mean": 1751.7179498413432, "hostname": "flow-main", "episodes_this_iter": 51}
{"time_this_iter_s": 42.35942554473877, "iterations_since_restore": 50, "timestamp": 1556490680, "training_iteration": 150, "time_since_restore": 2058.8175415992737, "done": true, "episode_len_mean": 700.0, "timesteps_total": 17159738, "custom_metrics": {"outflow_rate_min": 936.1133161608038, "cost1_mean": 347.46335775620645, "cost1_min": 270.82303304382606, "system_level_velocity_min": 10.492785225815297, "system_level_velocity_mean": 13.150478378820786, "outflow_rate_max": 1230.4905202157884, "system_level_velocity_max": 17.71869631488053, "cost1_max": 476.5888349432791, "cost2_max": -0.18513034188183972, "cost2_min": -1.5073316924919982, "outflow_rate_mean": 1059.7144779946136, "cost2_mean": -0.4586422724376868}, "episode_reward_max": 1832.1428070535003, "time_total_s": 5961.409704685211, "policy_reward_mean": {}, "timesteps_since_restore": 6551296, "pid": 53532, "experiment_id": "fac9330d2b9c4ed89736c217e7875e38", "info": {"grad_time_ms": 25770.234, "num_steps_trained": 17159738, "num_steps_sampled": 17159738, "load_time_ms": 43.721, "update_time_ms": 11.559, "sample_time_ms": 14330.096, "default": {"cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0018801401602104306, "vf_loss": 58.53784942626953, "entropy": 0.8437020182609558, "vf_explained_var": 0.8053607940673828, "cur_lr": 0.0005000000237487257, "total_loss": 58.537559509277344, "kl": 0.007964313961565495}}, "timesteps_this_iter": 133765, "config": {"env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_param": 0.3, "preprocessor_pref": "deepmind", "num_envs_per_worker": 1, "output": null, "kl_target": 0.01, "batch_mode": "truncate_episodes", "straggler_mitigation": false, "custom_resources_per_worker": {}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "simple_optimizer": false, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "observation_filter": "NoFilter", "sample_batch_size": 200, "synchronize_filters": true, "optimizer": {}, "input": "sampler", "num_gpus": 0, "collect_metrics_timeout": 180, "monitor": false, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "allow_soft_placement": true, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "lr_schedule": null, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac12b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1a58>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f694bac1fd0>"}, "use_gae": true, "input_evaluation": null, "log_level": "INFO", "sgd_minibatch_size": 128, "num_gpus_per_worker": 0, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "compress_observations": false, "horizon": 1500, "clip_rewards": null, "vf_share_layers": false, "kl_coeff": 0.2, "output_max_file_size": 67108864, "num_workers": 60, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[FLOW_RATE, FLOW_RATE_MERGE, RL_PENETRATION]:[1579,144,0.123]", "num_sgd_iter": 10, "lambda": 0.97, "sample_async": false, "lr": 0.0005, "num_cpus_per_worker": 1, "gamma": 0.99, "vf_loss_coeff": 1.0, "model": {"free_log_std": false, "grayscale": false, "lstm_use_prev_action_reward": false, "zero_mean": true, "fcnet_hiddens": [100, 50, 25], "dim": 84, "fcnet_activation": "tanh", "custom_preprocessor": null, "custom_options": {}, "custom_model": null, "max_seq_len": 20, "conv_activation": "relu", "framestack": true, "squash_to_range": false, "use_lstm": false, "lstm_cell_size": 256, "channel_major": false, "conv_filters": null}, "num_cpus_for_driver": 1, "clip_actions": false}, "date": "2019-04-28_22-31-20", "episodes_total": 9120, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 1652.1435569778669, "episode_reward_mean": 1751.6216711150942, "hostname": "flow-main", "episodes_this_iter": 38}
