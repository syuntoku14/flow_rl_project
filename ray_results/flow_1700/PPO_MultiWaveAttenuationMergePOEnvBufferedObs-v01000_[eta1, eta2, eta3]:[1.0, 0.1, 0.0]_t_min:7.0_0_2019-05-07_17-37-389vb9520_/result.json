{"custom_metrics": {"cost1_max": 384.94706209298084, "system_level_velocity_min": 10.883273585896095, "outflow_rate_mean": 844.9700903096902, "outflow_rate_min": 654.9083428571429, "cost1_min": 276.56815137518055, "cost2_mean": -85.68542078920461, "cost1_mean": 330.7576067340807, "system_level_velocity_max": 14.93917268594387, "cost2_max": -84.21457225719512, "system_level_velocity_mean": 12.911223135919982, "cost2_min": -87.1562693212141, "outflow_rate_max": 1035.0318377622377}, "time_since_restore": 50.5882408618927, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 50.5882408618927, "iterations_since_restore": 1, "timestamp": 1557250746, "training_iteration": 1, "episodes_total": 2, "policy_reward_mean": {}, "timesteps_total": 47189, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 50.5882408618927, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162c2c18>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162c2c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162c2c88>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 2, "timesteps_since_restore": 47189, "episode_reward_mean": 526.9345474929407, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 47189, "pid": 282, "episode_reward_min": 423.64895051098074, "info": {"sample_time_ms": 39717.541, "update_time_ms": 1186.301, "num_steps_trained": 47189, "grad_time_ms": 9494.336, "load_time_ms": 58.816, "default": {"vf_loss": 1.3412266969680786, "vf_explained_var": 0.9127262830734253, "kl": 0.00045609884546138346, "policy_loss": 0.0003254604816902429, "cur_lr": 0.0005000000237487257, "total_loss": 1.3416433334350586, "cur_kl_coeff": 0.20000001788139343, "entropy": 1.4279141426086426}, "num_steps_sampled": 47189}, "episode_reward_max": 630.2201444749006, "hostname": "flow-main", "date": "2019-05-07_17-39-06"}
{"custom_metrics": {"cost1_max": 384.94706209298084, "system_level_velocity_min": 7.369537156499551, "outflow_rate_mean": 546.5859277525559, "outflow_rate_min": 283.08754285714286, "cost1_min": 26.369366013541708, "cost2_mean": -74.21377574911772, "cost1_mean": 222.63098617440448, "system_level_velocity_max": 19.723492964374923, "cost2_max": -18.46928576560738, "system_level_velocity_mean": 10.822745070230111, "cost2_min": -95.30059952094159, "outflow_rate_max": 1082.563714285714}, "time_since_restore": 79.54888558387756, "episode_len_mean": 618.125, "num_metric_batches_dropped": 0, "time_total_s": 79.54888558387756, "iterations_since_restore": 2, "timestamp": 1557250775, "training_iteration": 2, "episodes_total": 24, "policy_reward_mean": {}, "timesteps_total": 91828, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 28.960644721984863, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cef0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cf28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cf60>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 22, "timesteps_since_restore": 91828, "episode_reward_mean": 355.48193238337177, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 44639, "pid": 282, "episode_reward_min": 41.65212932247155, "info": {"sample_time_ms": 29736.197, "update_time_ms": 597.202, "num_steps_trained": 91828, "grad_time_ms": 9287.295, "load_time_ms": 35.59, "default": {"vf_loss": 1.2736995220184326, "vf_explained_var": 0.9616541266441345, "kl": 0.0024559074081480503, "policy_loss": -0.0008105435408651829, "cur_lr": 0.0005000000237487257, "total_loss": 1.2731345891952515, "cur_kl_coeff": 0.10000001639127731, "entropy": 1.4233219623565674}, "num_steps_sampled": 91828}, "episode_reward_max": 630.2201444749006, "hostname": "flow-main", "date": "2019-05-07_17-39-35"}
{"custom_metrics": {"cost1_max": 385.4560861716027, "system_level_velocity_min": 5.90188030826761, "outflow_rate_mean": 540.2792541002267, "outflow_rate_min": 112.54628571428572, "cost1_min": 26.369366013541708, "cost2_mean": -76.43104507213681, "cost1_mean": 230.67401787749293, "system_level_velocity_max": 19.723492964374923, "cost2_max": -18.46928576560738, "system_level_velocity_mean": 10.217280969385834, "cost2_min": -95.30059952094159, "outflow_rate_max": 1082.563714285714}, "time_since_restore": 107.02364349365234, "episode_len_mean": 652.0731707317074, "num_metric_batches_dropped": 0, "time_total_s": 107.02364349365234, "iterations_since_restore": 3, "timestamp": 1557250803, "training_iteration": 3, "episodes_total": 41, "policy_reward_mean": {}, "timesteps_total": 132620, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 27.47475790977478, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262fd0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262358>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 17, "timesteps_since_restore": 132620, "episode_reward_mean": 370.8555707471748, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 40792, "pid": 282, "episode_reward_min": 41.65212932247155, "info": {"sample_time_ms": 25913.241, "update_time_ms": 401.664, "num_steps_trained": 132620, "grad_time_ms": 9223.745, "load_time_ms": 27.046, "default": {"vf_loss": 0.8508371710777283, "vf_explained_var": 0.9839807748794556, "kl": 0.007876500487327576, "policy_loss": -0.0013704773737117648, "cur_lr": 0.0005000000237487257, "total_loss": 0.8498606085777283, "cur_kl_coeff": 0.050000011920928955, "entropy": 1.4069052934646606}, "num_steps_sampled": 132620}, "episode_reward_max": 630.2201444749006, "hostname": "flow-main", "date": "2019-05-07_17-40-03"}
{"custom_metrics": {"cost1_max": 385.4560861716027, "system_level_velocity_min": 5.90188030826761, "outflow_rate_mean": 539.8216786199839, "outflow_rate_min": 112.54628571428572, "cost1_min": 26.369366013541708, "cost2_mean": -77.98779630375768, "cost1_mean": 235.40231693334206, "system_level_velocity_max": 19.723492964374923, "cost2_max": -18.46928576560738, "system_level_velocity_mean": 10.121997032960637, "cost2_min": -95.30059952094159, "outflow_rate_max": 1082.563714285714}, "time_since_restore": 135.32584881782532, "episode_len_mean": 662.2115384615385, "num_metric_batches_dropped": 0, "time_total_s": 135.32584881782532, "iterations_since_restore": 4, "timestamp": 1557250831, "training_iteration": 4, "episodes_total": 52, "policy_reward_mean": {}, "timesteps_total": 178879, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 28.302205324172974, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162625c0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162624a8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 11, "timesteps_since_restore": 178879, "episode_reward_mean": 382.5018019973743, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 46259, "pid": 282, "episode_reward_min": 41.65212932247155, "info": {"sample_time_ms": 23958.187, "update_time_ms": 303.975, "num_steps_trained": 178879, "grad_time_ms": 9440.548, "load_time_ms": 22.529, "default": {"vf_loss": 0.41177165508270264, "vf_explained_var": 0.9904971718788147, "kl": 0.005705367308109999, "policy_loss": -0.00245279585942626, "cur_lr": 0.0005000000237487257, "total_loss": 0.40960413217544556, "cur_kl_coeff": 0.05000000819563866, "entropy": 1.4169589281082153}, "num_steps_sampled": 178879}, "episode_reward_max": 630.2201444749006, "hostname": "flow-main", "date": "2019-05-07_17-40-31"}
{"custom_metrics": {"cost1_max": 385.4560861716027, "system_level_velocity_min": 3.376628074649152, "outflow_rate_mean": 531.0415527335679, "outflow_rate_min": 112.54628571428572, "cost1_min": 26.369366013541708, "cost2_mean": -79.94308510617185, "cost1_mean": 238.1221479507413, "system_level_velocity_max": 19.723492964374923, "cost2_max": -18.46928576560738, "system_level_velocity_mean": 9.977826000230793, "cost2_min": -96.44083565358997, "outflow_rate_max": 1082.563714285714}, "time_since_restore": 163.75842666625977, "episode_len_mean": 672.3239436619718, "num_metric_batches_dropped": 0, "time_total_s": 163.75842666625977, "iterations_since_restore": 5, "timestamp": 1557250859, "training_iteration": 5, "episodes_total": 71, "policy_reward_mean": {}, "timesteps_total": 225073, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 28.43257784843445, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cf60>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c9e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626ccc0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 19, "timesteps_since_restore": 225073, "episode_reward_mean": 385.747621472702, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 46194, "pid": 282, "episode_reward_min": 41.65212932247155, "info": {"sample_time_ms": 22760.888, "update_time_ms": 244.974, "num_steps_trained": 225073, "grad_time_ms": 9624.232, "load_time_ms": 19.823, "default": {"vf_loss": 0.7628167867660522, "vf_explained_var": 0.9899936318397522, "kl": 0.005142400972545147, "policy_loss": -0.0022630756720900536, "cur_lr": 0.0005000000237487257, "total_loss": 0.7608108520507812, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.3907604217529297}, "num_steps_sampled": 225073}, "episode_reward_max": 630.2201444749006, "hostname": "flow-main", "date": "2019-05-07_17-40-59"}
{"custom_metrics": {"cost1_max": 413.64520719735737, "system_level_velocity_min": 3.376628074649152, "outflow_rate_mean": 526.4546286543999, "outflow_rate_min": 112.54628571428572, "cost1_min": 26.369366013541708, "cost2_mean": -81.06859674991271, "cost1_mean": 238.09481674609017, "system_level_velocity_max": 19.723492964374923, "cost2_max": -18.46928576560738, "system_level_velocity_mean": 9.890759187258228, "cost2_min": -110.52345471591934, "outflow_rate_max": 1315.3653626373628}, "time_since_restore": 191.13517880439758, "episode_len_mean": 675.7407407407408, "num_metric_batches_dropped": 0, "time_total_s": 191.13517880439758, "iterations_since_restore": 6, "timestamp": 1557250887, "training_iteration": 6, "episodes_total": 81, "policy_reward_mean": {}, "timesteps_total": 271742, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 27.376752138137817, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262d30>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262518>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 10, "timesteps_since_restore": 271742, "episode_reward_mean": 385.5625280742137, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 46669, "pid": 282, "episode_reward_min": 41.65212932247155, "info": {"sample_time_ms": 21699.935, "update_time_ms": 205.402, "num_steps_trained": 271742, "grad_time_ms": 9831.879, "load_time_ms": 17.85, "default": {"vf_loss": 0.48481234908103943, "vf_explained_var": 0.9923895597457886, "kl": 0.0054587265476584435, "policy_loss": -0.0015903252642601728, "cur_lr": 0.0005000000237487257, "total_loss": 0.48349493741989136, "cur_kl_coeff": 0.05000000819563866, "entropy": 1.434151291847229}, "num_steps_sampled": 271742}, "episode_reward_max": 671.7425418164681, "hostname": "flow-main", "date": "2019-05-07_17-41-27"}
{"custom_metrics": {"cost1_max": 413.64520719735737, "system_level_velocity_min": 3.376628074649152, "outflow_rate_mean": 514.7154014966474, "outflow_rate_min": 112.54628571428572, "cost1_min": 26.369366013541708, "cost2_mean": -82.18771760240918, "cost1_mean": 238.22013234037095, "system_level_velocity_max": 19.723492964374923, "cost2_max": -18.46928576560738, "system_level_velocity_mean": 9.82844483918008, "cost2_min": -110.52345471591934, "outflow_rate_max": 1315.3653626373628}, "time_since_restore": 219.3759651184082, "episode_len_mean": 678.8709677419355, "num_metric_batches_dropped": 0, "time_total_s": 219.3759651184082, "iterations_since_restore": 7, "timestamp": 1557250915, "training_iteration": 7, "episodes_total": 93, "policy_reward_mean": {}, "timesteps_total": 318608, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 28.24078631401062, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c908>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626ca90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cef0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 12, "timesteps_since_restore": 318608, "episode_reward_mean": 383.1268809974956, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 46866, "pid": 282, "episode_reward_min": 41.65212932247155, "info": {"sample_time_ms": 20961.834, "update_time_ms": 177.11, "num_steps_trained": 318608, "grad_time_ms": 10084.158, "load_time_ms": 16.401, "default": {"vf_loss": 0.6297031044960022, "vf_explained_var": 0.9924840927124023, "kl": 0.007623976096510887, "policy_loss": -0.0032144489232450724, "cur_lr": 0.0005000000237487257, "total_loss": 0.6268699169158936, "cur_kl_coeff": 0.05000000819563866, "entropy": 1.4105968475341797}, "num_steps_sampled": 318608}, "episode_reward_max": 671.7425418164681, "hostname": "flow-main", "date": "2019-05-07_17-41-55"}
{"custom_metrics": {"cost1_max": 434.7050550143191, "system_level_velocity_min": 3.376628074649152, "outflow_rate_mean": 529.2395350827879, "outflow_rate_min": 112.54628571428572, "cost1_min": 35.32563939264453, "cost2_mean": -85.30295411298007, "cost1_mean": 245.3392669792691, "system_level_velocity_max": 18.675568736073288, "cost2_max": -18.46928576560738, "system_level_velocity_mean": 9.72520590590946, "cost2_min": -110.52345471591934, "outflow_rate_max": 1315.3653626373628}, "time_since_restore": 245.38211750984192, "episode_len_mean": 693.52, "num_metric_batches_dropped": 0, "time_total_s": 245.38211750984192, "iterations_since_restore": 8, "timestamp": 1557250941, "training_iteration": 8, "episodes_total": 113, "policy_reward_mean": {}, "timesteps_total": 360683, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 26.006152391433716, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273710>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 20, "timesteps_since_restore": 360683, "episode_reward_mean": 396.2993732656729, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 42075, "pid": 282, "episode_reward_min": 52.04673479869891, "info": {"sample_time_ms": 20270.076, "update_time_ms": 156.291, "num_steps_trained": 360683, "grad_time_ms": 10130.665, "load_time_ms": 16.117, "default": {"vf_loss": 1.5230112075805664, "vf_explained_var": 0.9857812523841858, "kl": 0.00943813193589449, "policy_loss": -0.0037348931655287743, "cur_lr": 0.0005000000237487257, "total_loss": 1.5197480916976929, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.3835700750350952}, "num_steps_sampled": 360683}, "episode_reward_max": 704.6518035970964, "hostname": "flow-main", "date": "2019-05-07_17-42-21"}
{"custom_metrics": {"cost1_max": 434.7050550143191, "system_level_velocity_min": 3.376628074649152, "outflow_rate_mean": 585.8952132187812, "outflow_rate_min": 227.24742857142854, "cost1_min": 81.20845944795596, "cost2_mean": -88.96000546985847, "cost1_mean": 251.92949958315904, "system_level_velocity_max": 16.89390492091058, "cost2_max": -65.42433600510786, "system_level_velocity_mean": 9.822000441798535, "cost2_min": -123.97856359803853, "outflow_rate_max": 1315.3653626373628}, "time_since_restore": 270.4649467468262, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 270.4649467468262, "iterations_since_restore": 9, "timestamp": 1557250966, "training_iteration": 9, "episodes_total": 132, "policy_reward_mean": {}, "timesteps_total": 399624, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 25.082829236984253, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262588>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162625c0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 19, "timesteps_since_restore": 399624, "episode_reward_mean": 418.5870130017681, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38941, "pid": 282, "episode_reward_min": 273.00421325113297, "info": {"sample_time_ms": 19682.336, "update_time_ms": 140.001, "num_steps_trained": 399624, "grad_time_ms": 10115.329, "load_time_ms": 15.132, "default": {"vf_loss": 3.8498358726501465, "vf_explained_var": 0.951676607131958, "kl": 0.008225246332585812, "policy_loss": -0.0029668984934687614, "cur_lr": 0.0005000000237487257, "total_loss": 3.847280502319336, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.3640615940093994}, "num_steps_sampled": 399624}, "episode_reward_max": 704.6518035970964, "hostname": "flow-main", "date": "2019-05-07_17-42-46"}
{"custom_metrics": {"cost1_max": 434.7050550143191, "system_level_velocity_min": 3.376628074649152, "outflow_rate_mean": 666.2397544775225, "outflow_rate_min": 227.24742857142854, "cost1_min": 81.20845944795596, "cost2_mean": -91.53470038615131, "cost1_mean": 257.4877880241049, "system_level_velocity_max": 16.89390492091058, "cost2_max": -65.42433600510786, "system_level_velocity_mean": 10.058908054231965, "cost2_min": -123.97856359803853, "outflow_rate_max": 1315.3653626373628}, "time_since_restore": 294.2068281173706, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 294.2068281173706, "iterations_since_restore": 10, "timestamp": 1557250990, "training_iteration": 10, "episodes_total": 152, "policy_reward_mean": {}, "timesteps_total": 436423, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 23.741881370544434, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c240>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c390>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 20, "timesteps_since_restore": 436423, "episode_reward_mean": 441.8406080728406, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36799, "pid": 282, "episode_reward_min": 273.00421325113297, "info": {"sample_time_ms": 19161.573, "update_time_ms": 126.938, "num_steps_trained": 436423, "grad_time_ms": 10020.954, "load_time_ms": 14.796, "default": {"vf_loss": 5.46536111831665, "vf_explained_var": 0.9345752000808716, "kl": 0.008930320851504803, "policy_loss": -0.0017115928931161761, "cur_lr": 0.0005000000237487257, "total_loss": 5.4640960693359375, "cur_kl_coeff": 0.05000000074505806, "entropy": 1.3420661687850952}, "num_steps_sampled": 436423}, "episode_reward_max": 704.6518035970964, "hostname": "flow-main", "date": "2019-05-07_17-43-10"}
{"custom_metrics": {"cost1_max": 434.7050550143191, "system_level_velocity_min": 3.376628074649152, "outflow_rate_mean": 744.2171152287713, "outflow_rate_min": 227.24742857142854, "cost1_min": 81.20845944795596, "cost2_mean": -94.42096995233811, "cost1_mean": 266.6884909974776, "system_level_velocity_max": 16.89390492091058, "cost2_max": -65.42433600510786, "system_level_velocity_mean": 10.419367888170688, "cost2_min": -133.96623244097088, "outflow_rate_max": 1315.3653626373628}, "time_since_restore": 318.0365595817566, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 318.0365595817566, "iterations_since_restore": 11, "timestamp": 1557251014, "training_iteration": 11, "episodes_total": 166, "policy_reward_mean": {}, "timesteps_total": 473096, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 23.829731464385986, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273630>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273c18>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 14, "timesteps_since_restore": 473096, "episode_reward_mean": 472.21588581019756, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36673, "pid": 282, "episode_reward_min": 273.00421325113297, "info": {"sample_time_ms": 16636.67, "update_time_ms": 9.258, "num_steps_trained": 473096, "grad_time_ms": 9995.422, "load_time_ms": 9.662, "default": {"vf_loss": 5.0740814208984375, "vf_explained_var": 0.9366044402122498, "kl": 0.006773867178708315, "policy_loss": -0.002007279312238097, "cur_lr": 0.0005000000237487257, "total_loss": 5.072412490844727, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.3204015493392944}, "num_steps_sampled": 473096}, "episode_reward_max": 709.6465710994563, "hostname": "flow-main", "date": "2019-05-07_17-43-34"}
{"custom_metrics": {"cost1_max": 434.7050550143191, "system_level_velocity_min": 6.118126352526524, "outflow_rate_mean": 874.3408336423578, "outflow_rate_min": 284.5419428571429, "cost1_min": 151.6901047441132, "cost2_mean": -100.00702265060598, "cost1_mean": 282.93845523961784, "system_level_velocity_max": 16.89390492091058, "cost2_max": -77.11352886527469, "system_level_velocity_mean": 11.02937559665013, "cost2_min": -138.8190316749391, "outflow_rate_max": 1255.4876255744252}, "time_since_restore": 343.96434712409973, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 343.96434712409973, "iterations_since_restore": 12, "timestamp": 1557251040, "training_iteration": 12, "episodes_total": 187, "policy_reward_mean": {}, "timesteps_total": 511280, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 25.92778754234314, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262eb8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 21, "timesteps_since_restore": 511280, "episode_reward_mean": 518.1893524865922, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38184, "pid": 282, "episode_reward_min": 314.28786389816327, "info": {"sample_time_ms": 16225.103, "update_time_ms": 9.49, "num_steps_trained": 511280, "grad_time_ms": 10104.166, "load_time_ms": 9.789, "default": {"vf_loss": 6.224857330322266, "vf_explained_var": 0.9151859283447266, "kl": 0.008311652578413486, "policy_loss": -0.001455190940760076, "cur_lr": 0.0005000000237487257, "total_loss": 6.223817348480225, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.3233155012130737}, "num_steps_sampled": 511280}, "episode_reward_max": 712.535942727641, "hostname": "flow-main", "date": "2019-05-07_17-44-00"}
{"custom_metrics": {"cost1_max": 434.7050550143191, "system_level_velocity_min": 7.1359633305910934, "outflow_rate_mean": 949.681967844156, "outflow_rate_min": 393.53457142857144, "cost1_min": 179.33811916511317, "cost2_mean": -104.33644909002787, "cost1_mean": 289.96927556349806, "system_level_velocity_max": 16.89390492091058, "cost2_max": -77.11352886527469, "system_level_velocity_mean": 11.286457844151291, "cost2_min": -138.8190316749391, "outflow_rate_max": 1255.4876255744252}, "time_since_restore": 369.8095486164093, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 369.8095486164093, "iterations_since_restore": 13, "timestamp": 1557251066, "training_iteration": 13, "episodes_total": 202, "policy_reward_mean": {}, "timesteps_total": 550544, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 25.84520149230957, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276f28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162766a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162766d8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 15, "timesteps_since_restore": 550544, "episode_reward_mean": 548.8840021538363, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 39264, "pid": 282, "episode_reward_min": 356.4635810615144, "info": {"sample_time_ms": 16007.137, "update_time_ms": 9.318, "num_steps_trained": 550544, "grad_time_ms": 10160.355, "load_time_ms": 10.04, "default": {"vf_loss": 4.518309116363525, "vf_explained_var": 0.924183189868927, "kl": 0.007215593475848436, "policy_loss": -0.0011129830963909626, "cur_lr": 0.0005000000237487257, "total_loss": 4.517556667327881, "cur_kl_coeff": 0.05000000819563866, "entropy": 1.3347043991088867}, "num_steps_sampled": 550544}, "episode_reward_max": 712.535942727641, "hostname": "flow-main", "date": "2019-05-07_17-44-26"}
{"custom_metrics": {"cost1_max": 473.5988540463583, "system_level_velocity_min": 7.1359633305910934, "outflow_rate_mean": 1013.5756556763237, "outflow_rate_min": 597.1411428571429, "cost1_min": 179.33811916511317, "cost2_mean": -107.56414624260631, "cost1_mean": 298.22609744907527, "system_level_velocity_max": 17.970394100562807, "cost2_max": -77.11352886527469, "system_level_velocity_mean": 11.595895122225214, "cost2_min": -138.8190316749391, "outflow_rate_max": 1351.477177222777}, "time_since_restore": 394.87470149993896, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 394.87470149993896, "iterations_since_restore": 14, "timestamp": 1557251091, "training_iteration": 14, "episodes_total": 219, "policy_reward_mean": {}, "timesteps_total": 588808, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 25.065152883529663, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162625c0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262a20>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 17, "timesteps_since_restore": 588808, "episode_reward_mean": 575.1174695715099, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38264, "pid": 282, "episode_reward_min": 407.2301188146502, "info": {"sample_time_ms": 15728.553, "update_time_ms": 9.173, "num_steps_trained": 588808, "grad_time_ms": 10115.168, "load_time_ms": 10.497, "default": {"vf_loss": 5.8710808753967285, "vf_explained_var": 0.9454067349433899, "kl": 0.006870433688163757, "policy_loss": -0.0016991936136037111, "cur_lr": 0.0005000000237487257, "total_loss": 5.869725227355957, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.28856360912323}, "num_steps_sampled": 588808}, "episode_reward_max": 738.7435868166634, "hostname": "flow-main", "date": "2019-05-07_17-44-51"}
{"custom_metrics": {"cost1_max": 473.5988540463583, "system_level_velocity_min": 7.1359633305910934, "outflow_rate_mean": 1061.5946203269302, "outflow_rate_min": 478.83826126443034, "cost1_min": 32.145271160731994, "cost2_mean": -109.75251057680653, "cost1_mean": 306.4602770548444, "system_level_velocity_max": 19.176427396438577, "cost2_max": -24.367693869932303, "system_level_velocity_mean": 12.059904175204961, "cost2_min": -138.8190316749391, "outflow_rate_max": 1351.477177222777}, "time_since_restore": 420.27549505233765, "episode_len_mean": 693.47, "num_metric_batches_dropped": 0, "time_total_s": 420.27549505233765, "iterations_since_restore": 15, "timestamp": 1557251116, "training_iteration": 15, "episodes_total": 240, "policy_reward_mean": {}, "timesteps_total": 626860, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 25.40079355239868, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276b00>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276128>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 21, "timesteps_since_restore": 626860, "episode_reward_mean": 595.7016931281953, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38052, "pid": 282, "episode_reward_min": 47.275914563589126, "info": {"sample_time_ms": 15520.829, "update_time_ms": 9.406, "num_steps_trained": 626860, "grad_time_ms": 10019.979, "load_time_ms": 10.753, "default": {"vf_loss": 7.551729679107666, "vf_explained_var": 0.9216107130050659, "kl": 0.009517014026641846, "policy_loss": -0.0019757701084017754, "cur_lr": 0.0005000000237487257, "total_loss": 7.550229549407959, "cur_kl_coeff": 0.05000000819563866, "entropy": 1.289902925491333}, "num_steps_sampled": 626860}, "episode_reward_max": 738.7435868166634, "hostname": "flow-main", "date": "2019-05-07_17-45-16"}
{"custom_metrics": {"cost1_max": 497.49604866624315, "system_level_velocity_min": 7.1359633305910934, "outflow_rate_mean": 1076.8662906725845, "outflow_rate_min": 478.83826126443034, "cost1_min": 32.145271160731994, "cost2_mean": -110.44510127708398, "cost1_mean": 311.42934918324414, "system_level_velocity_max": 19.176427396438577, "cost2_max": -24.367693869932303, "system_level_velocity_mean": 12.234201644631737, "cost2_min": -138.8190316749391, "outflow_rate_max": 1370.497201998002}, "time_since_restore": 444.42326617240906, "episode_len_mean": 693.47, "num_metric_batches_dropped": 0, "time_total_s": 444.42326617240906, "iterations_since_restore": 16, "timestamp": 1557251140, "training_iteration": 16, "episodes_total": 259, "policy_reward_mean": {}, "timesteps_total": 664376, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 24.14777112007141, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262b00>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262ac8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 19, "timesteps_since_restore": 664376, "episode_reward_mean": 606.6103644288745, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37516, "pid": 282, "episode_reward_min": 47.275914563589126, "info": {"sample_time_ms": 15374.796, "update_time_ms": 9.569, "num_steps_trained": 664376, "grad_time_ms": 9842.565, "load_time_ms": 11.215, "default": {"vf_loss": 7.088829517364502, "vf_explained_var": 0.926715612411499, "kl": 0.009625038132071495, "policy_loss": -0.0008304879884235561, "cur_lr": 0.0005000000237487257, "total_loss": 7.088480472564697, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.278174877166748}, "num_steps_sampled": 664376}, "episode_reward_max": 788.026497483246, "hostname": "flow-main", "date": "2019-05-07_17-45-40"}
{"custom_metrics": {"cost1_max": 497.49604866624315, "system_level_velocity_min": 7.1359633305910934, "outflow_rate_mean": 1077.365304083174, "outflow_rate_min": 478.83826126443034, "cost1_min": 32.145271160731994, "cost2_mean": -109.71551082057215, "cost1_mean": 311.8381419834757, "system_level_velocity_max": 19.176427396438577, "cost2_max": -24.367693869932303, "system_level_velocity_mean": 12.232099464451073, "cost2_min": -138.8190316749391, "outflow_rate_max": 1370.497201998002}, "time_since_restore": 470.1618025302887, "episode_len_mean": 693.47, "num_metric_batches_dropped": 0, "time_total_s": 470.1618025302887, "iterations_since_restore": 17, "timestamp": 1557251166, "training_iteration": 17, "episodes_total": 279, "policy_reward_mean": {}, "timesteps_total": 701497, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 25.73853635787964, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162766a0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162766d8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 20, "timesteps_since_restore": 701497, "episode_reward_mean": 606.6586562946854, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37121, "pid": 282, "episode_reward_min": 47.275914563589126, "info": {"sample_time_ms": 15377.437, "update_time_ms": 9.626, "num_steps_trained": 701497, "grad_time_ms": 9591.896, "load_time_ms": 11.653, "default": {"vf_loss": 7.510651111602783, "vf_explained_var": 0.9049901366233826, "kl": 0.008557630702853203, "policy_loss": -0.0016061513451859355, "cur_lr": 0.0005000000237487257, "total_loss": 7.5094733238220215, "cur_kl_coeff": 0.05000000819563866, "entropy": 1.2993738651275635}, "num_steps_sampled": 701497}, "episode_reward_max": 788.026497483246, "hostname": "flow-main", "date": "2019-05-07_17-46-06"}
{"custom_metrics": {"cost1_max": 497.49604866624315, "system_level_velocity_min": 7.1359633305910934, "outflow_rate_mean": 1083.431363335921, "outflow_rate_min": 478.83826126443034, "cost1_min": 32.145271160731994, "cost2_mean": -107.98036131801656, "cost1_mean": 316.0790441718205, "system_level_velocity_max": 19.176427396438577, "cost2_max": -24.367693869932303, "system_level_velocity_mean": 12.410109351999957, "cost2_min": -132.6909382791698, "outflow_rate_max": 1370.497201998002}, "time_since_restore": 494.3293890953064, "episode_len_mean": 693.47, "num_metric_batches_dropped": 0, "time_total_s": 494.3293890953064, "iterations_since_restore": 18, "timestamp": 1557251190, "training_iteration": 18, "episodes_total": 296, "policy_reward_mean": {}, "timesteps_total": 737677, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 24.1675865650177, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262860>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273e10>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 17, "timesteps_since_restore": 737677, "episode_reward_mean": 608.1239732405404, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36180, "pid": 282, "episode_reward_min": 47.275914563589126, "info": {"sample_time_ms": 15370.435, "update_time_ms": 9.484, "num_steps_trained": 737677, "grad_time_ms": 9417.223, "load_time_ms": 11.05, "default": {"vf_loss": 7.0750508308410645, "vf_explained_var": 0.9310792684555054, "kl": 0.009651346132159233, "policy_loss": -0.004003806505352259, "cur_lr": 0.0005000000237487257, "total_loss": 7.071528911590576, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.2746878862380981}, "num_steps_sampled": 737677}, "episode_reward_max": 788.026497483246, "hostname": "flow-main", "date": "2019-05-07_17-46-30"}
{"custom_metrics": {"cost1_max": 497.49604866624315, "system_level_velocity_min": 7.157845109818183, "outflow_rate_mean": 1101.335098233024, "outflow_rate_min": 478.83826126443034, "cost1_min": 32.145271160731994, "cost2_mean": -105.55597725076272, "cost1_mean": 318.89903306640497, "system_level_velocity_max": 19.176427396438577, "cost2_max": -24.367693869932303, "system_level_velocity_mean": 12.517522122990602, "cost2_min": -132.6909382791698, "outflow_rate_max": 1370.497201998002}, "time_since_restore": 520.6616954803467, "episode_len_mean": 693.47, "num_metric_batches_dropped": 0, "time_total_s": 520.6616954803467, "iterations_since_restore": 19, "timestamp": 1557251217, "training_iteration": 19, "episodes_total": 318, "policy_reward_mean": {}, "timesteps_total": 774478, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 26.332306385040283, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276b00>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 22, "timesteps_since_restore": 774478, "episode_reward_mean": 608.9213220472901, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36801, "pid": 282, "episode_reward_min": 47.275914563589126, "info": {"sample_time_ms": 15595.738, "update_time_ms": 9.234, "num_steps_trained": 774478, "grad_time_ms": 9318.182, "load_time_ms": 11.522, "default": {"vf_loss": 9.739803314208984, "vf_explained_var": 0.8768893480300903, "kl": 0.00875880941748619, "policy_loss": -0.0019351744558662176, "cur_lr": 0.0005000000237487257, "total_loss": 9.738306999206543, "cur_kl_coeff": 0.05000000074505806, "entropy": 1.2728898525238037}, "num_steps_sampled": 774478}, "episode_reward_max": 788.026497483246, "hostname": "flow-main", "date": "2019-05-07_17-46-57"}
{"custom_metrics": {"cost1_max": 497.49604866624315, "system_level_velocity_min": 7.157845109818183, "outflow_rate_mean": 1105.3611419533038, "outflow_rate_min": 478.83826126443034, "cost1_min": 32.145271160731994, "cost2_mean": -104.71592871260243, "cost1_mean": 321.2129966539287, "system_level_velocity_max": 19.176427396438577, "cost2_max": -24.367693869932303, "system_level_velocity_mean": 12.61732161465019, "cost2_min": -132.6909382791698, "outflow_rate_max": 1430.9406561438561}, "time_since_restore": 544.1412587165833, "episode_len_mean": 693.47, "num_metric_batches_dropped": 0, "time_total_s": 544.1412587165833, "iterations_since_restore": 20, "timestamp": 1557251240, "training_iteration": 20, "episodes_total": 331, "policy_reward_mean": {}, "timesteps_total": 810933, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 23.479563236236572, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262f98>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162629b0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 13, "timesteps_since_restore": 810933, "episode_reward_mean": 606.5543544047192, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36455, "pid": 282, "episode_reward_min": 47.275914563589126, "info": {"sample_time_ms": 15616.673, "update_time_ms": 9.088, "num_steps_trained": 810933, "grad_time_ms": 9271.555, "load_time_ms": 11.274, "default": {"vf_loss": 6.948322296142578, "vf_explained_var": 0.9329726696014404, "kl": 0.008798987604677677, "policy_loss": -0.0023957625962793827, "cur_lr": 0.0005000000237487257, "total_loss": 6.946366310119629, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.240105390548706}, "num_steps_sampled": 810933}, "episode_reward_max": 788.026497483246, "hostname": "flow-main", "date": "2019-05-07_17-47-20"}
{"custom_metrics": {"cost1_max": 497.49604866624315, "system_level_velocity_min": 7.157845109818183, "outflow_rate_mean": 1110.6972877322676, "outflow_rate_min": 926.3237922077922, "cost1_min": 179.34186773211079, "cost2_mean": -104.11166696836315, "cost1_mean": 321.37890493268253, "system_level_velocity_max": 18.91429229060866, "cost2_max": -79.88757395596704, "system_level_velocity_mean": 12.468211388548397, "cost2_min": -129.76553511078606, "outflow_rate_max": 1482.4638237762238}, "time_since_restore": 571.5815544128418, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 571.5815544128418, "iterations_since_restore": 21, "timestamp": 1557251268, "training_iteration": 21, "episodes_total": 352, "policy_reward_mean": {}, "timesteps_total": 849247, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 27.440295696258545, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276f28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276ac8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 21, "timesteps_since_restore": 849247, "episode_reward_mean": 607.1471121457818, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38314, "pid": 282, "episode_reward_min": 503.264991255171, "info": {"sample_time_ms": 15804.481, "update_time_ms": 8.896, "num_steps_trained": 849247, "grad_time_ms": 9446.03, "load_time_ms": 11.84, "default": {"vf_loss": 9.754705429077148, "vf_explained_var": 0.8934462666511536, "kl": 0.00860030297189951, "policy_loss": -0.0025301293935626745, "cur_lr": 0.0005000000237487257, "total_loss": 9.752606391906738, "cur_kl_coeff": 0.05000000819563866, "entropy": 1.2711795568466187}, "num_steps_sampled": 849247}, "episode_reward_max": 788.026497483246, "hostname": "flow-main", "date": "2019-05-07_17-47-48"}
{"custom_metrics": {"cost1_max": 457.3438888281744, "system_level_velocity_min": 7.157845109818183, "outflow_rate_mean": 1110.151240087912, "outflow_rate_min": 938.0466285714286, "cost1_min": 179.34186773211079, "cost2_mean": -103.8085735854342, "cost1_mean": 318.90382903948455, "system_level_velocity_max": 17.39630973827863, "cost2_max": -79.88757395596704, "system_level_velocity_mean": 12.388363824562344, "cost2_min": -129.76553511078606, "outflow_rate_max": 1482.4638237762238}, "time_since_restore": 596.5774154663086, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 596.5774154663086, "iterations_since_restore": 22, "timestamp": 1557251293, "training_iteration": 22, "episodes_total": 368, "policy_reward_mean": {}, "timesteps_total": 887009, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 24.995861053466797, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276358>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276c88>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 16, "timesteps_since_restore": 887009, "episode_reward_mean": 608.169957943785, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37762, "pid": 282, "episode_reward_min": 503.264991255171, "info": {"sample_time_ms": 15791.161, "update_time_ms": 8.578, "num_steps_trained": 887009, "grad_time_ms": 9369.553, "load_time_ms": 11.244, "default": {"vf_loss": 8.138105392456055, "vf_explained_var": 0.9285315275192261, "kl": 0.008312487043440342, "policy_loss": -0.001227216562256217, "cur_lr": 0.0005000000237487257, "total_loss": 8.137292861938477, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.25496506690979}, "num_steps_sampled": 887009}, "episode_reward_max": 785.0234403648944, "hostname": "flow-main", "date": "2019-05-07_17-48-13"}
{"custom_metrics": {"cost1_max": 457.3438888281744, "system_level_velocity_min": 8.814644148666577, "outflow_rate_mean": 1114.012436987013, "outflow_rate_min": 951.3753142857141, "cost1_min": 223.97635838912706, "cost2_mean": -102.20574685016233, "cost1_mean": 321.141884560466, "system_level_velocity_max": 17.39630973827863, "cost2_max": -85.72613147683386, "system_level_velocity_mean": 12.487716872617336, "cost2_min": -129.76553511078606, "outflow_rate_max": 1482.4638237762238}, "time_since_restore": 622.3289096355438, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 622.3289096355438, "iterations_since_restore": 23, "timestamp": 1557251318, "training_iteration": 23, "episodes_total": 390, "policy_reward_mean": {}, "timesteps_total": 924461, "experiment_id": "269e9ba3492c430b9097768b0373f502", "time_this_iter_s": 25.75149416923523, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276b00>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276390>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "num_gpus": 0, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "fcnet_hiddens": [100, 50, 25], "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "dim": 84, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "channel_major": false}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "lr": 0.0005}, "episodes_this_iter": 22, "timesteps_since_restore": 924461, "episode_reward_mean": 603.4110865159718, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37452, "pid": 282, "episode_reward_min": 503.264991255171, "info": {"sample_time_ms": 15822.821, "update_time_ms": 8.523, "num_steps_trained": 924461, "grad_time_ms": 9328.684, "load_time_ms": 11.123, "default": {"vf_loss": 9.469642639160156, "vf_explained_var": 0.9153098464012146, "kl": 0.009269552305340767, "policy_loss": -0.0006534526473842561, "cur_lr": 0.0005000000237487257, "total_loss": 9.469452857971191, "cur_kl_coeff": 0.05000000447034836, "entropy": 1.2411344051361084}, "num_steps_sampled": 924461}, "episode_reward_max": 785.0234403648944, "hostname": "flow-main", "date": "2019-05-07_17-48-38"}
