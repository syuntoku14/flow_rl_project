{"date": "2019-05-07_18-57-22", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950d68>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950cf8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950d30>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 47560, "time_this_iter_s": 54.217214584350586, "pid": 42991, "episodes_this_iter": 0, "episode_reward_min": NaN, "info": {"num_steps_trained": 47560, "update_time_ms": 2503.139, "sample_time_ms": 39760.341, "grad_time_ms": 11736.122, "default": {"cur_kl_coeff": 0.20000003278255463, "vf_loss": 1.244767427444458, "total_loss": 1.2446353435516357, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003620728384703398, "entropy": 1.4176851511001587, "vf_explained_var": 0.9067287445068359, "kl": 0.0011499461252242327}, "load_time_ms": 74.179, "num_steps_sampled": 47560}, "timesteps_since_restore": 47560, "time_total_s": 54.217214584350586, "episodes_total": 0, "done": false, "episode_len_mean": NaN, "timesteps_this_iter": 47560, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "time_since_restore": 54.217214584350586, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 1, "episode_reward_max": NaN, "timestamp": 1557255442, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {}, "episode_reward_mean": NaN}
{"date": "2019-05-07_18-57-53", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb550>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb4e0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb518>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 92690, "time_this_iter_s": 31.195619344711304, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 67.11229481115288, "info": {"num_steps_trained": 92690, "update_time_ms": 1255.394, "sample_time_ms": 30016.808, "grad_time_ms": 11260.142, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 1.3498165607452393, "total_loss": 1.349149227142334, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012480114819481969, "entropy": 1.4124184846878052, "vf_explained_var": 0.9656505584716797, "kl": 0.005806897301226854}, "load_time_ms": 45.294, "num_steps_sampled": 92690}, "timesteps_since_restore": 92690, "time_total_s": 85.41283392906189, "episodes_total": 21, "done": false, "episode_len_mean": 669.4285714285714, "timesteps_this_iter": 45130, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "time_since_restore": 85.41283392906189, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 2, "episode_reward_max": 512.7191644581937, "timestamp": 1557255473, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 3.7193215260052894, "system_level_velocity_max": 18.591195271305082, "outflow_rate_min": 241.70571428571427, "outflow_rate_mean": 492.8926279928055, "outflow_rate_max": 927.8554545454546, "cost2_min": -118.25899049834075, "system_level_velocity_mean": 9.50423683640958, "cost2_max": -34.19517824248658, "cost1_max": 341.7754117980561, "cost1_min": 39.23688500162143, "cost2_mean": -95.47887200022178, "cost1_mean": 223.0773493474276}, "episode_reward_mean": 362.56055639369293}
{"date": "2019-05-07_18-58-22", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef898>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efb00>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f4418059c18>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 131517, "time_this_iter_s": 28.939072847366333, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 51.13687829621572, "info": {"num_steps_trained": 131517, "update_time_ms": 840.385, "sample_time_ms": 26465.459, "grad_time_ms": 10659.974, "default": {"cur_kl_coeff": 0.10000002384185791, "vf_loss": 1.122072458267212, "total_loss": 1.1211600303649902, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014864461263641715, "entropy": 1.422184944152832, "vf_explained_var": 0.9804155826568604, "kl": 0.00574062904343009}, "load_time_ms": 34.62, "num_steps_sampled": 131517}, "timesteps_since_restore": 131517, "time_total_s": 114.35190677642822, "episodes_total": 42, "done": false, "episode_len_mean": 669.1666666666666, "timesteps_this_iter": 38827, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "time_since_restore": 114.35190677642822, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 3, "episode_reward_max": 661.9677792526242, "timestamp": 1557255502, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 3.7193215260052894, "system_level_velocity_max": 18.591195271305082, "outflow_rate_min": 241.70571428571427, "outflow_rate_mean": 555.0411335690866, "outflow_rate_max": 1237.320865934066, "cost2_min": -130.20799337688263, "system_level_velocity_mean": 10.125640108046552, "cost2_max": -22.10192267818591, "cost1_max": 443.2572236077035, "cost1_min": 30.6733216767328, "cost2_mean": -98.54960622024653, "cost1_mean": 240.5118549281207}, "episode_reward_mean": 384.6621730588392}
{"date": "2019-05-07_18-58-52", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900550>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900630>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900668>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 176012, "time_this_iter_s": 29.665822505950928, "pid": 42991, "episodes_this_iter": 10, "episode_reward_min": 51.13687829621572, "info": {"num_steps_trained": 176012, "update_time_ms": 632.595, "sample_time_ms": 24470.131, "grad_time_ms": 10762.973, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 0.47350388765335083, "total_loss": 0.47157934308052063, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002474263310432434, "entropy": 1.428779125213623, "vf_explained_var": 0.987316370010376, "kl": 0.00549682229757309}, "load_time_ms": 29.177, "num_steps_sampled": 176012}, "timesteps_since_restore": 176012, "time_total_s": 144.01772928237915, "episodes_total": 52, "done": false, "episode_len_mean": 675.0961538461538, "timesteps_this_iter": 44495, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "time_since_restore": 144.01772928237915, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 4, "episode_reward_max": 661.9677792526242, "timestamp": 1557255532, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 3.7193215260052894, "system_level_velocity_max": 18.591195271305082, "outflow_rate_min": 241.70571428571427, "outflow_rate_mean": 561.9250407498566, "outflow_rate_max": 1237.320865934066, "cost2_min": -130.20799337688263, "system_level_velocity_mean": 10.136370933374435, "cost2_max": -22.10192267818591, "cost1_max": 443.2572236077035, "cost1_min": 30.6733216767328, "cost2_mean": -99.61420790959795, "cost1_mean": 244.81604309205662}, "episode_reward_mean": 388.4185678544008}
{"date": "2019-05-07_18-59-22", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900278>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59000f0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900128>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 218658, "time_this_iter_s": 29.588566303253174, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 51.13687829621572, "info": {"num_steps_trained": 218658, "update_time_ms": 507.854, "sample_time_ms": 23391.997, "grad_time_ms": 10688.482, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 0.9382941126823425, "total_loss": 0.9359834790229797, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003137558465823531, "entropy": 1.419817566871643, "vf_explained_var": 0.977287769317627, "kl": 0.008270150981843472}, "load_time_ms": 26.08, "num_steps_sampled": 218658}, "timesteps_since_restore": 218658, "time_total_s": 173.60629558563232, "episodes_total": 70, "done": false, "episode_len_mean": 681.5, "timesteps_this_iter": 42646, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "time_since_restore": 173.60629558563232, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 5, "episode_reward_max": 661.9677792526242, "timestamp": 1557255562, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 3.7193215260052894, "system_level_velocity_max": 18.591195271305082, "outflow_rate_min": 211.4016, "outflow_rate_mean": 541.336040883567, "outflow_rate_max": 1237.320865934066, "cost2_min": -130.20799337688263, "system_level_velocity_mean": 9.782650186695072, "cost2_max": -22.10192267818591, "cost1_max": 443.2572236077035, "cost1_min": 30.6733216767328, "cost2_mean": -96.24205187631803, "cost1_mean": 239.80109030730563}, "episode_reward_mean": 376.71645948167594}
{"date": "2019-05-07_18-59-50", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb080>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb048>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb208>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 260705, "time_this_iter_s": 28.57300305366516, "pid": 42991, "episodes_this_iter": 12, "episode_reward_min": 51.13687829621572, "info": {"num_steps_trained": 260705, "update_time_ms": 424.791, "sample_time_ms": 22477.334, "grad_time_ms": 10663.229, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 1.1011220216751099, "total_loss": 1.0965676307678223, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005561247933655977, "entropy": 1.420084834098816, "vf_explained_var": 0.9823135733604431, "kl": 0.010068468749523163}, "load_time_ms": 23.959, "num_steps_sampled": 260705}, "timesteps_since_restore": 260705, "time_total_s": 202.17929863929749, "episodes_total": 82, "done": false, "episode_len_mean": 684.2073170731708, "timesteps_this_iter": 42047, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "time_since_restore": 202.17929863929749, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 6, "episode_reward_max": 661.9677792526242, "timestamp": 1557255590, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 3.7193215260052894, "system_level_velocity_max": 18.591195271305082, "outflow_rate_min": 211.4016, "outflow_rate_mean": 520.8199861201181, "outflow_rate_max": 1237.320865934066, "cost2_min": -130.20799337688263, "system_level_velocity_mean": 9.49883621275418, "cost2_max": -22.10192267818591, "cost1_max": 443.2572236077035, "cost1_min": 30.6733216767328, "cost2_mean": -91.77606528233923, "cost1_mean": 234.04710932624278}, "episode_reward_mean": 364.1185277213768}
{"date": "2019-05-07_19-00-21", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efb70>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef9e8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef940>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 299660, "time_this_iter_s": 30.423069715499878, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 51.13687829621572, "info": {"num_steps_trained": 299660, "update_time_ms": 365.362, "sample_time_ms": 21912.334, "grad_time_ms": 10823.749, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 3.0803956985473633, "total_loss": 3.0780787467956543, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003026061225682497, "entropy": 1.3934224843978882, "vf_explained_var": 0.9637051820755005, "kl": 0.007091559935361147}, "load_time_ms": 22.383, "num_steps_sampled": 299660}, "timesteps_since_restore": 299660, "time_total_s": 232.60236835479736, "episodes_total": 103, "done": false, "episode_len_mean": 680.53, "timesteps_this_iter": 38955, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "time_since_restore": 232.60236835479736, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 7, "episode_reward_max": 661.9677792526242, "timestamp": 1557255621, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 3.7193215260052894, "system_level_velocity_max": 18.591195271305082, "outflow_rate_min": 211.4016, "outflow_rate_mean": 537.5084442119821, "outflow_rate_max": 1237.320865934066, "cost2_min": -130.20799337688263, "system_level_velocity_mean": 9.450467913075574, "cost2_max": -22.10192267818591, "cost1_max": 443.2572236077035, "cost1_min": 30.6733216767328, "cost2_mean": -89.69914306219023, "cost1_mean": 230.57523056822274}, "episode_reward_mean": 361.7344077032831}
{"date": "2019-05-07_19-00-48", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900828>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900390>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900860>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 339681, "time_this_iter_s": 27.69805359840393, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 44.597007924457394, "info": {"num_steps_trained": 339681, "update_time_ms": 321.181, "sample_time_ms": 21314.257, "grad_time_ms": 10776.281, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 4.004823207855225, "total_loss": 4.001471996307373, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004221821203827858, "entropy": 1.3868627548217773, "vf_explained_var": 0.9366265535354614, "kl": 0.008705251850187778}, "load_time_ms": 21.668, "num_steps_sampled": 339681}, "timesteps_since_restore": 339681, "time_total_s": 260.3004219532013, "episodes_total": 123, "done": false, "episode_len_mean": 680.4, "timesteps_this_iter": 40021, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "time_since_restore": 260.3004219532013, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 8, "episode_reward_max": 661.9677792526242, "timestamp": 1557255648, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 6.127713379955799, "system_level_velocity_max": 18.888176560160037, "outflow_rate_min": 211.4016, "outflow_rate_mean": 616.4008389054796, "outflow_rate_max": 1237.320865934066, "cost2_min": -151.40584886063797, "system_level_velocity_mean": 9.759333092558956, "cost2_max": -22.10192267818591, "cost1_max": 443.2572236077035, "cost1_min": 30.087277220344323, "cost2_mean": -92.37125193029698, "cost1_mean": 238.85283035004446}, "episode_reward_mean": 388.90553118275426}
{"date": "2019-05-07_19-01-15", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900278>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900080>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900240>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 377861, "time_this_iter_s": 26.871341466903687, "pid": 42991, "episodes_this_iter": 17, "episode_reward_min": 44.597007924457394, "info": {"num_steps_trained": 377861, "update_time_ms": 286.582, "sample_time_ms": 20802.89, "grad_time_ms": 10694.604, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 4.595930576324463, "total_loss": 4.594210147857666, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0022692957427352667, "entropy": 1.4030382633209229, "vf_explained_var": 0.9372146725654602, "kl": 0.005488939117640257}, "load_time_ms": 20.494, "num_steps_sampled": 377861}, "timesteps_since_restore": 377861, "time_total_s": 287.171763420105, "episodes_total": 140, "done": false, "episode_len_mean": 680.41, "timesteps_this_iter": 38180, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "time_since_restore": 287.171763420105, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 9, "episode_reward_max": 631.5829206174608, "timestamp": 1557255675, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 6.127713379955799, "system_level_velocity_max": 18.959368873317292, "outflow_rate_min": 211.4016, "outflow_rate_mean": 659.6719887098265, "outflow_rate_max": 1142.498431168831, "cost2_min": -151.40584886063797, "system_level_velocity_mean": 9.704511961354662, "cost2_max": -21.815849002680956, "cost1_max": 360.27968567381157, "cost1_min": 30.087277220344323, "cost2_mean": -95.24713477112627, "cost1_mean": 237.46290452046875}, "episode_reward_mean": 403.86630008906513}
{"date": "2019-05-07_19-01-41", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb080>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbc50>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb048>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 415219, "time_this_iter_s": 25.882753610610962, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 44.597007924457394, "info": {"num_steps_trained": 415219, "update_time_ms": 258.907, "sample_time_ms": 20359.326, "grad_time_ms": 10565.02, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 6.118175983428955, "total_loss": 6.11646032333374, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0023483182303607464, "entropy": 1.381589651107788, "vf_explained_var": 0.8909350037574768, "kl": 0.0063284412026405334}, "load_time_ms": 19.702, "num_steps_sampled": 415219}, "timesteps_since_restore": 415219, "time_total_s": 313.05451703071594, "episodes_total": 161, "done": false, "episode_len_mean": 673.92, "timesteps_this_iter": 37358, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "time_since_restore": 313.05451703071594, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 10, "episode_reward_max": 695.5621652779569, "timestamp": 1557255701, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 6.127713379955799, "system_level_velocity_max": 18.959368873317292, "outflow_rate_min": 211.4016, "outflow_rate_mean": 744.9095232760629, "outflow_rate_max": 1142.498431168831, "cost2_min": -161.65590522669157, "system_level_velocity_mean": 10.09343694741167, "cost2_max": -18.08189132451791, "cost1_max": 360.27968567381157, "cost1_min": 30.087277220344323, "cost2_mean": -99.82875248062079, "cost1_mean": 243.70985336870214}, "episode_reward_mean": 433.4751630424429}
{"date": "2019-05-07_19-02-09", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef748>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efcc0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef8d0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 452674, "time_this_iter_s": 27.364769220352173, "pid": 42991, "episodes_this_iter": 17, "episode_reward_min": 44.597007924457394, "info": {"num_steps_trained": 452674, "update_time_ms": 9.739, "sample_time_ms": 18142.293, "grad_time_ms": 10356.569, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 6.03322172164917, "total_loss": 6.031118869781494, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002784188836812973, "entropy": 1.360964059829712, "vf_explained_var": 0.9136365056037903, "kl": 0.006810924969613552}, "load_time_ms": 13.373, "num_steps_sampled": 452674}, "timesteps_since_restore": 452674, "time_total_s": 340.4192862510681, "episodes_total": 178, "done": false, "episode_len_mean": 667.56, "timesteps_this_iter": 37455, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "time_since_restore": 340.4192862510681, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 11, "episode_reward_max": 759.6698385865025, "timestamp": 1557255729, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 7.190116693044659, "system_level_velocity_max": 18.959368873317292, "outflow_rate_min": 345.0144, "outflow_rate_mean": 843.2199830964165, "outflow_rate_max": 1211.1703896103897, "cost2_min": -161.65590522669157, "system_level_velocity_mean": 10.67266225219001, "cost2_max": -18.08189132451791, "cost1_max": 392.4424785363043, "cost1_min": 30.087277220344323, "cost2_mean": -108.80575532517861, "cost1_mean": 255.66378555955956}, "episode_reward_mean": 474.85677538468474}
{"date": "2019-05-07_19-02-36", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb240>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbb38>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb630>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 490517, "time_this_iter_s": 27.2392315864563, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 44.597007924457394, "info": {"num_steps_trained": 490517, "update_time_ms": 10.074, "sample_time_ms": 17849.287, "grad_time_ms": 10257.611, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 6.036673069000244, "total_loss": 6.034271717071533, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003094600047916174, "entropy": 1.35043203830719, "vf_explained_var": 0.8987027406692505, "kl": 0.006932946387678385}, "load_time_ms": 12.883, "num_steps_sampled": 490517}, "timesteps_since_restore": 490517, "time_total_s": 367.6585178375244, "episodes_total": 196, "done": false, "episode_len_mean": 667.56, "timesteps_this_iter": 37843, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "time_since_restore": 367.6585178375244, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 12, "episode_reward_max": 759.6698385865025, "timestamp": 1557255756, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.019965865130633, "system_level_velocity_max": 18.959368873317292, "outflow_rate_min": 445.2445714285714, "outflow_rate_mean": 931.3726002912216, "outflow_rate_max": 1211.1703896103897, "cost2_min": -161.65590522669157, "system_level_velocity_mean": 11.253068589469843, "cost2_max": -18.08189132451791, "cost1_max": 392.4424785363043, "cost1_min": 30.087277220344323, "cost2_mean": -117.64072716453484, "cost1_mean": 271.58435535269825}, "episode_reward_mean": 517.628219177469}
{"date": "2019-05-07_19-03-04", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900860>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb080>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59009e8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 528281, "time_this_iter_s": 28.00800371170044, "pid": 42991, "episodes_this_iter": 14, "episode_reward_min": 44.597007924457394, "info": {"num_steps_trained": 528281, "update_time_ms": 9.941, "sample_time_ms": 17639.232, "grad_time_ms": 10375.884, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 5.329388618469238, "total_loss": 5.3280720710754395, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0019273277139291167, "entropy": 1.3478599786758423, "vf_explained_var": 0.911578893661499, "kl": 0.006108719389885664}, "load_time_ms": 12.387, "num_steps_sampled": 528281}, "timesteps_since_restore": 528281, "time_total_s": 395.66652154922485, "episodes_total": 210, "done": false, "episode_len_mean": 674.08, "timesteps_this_iter": 37764, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "time_since_restore": 395.66652154922485, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 13, "episode_reward_max": 759.6698385865025, "timestamp": 1557255784, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.502715394714254, "system_level_velocity_max": 18.959368873317292, "outflow_rate_min": 474.7461583219509, "outflow_rate_mean": 977.9894317786556, "outflow_rate_max": 1211.1703896103897, "cost2_min": -163.3647772117076, "system_level_velocity_mean": 11.40523463908825, "cost2_max": -18.08189132451791, "cost1_max": 392.4424785363043, "cost1_min": 30.087277220344323, "cost2_mean": -123.01958904895616, "cost1_mean": 280.3594293389993}, "episode_reward_mean": 540.737519074377}
{"date": "2019-05-07_19-03-32", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900470>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900390>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900630>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 568866, "time_this_iter_s": 28.21766996383667, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 46.77898394375455, "info": {"num_steps_trained": 568866, "update_time_ms": 9.909, "sample_time_ms": 17496.578, "grad_time_ms": 10373.349, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 6.233032703399658, "total_loss": 6.232248783111572, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001315914443694055, "entropy": 1.3522472381591797, "vf_explained_var": 0.8987642526626587, "kl": 0.005324060562998056}, "load_time_ms": 12.514, "num_steps_sampled": 568866}, "timesteps_since_restore": 568866, "time_total_s": 423.8841915130615, "episodes_total": 229, "done": false, "episode_len_mean": 680.63, "timesteps_this_iter": 40585, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "time_since_restore": 423.8841915130615, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 14, "episode_reward_max": 759.6698385865025, "timestamp": 1557255812, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.585088701181053, "system_level_velocity_max": 18.959368873317292, "outflow_rate_min": 474.7461583219509, "outflow_rate_mean": 1010.6300393804954, "outflow_rate_max": 1278.153798201798, "cost2_min": -166.91998627555708, "system_level_velocity_mean": 11.436562968168985, "cost2_max": -18.08189132451791, "cost1_max": 419.4612576574174, "cost1_min": 32.21483945224462, "cost2_mean": -128.93682325535, "cost1_mean": 286.79360776321465}, "episode_reward_mean": 559.5652442919225}
{"date": "2019-05-07_19-04-01", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efeb8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef860>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef9b0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 607500, "time_this_iter_s": 29.12821912765503, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 71.73946784078979, "info": {"num_steps_trained": 607500, "update_time_ms": 10.069, "sample_time_ms": 17361.137, "grad_time_ms": 10464.184, "default": {"cur_kl_coeff": 0.10000002384185791, "vf_loss": 7.436961650848389, "total_loss": 7.435214519500732, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002343643456697464, "entropy": 1.3404483795166016, "vf_explained_var": 0.8895897269248962, "kl": 0.005976763088256121}, "load_time_ms": 12.256, "num_steps_sampled": 607500}, "timesteps_since_restore": 607500, "time_total_s": 453.01241064071655, "episodes_total": 249, "done": false, "episode_len_mean": 687.25, "timesteps_this_iter": 38634, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "time_since_restore": 453.01241064071655, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 15, "episode_reward_max": 759.6698385865025, "timestamp": 1557255841, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.577325662316296, "system_level_velocity_max": 18.95567662303505, "outflow_rate_min": 539.3111299113036, "outflow_rate_mean": 1033.1460766139724, "outflow_rate_max": 1278.153798201798, "cost2_min": -166.91998627555708, "system_level_velocity_mean": 11.406098836235058, "cost2_max": -25.556988496969737, "cost1_max": 419.4612576574174, "cost1_min": 41.73782736496008, "cost2_mean": -131.9504821344941, "cost1_mean": 291.0654769186592}, "episode_reward_mean": 574.9955392654197}
{"date": "2019-05-07_19-04-28", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59052b0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905048>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905630>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 645076, "time_this_iter_s": 26.94968318939209, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 57.166040951499156, "info": {"num_steps_trained": 645076, "update_time_ms": 9.993, "sample_time_ms": 17246.818, "grad_time_ms": 10419.525, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 7.998676776885986, "total_loss": 7.997585296630859, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0017359171761199832, "entropy": 1.3256406784057617, "vf_explained_var": 0.905727744102478, "kl": 0.0064531113021075726}, "load_time_ms": 11.993, "num_steps_sampled": 645076}, "timesteps_since_restore": 645076, "time_total_s": 479.96209383010864, "episodes_total": 269, "done": false, "episode_len_mean": 680.72, "timesteps_this_iter": 37576, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "time_since_restore": 479.96209383010864, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 16, "episode_reward_max": 821.5904629023895, "timestamp": 1557255868, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.577325662316296, "system_level_velocity_max": 18.95567662303505, "outflow_rate_min": 454.30035479994586, "outflow_rate_mean": 1036.8722134167172, "outflow_rate_max": 1322.8834645354646, "cost2_min": -166.91998627555708, "system_level_velocity_mean": 11.526685896895339, "cost2_max": -20.94948640453068, "cost1_max": 419.4612576574174, "cost1_min": 30.360816421085673, "cost2_mean": -131.27895007705226, "cost1_mean": 289.67758003550966}, "episode_reward_mean": 579.4899133088525}
{"date": "2019-05-07_19-04-54", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905198>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905e80>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a90>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 682588, "time_this_iter_s": 25.636213779449463, "pid": 42991, "episodes_this_iter": 16, "episode_reward_min": 57.166040951499156, "info": {"num_steps_trained": 682588, "update_time_ms": 9.945, "sample_time_ms": 16971.706, "grad_time_ms": 10217.369, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 7.691354751586914, "total_loss": 7.688014984130859, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0042318375781178474, "entropy": 1.3213927745819092, "vf_explained_var": 0.8723127245903015, "kl": 0.008916310966014862}, "load_time_ms": 11.566, "num_steps_sampled": 682588}, "timesteps_since_restore": 682588, "time_total_s": 505.5983076095581, "episodes_total": 285, "done": false, "episode_len_mean": 687.08, "timesteps_this_iter": 37512, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "time_since_restore": 505.5983076095581, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 17, "episode_reward_max": 821.5904629023895, "timestamp": 1557255894, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.577325662316296, "system_level_velocity_max": 18.95567662303505, "outflow_rate_min": 454.30035479994586, "outflow_rate_mean": 1040.6643747272321, "outflow_rate_max": 1322.8834645354646, "cost2_min": -166.91998627555708, "system_level_velocity_mean": 11.402181800528071, "cost2_max": -20.94948640453068, "cost1_max": 419.4612576574174, "cost1_min": 30.360816421085673, "cost2_mean": -130.97123757485468, "cost1_mean": 290.2449444160251}, "episode_reward_mean": 582.7371752003639}
{"date": "2019-05-07_19-05-21", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900ef0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59008d0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900828>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 719580, "time_this_iter_s": 27.35564875602722, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 26.419502309653573, "info": {"num_steps_trained": 719580, "update_time_ms": 9.696, "sample_time_ms": 16989.627, "grad_time_ms": 10166.371, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 6.8587541580200195, "total_loss": 6.8560404777526855, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003495468758046627, "entropy": 1.3216418027877808, "vf_explained_var": 0.9041900038719177, "kl": 0.007817738689482212}, "load_time_ms": 11.12, "num_steps_sampled": 719580}, "timesteps_since_restore": 719580, "time_total_s": 532.9539563655853, "episodes_total": 303, "done": false, "episode_len_mean": 680.35, "timesteps_this_iter": 36992, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "time_since_restore": 532.9539563655853, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 18, "episode_reward_max": 821.5904629023895, "timestamp": 1557255921, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.577325662316296, "system_level_velocity_max": 18.95567662303505, "outflow_rate_min": 429.37507751805754, "outflow_rate_mean": 1034.9536300578575, "outflow_rate_max": 1322.8834645354646, "cost2_min": -166.91998627555708, "system_level_velocity_mean": 11.307031092519692, "cost2_max": -16.056133518377223, "cost1_max": 419.4612576574174, "cost1_min": 17.78267925629264, "cost2_mean": -127.95151403758955, "cost1_mean": 283.36669579771836}, "episode_reward_mean": 571.5759935868623}
{"date": "2019-05-07_19-05-49", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59054a8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905b38>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905860>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 757852, "time_this_iter_s": 27.513214111328125, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 26.419502309653573, "info": {"num_steps_trained": 757852, "update_time_ms": 9.758, "sample_time_ms": 17056.516, "grad_time_ms": 10163.524, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 7.317216396331787, "total_loss": 7.313721656799316, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004277224652469158, "entropy": 1.3269449472427368, "vf_explained_var": 0.8725431561470032, "kl": 0.00783065240830183}, "load_time_ms": 11.309, "num_steps_sampled": 757852}, "timesteps_since_restore": 757852, "time_total_s": 560.4671704769135, "episodes_total": 322, "done": false, "episode_len_mean": 680.35, "timesteps_this_iter": 38272, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "time_since_restore": 560.4671704769135, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 19, "episode_reward_max": 821.5904629023895, "timestamp": 1557255949, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 7.9564985996860145, "system_level_velocity_max": 18.95567662303505, "outflow_rate_min": 429.37507751805754, "outflow_rate_mean": 1029.9390237641512, "outflow_rate_max": 1322.8834645354646, "cost2_min": -155.85438809622025, "system_level_velocity_mean": 11.243376618563136, "cost2_max": -16.056133518377223, "cost1_max": 419.4612576574174, "cost1_min": 17.78267925629264, "cost2_mean": -122.80502915362669, "cost1_mean": 281.33360601808175}, "episode_reward_mean": 564.355993044092}
{"date": "2019-05-07_19-06-17", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050f0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59057f0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905f60>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 795771, "time_this_iter_s": 27.870662689208984, "pid": 42991, "episodes_this_iter": 16, "episode_reward_min": 26.419502309653573, "info": {"num_steps_trained": 795771, "update_time_ms": 9.793, "sample_time_ms": 17184.267, "grad_time_ms": 10234.633, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 7.184737682342529, "total_loss": 7.182768821716309, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0027953695971518755, "entropy": 1.2992407083511353, "vf_explained_var": 0.8829572796821594, "kl": 0.008273571729660034}, "load_time_ms": 11.22, "num_steps_sampled": 795771}, "timesteps_since_restore": 795771, "time_total_s": 588.3378331661224, "episodes_total": 338, "done": false, "episode_len_mean": 680.35, "timesteps_this_iter": 37919, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "time_since_restore": 588.3378331661224, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 20, "episode_reward_max": 821.5904629023895, "timestamp": 1557255977, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 7.9564985996860145, "system_level_velocity_max": 18.95567662303505, "outflow_rate_min": 429.37507751805754, "outflow_rate_mean": 1031.9144525593563, "outflow_rate_max": 1322.8834645354646, "cost2_min": -155.24665950457117, "system_level_velocity_mean": 11.165251763747245, "cost2_max": -16.056133518377223, "cost1_max": 411.67902592386235, "cost1_min": 17.78267925629264, "cost2_mean": -121.79870459357356, "cost1_mean": 279.26437983759666}, "episode_reward_mean": 562.1883811344213}
{"date": "2019-05-07_19-06-44", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905c18>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905cf8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905278>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 833499, "time_this_iter_s": 27.338687896728516, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 26.419502309653573, "info": {"num_steps_trained": 833499, "update_time_ms": 10.696, "sample_time_ms": 17107.705, "grad_time_ms": 10307.773, "default": {"cur_kl_coeff": 0.10000000149011612, "vf_loss": 7.527791500091553, "total_loss": 7.526156425476074, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002513351384550333, "entropy": 1.296797513961792, "vf_explained_var": 0.8768457770347595, "kl": 0.008787496015429497}, "load_time_ms": 11.242, "num_steps_sampled": 833499}, "timesteps_since_restore": 833499, "time_total_s": 615.676521062851, "episodes_total": 356, "done": false, "episode_len_mean": 686.74, "timesteps_this_iter": 37728, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "time_since_restore": 615.676521062851, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 21, "episode_reward_max": 821.5904629023895, "timestamp": 1557256004, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 7.942245640440034, "system_level_velocity_max": 18.920872460461453, "outflow_rate_min": 429.37507751805754, "outflow_rate_mean": 1038.387618231272, "outflow_rate_max": 1322.8834645354646, "cost2_min": -157.3442613735301, "system_level_velocity_mean": 11.023667646263016, "cost2_max": -16.056133518377223, "cost1_max": 411.67902592386235, "cost1_min": 17.78267925629264, "cost2_mean": -120.44344760506577, "cost1_mean": 280.113301532326}, "episode_reward_mean": 564.1149117241168}
{"date": "2019-05-07_19-07-13", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59004a8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fba58>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900a20>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 872101, "time_this_iter_s": 28.976714372634888, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 26.419502309653573, "info": {"num_steps_trained": 872101, "update_time_ms": 10.596, "sample_time_ms": 17207.394, "grad_time_ms": 10379.731, "default": {"cur_kl_coeff": 0.10000002384185791, "vf_loss": 8.02743148803711, "total_loss": 8.02556324005127, "cur_lr": 0.0005000000237487257, "policy_loss": -0.002643370535224676, "entropy": 1.2955366373062134, "vf_explained_var": 0.8852275609970093, "kl": 0.007752250414341688}, "load_time_ms": 11.311, "num_steps_sampled": 872101}, "timesteps_since_restore": 872101, "time_total_s": 644.6532354354858, "episodes_total": 375, "done": false, "episode_len_mean": 686.63, "timesteps_this_iter": 38602, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "time_since_restore": 644.6532354354858, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 22, "episode_reward_max": 711.6066129857413, "timestamp": 1557256033, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 7.942245640440034, "system_level_velocity_max": 18.920872460461453, "outflow_rate_min": 429.37507751805754, "outflow_rate_mean": 1035.9195743248295, "outflow_rate_max": 1271.8403996003997, "cost2_min": -157.3442613735301, "system_level_velocity_mean": 11.074500988468431, "cost2_max": -16.056133518377223, "cost1_max": 363.0212117564266, "cost1_min": 17.78267925629264, "cost2_mean": -119.25026200063712, "cost1_mean": 281.62952039466074}, "episode_reward_mean": 561.1005967970973}
{"date": "2019-05-07_19-07-42", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef898>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efa58>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef860>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 910466, "time_this_iter_s": 28.5828697681427, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 36.026621386429284, "info": {"num_steps_trained": 910466, "update_time_ms": 10.677, "sample_time_ms": 17232.234, "grad_time_ms": 10411.396, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 9.449921607971191, "total_loss": 9.446928977966309, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003967303317040205, "entropy": 1.3032840490341187, "vf_explained_var": 0.8505240082740784, "kl": 0.009743529371917248}, "load_time_ms": 11.598, "num_steps_sampled": 910466}, "timesteps_since_restore": 910466, "time_total_s": 673.2361052036285, "episodes_total": 396, "done": false, "episode_len_mean": 680.23, "timesteps_this_iter": 38365, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "time_since_restore": 673.2361052036285, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 23, "episode_reward_max": 711.6066129857413, "timestamp": 1557256062, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 7.942245640440034, "system_level_velocity_max": 18.961121745095202, "outflow_rate_min": 441.79929748631736, "outflow_rate_mean": 1029.05387690653, "outflow_rate_max": 1231.4824267732267, "cost2_min": -157.3442613735301, "system_level_velocity_mean": 11.128549030414085, "cost2_max": -18.883347712035746, "cost1_max": 358.13222254375745, "cost1_min": 21.46307716306783, "cost2_mean": -119.25766107322261, "cost1_mean": 278.9838914257366}, "episode_reward_mean": 560.7824587044934}
{"date": "2019-05-07_19-08-11", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905198>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905358>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905898>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 947890, "time_this_iter_s": 29.246735095977783, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 36.026621386429284, "info": {"num_steps_trained": 947890, "update_time_ms": 11.67, "sample_time_ms": 17278.515, "grad_time_ms": 10466.789, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.5881986618042, "total_loss": 8.585118293762207, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0040290444158017635, "entropy": 1.2918784618377686, "vf_explained_var": 0.8738065361976624, "kl": 0.00948773231357336}, "load_time_ms": 11.483, "num_steps_sampled": 947890}, "timesteps_since_restore": 947890, "time_total_s": 702.4828402996063, "episodes_total": 415, "done": false, "episode_len_mean": 680.23, "timesteps_this_iter": 37424, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "time_since_restore": 702.4828402996063, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 24, "episode_reward_max": 711.6066129857413, "timestamp": 1557256091, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 7.942245640440034, "system_level_velocity_max": 18.961121745095202, "outflow_rate_min": 441.79929748631736, "outflow_rate_mean": 1035.7191080953414, "outflow_rate_max": 1231.4824267732267, "cost2_min": -157.3442613735301, "system_level_velocity_mean": 11.253750803193588, "cost2_max": -18.883347712035746, "cost1_max": 358.13222254375745, "cost1_min": 21.46307716306783, "cost2_mean": -120.27479540222677, "cost1_mean": 282.349591495064}, "episode_reward_mean": 569.8938559749953}
{"date": "2019-05-07_19-08-38", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905f28>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59057b8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 985272, "time_this_iter_s": 27.26232933998108, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 36.026621386429284, "info": {"num_steps_trained": 985272, "update_time_ms": 11.699, "sample_time_ms": 17157.823, "grad_time_ms": 10401.126, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.33586597442627, "total_loss": 8.333427429199219, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003385135205462575, "entropy": 1.2852745056152344, "vf_explained_var": 0.8675519227981567, "kl": 0.009468560107052326}, "load_time_ms": 11.195, "num_steps_sampled": 985272}, "timesteps_since_restore": 985272, "time_total_s": 729.7451696395874, "episodes_total": 433, "done": false, "episode_len_mean": 680.23, "timesteps_this_iter": 37382, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "time_since_restore": 729.7451696395874, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 25, "episode_reward_max": 711.6066129857413, "timestamp": 1557256118, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 7.942245640440034, "system_level_velocity_max": 18.961121745095202, "outflow_rate_min": 441.79929748631736, "outflow_rate_mean": 1044.6725505848515, "outflow_rate_max": 1231.4824267732267, "cost2_min": -163.18415536664332, "system_level_velocity_mean": 11.30957036275114, "cost2_max": -18.883347712035746, "cost1_max": 358.13222254375745, "cost1_min": 21.46307716306783, "cost2_mean": -121.83029749857069, "cost1_mean": 283.75948055272033}, "episode_reward_mean": 575.2377975008957}
{"date": "2019-05-07_19-09-05", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900b38>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900be0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900748>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1023031, "time_this_iter_s": 26.909543991088867, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 36.026621386429284, "info": {"num_steps_trained": 1023031, "update_time_ms": 11.767, "sample_time_ms": 17035.78, "grad_time_ms": 10518.624, "default": {"cur_kl_coeff": 0.10000000149011612, "vf_loss": 7.521483421325684, "total_loss": 7.519163608551025, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0032223572488874197, "entropy": 1.2766904830932617, "vf_explained_var": 0.8801451325416565, "kl": 0.009022325277328491}, "load_time_ms": 11.356, "num_steps_sampled": 1023031}, "timesteps_since_restore": 1023031, "time_total_s": 756.6547136306763, "episodes_total": 451, "done": false, "episode_len_mean": 680.23, "timesteps_this_iter": 37759, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "time_since_restore": 756.6547136306763, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 26, "episode_reward_max": 710.9694690982806, "timestamp": 1557256145, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.982676539203439, "system_level_velocity_max": 18.961121745095202, "outflow_rate_min": 441.79929748631736, "outflow_rate_mean": 1048.5123842911455, "outflow_rate_max": 1229.7271672327672, "cost2_min": -168.14874384147777, "system_level_velocity_mean": 11.36033129285766, "cost2_max": -18.883347712035746, "cost1_max": 358.13222254375745, "cost1_min": 21.46307716306783, "cost2_mean": -124.2305339258253, "cost1_mean": 285.1690569885112}, "episode_reward_mean": 576.9530864831864}
{"date": "2019-05-07_19-09-33", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59119b0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911940>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911978>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1060124, "time_this_iter_s": 27.21635627746582, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 36.026621386429284, "info": {"num_steps_trained": 1060124, "update_time_ms": 11.883, "sample_time_ms": 17140.081, "grad_time_ms": 10570.453, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 9.13349723815918, "total_loss": 9.130772590637207, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0036993722897022963, "entropy": 1.2611629962921143, "vf_explained_var": 0.8703491687774658, "kl": 0.009744426235556602}, "load_time_ms": 11.754, "num_steps_sampled": 1060124}, "timesteps_since_restore": 1060124, "time_total_s": 783.8710699081421, "episodes_total": 469, "done": false, "episode_len_mean": 680.37, "timesteps_this_iter": 37093, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "time_since_restore": 783.8710699081421, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 27, "episode_reward_max": 710.9694690982806, "timestamp": 1557256173, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 8.982676539203439, "system_level_velocity_max": 18.961121745095202, "outflow_rate_min": 441.79929748631736, "outflow_rate_mean": 1052.250178068872, "outflow_rate_max": 1229.7271672327672, "cost2_min": -168.14874384147777, "system_level_velocity_mean": 11.311236977589878, "cost2_max": -18.883347712035746, "cost1_max": 350.97969171198054, "cost1_min": 21.46307716306783, "cost2_mean": -125.56294198955686, "cost1_mean": 283.7716260719503}, "episode_reward_mean": 579.2326425173364}
{"date": "2019-05-07_19-10-02", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f9b0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fc88>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fe80>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1098499, "time_this_iter_s": 28.964744567871094, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 46.06598933020587, "info": {"num_steps_trained": 1098499, "update_time_ms": 11.913, "sample_time_ms": 17212.69, "grad_time_ms": 10658.534, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 9.150834083557129, "total_loss": 9.149087905883789, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0027351491153240204, "entropy": 1.2123392820358276, "vf_explained_var": 0.8605283498764038, "kl": 0.009871792048215866}, "load_time_ms": 11.817, "num_steps_sampled": 1098499}, "timesteps_since_restore": 1098499, "time_total_s": 812.8358144760132, "episodes_total": 488, "done": false, "episode_len_mean": 680.5, "timesteps_this_iter": 38375, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "time_since_restore": 812.8358144760132, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 28, "episode_reward_max": 710.9694690982806, "timestamp": 1557256202, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.00691230415, "system_level_velocity_max": 19.62858108657588, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1060.299585570443, "outflow_rate_max": 1229.7271672327672, "cost2_min": -168.14874384147777, "system_level_velocity_mean": 11.351601523398223, "cost2_max": -19.37363263765326, "cost1_max": 350.97969171198054, "cost1_min": 29.818938224711793, "cost2_mean": -126.11276941947666, "cost1_mean": 284.5076829219258}, "episode_reward_mean": 582.368910759968}
{"date": "2019-05-07_19-10-30", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f2e8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f278>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f0b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1135260, "time_this_iter_s": 28.16972589492798, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 46.06598933020587, "info": {"num_steps_trained": 1135260, "update_time_ms": 11.776, "sample_time_ms": 17303.618, "grad_time_ms": 10633.44, "default": {"cur_kl_coeff": 0.10000000149011612, "vf_loss": 10.114269256591797, "total_loss": 10.111116409301758, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004205865319818258, "entropy": 1.1981656551361084, "vf_explained_var": 0.8776564002037048, "kl": 0.010516463778913021}, "load_time_ms": 11.85, "num_steps_sampled": 1135260}, "timesteps_since_restore": 1135260, "time_total_s": 841.0055403709412, "episodes_total": 507, "done": false, "episode_len_mean": 680.54, "timesteps_this_iter": 36761, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "time_since_restore": 841.0055403709412, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 29, "episode_reward_max": 710.9694690982806, "timestamp": 1557256230, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.00691230415, "system_level_velocity_max": 19.62858108657588, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1070.1491695296431, "outflow_rate_max": 1229.7271672327672, "cost2_min": -168.14874384147777, "system_level_velocity_mean": 11.318467514256925, "cost2_max": -19.37363263765326, "cost1_max": 360.62594558914003, "cost1_min": 29.818938224711793, "cost2_mean": -127.34770114247159, "cost1_mean": 283.61639842694234}, "episode_reward_mean": 586.0730368208744}
{"date": "2019-05-07_19-10-58", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905fd0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905ba8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a20>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1172376, "time_this_iter_s": 28.392847299575806, "pid": 42991, "episodes_this_iter": 17, "episode_reward_min": 46.06598933020587, "info": {"num_steps_trained": 1172376, "update_time_ms": 11.617, "sample_time_ms": 17356.93, "grad_time_ms": 10631.936, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.055880546569824, "total_loss": 8.051663398742676, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005282432306557894, "entropy": 1.2191369533538818, "vf_explained_var": 0.905064582824707, "kl": 0.010654618963599205}, "load_time_ms": 12.117, "num_steps_sampled": 1172376}, "timesteps_since_restore": 1172376, "time_total_s": 869.398387670517, "episodes_total": 524, "done": false, "episode_len_mean": 680.54, "timesteps_this_iter": 37116, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "time_since_restore": 869.398387670517, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 30, "episode_reward_max": 710.9694690982806, "timestamp": 1557256258, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.00691230415, "system_level_velocity_max": 19.62858108657588, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1077.2955638952774, "outflow_rate_max": 1236.3007512487513, "cost2_min": -168.14874384147777, "system_level_velocity_mean": 11.468671977168077, "cost2_max": -19.37363263765326, "cost1_max": 384.62732857967393, "cost1_min": 29.818938224711793, "cost2_mean": -128.05369517769793, "cost1_mean": 287.3712118515048}, "episode_reward_mean": 587.3266724243408}
{"date": "2019-05-07_19-11-26", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911978>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911d30>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911a90>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1210134, "time_this_iter_s": 27.486873626708984, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 46.06598933020587, "info": {"num_steps_trained": 1210134, "update_time_ms": 10.636, "sample_time_ms": 17393.414, "grad_time_ms": 10612.233, "default": {"cur_kl_coeff": 0.10000000149011612, "vf_loss": 10.248756408691406, "total_loss": 10.245124816894531, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004651993978768587, "entropy": 1.2162178754806519, "vf_explained_var": 0.8802579641342163, "kl": 0.010211351327598095}, "load_time_ms": 12.476, "num_steps_sampled": 1210134}, "timesteps_since_restore": 1210134, "time_total_s": 896.885261297226, "episodes_total": 545, "done": false, "episode_len_mean": 674.15, "timesteps_this_iter": 37758, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "time_since_restore": 896.885261297226, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 31, "episode_reward_max": 710.7945583140194, "timestamp": 1557256286, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.00691230415, "system_level_velocity_max": 19.62858108657588, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1076.6956936072563, "outflow_rate_max": 1236.3007512487513, "cost2_min": -164.24772158683967, "system_level_velocity_mean": 11.55964445278219, "cost2_max": -19.37363263765326, "cost1_max": 384.62732857967393, "cost1_min": 29.818938224711793, "cost2_mean": -126.3827948774325, "cost1_mean": 284.99744186271005}, "episode_reward_mean": 577.6933540247827}
{"date": "2019-05-07_19-11-53", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fc50>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fcc0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f860>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1247340, "time_this_iter_s": 27.464943170547485, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 46.06598933020587, "info": {"num_steps_trained": 1247340, "update_time_ms": 10.547, "sample_time_ms": 17266.599, "grad_time_ms": 10589.451, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 8.6602144241333, "total_loss": 8.6567964553833, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0045630792155861855, "entropy": 1.203270435333252, "vf_explained_var": 0.8896711468696594, "kl": 0.011455024592578411}, "load_time_ms": 12.628, "num_steps_sampled": 1247340}, "timesteps_since_restore": 1247340, "time_total_s": 924.3502044677734, "episodes_total": 563, "done": false, "episode_len_mean": 680.65, "timesteps_this_iter": 37206, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "time_since_restore": 924.3502044677734, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 32, "episode_reward_max": 710.7945583140194, "timestamp": 1557256313, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.00691230415, "system_level_velocity_max": 19.62858108657588, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1094.804013318842, "outflow_rate_max": 1236.3007512487513, "cost2_min": -164.24772158683967, "system_level_velocity_mean": 11.626338113927472, "cost2_max": -19.37363263765326, "cost1_max": 384.62732857967393, "cost1_min": 29.818938224711793, "cost2_mean": -126.9004532513391, "cost1_mean": 291.5222887480565}, "episode_reward_mean": 587.3430116804178}
{"date": "2019-05-07_19-12-21", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f128>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f470>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f438>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1284650, "time_this_iter_s": 27.84304904937744, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 46.31845459245031, "info": {"num_steps_trained": 1284650, "update_time_ms": 10.491, "sample_time_ms": 17266.112, "grad_time_ms": 10515.448, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.459442138671875, "total_loss": 8.454581260681152, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005857563577592373, "entropy": 1.183873176574707, "vf_explained_var": 0.9180620908737183, "kl": 0.009967283345758915}, "load_time_ms": 12.631, "num_steps_sampled": 1284650}, "timesteps_since_restore": 1284650, "time_total_s": 952.1932535171509, "episodes_total": 584, "done": false, "episode_len_mean": 680.65, "timesteps_this_iter": 37310, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "time_since_restore": 952.1932535171509, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 33, "episode_reward_max": 710.7945583140194, "timestamp": 1557256341, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.308086737527574, "system_level_velocity_max": 18.83166229145471, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1105.9619900381228, "outflow_rate_max": 1236.3007512487513, "cost2_min": -164.24772158683967, "system_level_velocity_mean": 11.761649354305208, "cost2_max": -19.194055380368916, "cost1_max": 384.62732857967393, "cost1_min": 28.49896123754037, "cost2_mean": -126.94090311321433, "cost1_mean": 295.42572527440234}, "episode_reward_mean": 589.7089738897035}
{"date": "2019-05-07_19-12-48", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59116a0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59112b0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59115f8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1321021, "time_this_iter_s": 27.010626792907715, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 46.31845459245031, "info": {"num_steps_trained": 1321021, "update_time_ms": 9.726, "sample_time_ms": 17219.905, "grad_time_ms": 10340.511, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 9.293647766113281, "total_loss": 9.290534973144531, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004248430952429771, "entropy": 1.1701023578643799, "vf_explained_var": 0.903482973575592, "kl": 0.011356967501342297}, "load_time_ms": 12.553, "num_steps_sampled": 1321021}, "timesteps_since_restore": 1321021, "time_total_s": 979.2038803100586, "episodes_total": 604, "done": false, "episode_len_mean": 687.04, "timesteps_this_iter": 36371, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "time_since_restore": 979.2038803100586, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 34, "episode_reward_max": 710.7945583140194, "timestamp": 1557256368, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.29851597581726, "system_level_velocity_max": 18.83166229145471, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1123.7798899486522, "outflow_rate_max": 1256.4773398601399, "cost2_min": -164.24772158683967, "system_level_velocity_mean": 11.806397481509546, "cost2_max": -19.194055380368916, "cost1_max": 413.86205646036046, "cost1_min": 28.49896123754037, "cost2_mean": -127.3144393978757, "cost1_mean": 301.2437742035117}, "episode_reward_mean": 592.0180408952647}
{"date": "2019-05-07_19-13-15", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fc18>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590ff60>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fbe0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1357086, "time_this_iter_s": 26.889793395996094, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 46.31845459245031, "info": {"num_steps_trained": 1357086, "update_time_ms": 9.627, "sample_time_ms": 17227.796, "grad_time_ms": 10295.333, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 9.444766998291016, "total_loss": 9.441926956176758, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0038054955657571554, "entropy": 1.184385061264038, "vf_explained_var": 0.9039260149002075, "kl": 0.009646553546190262}, "load_time_ms": 13.125, "num_steps_sampled": 1357086}, "timesteps_since_restore": 1357086, "time_total_s": 1006.0936737060547, "episodes_total": 622, "done": false, "episode_len_mean": 687.04, "timesteps_this_iter": 36065, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "time_since_restore": 1006.0936737060547, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 35, "episode_reward_max": 710.7945583140194, "timestamp": 1557256395, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.29851597581726, "system_level_velocity_max": 18.83166229145471, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1121.7128777009, "outflow_rate_max": 1256.4773398601399, "cost2_min": -164.24772158683967, "system_level_velocity_mean": 11.797444221671682, "cost2_max": -19.194055380368916, "cost1_max": 419.94461905618516, "cost1_min": 28.49896123754037, "cost2_mean": -125.6062975918566, "cost1_mean": 301.06096278857717}, "episode_reward_mean": 588.4410281775134}
{"date": "2019-05-07_19-13-42", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f6d8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f128>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f710>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1393980, "time_this_iter_s": 27.118587970733643, "pid": 42991, "episodes_this_iter": 16, "episode_reward_min": 46.31845459245031, "info": {"num_steps_trained": 1393980, "update_time_ms": 9.795, "sample_time_ms": 17410.954, "grad_time_ms": 10131.332, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 7.348417282104492, "total_loss": 7.3455376625061035, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003738350234925747, "entropy": 1.174709677696228, "vf_explained_var": 0.9095535278320312, "kl": 0.008587072603404522}, "load_time_ms": 13.156, "num_steps_sampled": 1393980}, "timesteps_since_restore": 1393980, "time_total_s": 1033.2122616767883, "episodes_total": 638, "done": false, "episode_len_mean": 693.43, "timesteps_this_iter": 36894, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "time_since_restore": 1033.2122616767883, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 36, "episode_reward_max": 752.4712484537531, "timestamp": 1557256422, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.29851597581726, "system_level_velocity_max": 18.83166229145471, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1131.0583741068033, "outflow_rate_max": 1310.1477122877125, "cost2_min": -152.78509192607268, "system_level_velocity_mean": 11.754328996615975, "cost2_max": -19.194055380368916, "cost1_max": 419.94461905618516, "cost1_min": 28.49896123754037, "cost2_mean": -126.20707853099533, "cost1_mean": 304.02549525216295}, "episode_reward_mean": 595.1341143157476}
{"date": "2019-05-07_19-14-10", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f978>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fd30>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fe80>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1431003, "time_this_iter_s": 27.898374795913696, "pid": 42991, "episodes_this_iter": 17, "episode_reward_min": 46.31845459245031, "info": {"num_steps_trained": 1431003, "update_time_ms": 9.874, "sample_time_ms": 17514.908, "grad_time_ms": 10096.043, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 7.857246398925781, "total_loss": 7.853029251098633, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005178456660360098, "entropy": 1.1720095872879028, "vf_explained_var": 0.9198361039161682, "kl": 0.009615710005164146}, "load_time_ms": 13.106, "num_steps_sampled": 1431003}, "timesteps_since_restore": 1431003, "time_total_s": 1061.110636472702, "episodes_total": 655, "done": false, "episode_len_mean": 693.43, "timesteps_this_iter": 37023, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "time_since_restore": 1061.110636472702, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 37, "episode_reward_max": 752.4712484537531, "timestamp": 1557256450, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.29851597581726, "system_level_velocity_max": 18.83166229145471, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1136.8732840368732, "outflow_rate_max": 1310.1477122877125, "cost2_min": -156.91413177232474, "system_level_velocity_mean": 11.841381424893438, "cost2_max": -19.194055380368916, "cost1_max": 419.94461905618516, "cost1_min": 28.49896123754037, "cost2_mean": -126.73847281506113, "cost1_mean": 306.5204960996849}, "episode_reward_mean": 596.9372282452347}
{"date": "2019-05-07_19-14-39", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59116a0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911978>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911fd0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1469130, "time_this_iter_s": 28.41166639328003, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 46.31845459245031, "info": {"num_steps_trained": 1469130, "update_time_ms": 10.062, "sample_time_ms": 17534.911, "grad_time_ms": 10019.949, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 8.670443534851074, "total_loss": 8.667253494262695, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004217434208840132, "entropy": 1.163779616355896, "vf_explained_var": 0.9134339690208435, "kl": 0.010268903337419033}, "load_time_ms": 13.229, "num_steps_sampled": 1469130}, "timesteps_since_restore": 1469130, "time_total_s": 1089.522302865982, "episodes_total": 675, "done": false, "episode_len_mean": 693.43, "timesteps_this_iter": 38127, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "time_since_restore": 1089.522302865982, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 38, "episode_reward_max": 752.4712484537531, "timestamp": 1557256479, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.29851597581726, "system_level_velocity_max": 18.83166229145471, "outflow_rate_min": 467.3018354555702, "outflow_rate_mean": 1138.8430479729373, "outflow_rate_max": 1310.1477122877125, "cost2_min": -156.91413177232474, "system_level_velocity_mean": 11.930192905495323, "cost2_max": -19.194055380368916, "cost1_max": 419.94461905618516, "cost1_min": 28.49896123754037, "cost2_mean": -127.05989106843987, "cost1_mean": 308.7274956630822}, "episode_reward_mean": 596.6917302684915}
{"date": "2019-05-07_19-15-06", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f940>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fcc0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f898>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1505723, "time_this_iter_s": 27.24669885635376, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 509.50693132909316, "info": {"num_steps_trained": 1505723, "update_time_ms": 10.296, "sample_time_ms": 17476.045, "grad_time_ms": 9986.008, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 9.93313980102539, "total_loss": 9.930298805236816, "cur_lr": 0.0005000000237487257, "policy_loss": -0.003979786764830351, "entropy": 1.1535718441009521, "vf_explained_var": 0.9074651598930359, "kl": 0.011384006589651108}, "load_time_ms": 13.07, "num_steps_sampled": 1505723}, "timesteps_since_restore": 1505723, "time_total_s": 1116.7690017223358, "episodes_total": 694, "done": false, "episode_len_mean": 700.0, "timesteps_this_iter": 36593, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "time_since_restore": 1116.7690017223358, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 39, "episode_reward_max": 752.4712484537531, "timestamp": 1557256506, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.627232163540775, "system_level_velocity_max": 15.800778000755376, "outflow_rate_min": 980.4191792207794, "outflow_rate_mean": 1149.1011164075926, "outflow_rate_max": 1310.1477122877125, "cost2_min": -156.91413177232474, "system_level_velocity_mean": 12.014517067889956, "cost2_max": -98.07186290540517, "cost1_max": 419.94461905618516, "cost1_min": 242.19237170214763, "cost2_mean": -130.23821140563135, "cost1_mean": 315.6582009637052}, "episode_reward_mean": 606.2946951190629}
{"date": "2019-05-07_19-15-33", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911780>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911438>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59117b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1541864, "time_this_iter_s": 26.690151691436768, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 513.7723562355869, "info": {"num_steps_trained": 1541864, "update_time_ms": 10.476, "sample_time_ms": 17430.136, "grad_time_ms": 9862.18, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.899438858032227, "total_loss": 8.895393371582031, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004997491370886564, "entropy": 1.1484036445617676, "vf_explained_var": 0.926941990852356, "kl": 0.009514355100691319}, "load_time_ms": 12.763, "num_steps_sampled": 1541864}, "timesteps_since_restore": 1541864, "time_total_s": 1143.4591534137726, "episodes_total": 713, "done": false, "episode_len_mean": 700.0, "timesteps_this_iter": 36141, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "time_since_restore": 1143.4591534137726, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 40, "episode_reward_max": 752.4712484537531, "timestamp": 1557256533, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.627232163540775, "system_level_velocity_max": 15.262124495807932, "outflow_rate_min": 980.4191792207794, "outflow_rate_mean": 1144.065505022977, "outflow_rate_max": 1310.1477122877125, "cost2_min": -156.91413177232474, "system_level_velocity_mean": 12.033971120841258, "cost2_max": -98.07186290540517, "cost1_max": 403.1036456633978, "cost1_min": 242.19237170214763, "cost2_mean": -130.18291764414658, "cost1_mean": 315.6529026577082}, "episode_reward_mean": 604.6976728424314}
{"date": "2019-05-07_19-16-01", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59224a8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905240>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59059e8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1578447, "time_this_iter_s": 28.785856246948242, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 53.093624500736055, "info": {"num_steps_trained": 1578447, "update_time_ms": 10.371, "sample_time_ms": 17558.064, "grad_time_ms": 9865.514, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_loss": 9.459349632263184, "total_loss": 9.456145286560059, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004185552708804607, "entropy": 1.1432371139526367, "vf_explained_var": 0.9157044291496277, "kl": 0.009816444478929043}, "load_time_ms": 12.343, "num_steps_sampled": 1578447}, "timesteps_since_restore": 1578447, "time_total_s": 1172.2450096607208, "episodes_total": 733, "done": false, "episode_len_mean": 693.52, "timesteps_this_iter": 36583, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "time_since_restore": 1172.2450096607208, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 41, "episode_reward_max": 722.5005038430447, "timestamp": 1557256561, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.499410224103043, "system_level_velocity_max": 17.897330448250816, "outflow_rate_min": 486.94475178822216, "outflow_rate_mean": 1143.30043135005, "outflow_rate_max": 1295.9810113886113, "cost2_min": -156.91413177232474, "system_level_velocity_mean": 12.268201515239289, "cost2_max": -23.166567902369774, "cost1_max": 403.1036456633978, "cost1_min": 34.61333180129112, "cost2_mean": -129.56350042911257, "cost1_mean": 317.8672962139346}, "episode_reward_mean": 604.0402395393116}
{"date": "2019-05-07_19-16-26", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f438>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911160>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f7f0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1614092, "time_this_iter_s": 24.61445450782776, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 53.093624500736055, "info": {"num_steps_trained": 1614092, "update_time_ms": 10.452, "sample_time_ms": 17449.725, "grad_time_ms": 9689.424, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 9.195972442626953, "total_loss": 9.191932678222656, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005132450722157955, "entropy": 1.1209973096847534, "vf_explained_var": 0.9174981713294983, "kl": 0.010925541631877422}, "load_time_ms": 12.207, "num_steps_sampled": 1614092}, "timesteps_since_restore": 1614092, "time_total_s": 1196.8594641685486, "episodes_total": 752, "done": false, "episode_len_mean": 693.52, "timesteps_this_iter": 35645, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "time_since_restore": 1196.8594641685486, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 42, "episode_reward_max": 722.5005038430447, "timestamp": 1557256586, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.499410224103043, "system_level_velocity_max": 17.897330448250816, "outflow_rate_min": 486.94475178822216, "outflow_rate_mean": 1150.796417304096, "outflow_rate_max": 1295.9810113886113, "cost2_min": -156.04290797788215, "system_level_velocity_mean": 12.346356062039735, "cost2_max": -23.166567902369774, "cost1_max": 403.1036456633978, "cost1_min": 34.61333180129112, "cost2_mean": -128.2296771014756, "cost1_mean": 320.01545459996964}, "episode_reward_mean": 602.8079361598842}
{"date": "2019-05-07_19-16-51", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911d68>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59112e8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59119e8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1650894, "time_this_iter_s": 24.71006751060486, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 53.093624500736055, "info": {"num_steps_trained": 1650894, "update_time_ms": 10.542, "sample_time_ms": 17285.261, "grad_time_ms": 9542.678, "default": {"cur_kl_coeff": 0.10000000149011612, "vf_loss": 7.634673595428467, "total_loss": 7.63016414642334, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005583466496318579, "entropy": 1.161488652229309, "vf_explained_var": 0.924322783946991, "kl": 0.010731074027717113}, "load_time_ms": 12.185, "num_steps_sampled": 1650894}, "timesteps_since_restore": 1650894, "time_total_s": 1221.5695316791534, "episodes_total": 771, "done": false, "episode_len_mean": 693.52, "timesteps_this_iter": 36802, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "time_since_restore": 1221.5695316791534, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 43, "episode_reward_max": 718.0018990299675, "timestamp": 1557256611, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.499410224103043, "system_level_velocity_max": 17.897330448250816, "outflow_rate_min": 486.94475178822216, "outflow_rate_mean": 1148.4068167926073, "outflow_rate_max": 1295.9810113886113, "cost2_min": -156.04290797788215, "system_level_velocity_mean": 12.364063462999379, "cost2_max": -23.166567902369774, "cost1_max": 403.1036456633978, "cost1_min": 34.61333180129112, "cost2_mean": -126.90289256773238, "cost1_mean": 320.4841213954625}, "episode_reward_mean": 597.1624652568853}
{"date": "2019-05-07_19-17-15", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922c18>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900240>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922668>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1686975, "time_this_iter_s": 24.713775634765625, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 50.83008129167601, "info": {"num_steps_trained": 1686975, "update_time_ms": 10.167, "sample_time_ms": 17162.741, "grad_time_ms": 9435.249, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 10.32512378692627, "total_loss": 10.321158409118652, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0050499956123530865, "entropy": 1.1368398666381836, "vf_explained_var": 0.911221981048584, "kl": 0.010845349170267582}, "load_time_ms": 12.303, "num_steps_sampled": 1686975}, "timesteps_since_restore": 1686975, "time_total_s": 1246.283307313919, "episodes_total": 791, "done": false, "episode_len_mean": 687.03, "timesteps_this_iter": 36081, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "time_since_restore": 1246.283307313919, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 44, "episode_reward_max": 718.0018990299675, "timestamp": 1557256635, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.499410224103043, "system_level_velocity_max": 18.846528858012487, "outflow_rate_min": 486.94475178822216, "outflow_rate_mean": 1139.5482644791787, "outflow_rate_max": 1313.6230805194807, "cost2_min": -150.52715521806235, "system_level_velocity_mean": 12.347163377172887, "cost2_max": -23.166567902369774, "cost1_max": 401.8800698497005, "cost1_min": 34.36382705093663, "cost2_mean": -124.22869550156837, "cost1_mean": 315.4491982141191}, "episode_reward_mean": 588.9801201994046}
{"date": "2019-05-07_19-17-42", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922e48>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922048>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922cf8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1723448, "time_this_iter_s": 26.188539028167725, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 35.22264632640071, "info": {"num_steps_trained": 1723448, "update_time_ms": 9.859, "sample_time_ms": 17204.439, "grad_time_ms": 9323.634, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 11.413543701171875, "total_loss": 11.408720970153809, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006197934504598379, "entropy": 1.1278142929077148, "vf_explained_var": 0.9114517569541931, "kl": 0.01375562883913517}, "load_time_ms": 12.262, "num_steps_sampled": 1723448}, "timesteps_since_restore": 1723448, "time_total_s": 1272.4718463420868, "episodes_total": 810, "done": false, "episode_len_mean": 680.32, "timesteps_this_iter": 36473, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "time_since_restore": 1272.4718463420868, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 45, "episode_reward_max": 757.0817789512678, "timestamp": 1557256662, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.499410224103043, "system_level_velocity_max": 18.846528858012487, "outflow_rate_min": 436.58172461029073, "outflow_rate_mean": 1130.172928078928, "outflow_rate_max": 1313.6230805194807, "cost2_min": -150.52715521806235, "system_level_velocity_mean": 12.551560538412367, "cost2_max": -14.616533263706188, "cost1_max": 401.8800698497005, "cost1_min": 19.046893851652822, "cost2_mean": -121.49646819380794, "cost1_mean": 316.3421009705487}, "episode_reward_mean": 587.8654655538411}
{"date": "2019-05-07_19-18-07", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900860>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900630>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900a20>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1759691, "time_this_iter_s": 25.59085988998413, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 35.22264632640071, "info": {"num_steps_trained": 1759691, "update_time_ms": 9.58, "sample_time_ms": 17111.172, "grad_time_ms": 9266.795, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.748445510864258, "total_loss": 8.742698669433594, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007025218103080988, "entropy": 1.1509586572647095, "vf_explained_var": 0.9335237741470337, "kl": 0.012773043476045132}, "load_time_ms": 12.184, "num_steps_sampled": 1759691}, "timesteps_since_restore": 1759691, "time_total_s": 1298.062706232071, "episodes_total": 828, "done": false, "episode_len_mean": 680.31, "timesteps_this_iter": 36243, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "time_since_restore": 1298.062706232071, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 46, "episode_reward_max": 757.0817789512678, "timestamp": 1557256687, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.660751977155094, "system_level_velocity_max": 18.846528858012487, "outflow_rate_min": 436.58172461029073, "outflow_rate_mean": 1130.3300575651226, "outflow_rate_max": 1313.6230805194807, "cost2_min": -150.52715521806235, "system_level_velocity_mean": 12.490590395741885, "cost2_max": -14.616533263706188, "cost1_max": 401.8800698497005, "cost1_min": 19.046893851652822, "cost2_mean": -122.71241454658465, "cost1_mean": 314.9060666052838}, "episode_reward_mean": 586.4232776644906}
{"date": "2019-05-07_19-18-32", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f940>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590fa20>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f710>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1796743, "time_this_iter_s": 24.967209100723267, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 35.22264632640071, "info": {"num_steps_trained": 1796743, "update_time_ms": 9.248, "sample_time_ms": 16920.63, "grad_time_ms": 9165.253, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.908885955810547, "total_loss": 8.902579307556152, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007618516217917204, "entropy": 1.142821192741394, "vf_explained_var": 0.9401006698608398, "kl": 0.013133070431649685}, "load_time_ms": 12.13, "num_steps_sampled": 1796743}, "timesteps_since_restore": 1796743, "time_total_s": 1323.0299153327942, "episodes_total": 847, "done": false, "episode_len_mean": 680.31, "timesteps_this_iter": 37052, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "time_since_restore": 1323.0299153327942, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 47, "episode_reward_max": 757.0817789512678, "timestamp": 1557256712, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.660751977155094, "system_level_velocity_max": 18.846528858012487, "outflow_rate_min": 436.58172461029073, "outflow_rate_mean": 1121.200047866821, "outflow_rate_max": 1313.6230805194807, "cost2_min": -150.52715521806235, "system_level_velocity_mean": 12.475031278123748, "cost2_max": -14.616533263706188, "cost1_max": 401.8800698497005, "cost1_min": 19.046893851652822, "cost2_mean": -121.12582827380368, "cost1_mean": 314.0387414481222}, "episode_reward_mean": 586.9479751201445}
{"date": "2019-05-07_19-18-56", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922da0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59222b0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922eb8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1833562, "time_this_iter_s": 24.140536546707153, "pid": 42991, "episodes_this_iter": 17, "episode_reward_min": 35.22264632640071, "info": {"num_steps_trained": 1833562, "update_time_ms": 9.051, "sample_time_ms": 16611.348, "grad_time_ms": 9049.013, "default": {"cur_kl_coeff": 0.10000000149011612, "vf_loss": 10.923296928405762, "total_loss": 10.916830062866211, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007919877767562866, "entropy": 1.1563626527786255, "vf_explained_var": 0.8893750309944153, "kl": 0.014526532962918282}, "load_time_ms": 12.067, "num_steps_sampled": 1833562}, "timesteps_since_restore": 1833562, "time_total_s": 1347.1704518795013, "episodes_total": 864, "done": false, "episode_len_mean": 680.31, "timesteps_this_iter": 36819, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "time_since_restore": 1347.1704518795013, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 48, "episode_reward_max": 757.0817789512678, "timestamp": 1557256736, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.196295193521582, "system_level_velocity_max": 18.846528858012487, "outflow_rate_min": 436.58172461029073, "outflow_rate_mean": 1117.6078573972904, "outflow_rate_max": 1313.6230805194807, "cost2_min": -150.52715521806235, "system_level_velocity_mean": 12.431705257193993, "cost2_max": -14.616533263706188, "cost1_max": 400.0140053202179, "cost1_min": 19.046893851652822, "cost2_mean": -121.26949191400354, "cost1_mean": 313.0440662960084}, "episode_reward_mean": 590.6201418106803}
{"date": "2019-05-07_19-19-21", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59223c8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922240>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922f98>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1870552, "time_this_iter_s": 24.950597286224365, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 35.22264632640071, "info": {"num_steps_trained": 1870552, "update_time_ms": 8.67, "sample_time_ms": 16432.495, "grad_time_ms": 9001.275, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 11.371312141418457, "total_loss": 11.366153717041016, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00645492784678936, "entropy": 1.146964430809021, "vf_explained_var": 0.9046928882598877, "kl": 0.012952855788171291}, "load_time_ms": 11.906, "num_steps_sampled": 1870552}, "timesteps_since_restore": 1870552, "time_total_s": 1372.1210491657257, "episodes_total": 884, "done": false, "episode_len_mean": 686.8, "timesteps_this_iter": 36990, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "time_since_restore": 1372.1210491657257, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 49, "episode_reward_max": 757.0817789512678, "timestamp": 1557256761, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.196295193521582, "system_level_velocity_max": 18.67788473485636, "outflow_rate_min": 436.58172461029073, "outflow_rate_mean": 1130.1061360124177, "outflow_rate_max": 1313.6230805194807, "cost2_min": -150.52715521806235, "system_level_velocity_mean": 12.35998785254353, "cost2_max": -14.616533263706188, "cost1_max": 400.0140053202179, "cost1_min": 19.046893851652822, "cost2_mean": -123.32788396792455, "cost1_mean": 316.3946083508636}, "episode_reward_mean": 602.6434751011776}
{"date": "2019-05-07_19-19-46", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59008d0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59007b8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900a20>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1907363, "time_this_iter_s": 24.334902048110962, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 50.56915192184735, "info": {"num_steps_trained": 1907363, "update_time_ms": 8.378, "sample_time_ms": 16189.918, "grad_time_ms": 9009.522, "default": {"cur_kl_coeff": 0.10000000149011612, "vf_loss": 10.945418357849121, "total_loss": 10.942147254943848, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004370506852865219, "entropy": 1.165906548500061, "vf_explained_var": 0.9057551026344299, "kl": 0.01100472453981638}, "load_time_ms": 11.9, "num_steps_sampled": 1907363}, "timesteps_since_restore": 1907363, "time_total_s": 1396.4559512138367, "episodes_total": 903, "done": false, "episode_len_mean": 693.51, "timesteps_this_iter": 36811, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "time_since_restore": 1396.4559512138367, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 50, "episode_reward_max": 727.1715734845925, "timestamp": 1557256786, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.196295193521582, "system_level_velocity_max": 18.376990729843463, "outflow_rate_min": 489.29370440371605, "outflow_rate_mean": 1136.3527321409404, "outflow_rate_max": 1263.0075232767233, "cost2_min": -145.00724265125643, "system_level_velocity_mean": 12.25678708285396, "cost2_max": -24.27104532875363, "cost1_max": 406.77572969313155, "cost1_min": 33.729181043259764, "cost2_mean": -124.25762268017718, "cost1_mean": 318.6222284879543}, "episode_reward_mean": 610.5438714027024}
{"date": "2019-05-07_19-20-10", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f400>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f940>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f6a0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1943372, "time_this_iter_s": 24.143444299697876, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 516.4514869333527, "info": {"num_steps_trained": 1943372, "update_time_ms": 8.202, "sample_time_ms": 15831.712, "grad_time_ms": 8902.696, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 11.235837936401367, "total_loss": 11.229217529296875, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008002917282283306, "entropy": 1.1565247774124146, "vf_explained_var": 0.9185371994972229, "kl": 0.013819891959428787}, "load_time_ms": 12.047, "num_steps_sampled": 1943372}, "timesteps_since_restore": 1943372, "time_total_s": 1420.5993955135345, "episodes_total": 921, "done": false, "episode_len_mean": 700.0, "timesteps_this_iter": 36009, "iterations_since_restore": 51, "node_ip": "10.138.0.2", "time_since_restore": 1420.5993955135345, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 51, "episode_reward_max": 719.9212394020984, "timestamp": 1557256810, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.196295193521582, "system_level_velocity_max": 15.298850320054795, "outflow_rate_min": 1024.0651896103896, "outflow_rate_mean": 1140.1398702417582, "outflow_rate_max": 1263.0075232767233, "cost2_min": -151.9411236339799, "system_level_velocity_mean": 12.122463182733, "cost2_max": -102.87778622254511, "cost1_max": 406.77572969313155, "cost1_min": 240.13446918352525, "cost2_mean": -124.1608557983742, "cost1_mean": 319.0467727632491}, "episode_reward_mean": 613.8339466764099}
{"date": "2019-05-07_19-20-35", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922860>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59221d0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59225f8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 1980060, "time_this_iter_s": 24.597813367843628, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 516.4514869333527, "info": {"num_steps_trained": 1980060, "update_time_ms": 7.934, "sample_time_ms": 15775.056, "grad_time_ms": 8958.029, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 13.629508018493652, "total_loss": 13.622956275939941, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008344101719558239, "entropy": 1.1362900733947754, "vf_explained_var": 0.8856093287467957, "kl": 0.017936300486326218}, "load_time_ms": 12.056, "num_steps_sampled": 1980060}, "timesteps_since_restore": 1980060, "time_total_s": 1445.1972088813782, "episodes_total": 942, "done": false, "episode_len_mean": 700.0, "timesteps_this_iter": 36688, "iterations_since_restore": 52, "node_ip": "10.138.0.2", "time_since_restore": 1445.1972088813782, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 52, "episode_reward_max": 719.9212394020984, "timestamp": 1557256835, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.196295193521582, "system_level_velocity_max": 15.298850320054795, "outflow_rate_min": 1024.0651896103896, "outflow_rate_mean": 1144.5199409390611, "outflow_rate_max": 1263.0075232767233, "cost2_min": -151.9411236339799, "system_level_velocity_mean": 12.040802211517336, "cost2_max": -102.87778622254511, "cost1_max": 406.77572969313155, "cost1_min": 240.13446918352525, "cost2_mean": -125.61755361843376, "cost1_mean": 317.1223427579433}, "episode_reward_mean": 618.8984321177695}
{"date": "2019-05-07_19-21-01", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef748>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef860>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef7f0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2016310, "time_this_iter_s": 25.891735553741455, "pid": 42991, "episodes_this_iter": 17, "episode_reward_min": 51.486352566174595, "info": {"num_steps_trained": 2016310, "update_time_ms": 7.725, "sample_time_ms": 15727.796, "grad_time_ms": 9122.773, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 10.506072044372559, "total_loss": 10.499591827392578, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00810204166918993, "entropy": 1.1398403644561768, "vf_explained_var": 0.8857516646385193, "kl": 0.016223350539803505}, "load_time_ms": 12.117, "num_steps_sampled": 2016310}, "timesteps_since_restore": 2016310, "time_total_s": 1471.0889444351196, "episodes_total": 959, "done": false, "episode_len_mean": 693.47, "timesteps_this_iter": 36250, "iterations_since_restore": 53, "node_ip": "10.138.0.2", "time_since_restore": 1471.0889444351196, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 53, "episode_reward_max": 726.2325693728966, "timestamp": 1557256861, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.196295193521582, "system_level_velocity_max": 18.57590127011282, "outflow_rate_min": 473.4889132891387, "outflow_rate_mean": 1140.0032083616625, "outflow_rate_max": 1271.6319872127874, "cost2_min": -151.9411236339799, "system_level_velocity_mean": 12.074209879625958, "cost2_max": -22.10003776630926, "cost1_max": 406.77572969313155, "cost1_min": 32.61072744386379, "cost2_mean": -125.17681739060762, "cost1_mean": 313.41973764790475}, "episode_reward_mean": 614.6951917277936}
{"date": "2019-05-07_19-21-27", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905b38>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905860>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905c18>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2052623, "time_this_iter_s": 25.943153142929077, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 51.486352566174595, "info": {"num_steps_trained": 2052623, "update_time_ms": 7.965, "sample_time_ms": 15784.629, "grad_time_ms": 9187.176, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 12.197550773620605, "total_loss": 12.192622184753418, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006463760044425726, "entropy": 1.1127972602844238, "vf_explained_var": 0.8921076655387878, "kl": 0.015361718833446503}, "load_time_ms": 11.495, "num_steps_sampled": 2052623}, "timesteps_since_restore": 2052623, "time_total_s": 1497.0320975780487, "episodes_total": 980, "done": false, "episode_len_mean": 693.47, "timesteps_this_iter": 36313, "iterations_since_restore": 54, "node_ip": "10.138.0.2", "time_since_restore": 1497.0320975780487, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 54, "episode_reward_max": 726.2325693728966, "timestamp": 1557256887, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.023588715823108, "system_level_velocity_max": 18.57590127011282, "outflow_rate_min": 473.4889132891387, "outflow_rate_mean": 1140.9476898202042, "outflow_rate_max": 1271.6319872127874, "cost2_min": -151.9411236339799, "system_level_velocity_mean": 12.07036453336438, "cost2_max": -22.10003776630926, "cost1_max": 406.77572969313155, "cost1_min": 32.61072744386379, "cost2_mean": -124.7388463005785, "cost1_mean": 313.0490136314064}, "episode_reward_mean": 617.9988094659917}
{"date": "2019-05-07_19-21-51", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f400>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f630>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f320>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2088966, "time_this_iter_s": 24.776065826416016, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 51.486352566174595, "info": {"num_steps_trained": 2088966, "update_time_ms": 8.096, "sample_time_ms": 15691.837, "grad_time_ms": 9138.907, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 10.404889106750488, "total_loss": 10.400472640991211, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005965054035186768, "entropy": 1.1234767436981201, "vf_explained_var": 0.8962603807449341, "kl": 0.015479383990168571}, "load_time_ms": 10.909, "num_steps_sampled": 2088966}, "timesteps_since_restore": 2088966, "time_total_s": 1521.8081634044647, "episodes_total": 999, "done": false, "episode_len_mean": 693.47, "timesteps_this_iter": 36343, "iterations_since_restore": 55, "node_ip": "10.138.0.2", "time_since_restore": 1521.8081634044647, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 55, "episode_reward_max": 760.0202963183143, "timestamp": 1557256911, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.023588715823108, "system_level_velocity_max": 18.57590127011282, "outflow_rate_min": 473.4889132891387, "outflow_rate_mean": 1145.5075055364875, "outflow_rate_max": 1271.6319872127874, "cost2_min": -154.14934278995145, "system_level_velocity_mean": 12.07607086667257, "cost2_max": -22.10003776630926, "cost1_max": 399.29833664490656, "cost1_min": 32.61072744386379, "cost2_mean": -125.46760156779824, "cost1_mean": 313.2437298749004}, "episode_reward_mean": 619.9364322844972}
{"date": "2019-05-07_19-22-16", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb6a0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb550>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbd30>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2125200, "time_this_iter_s": 25.08080792427063, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 51.486352566174595, "info": {"num_steps_trained": 2125200, "update_time_ms": 7.95, "sample_time_ms": 15686.973, "grad_time_ms": 9092.654, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 12.265690803527832, "total_loss": 12.260212898254395, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007017959374934435, "entropy": 1.1472023725509644, "vf_explained_var": 0.8922436237335205, "kl": 0.015408728271722794}, "load_time_ms": 10.472, "num_steps_sampled": 2125200}, "timesteps_since_restore": 2125200, "time_total_s": 1546.8889713287354, "episodes_total": 1019, "done": false, "episode_len_mean": 692.41, "timesteps_this_iter": 36234, "iterations_since_restore": 56, "node_ip": "10.138.0.2", "time_since_restore": 1546.8889713287354, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 56, "episode_reward_max": 760.0202963183143, "timestamp": 1557256936, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.023588715823108, "system_level_velocity_max": 18.57590127011282, "outflow_rate_min": 473.4889132891387, "outflow_rate_mean": 1147.801363606418, "outflow_rate_max": 1271.6319872127874, "cost2_min": -154.14934278995145, "system_level_velocity_mean": 12.021182023881057, "cost2_max": -22.10003776630926, "cost1_max": 385.1877551025533, "cost1_min": 32.61072744386379, "cost2_mean": -126.11144368073559, "cost1_mean": 311.72665589871883}, "episode_reward_mean": 622.6610068287587}
{"date": "2019-05-07_19-22-41", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb400>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb588>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbe80>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2161548, "time_this_iter_s": 24.832648992538452, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 51.486352566174595, "info": {"num_steps_trained": 2161548, "update_time_ms": 8.136, "sample_time_ms": 15669.062, "grad_time_ms": 9096.293, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 11.925642967224121, "total_loss": 11.920928955078125, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0066109285689890385, "entropy": 1.1399341821670532, "vf_explained_var": 0.8904141783714294, "kl": 0.01896096207201481}, "load_time_ms": 10.112, "num_steps_sampled": 2161548}, "timesteps_since_restore": 2161548, "time_total_s": 1571.7216203212738, "episodes_total": 1037, "done": false, "episode_len_mean": 692.41, "timesteps_this_iter": 36348, "iterations_since_restore": 57, "node_ip": "10.138.0.2", "time_since_restore": 1571.7216203212738, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 57, "episode_reward_max": 778.8398830326822, "timestamp": 1557256961, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.023588715823108, "system_level_velocity_max": 18.57590127011282, "outflow_rate_min": 473.4889132891387, "outflow_rate_mean": 1151.2672421119123, "outflow_rate_max": 1273.117663936064, "cost2_min": -154.14934278995145, "system_level_velocity_mean": 11.989031171418265, "cost2_max": -22.10003776630926, "cost1_max": 410.87688078553003, "cost1_min": 32.61072744386379, "cost2_mean": -125.25416158132984, "cost1_mean": 311.3202574732409}, "episode_reward_mean": 626.650198230132}
{"date": "2019-05-07_19-23-07", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905f28>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905358>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905400>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2197735, "time_this_iter_s": 25.537339448928833, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 542.2121162361401, "info": {"num_steps_trained": 2197735, "update_time_ms": 8.008, "sample_time_ms": 15813.023, "grad_time_ms": 9093.095, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 11.093779563903809, "total_loss": 11.087828636169434, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0073164599016308784, "entropy": 1.148808479309082, "vf_explained_var": 0.8958891034126282, "kl": 0.013640527613461018}, "load_time_ms": 10.036, "num_steps_sampled": 2197735}, "timesteps_since_restore": 2197735, "time_total_s": 1597.2589597702026, "episodes_total": 1055, "done": false, "episode_len_mean": 698.94, "timesteps_this_iter": 36187, "iterations_since_restore": 58, "node_ip": "10.138.0.2", "time_since_restore": 1597.2589597702026, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 58, "episode_reward_max": 778.8398830326822, "timestamp": 1557256987, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.023588715823108, "system_level_velocity_max": 15.37352223800232, "outflow_rate_min": 990.5616623376621, "outflow_rate_mean": 1153.0768089790208, "outflow_rate_max": 1273.117663936064, "cost2_min": -154.14934278995145, "system_level_velocity_mean": 11.927760616406895, "cost2_max": -97.3755027252283, "cost1_max": 410.87688078553003, "cost1_min": 254.05053477093867, "cost2_mean": -125.73676407194775, "cost1_mean": 314.3902700369597}, "episode_reward_mean": 631.3836145035968}
{"date": "2019-05-07_19-23-33", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f3c8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f358>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f630>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2233785, "time_this_iter_s": 25.72311305999756, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 533.2242714291935, "info": {"num_steps_trained": 2233785, "update_time_ms": 7.967, "sample_time_ms": 15841.875, "grad_time_ms": 9139.289, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 12.940625190734863, "total_loss": 12.934857368469238, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007596452720463276, "entropy": 1.1375854015350342, "vf_explained_var": 0.8631585240364075, "kl": 0.018284928053617477}, "load_time_ms": 10.069, "num_steps_sampled": 2233785}, "timesteps_since_restore": 2233785, "time_total_s": 1622.9820728302002, "episodes_total": 1074, "done": false, "episode_len_mean": 698.94, "timesteps_this_iter": 36050, "iterations_since_restore": 59, "node_ip": "10.138.0.2", "time_since_restore": 1622.9820728302002, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 59, "episode_reward_max": 778.8398830326822, "timestamp": 1557257013, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.402020677958486, "system_level_velocity_max": 15.37352223800232, "outflow_rate_min": 990.5616623376621, "outflow_rate_mean": 1144.431398777223, "outflow_rate_max": 1273.117663936064, "cost2_min": -154.14934278995145, "system_level_velocity_mean": 11.787690729561845, "cost2_max": -89.78642031264548, "cost1_max": 410.87688078553003, "cost1_min": 244.46342640536298, "cost2_mean": -123.51135814376383, "cost1_mean": 310.220863931258}, "episode_reward_mean": 625.2291366037414}
{"date": "2019-05-07_19-23-58", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922908>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922f98>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59220b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2270058, "time_this_iter_s": 25.33993887901306, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 460.6720654363219, "info": {"num_steps_trained": 2270058, "update_time_ms": 8.129, "sample_time_ms": 15898.027, "grad_time_ms": 9181.467, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 12.90685749053955, "total_loss": 12.899201393127441, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009574318304657936, "entropy": 1.1274917125701904, "vf_explained_var": 0.885290801525116, "kl": 0.01919415406882763}, "load_time_ms": 10.107, "num_steps_sampled": 2270058}, "timesteps_since_restore": 2270058, "time_total_s": 1648.3220117092133, "episodes_total": 1095, "done": false, "episode_len_mean": 697.99, "timesteps_this_iter": 36273, "iterations_since_restore": 60, "node_ip": "10.138.0.2", "time_since_restore": 1648.3220117092133, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 60, "episode_reward_max": 778.8398830326822, "timestamp": 1557257038, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.402020677958486, "system_level_velocity_max": 15.37352223800232, "outflow_rate_min": 990.5616623376621, "outflow_rate_mean": 1143.2996563836164, "outflow_rate_max": 1273.117663936064, "cost2_min": -154.14934278995145, "system_level_velocity_mean": 11.782676973036653, "cost2_max": -89.78642031264548, "cost1_max": 410.87688078553003, "cost1_min": 244.46342640536298, "cost2_mean": -120.98831382933382, "cost1_mean": 309.4903199021586}, "episode_reward_mean": 622.3283249693417}
{"date": "2019-05-07_19-24-23", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb0f0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbc50>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbc88>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2305603, "time_this_iter_s": 25.077013969421387, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 460.6720654363219, "info": {"num_steps_trained": 2305603, "update_time_ms": 8.256, "sample_time_ms": 16009.363, "grad_time_ms": 9164.025, "default": {"cur_kl_coeff": 0.10000000149011612, "vf_loss": 12.465766906738281, "total_loss": 12.459818840026855, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007662290241569281, "entropy": 1.1408889293670654, "vf_explained_var": 0.8804312348365784, "kl": 0.017148472368717194}, "load_time_ms": 9.975, "num_steps_sampled": 2305603}, "timesteps_since_restore": 2305603, "time_total_s": 1673.3990256786346, "episodes_total": 1114, "done": false, "episode_len_mean": 697.99, "timesteps_this_iter": 35545, "iterations_since_restore": 61, "node_ip": "10.138.0.2", "time_since_restore": 1673.3990256786346, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 61, "episode_reward_max": 778.8398830326822, "timestamp": 1557257063, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.402020677958486, "system_level_velocity_max": 15.37352223800232, "outflow_rate_min": 990.5616623376621, "outflow_rate_mean": 1146.4193473126875, "outflow_rate_max": 1273.117663936064, "cost2_min": -145.2594451231132, "system_level_velocity_mean": 11.84865173226817, "cost2_max": -89.78642031264548, "cost1_max": 410.87688078553003, "cost1_min": 244.46342640536298, "cost2_mean": -118.50868030049189, "cost1_mean": 311.1994825878188}, "episode_reward_mean": 621.6155647960326}
{"date": "2019-05-07_19-24-48", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905358>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905588>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59059b0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2341674, "time_this_iter_s": 25.071115016937256, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 35.42036428232695, "info": {"num_steps_trained": 2341674, "update_time_ms": 8.651, "sample_time_ms": 16054.975, "grad_time_ms": 9164.278, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 14.595736503601074, "total_loss": 14.591110229492188, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0063119493424892426, "entropy": 1.1413166522979736, "vf_explained_var": 0.8633894324302673, "kl": 0.016866102814674377}, "load_time_ms": 9.893, "num_steps_sampled": 2341674}, "timesteps_since_restore": 2341674, "time_total_s": 1698.470140695572, "episodes_total": 1135, "done": false, "episode_len_mean": 692.36, "timesteps_this_iter": 36071, "iterations_since_restore": 62, "node_ip": "10.138.0.2", "time_since_restore": 1698.470140695572, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 62, "episode_reward_max": 737.4412204843695, "timestamp": 1557257088, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.402020677958486, "system_level_velocity_max": 19.409516406602723, "outflow_rate_min": 431.9192529318294, "outflow_rate_mean": 1132.102183278569, "outflow_rate_max": 1258.2974289710291, "cost2_min": -145.2594451231132, "system_level_velocity_mean": 11.841991295060327, "cost2_max": -20.359751212585337, "cost1_max": 394.9662874888811, "cost1_min": 21.17694407295757, "cost2_mean": -117.18754817612121, "cost1_mean": 305.8731920452768}, "episode_reward_mean": 614.1699112246615}
{"date": "2019-05-07_19-25-13", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905518>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905e48>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905be0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2376660, "time_this_iter_s": 25.244900703430176, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 34.01637605917968, "info": {"num_steps_trained": 2376660, "update_time_ms": 8.736, "sample_time_ms": 16099.779, "grad_time_ms": 9053.287, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 13.062618255615234, "total_loss": 13.057887077331543, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006348897237330675, "entropy": 1.1531070470809937, "vf_explained_var": 0.8786521553993225, "kl": 0.016181737184524536}, "load_time_ms": 9.997, "num_steps_sampled": 2376660}, "timesteps_since_restore": 2376660, "time_total_s": 1723.715041399002, "episodes_total": 1155, "done": false, "episode_len_mean": 685.68, "timesteps_this_iter": 34986, "iterations_since_restore": 63, "node_ip": "10.138.0.2", "time_since_restore": 1723.715041399002, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 63, "episode_reward_max": 737.4412204843695, "timestamp": 1557257113, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.402020677958486, "system_level_velocity_max": 19.409516406602723, "outflow_rate_min": 431.9192529318294, "outflow_rate_mean": 1134.4355272677342, "outflow_rate_max": 1258.2974289710291, "cost2_min": -138.4726683798312, "system_level_velocity_mean": 12.020573152779619, "cost2_max": -14.657017912726412, "cost1_max": 422.515554131891, "cost1_min": 21.17694407295757, "cost2_mean": -113.95151984725285, "cost1_mean": 305.56158214757517}, "episode_reward_mean": 613.0305179604434}
{"date": "2019-05-07_19-25-39", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900d30>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fb940>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbc88>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2412980, "time_this_iter_s": 25.66779661178589, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 34.01637605917968, "info": {"num_steps_trained": 2412980, "update_time_ms": 8.728, "sample_time_ms": 16073.505, "grad_time_ms": 9051.698, "default": {"cur_kl_coeff": 0.10000000894069672, "vf_loss": 11.840999603271484, "total_loss": 11.83442497253418, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008753133937716484, "entropy": 1.1380668878555298, "vf_explained_var": 0.8873724341392517, "kl": 0.021787509322166443}, "load_time_ms": 10.466, "num_steps_sampled": 2412980}, "timesteps_since_restore": 2412980, "time_total_s": 1749.382838010788, "episodes_total": 1176, "done": false, "episode_len_mean": 679.05, "timesteps_this_iter": 36320, "iterations_since_restore": 64, "node_ip": "10.138.0.2", "time_since_restore": 1749.382838010788, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 64, "episode_reward_max": 737.4412204843695, "timestamp": 1557257139, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.953202093749281, "system_level_velocity_max": 19.409516406602723, "outflow_rate_min": 431.9192529318294, "outflow_rate_mean": 1129.626221295305, "outflow_rate_max": 1258.2974289710291, "cost2_min": -138.4726683798312, "system_level_velocity_mean": 12.270813548215001, "cost2_max": -14.657017912726412, "cost1_max": 422.515554131891, "cost1_min": 21.17694407295757, "cost2_mean": -112.1016669098782, "cost1_mean": 307.7876284050588}, "episode_reward_mean": 611.7674597608401}
{"date": "2019-05-07_19-26-04", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a048>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f630>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a0b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2448954, "time_this_iter_s": 25.187663793563843, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 34.01637605917968, "info": {"num_steps_trained": 2448954, "update_time_ms": 9.133, "sample_time_ms": 16008.957, "grad_time_ms": 9155.074, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 11.097551345825195, "total_loss": 11.091933250427246, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007836813107132912, "entropy": 1.1366616487503052, "vf_explained_var": 0.8976252675056458, "kl": 0.014794566668570042}, "load_time_ms": 10.74, "num_steps_sampled": 2448954}, "timesteps_since_restore": 2448954, "time_total_s": 1774.5705018043518, "episodes_total": 1194, "done": false, "episode_len_mean": 680.0, "timesteps_this_iter": 35974, "iterations_since_restore": 65, "node_ip": "10.138.0.2", "time_since_restore": 1774.5705018043518, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 65, "episode_reward_max": 743.1094889746726, "timestamp": 1557257164, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.16036909182665, "system_level_velocity_max": 19.409516406602723, "outflow_rate_min": 431.9192529318294, "outflow_rate_mean": 1133.2115164721283, "outflow_rate_max": 1258.2974289710291, "cost2_min": -137.92988185124673, "system_level_velocity_mean": 12.328220639937085, "cost2_max": -14.657017912726412, "cost1_max": 422.515554131891, "cost1_min": 21.17694407295757, "cost2_mean": -111.04472208671172, "cost1_mean": 309.7171169593001}, "episode_reward_mean": 616.5533152968399}
{"date": "2019-05-07_19-26-30", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911668>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905c88>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911f60>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2484867, "time_this_iter_s": 25.94022846221924, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 34.01637605917968, "info": {"num_steps_trained": 2484867, "update_time_ms": 9.341, "sample_time_ms": 16021.324, "grad_time_ms": 9226.002, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 11.221778869628906, "total_loss": 11.217365264892578, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006708207540214062, "entropy": 1.1379414796829224, "vf_explained_var": 0.890477180480957, "kl": 0.015300759114325047}, "load_time_ms": 11.241, "num_steps_sampled": 2484867}, "timesteps_since_restore": 2484867, "time_total_s": 1800.510730266571, "episodes_total": 1213, "done": false, "episode_len_mean": 680.0, "timesteps_this_iter": 35913, "iterations_since_restore": 66, "node_ip": "10.138.0.2", "time_since_restore": 1800.510730266571, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 66, "episode_reward_max": 743.1094889746726, "timestamp": 1557257190, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.16036909182665, "system_level_velocity_max": 19.409516406602723, "outflow_rate_min": 431.9192529318294, "outflow_rate_mean": 1128.29046619041, "outflow_rate_max": 1258.2974289710291, "cost2_min": -137.92988185124673, "system_level_velocity_mean": 12.310380396537736, "cost2_max": -14.657017912726412, "cost1_max": 422.515554131891, "cost1_min": 21.17694407295757, "cost2_mean": -109.87251938697194, "cost1_mean": 309.1657322195193}, "episode_reward_mean": 616.8586228872923}
{"date": "2019-05-07_19-26-55", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ae48>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591afd0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a080>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2521132, "time_this_iter_s": 24.740249156951904, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 34.01637605917968, "info": {"num_steps_trained": 2521132, "update_time_ms": 9.378, "sample_time_ms": 16005.775, "grad_time_ms": 9234.266, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 11.97605037689209, "total_loss": 11.970367431640625, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007744877599179745, "entropy": 1.1368060111999512, "vf_explained_var": 0.890965461730957, "kl": 0.01374901458621025}, "load_time_ms": 11.429, "num_steps_sampled": 2521132}, "timesteps_since_restore": 2521132, "time_total_s": 1825.250979423523, "episodes_total": 1233, "done": false, "episode_len_mean": 686.69, "timesteps_this_iter": 36265, "iterations_since_restore": 67, "node_ip": "10.138.0.2", "time_since_restore": 1825.250979423523, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 67, "episode_reward_max": 743.1094889746726, "timestamp": 1557257215, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.08080869971286, "system_level_velocity_max": 18.79122522442392, "outflow_rate_min": 437.8766898256092, "outflow_rate_mean": 1135.1150044742785, "outflow_rate_max": 1254.727355844156, "cost2_min": -137.92988185124673, "system_level_velocity_mean": 12.379407210684008, "cost2_max": -14.657017912726412, "cost1_max": 422.515554131891, "cost1_min": 21.26918049260423, "cost2_mean": -108.52862807788244, "cost1_mean": 315.7010968058811}, "episode_reward_mean": 619.1601939673117}
{"date": "2019-05-07_19-27-21", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbe80>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5911780>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58fbd30>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2557313, "time_this_iter_s": 25.912999153137207, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 44.90720811543003, "info": {"num_steps_trained": 2557313, "update_time_ms": 9.305, "sample_time_ms": 16015.137, "grad_time_ms": 9262.761, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 11.165828704833984, "total_loss": 11.160571098327637, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007402220740914345, "entropy": 1.143203616142273, "vf_explained_var": 0.8975028991699219, "kl": 0.014299564994871616}, "load_time_ms": 11.365, "num_steps_sampled": 2557313}, "timesteps_since_restore": 2557313, "time_total_s": 1851.1639785766602, "episodes_total": 1254, "done": false, "episode_len_mean": 686.81, "timesteps_this_iter": 36181, "iterations_since_restore": 68, "node_ip": "10.138.0.2", "time_since_restore": 1851.1639785766602, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 68, "episode_reward_max": 743.1094889746726, "timestamp": 1557257241, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.775019875599286, "system_level_velocity_max": 18.843510355601907, "outflow_rate_min": 453.566997961879, "outflow_rate_mean": 1129.6587639270156, "outflow_rate_max": 1246.6274805194805, "cost2_min": -137.92988185124673, "system_level_velocity_mean": 12.32321779064796, "cost2_max": -17.2317973562459, "cost1_max": 405.7558031703514, "cost1_min": 24.169593004665973, "cost2_mean": -108.37791296602907, "cost1_mean": 314.0232868180945}, "episode_reward_mean": 616.3976122513235}
{"date": "2019-05-07_19-27-47", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a2b0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ab00>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aba8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2592605, "time_this_iter_s": 25.83043622970581, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 34.856882241510135, "info": {"num_steps_trained": 2592605, "update_time_ms": 9.593, "sample_time_ms": 16075.122, "grad_time_ms": 9212.158, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 13.68825912475586, "total_loss": 13.682950973510742, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007532002869993448, "entropy": 1.1411333084106445, "vf_explained_var": 0.8714451789855957, "kl": 0.014821416698396206}, "load_time_ms": 11.455, "num_steps_sampled": 2592605}, "timesteps_since_restore": 2592605, "time_total_s": 1876.994414806366, "episodes_total": 1275, "done": false, "episode_len_mean": 685.68, "timesteps_this_iter": 35292, "iterations_since_restore": 69, "node_ip": "10.138.0.2", "time_since_restore": 1876.994414806366, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 69, "episode_reward_max": 743.1094889746726, "timestamp": 1557257267, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.512728590555403, "system_level_velocity_max": 19.217779738856798, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1127.9704456409147, "outflow_rate_max": 1246.6274805194805, "cost2_min": -137.92988185124673, "system_level_velocity_mean": 12.3256639087091, "cost2_max": -18.05349023814117, "cost1_max": 405.7558031703514, "cost1_min": 19.168814346366993, "cost2_mean": -107.74885172337315, "cost1_mean": 313.1458719160222}, "episode_reward_mean": 613.3270777702204}
{"date": "2019-05-07_19-28-12", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a710>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a128>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a080>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2628492, "time_this_iter_s": 25.26334261894226, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 34.856882241510135, "info": {"num_steps_trained": 2628492, "update_time_ms": 9.809, "sample_time_ms": 16116.799, "grad_time_ms": 9165.624, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 11.650354385375977, "total_loss": 11.64397144317627, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008526376448571682, "entropy": 1.141800880432129, "vf_explained_var": 0.8950549364089966, "kl": 0.014290567487478256}, "load_time_ms": 11.303, "num_steps_sampled": 2628492}, "timesteps_since_restore": 2628492, "time_total_s": 1902.2577574253082, "episodes_total": 1296, "done": false, "episode_len_mean": 677.58, "timesteps_this_iter": 35887, "iterations_since_restore": 70, "node_ip": "10.138.0.2", "time_since_restore": 1902.2577574253082, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 70, "episode_reward_max": 720.6303024725613, "timestamp": 1557257292, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.512728590555403, "system_level_velocity_max": 19.217779738856798, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1116.9756348528651, "outflow_rate_max": 1246.6274805194805, "cost2_min": -129.99925810122014, "system_level_velocity_mean": 12.426865721912538, "cost2_max": -18.05349023814117, "cost1_max": 390.64227346100245, "cost1_min": 19.168814346366993, "cost2_mean": -106.40856171035084, "cost1_mean": 310.6898625446448}, "episode_reward_mean": 602.2518974811336}
{"date": "2019-05-07_19-28-38", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef9e8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905898>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efa58>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2664891, "time_this_iter_s": 26.10848879814148, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 34.856882241510135, "info": {"num_steps_trained": 2664891, "update_time_ms": 9.75, "sample_time_ms": 16169.796, "grad_time_ms": 9216.295, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 10.113370895385742, "total_loss": 10.10820198059082, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007474659942090511, "entropy": 1.137056827545166, "vf_explained_var": 0.9091072678565979, "kl": 0.015371396206319332}, "load_time_ms": 11.229, "num_steps_sampled": 2664891}, "timesteps_since_restore": 2664891, "time_total_s": 1928.3662462234497, "episodes_total": 1316, "done": false, "episode_len_mean": 677.58, "timesteps_this_iter": 36399, "iterations_since_restore": 71, "node_ip": "10.138.0.2", "time_since_restore": 1928.3662462234497, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 71, "episode_reward_max": 733.7787190105225, "timestamp": 1557257318, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.512728590555403, "system_level_velocity_max": 19.217779738856798, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1119.9045264133044, "outflow_rate_max": 1246.6274805194805, "cost2_min": -129.99925810122014, "system_level_velocity_mean": 12.477983916395559, "cost2_max": -18.05349023814117, "cost1_max": 411.24034938960506, "cost1_min": 19.168814346366993, "cost2_mean": -106.98314320637974, "cost1_mean": 312.0681645116115}, "episode_reward_mean": 602.1953788934811}
{"date": "2019-05-07_19-29-03", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f320>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590feb8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f630>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2700878, "time_this_iter_s": 25.02634072303772, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 34.856882241510135, "info": {"num_steps_trained": 2700878, "update_time_ms": 9.505, "sample_time_ms": 16225.773, "grad_time_ms": 9156.983, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 10.956381797790527, "total_loss": 10.952264785766602, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00629161112010479, "entropy": 1.115998387336731, "vf_explained_var": 0.9099867343902588, "kl": 0.014506775885820389}, "load_time_ms": 11.307, "num_steps_sampled": 2700878}, "timesteps_since_restore": 2700878, "time_total_s": 1953.3925869464874, "episodes_total": 1335, "done": false, "episode_len_mean": 684.14, "timesteps_this_iter": 35987, "iterations_since_restore": 72, "node_ip": "10.138.0.2", "time_since_restore": 1953.3925869464874, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 72, "episode_reward_max": 733.7787190105225, "timestamp": 1557257343, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.316795969895393, "system_level_velocity_max": 19.217779738856798, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1131.1060449334402, "outflow_rate_max": 1250.7740307692309, "cost2_min": -129.99925810122014, "system_level_velocity_mean": 12.35139337038027, "cost2_max": -18.05349023814117, "cost1_max": 411.24034938960506, "cost1_min": 19.168814346366993, "cost2_mean": -108.26023823588997, "cost1_mean": 313.7532985506106}, "episode_reward_mean": 615.3410715115424}
{"date": "2019-05-07_19-29-29", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a898>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aef0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a4e0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2736614, "time_this_iter_s": 25.372676134109497, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 34.856882241510135, "info": {"num_steps_trained": 2736614, "update_time_ms": 9.301, "sample_time_ms": 16306.455, "grad_time_ms": 9091.213, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 12.033815383911133, "total_loss": 12.03022289276123, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005740686319768429, "entropy": 1.1075247526168823, "vf_explained_var": 0.8945832252502441, "kl": 0.014324197545647621}, "load_time_ms": 11.119, "num_steps_sampled": 2736614}, "timesteps_since_restore": 2736614, "time_total_s": 1978.765263080597, "episodes_total": 1355, "done": false, "episode_len_mean": 684.14, "timesteps_this_iter": 35736, "iterations_since_restore": 73, "node_ip": "10.138.0.2", "time_since_restore": 1978.765263080597, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 73, "episode_reward_max": 733.7787190105225, "timestamp": 1557257369, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.316795969895393, "system_level_velocity_max": 19.217779738856798, "outflow_rate_min": 439.6544456755007, "outflow_rate_mean": 1138.0061741002733, "outflow_rate_max": 1250.7740307692309, "cost2_min": -127.87018094643196, "system_level_velocity_mean": 12.412823768338761, "cost2_max": -18.05349023814117, "cost1_max": 411.24034938960506, "cost1_min": 19.168814346366993, "cost2_mean": -107.5726696626279, "cost1_mean": 315.6378144904544}, "episode_reward_mean": 618.9130708856283}
{"date": "2019-05-07_19-29-54", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a7f0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef9e8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a710>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2773135, "time_this_iter_s": 25.295562744140625, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 46.39285381310282, "info": {"num_steps_trained": 2773135, "update_time_ms": 9.135, "sample_time_ms": 16322.937, "grad_time_ms": 9039.229, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 13.262167930603027, "total_loss": 13.25809097290039, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006322626024484634, "entropy": 1.1417666673660278, "vf_explained_var": 0.8907572627067566, "kl": 0.014971749857068062}, "load_time_ms": 11.305, "num_steps_sampled": 2773135}, "timesteps_since_restore": 2773135, "time_total_s": 2004.0608258247375, "episodes_total": 1376, "done": false, "episode_len_mean": 679.36, "timesteps_this_iter": 36521, "iterations_since_restore": 74, "node_ip": "10.138.0.2", "time_since_restore": 2004.0608258247375, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 74, "episode_reward_max": 743.8379078328558, "timestamp": 1557257394, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.316795969895393, "system_level_velocity_max": 18.673590719142865, "outflow_rate_min": 461.999485965598, "outflow_rate_mean": 1140.1747706225528, "outflow_rate_max": 1252.2489610389612, "cost2_min": -127.87018094643196, "system_level_velocity_mean": 12.61316359790171, "cost2_max": -21.277813525636432, "cost1_max": 411.24034938960506, "cost1_min": 28.198748535911594, "cost2_mean": -107.15842842726916, "cost1_mean": 317.68174442956416}, "episode_reward_mean": 618.8558971164834}
{"date": "2019-05-07_19-30-19", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591ad68>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a940>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591abe0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2809634, "time_this_iter_s": 24.913016080856323, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 46.39285381310282, "info": {"num_steps_trained": 2809634, "update_time_ms": 8.799, "sample_time_ms": 16379.271, "grad_time_ms": 8958.165, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 10.375407218933105, "total_loss": 10.37060546875, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007109813392162323, "entropy": 1.1250460147857666, "vf_explained_var": 0.9086028337478638, "kl": 0.015392139554023743}, "load_time_ms": 11.039, "num_steps_sampled": 2809634}, "timesteps_since_restore": 2809634, "time_total_s": 2028.9738419055939, "episodes_total": 1396, "done": false, "episode_len_mean": 687.46, "timesteps_this_iter": 36499, "iterations_since_restore": 75, "node_ip": "10.138.0.2", "time_since_restore": 2028.9738419055939, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 75, "episode_reward_max": 743.8379078328558, "timestamp": 1557257419, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.316795969895393, "system_level_velocity_max": 18.673590719142865, "outflow_rate_min": 461.999485965598, "outflow_rate_mean": 1147.9061541938195, "outflow_rate_max": 1252.2489610389612, "cost2_min": -127.87018094643196, "system_level_velocity_mean": 12.452017646399351, "cost2_max": -21.277813525636432, "cost1_max": 411.24034938960506, "cost1_min": 28.198748535911594, "cost2_mean": -108.28461423607932, "cost1_mean": 318.56434892184194}, "episode_reward_mean": 632.1775039326636}
{"date": "2019-05-07_19-30-44", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905be0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59058d0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59050f0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2845338, "time_this_iter_s": 24.6331467628479, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 46.39285381310282, "info": {"num_steps_trained": 2845338, "update_time_ms": 8.822, "sample_time_ms": 16274.532, "grad_time_ms": 8934.719, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 12.333573341369629, "total_loss": 12.32735824584961, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008371524512767792, "entropy": 1.1288022994995117, "vf_explained_var": 0.8951802849769592, "kl": 0.014378529042005539}, "load_time_ms": 10.879, "num_steps_sampled": 2845338}, "timesteps_since_restore": 2845338, "time_total_s": 2053.6069886684418, "episodes_total": 1416, "done": false, "episode_len_mean": 687.46, "timesteps_this_iter": 35704, "iterations_since_restore": 76, "node_ip": "10.138.0.2", "time_since_restore": 2053.6069886684418, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 76, "episode_reward_max": 743.8379078328558, "timestamp": 1557257444, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.316795969895393, "system_level_velocity_max": 18.673590719142865, "outflow_rate_min": 461.999485965598, "outflow_rate_mean": 1146.9345064255876, "outflow_rate_max": 1261.172115084915, "cost2_min": -127.0004016945523, "system_level_velocity_mean": 12.382457931787744, "cost2_max": -21.277813525636432, "cost1_max": 411.55251448675875, "cost1_min": 28.198748535911594, "cost2_mean": -107.29507544898932, "cost1_mean": 316.8986022148002}, "episode_reward_mean": 633.620425757609}
{"date": "2019-05-07_19-31-08", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a470>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aa90>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591acf8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2880783, "time_this_iter_s": 24.670337677001953, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 46.39285381310282, "info": {"num_steps_trained": 2880783, "update_time_ms": 8.8, "sample_time_ms": 16269.414, "grad_time_ms": 8930.949, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 13.461237907409668, "total_loss": 13.453432083129883, "cur_lr": 0.0005000000237487257, "policy_loss": -0.010392657481133938, "entropy": 1.1387808322906494, "vf_explained_var": 0.8818196058273315, "kl": 0.01724628545343876}, "load_time_ms": 11.052, "num_steps_sampled": 2880783}, "timesteps_since_restore": 2880783, "time_total_s": 2078.2773263454437, "episodes_total": 1436, "done": false, "episode_len_mean": 685.97, "timesteps_this_iter": 35445, "iterations_since_restore": 77, "node_ip": "10.138.0.2", "time_since_restore": 2078.2773263454437, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 77, "episode_reward_max": 743.8379078328558, "timestamp": 1557257468, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.337922215764962, "system_level_velocity_max": 18.673590719142865, "outflow_rate_min": 461.999485965598, "outflow_rate_mean": 1145.4547741258878, "outflow_rate_max": 1261.172115084915, "cost2_min": -127.0004016945523, "system_level_velocity_mean": 12.423081569249419, "cost2_max": -21.277813525636432, "cost1_max": 411.55251448675875, "cost1_min": 28.198748535911594, "cost2_mean": -107.3563491891905, "cost1_mean": 317.2636201340777}, "episode_reward_mean": 629.9335826021884}
{"date": "2019-05-07_19-31-35", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227f0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922da0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59225c0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2916939, "time_this_iter_s": 26.473604202270508, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 46.39285381310282, "info": {"num_steps_trained": 2916939, "update_time_ms": 8.846, "sample_time_ms": 16260.54, "grad_time_ms": 8995.178, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 12.627310752868652, "total_loss": 12.620833396911621, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008888127282261848, "entropy": 1.1288528442382812, "vf_explained_var": 0.8870532512664795, "kl": 0.016073446720838547}, "load_time_ms": 11.227, "num_steps_sampled": 2916939}, "timesteps_since_restore": 2916939, "time_total_s": 2104.7509305477142, "episodes_total": 1457, "done": false, "episode_len_mean": 679.5, "timesteps_this_iter": 36156, "iterations_since_restore": 78, "node_ip": "10.138.0.2", "time_since_restore": 2104.7509305477142, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 78, "episode_reward_max": 743.8379078328558, "timestamp": 1557257495, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.337922215764962, "system_level_velocity_max": 18.673590719142865, "outflow_rate_min": 461.999485965598, "outflow_rate_mean": 1136.6417155827542, "outflow_rate_max": 1266.4278793206795, "cost2_min": -124.55961068405969, "system_level_velocity_mean": 12.416260216678582, "cost2_max": -20.047363980493362, "cost1_max": 411.55251448675875, "cost1_min": 28.198748535911594, "cost2_mean": -106.47579771345018, "cost1_mean": 312.5871199783042}, "episode_reward_mean": 622.9038643012657}
{"date": "2019-05-07_19-32-01", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5900d68>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59001d0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59007b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2952549, "time_this_iter_s": 26.44628071784973, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 37.869587929211804, "info": {"num_steps_trained": 2952549, "update_time_ms": 8.887, "sample_time_ms": 16343.25, "grad_time_ms": 8976.219, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 13.582886695861816, "total_loss": 13.578934669494629, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006243450101464987, "entropy": 1.1325939893722534, "vf_explained_var": 0.8812224864959717, "kl": 0.015275565907359123}, "load_time_ms": 11.228, "num_steps_sampled": 2952549}, "timesteps_since_restore": 2952549, "time_total_s": 2131.197211265564, "episodes_total": 1478, "done": false, "episode_len_mean": 678.92, "timesteps_this_iter": 35610, "iterations_since_restore": 79, "node_ip": "10.138.0.2", "time_since_restore": 2131.197211265564, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 79, "episode_reward_max": 738.2105335159422, "timestamp": 1557257521, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.337922215764962, "system_level_velocity_max": 18.787761562230024, "outflow_rate_min": 442.6213850878692, "outflow_rate_mean": 1132.2758900650115, "outflow_rate_max": 1266.4278793206795, "cost2_min": -124.55961068405969, "system_level_velocity_mean": 12.255067775360697, "cost2_max": -18.09331538590872, "cost1_max": 411.55251448675875, "cost1_min": 22.235079515018807, "cost2_mean": -105.85550955750014, "cost1_mean": 307.70026727700963}, "episode_reward_mean": 618.7833090409948}
{"date": "2019-05-07_19-32-26", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aac8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a7f0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a240>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 2988589, "time_this_iter_s": 24.766969203948975, "pid": 42991, "episodes_this_iter": 18, "episode_reward_min": 37.869587929211804, "info": {"num_steps_trained": 2988589, "update_time_ms": 8.671, "sample_time_ms": 16327.496, "grad_time_ms": 8942.511, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 9.380233764648438, "total_loss": 9.37590503692627, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006244623567909002, "entropy": 1.108209252357483, "vf_explained_var": 0.9138771295547485, "kl": 0.012770184315741062}, "load_time_ms": 11.201, "num_steps_sampled": 2988589}, "timesteps_since_restore": 2988589, "time_total_s": 2155.964180469513, "episodes_total": 1496, "done": false, "episode_len_mean": 678.92, "timesteps_this_iter": 36040, "iterations_since_restore": 80, "node_ip": "10.138.0.2", "time_since_restore": 2155.964180469513, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 80, "episode_reward_max": 738.2105335159422, "timestamp": 1557257546, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.135438966222745, "system_level_velocity_max": 18.787761562230024, "outflow_rate_min": 442.6213850878692, "outflow_rate_mean": 1136.961408518558, "outflow_rate_max": 1266.4278793206795, "cost2_min": -122.49758945456871, "system_level_velocity_mean": 12.337643899531399, "cost2_max": -18.09331538590872, "cost1_max": 411.55251448675875, "cost1_min": 22.235079515018807, "cost2_mean": -105.01139588627127, "cost1_mean": 309.9521943258573}, "episode_reward_mean": 620.1842695607372}
{"date": "2019-05-07_19-32-51", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af28>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a2e8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aa58>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3024311, "time_this_iter_s": 24.98506760597229, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 37.869587929211804, "info": {"num_steps_trained": 3024311, "update_time_ms": 8.644, "sample_time_ms": 16286.48, "grad_time_ms": 8869.276, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 10.77417278289795, "total_loss": 10.769393920898438, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006958994083106518, "entropy": 1.1321301460266113, "vf_explained_var": 0.9182984232902527, "kl": 0.01453412789851427}, "load_time_ms": 11.279, "num_steps_sampled": 3024311}, "timesteps_since_restore": 3024311, "time_total_s": 2180.9492480754852, "episodes_total": 1516, "done": false, "episode_len_mean": 678.92, "timesteps_this_iter": 35722, "iterations_since_restore": 81, "node_ip": "10.138.0.2", "time_since_restore": 2180.9492480754852, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 81, "episode_reward_max": 738.2105335159422, "timestamp": 1557257571, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.135438966222745, "system_level_velocity_max": 18.787761562230024, "outflow_rate_min": 442.6213850878692, "outflow_rate_mean": 1135.5209663527241, "outflow_rate_max": 1266.4278793206795, "cost2_min": -122.49758945456871, "system_level_velocity_mean": 12.298383634633021, "cost2_max": -18.09331538590872, "cost1_max": 395.9294302751995, "cost1_min": 22.235079515018807, "cost2_mean": -104.55209449449131, "cost1_mean": 308.58616343651215}, "episode_reward_mean": 617.4440636977503}
{"date": "2019-05-07_19-33-16", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922588>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922ba8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922940>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3060461, "time_this_iter_s": 24.78332257270813, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 37.869587929211804, "info": {"num_steps_trained": 3060461, "update_time_ms": 8.655, "sample_time_ms": 16244.309, "grad_time_ms": 8886.662, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 10.077924728393555, "total_loss": 10.07181167602539, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008547496981918812, "entropy": 1.1343309879302979, "vf_explained_var": 0.9144183397293091, "kl": 0.01623084768652916}, "load_time_ms": 11.211, "num_steps_sampled": 3060461}, "timesteps_since_restore": 3060461, "time_total_s": 2205.7325706481934, "episodes_total": 1536, "done": false, "episode_len_mean": 680.41, "timesteps_this_iter": 36150, "iterations_since_restore": 82, "node_ip": "10.138.0.2", "time_since_restore": 2205.7325706481934, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 82, "episode_reward_max": 738.2105335159422, "timestamp": 1557257596, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.868650485850543, "system_level_velocity_max": 18.787761562230024, "outflow_rate_min": 442.6213850878692, "outflow_rate_mean": 1131.068333705371, "outflow_rate_max": 1275.9567924075923, "cost2_min": -120.94756103668536, "system_level_velocity_mean": 12.194633803942542, "cost2_max": -18.09331538590872, "cost1_max": 395.9294302751995, "cost1_min": 22.235079515018807, "cost2_mean": -103.77816118389813, "cost1_mean": 306.14253786608685}, "episode_reward_mean": 612.6358673170645}
{"date": "2019-05-07_19-33-42", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f748>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f198>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f6d8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3096858, "time_this_iter_s": 25.445972681045532, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 37.869587929211804, "info": {"num_steps_trained": 3096858, "update_time_ms": 8.782, "sample_time_ms": 16197.547, "grad_time_ms": 8939.765, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 10.465648651123047, "total_loss": 10.458596229553223, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009467537514865398, "entropy": 1.1424115896224976, "vf_explained_var": 0.9246976375579834, "kl": 0.016096534207463264}, "load_time_ms": 11.394, "num_steps_sampled": 3096858}, "timesteps_since_restore": 3096858, "time_total_s": 2231.178543329239, "episodes_total": 1556, "done": false, "episode_len_mean": 686.88, "timesteps_this_iter": 36397, "iterations_since_restore": 83, "node_ip": "10.138.0.2", "time_since_restore": 2231.178543329239, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 83, "episode_reward_max": 738.2105335159422, "timestamp": 1557257622, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.868650485850543, "system_level_velocity_max": 18.787761562230024, "outflow_rate_min": 442.6213850878692, "outflow_rate_mean": 1140.5834920606926, "outflow_rate_max": 1275.9567924075923, "cost2_min": -123.88820146738544, "system_level_velocity_mean": 12.185121622037228, "cost2_max": -18.09331538590872, "cost1_max": 395.9294302751995, "cost1_min": 22.235079515018807, "cost2_mean": -105.00505847996976, "cost1_mean": 310.5128576395454}, "episode_reward_mean": 620.0512933336299}
{"date": "2019-05-07_19-34-07", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af60>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a7f0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a6a0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3132583, "time_this_iter_s": 25.009817838668823, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 49.837377132037446, "info": {"num_steps_trained": 3132583, "update_time_ms": 8.924, "sample_time_ms": 16208.668, "grad_time_ms": 8900.879, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 13.755038261413574, "total_loss": 13.750022888183594, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00737143075093627, "entropy": 1.1498538255691528, "vf_explained_var": 0.903229832649231, "kl": 0.015698691830039024}, "load_time_ms": 11.308, "num_steps_sampled": 3132583}, "timesteps_since_restore": 3132583, "time_total_s": 2256.1883611679077, "episodes_total": 1576, "done": false, "episode_len_mean": 687.04, "timesteps_this_iter": 35725, "iterations_since_restore": 84, "node_ip": "10.138.0.2", "time_since_restore": 2256.1883611679077, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 84, "episode_reward_max": 707.8632041130385, "timestamp": 1557257647, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.868650485850543, "system_level_velocity_max": 18.502677524901184, "outflow_rate_min": 472.98993681773425, "outflow_rate_mean": 1137.0299091783909, "outflow_rate_max": 1275.9567924075923, "cost2_min": -125.57271592742538, "system_level_velocity_mean": 12.265067018588606, "cost2_max": -23.694542228778193, "cost1_max": 395.9294302751995, "cost1_min": 33.233218752599726, "cost2_mean": -104.55950905801191, "cost1_mean": 312.88695606266907}, "episode_reward_mean": 622.7164936780669}
{"date": "2019-05-07_19-34-32", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591add8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a278>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a358>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3169049, "time_this_iter_s": 25.074275970458984, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 49.837377132037446, "info": {"num_steps_trained": 3169049, "update_time_ms": 8.938, "sample_time_ms": 16251.563, "grad_time_ms": 8872.216, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 12.181374549865723, "total_loss": 12.174423217773438, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009461126290261745, "entropy": 1.1489555835723877, "vf_explained_var": 0.9041967391967773, "kl": 0.01673099212348461}, "load_time_ms": 11.836, "num_steps_sampled": 3169049}, "timesteps_since_restore": 3169049, "time_total_s": 2281.2626371383667, "episodes_total": 1596, "done": false, "episode_len_mean": 693.5, "timesteps_this_iter": 36466, "iterations_since_restore": 85, "node_ip": "10.138.0.2", "time_since_restore": 2281.2626371383667, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 85, "episode_reward_max": 722.1048399366558, "timestamp": 1557257672, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.868650485850543, "system_level_velocity_max": 18.502677524901184, "outflow_rate_min": 472.98993681773425, "outflow_rate_mean": 1135.7265496938517, "outflow_rate_max": 1275.9567924075923, "cost2_min": -125.57271592742538, "system_level_velocity_mean": 12.193102414520029, "cost2_max": -23.694542228778193, "cost1_max": 404.1125005640441, "cost1_min": 33.233218752599726, "cost2_mean": -104.20712805125571, "cost1_mean": 315.23199369271686}, "episode_reward_mean": 621.8050814967265}
{"date": "2019-05-07_19-34-57", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922eb8>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922a58>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922748>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3205945, "time_this_iter_s": 25.511690616607666, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 49.837377132037446, "info": {"num_steps_trained": 3205945, "update_time_ms": 8.726, "sample_time_ms": 16369.26, "grad_time_ms": 8842.64, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 10.283793449401855, "total_loss": 10.276800155639648, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009355119429528713, "entropy": 1.14512038230896, "vf_explained_var": 0.9248775839805603, "kl": 0.015751181170344353}, "load_time_ms": 11.945, "num_steps_sampled": 3205945}, "timesteps_since_restore": 3205945, "time_total_s": 2306.7743277549744, "episodes_total": 1616, "done": false, "episode_len_mean": 693.5, "timesteps_this_iter": 36896, "iterations_since_restore": 86, "node_ip": "10.138.0.2", "time_since_restore": 2306.7743277549744, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 86, "episode_reward_max": 739.661198174732, "timestamp": 1557257697, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.868650485850543, "system_level_velocity_max": 18.502677524901184, "outflow_rate_min": 472.98993681773425, "outflow_rate_mean": 1138.047678900645, "outflow_rate_max": 1275.9567924075923, "cost2_min": -125.57271592742538, "system_level_velocity_mean": 12.172878825163595, "cost2_max": -23.694542228778193, "cost1_max": 417.8907974868423, "cost1_min": 33.233218752599726, "cost2_mean": -105.01706116569281, "cost1_mean": 314.8904860005364}, "episode_reward_mean": 625.0553323154402}
{"date": "2019-05-07_19-35-22", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922198>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590feb8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a6d8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3242829, "time_this_iter_s": 24.88669443130493, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 49.837377132037446, "info": {"num_steps_trained": 3242829, "update_time_ms": 8.662, "sample_time_ms": 16462.443, "grad_time_ms": 8771.141, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 12.24454116821289, "total_loss": 12.238919258117676, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008063167333602905, "entropy": 1.1599704027175903, "vf_explained_var": 0.9094308018684387, "kl": 0.016282567754387856}, "load_time_ms": 11.66, "num_steps_sampled": 3242829}, "timesteps_since_restore": 3242829, "time_total_s": 2331.6610221862793, "episodes_total": 1637, "done": false, "episode_len_mean": 687.69, "timesteps_this_iter": 36884, "iterations_since_restore": 87, "node_ip": "10.138.0.2", "time_since_restore": 2331.6610221862793, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 87, "episode_reward_max": 739.661198174732, "timestamp": 1557257722, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 10.20713960949221, "system_level_velocity_max": 18.502677524901184, "outflow_rate_min": 472.98993681773425, "outflow_rate_mean": 1135.7602084529058, "outflow_rate_max": 1274.8345534465536, "cost2_min": -125.57271592742538, "system_level_velocity_mean": 12.371023063906518, "cost2_max": -23.694542228778193, "cost1_max": 417.8907974868423, "cost1_min": 33.233218752599726, "cost2_mean": -103.99467360480901, "cost1_mean": 316.614182068541}, "episode_reward_mean": 627.212448537079}
{"date": "2019-05-07_19-35-48", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905a58>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59053c8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5905668>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3278583, "time_this_iter_s": 25.43111538887024, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 49.837377132037446, "info": {"num_steps_trained": 3278583, "update_time_ms": 8.589, "sample_time_ms": 16487.367, "grad_time_ms": 8642.713, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 11.02590560913086, "total_loss": 11.021665573120117, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006399170029908419, "entropy": 1.1514109373092651, "vf_explained_var": 0.9210644960403442, "kl": 0.01440386101603508}, "load_time_ms": 11.364, "num_steps_sampled": 3278583}, "timesteps_since_restore": 3278583, "time_total_s": 2357.0921375751495, "episodes_total": 1658, "done": false, "episode_len_mean": 687.69, "timesteps_this_iter": 35754, "iterations_since_restore": 88, "node_ip": "10.138.0.2", "time_since_restore": 2357.0921375751495, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 88, "episode_reward_max": 739.661198174732, "timestamp": 1557257748, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.358184566804521, "system_level_velocity_max": 18.502677524901184, "outflow_rate_min": 472.98993681773425, "outflow_rate_mean": 1125.4381056796792, "outflow_rate_max": 1274.8345534465536, "cost2_min": -126.81101327146493, "system_level_velocity_mean": 12.255400492969606, "cost2_max": -23.694542228778193, "cost1_max": 417.8907974868423, "cost1_min": 33.233218752599726, "cost2_mean": -102.86083942739766, "cost1_mean": 313.01544472573465}, "episode_reward_mean": 622.163853523329}
{"date": "2019-05-07_19-36-13", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af98>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591af28>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a128>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3315011, "time_this_iter_s": 25.05231809616089, "pid": 42991, "episodes_this_iter": 19, "episode_reward_min": 132.8146639876946, "info": {"num_steps_trained": 3315011, "update_time_ms": 8.327, "sample_time_ms": 16324.538, "grad_time_ms": 8666.25, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 11.669224739074707, "total_loss": 11.66374683380127, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008169430308043957, "entropy": 1.1441594362258911, "vf_explained_var": 0.9083348512649536, "kl": 0.01794235222041607}, "load_time_ms": 11.465, "num_steps_sampled": 3315011}, "timesteps_since_restore": 3315011, "time_total_s": 2382.1444556713104, "episodes_total": 1677, "done": false, "episode_len_mean": 694.19, "timesteps_this_iter": 36428, "iterations_since_restore": 89, "node_ip": "10.138.0.2", "time_since_restore": 2382.1444556713104, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 89, "episode_reward_max": 739.661198174732, "timestamp": 1557257773, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.358184566804521, "system_level_velocity_max": 17.496149856208568, "outflow_rate_min": 700.1541696117157, "outflow_rate_mean": 1136.4153343834298, "outflow_rate_max": 1274.8345534465536, "cost2_min": -126.81101327146493, "system_level_velocity_mean": 12.200238559433389, "cost2_max": -38.05633612776134, "cost1_max": 418.3649627676328, "cost1_min": 79.94747837691007, "cost2_mean": -102.63343927109355, "cost1_mean": 316.19487411868175}, "episode_reward_mean": 632.1676070709835}
{"date": "2019-05-07_19-36-40", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227f0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59225c0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922940>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3350768, "time_this_iter_s": 26.95553231239319, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 132.8146639876946, "info": {"num_steps_trained": 3350768, "update_time_ms": 8.171, "sample_time_ms": 16360.238, "grad_time_ms": 8849.312, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 14.034104347229004, "total_loss": 14.0275239944458, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009422936476767063, "entropy": 1.1339820623397827, "vf_explained_var": 0.8901313543319702, "kl": 0.018959295004606247}, "load_time_ms": 11.513, "num_steps_sampled": 3350768}, "timesteps_since_restore": 3350768, "time_total_s": 2409.0999879837036, "episodes_total": 1698, "done": false, "episode_len_mean": 694.19, "timesteps_this_iter": 35757, "iterations_since_restore": 90, "node_ip": "10.138.0.2", "time_since_restore": 2409.0999879837036, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 90, "episode_reward_max": 739.661198174732, "timestamp": 1557257800, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.358184566804521, "system_level_velocity_max": 17.496149856208568, "outflow_rate_min": 700.1541696117157, "outflow_rate_mean": 1137.1872304513618, "outflow_rate_max": 1271.4775272727272, "cost2_min": -126.81101327146493, "system_level_velocity_mean": 12.154553375679809, "cost2_max": -38.05633612776134, "cost1_max": 418.3649627676328, "cost1_min": 79.94747837691007, "cost2_mean": -103.0735658905474, "cost1_mean": 314.79927028047774}, "episode_reward_mean": 632.1844706863717}
{"date": "2019-05-07_19-37-04", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920390>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920cc0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920438>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3386783, "time_this_iter_s": 24.586639165878296, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 132.8146639876946, "info": {"num_steps_trained": 3386783, "update_time_ms": 8.194, "sample_time_ms": 16364.879, "grad_time_ms": 8803.942, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 10.630640029907227, "total_loss": 10.623810768127441, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009319152683019638, "entropy": 1.1533863544464111, "vf_explained_var": 0.9267434477806091, "kl": 0.016591109335422516}, "load_time_ms": 11.551, "num_steps_sampled": 3386783}, "timesteps_since_restore": 3386783, "time_total_s": 2433.686627149582, "episodes_total": 1718, "done": false, "episode_len_mean": 694.19, "timesteps_this_iter": 36015, "iterations_since_restore": 91, "node_ip": "10.138.0.2", "time_since_restore": 2433.686627149582, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 91, "episode_reward_max": 730.9519308961266, "timestamp": 1557257824, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.358184566804521, "system_level_velocity_max": 17.496149856208568, "outflow_rate_min": 700.1541696117157, "outflow_rate_mean": 1132.9919826032099, "outflow_rate_max": 1271.4775272727272, "cost2_min": -127.77510627001385, "system_level_velocity_mean": 12.119990273527824, "cost2_max": -38.05633612776134, "cost1_max": 418.3649627676328, "cost1_min": 79.94747837691007, "cost2_mean": -102.34872793021174, "cost1_mean": 313.49297360912624}, "episode_reward_mean": 625.1002569117782}
{"date": "2019-05-07_19-37-30", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920518>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920978>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920470>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3422101, "time_this_iter_s": 26.005523920059204, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 32.895523433059125, "info": {"num_steps_trained": 3422101, "update_time_ms": 8.374, "sample_time_ms": 16537.281, "grad_time_ms": 8754.605, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 13.034160614013672, "total_loss": 13.02807903289795, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008955137804150581, "entropy": 1.1469060182571411, "vf_explained_var": 0.9035531282424927, "kl": 0.019166411831974983}, "load_time_ms": 11.536, "num_steps_sampled": 3422101}, "timesteps_since_restore": 3422101, "time_total_s": 2459.692151069641, "episodes_total": 1739, "done": false, "episode_len_mean": 689.31, "timesteps_this_iter": 35318, "iterations_since_restore": 92, "node_ip": "10.138.0.2", "time_since_restore": 2459.692151069641, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 92, "episode_reward_max": 748.3780112208574, "timestamp": 1557257850, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.358184566804521, "system_level_velocity_max": 19.141160374981062, "outflow_rate_min": 434.8881083181304, "outflow_rate_mean": 1129.214460613582, "outflow_rate_max": 1227.5143792207791, "cost2_min": -127.77510627001385, "system_level_velocity_mean": 12.076545761035932, "cost2_max": -13.933667737428989, "cost1_max": 418.3649627676328, "cost1_min": 17.815119119365015, "cost2_mean": -101.95767193412257, "cost1_mean": 309.00339606263964}, "episode_reward_mean": 619.7751745353498}
{"date": "2019-05-07_19-37-55", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58efd68>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591aba8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950550>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3458081, "time_this_iter_s": 24.779818058013916, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 32.895523433059125, "info": {"num_steps_trained": 3458081, "update_time_ms": 8.393, "sample_time_ms": 16541.748, "grad_time_ms": 8684.789, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 14.779808044433594, "total_loss": 14.774789810180664, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007490459363907576, "entropy": 1.1318598985671997, "vf_explained_var": 0.8810731172561646, "kl": 0.016478708013892174}, "load_time_ms": 11.283, "num_steps_sampled": 3458081}, "timesteps_since_restore": 3458081, "time_total_s": 2484.471969127655, "episodes_total": 1760, "done": false, "episode_len_mean": 680.2, "timesteps_this_iter": 35980, "iterations_since_restore": 93, "node_ip": "10.138.0.2", "time_since_restore": 2484.471969127655, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 93, "episode_reward_max": 748.3780112208574, "timestamp": 1557257875, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.584707529317061, "system_level_velocity_max": 19.141160374981062, "outflow_rate_min": 434.8881083181304, "outflow_rate_mean": 1131.4860990370048, "outflow_rate_max": 1252.2200019980019, "cost2_min": -127.77510627001385, "system_level_velocity_mean": 12.306139561530456, "cost2_max": -13.933667737428989, "cost1_max": 418.3649627676328, "cost1_min": 17.815119119365015, "cost2_mean": -101.0300521725809, "cost1_mean": 309.79632986382353}, "episode_reward_mean": 619.3107111306849}
{"date": "2019-05-07_19-38-20", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922940>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922d30>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59224e0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3494088, "time_this_iter_s": 24.689436674118042, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 32.895523433059125, "info": {"num_steps_trained": 3494088, "update_time_ms": 8.397, "sample_time_ms": 16529.759, "grad_time_ms": 8665.35, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 11.217204093933105, "total_loss": 11.212199211120605, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007509391289204359, "entropy": 1.1221189498901367, "vf_explained_var": 0.9096415638923645, "kl": 0.01669384352862835}, "load_time_ms": 10.701, "num_steps_sampled": 3494088}, "timesteps_since_restore": 3494088, "time_total_s": 2509.161405801773, "episodes_total": 1780, "done": false, "episode_len_mean": 680.2, "timesteps_this_iter": 36007, "iterations_since_restore": 94, "node_ip": "10.138.0.2", "time_since_restore": 2509.161405801773, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 94, "episode_reward_max": 748.3780112208574, "timestamp": 1557257900, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.584707529317061, "system_level_velocity_max": 19.141160374981062, "outflow_rate_min": 434.8881083181304, "outflow_rate_mean": 1138.0230941379039, "outflow_rate_max": 1252.2200019980019, "cost2_min": -127.77510627001385, "system_level_velocity_mean": 12.38888180583305, "cost2_max": -13.933667737428989, "cost1_max": 388.74170929240705, "cost1_min": 17.815119119365015, "cost2_mean": -102.01263126513591, "cost1_mean": 311.7673351877014}, "episode_reward_mean": 618.5245440450091}
{"date": "2019-05-07_19-38-45", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920da0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59202b0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920898>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3529803, "time_this_iter_s": 25.358916997909546, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 32.895523433059125, "info": {"num_steps_trained": 3529803, "update_time_ms": 8.309, "sample_time_ms": 16521.092, "grad_time_ms": 8702.297, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 14.605050086975098, "total_loss": 14.60037612915039, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007283159531652927, "entropy": 1.1109217405319214, "vf_explained_var": 0.8860485553741455, "kl": 0.017394933849573135}, "load_time_ms": 10.471, "num_steps_sampled": 3529803}, "timesteps_since_restore": 3529803, "time_total_s": 2534.5203227996826, "episodes_total": 1800, "done": false, "episode_len_mean": 680.2, "timesteps_this_iter": 35715, "iterations_since_restore": 95, "node_ip": "10.138.0.2", "time_since_restore": 2534.5203227996826, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 95, "episode_reward_max": 748.3780112208574, "timestamp": 1557257925, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.584707529317061, "system_level_velocity_max": 19.141160374981062, "outflow_rate_min": 434.8881083181304, "outflow_rate_mean": 1144.4348484435984, "outflow_rate_max": 1252.2200019980019, "cost2_min": -131.5885393258115, "system_level_velocity_mean": 12.401911254391315, "cost2_max": -13.933667737428989, "cost1_max": 388.74170929240705, "cost1_min": 17.815119119365015, "cost2_mean": -103.71845121805094, "cost1_mean": 312.05386141807134}, "episode_reward_mean": 621.2936492504948}
{"date": "2019-05-07_19-39-10", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a590f198>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a58ef9e8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5950550>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3565840, "time_this_iter_s": 24.899850130081177, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 32.895523433059125, "info": {"num_steps_trained": 3565840, "update_time_ms": 8.489, "sample_time_ms": 16513.001, "grad_time_ms": 8649.412, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 11.052969932556152, "total_loss": 11.046606063842773, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00885775126516819, "entropy": 1.1215801239013672, "vf_explained_var": 0.9241741299629211, "kl": 0.016623584553599358}, "load_time_ms": 10.341, "num_steps_sampled": 3565840}, "timesteps_since_restore": 3565840, "time_total_s": 2559.420172929764, "episodes_total": 1820, "done": false, "episode_len_mean": 680.2, "timesteps_this_iter": 36037, "iterations_since_restore": 96, "node_ip": "10.138.0.2", "time_since_restore": 2559.420172929764, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 96, "episode_reward_max": 748.3780112208574, "timestamp": 1557257950, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.18077282415258, "system_level_velocity_max": 19.141160374981062, "outflow_rate_min": 434.8881083181304, "outflow_rate_mean": 1152.1555204635783, "outflow_rate_max": 1288.0780279720282, "cost2_min": -131.5885393258115, "system_level_velocity_mean": 12.486527442025157, "cost2_max": -13.933667737428989, "cost1_max": 395.7860083017629, "cost1_min": 17.815119119365015, "cost2_mean": -104.00668672382609, "cost1_mean": 314.4115298781079}, "episode_reward_mean": 623.7751717669704}
{"date": "2019-05-07_19-39-35", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922fd0>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5922080>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59227f0>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3601869, "time_this_iter_s": 24.711162567138672, "pid": 42991, "episodes_this_iter": 21, "episode_reward_min": 44.58891532902354, "info": {"num_steps_trained": 3601869, "update_time_ms": 8.306, "sample_time_ms": 16507.038, "grad_time_ms": 8639.744, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 14.569432258605957, "total_loss": 14.562548637390137, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009496105834841728, "entropy": 1.102305293083191, "vf_explained_var": 0.8835729360580444, "kl": 0.017425404861569405}, "load_time_ms": 10.251, "num_steps_sampled": 3601869}, "timesteps_since_restore": 3601869, "time_total_s": 2584.1313354969025, "episodes_total": 1841, "done": false, "episode_len_mean": 677.77, "timesteps_this_iter": 36029, "iterations_since_restore": 97, "node_ip": "10.138.0.2", "time_since_restore": 2584.1313354969025, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 97, "episode_reward_max": 728.483994800677, "timestamp": 1557257975, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.18077282415258, "system_level_velocity_max": 18.482212797956425, "outflow_rate_min": 447.59802954020415, "outflow_rate_mean": 1152.2490882922584, "outflow_rate_max": 1288.0780279720282, "cost2_min": -131.5885393258115, "system_level_velocity_mean": 12.57011327956338, "cost2_max": -19.59248046212727, "cost1_max": 400.3561420305135, "cost1_min": 24.240202374249844, "cost2_mean": -103.62099247921334, "cost1_mean": 314.4985884156359}, "episode_reward_mean": 623.747424098093}
{"date": "2019-05-07_19-39-59", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920080>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920d30>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920a90>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3637662, "time_this_iter_s": 24.372938871383667, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 47.637647930254296, "info": {"num_steps_trained": 3637662, "update_time_ms": 8.235, "sample_time_ms": 16407.705, "grad_time_ms": 8633.0, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 14.993927001953125, "total_loss": 14.987916946411133, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008434120565652847, "entropy": 1.110804557800293, "vf_explained_var": 0.8867761492729187, "kl": 0.016156049445271492}, "load_time_ms": 10.266, "num_steps_sampled": 3637662}, "timesteps_since_restore": 3637662, "time_total_s": 2608.504274368286, "episodes_total": 1861, "done": false, "episode_len_mean": 684.43, "timesteps_this_iter": 35793, "iterations_since_restore": 98, "node_ip": "10.138.0.2", "time_since_restore": 2608.504274368286, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 98, "episode_reward_max": 736.5602302221562, "timestamp": 1557257999, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.18077282415258, "system_level_velocity_max": 18.482212797956425, "outflow_rate_min": 462.8775347460858, "outflow_rate_mean": 1158.3820357216098, "outflow_rate_max": 1288.0780279720282, "cost2_min": -131.5885393258115, "system_level_velocity_mean": 12.528515160943181, "cost2_max": -20.260320236910538, "cost1_max": 400.3561420305135, "cost1_min": 27.556455713311106, "cost2_mean": -103.30563069808915, "cost1_mean": 317.6172450636149}, "episode_reward_mean": 627.8717564409437}
{"date": "2019-05-07_19-40-24", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a5920550>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59207f0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59200b8>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3673239, "time_this_iter_s": 24.336493730545044, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 47.637647930254296, "info": {"num_steps_trained": 3673239, "update_time_ms": 8.129, "sample_time_ms": 16399.503, "grad_time_ms": 8569.561, "default": {"cur_kl_coeff": 0.1499999761581421, "vf_loss": 13.641153335571289, "total_loss": 13.634441375732422, "cur_lr": 0.0005000000237487257, "policy_loss": -0.009210902266204357, "entropy": 1.1006966829299927, "vf_explained_var": 0.8900823593139648, "kl": 0.016658738255500793}, "load_time_ms": 10.275, "num_steps_sampled": 3673239}, "timesteps_since_restore": 3673239, "time_total_s": 2632.840768098831, "episodes_total": 1881, "done": false, "episode_len_mean": 684.43, "timesteps_this_iter": 35577, "iterations_since_restore": 99, "node_ip": "10.138.0.2", "time_since_restore": 2632.840768098831, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 99, "episode_reward_max": 736.5602302221562, "timestamp": 1557258024, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.18077282415258, "system_level_velocity_max": 18.482212797956425, "outflow_rate_min": 462.8775347460858, "outflow_rate_mean": 1161.5787596696618, "outflow_rate_max": 1288.0780279720282, "cost2_min": -131.5885393258115, "system_level_velocity_mean": 12.540449139522924, "cost2_max": -20.260320236910538, "cost1_max": 400.3561420305135, "cost1_min": 27.556455713311106, "cost2_mean": -103.0445485881404, "cost1_mean": 317.76411591577283}, "episode_reward_mean": 626.5415716398567}
{"date": "2019-05-07_19-40-48", "config": {"num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "sgd_minibatch_size": 128, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "input_evaluation": null, "train_batch_size": 30000, "monitor": false, "num_gpus_per_worker": 0, "num_sgd_iter": 10, "use_gae": true, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "horizon": 1500, "optimizer": {}, "straggler_mitigation": false, "vf_share_layers": false, "output": null, "kl_coeff": 0.2, "simple_optimizer": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "log_level": "INFO", "compress_observations": false, "num_cpus_for_driver": 1, "batch_mode": "truncate_episodes", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "vf_clip_param": 1000000.0, "preprocessor_pref": "deepmind", "lr_schedule": null, "gamma": 0.99, "observation_filter": "NoFilter", "clip_rewards": null, "synchronize_filters": true, "input": "sampler", "kl_target": 0.01, "model": {"framestack": true, "channel_major": false, "fcnet_activation": "tanh", "squash_to_range": false, "dim": 84, "custom_options": {}, "zero_mean": true, "conv_filters": null, "max_seq_len": 20, "fcnet_hiddens": [100, 50, 25], "lstm_use_prev_action_reward": false, "custom_model": null, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "free_log_std": false, "use_lstm": false, "lstm_cell_size": 256}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_batch_size": 200, "lambda": 0.97, "output_compress_columns": ["obs", "new_obs"], "num_workers": 20, "clip_param": 0.3, "sample_async": false, "clip_actions": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a518>", "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f43a59226a0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f43a591a358>"}, "custom_resources_per_worker": {}, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "lr": 0.0005}, "timesteps_total": 3709194, "time_this_iter_s": 24.422993659973145, "pid": 42991, "episodes_this_iter": 20, "episode_reward_min": 47.637647930254296, "info": {"num_steps_trained": 3709194, "update_time_ms": 8.029, "sample_time_ms": 16319.366, "grad_time_ms": 8396.854, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_loss": 13.72333812713623, "total_loss": 13.718709945678711, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007323401514440775, "entropy": 1.1088330745697021, "vf_explained_var": 0.896041989326477, "kl": 0.01796639710664749}, "load_time_ms": 10.326, "num_steps_sampled": 3709194}, "timesteps_since_restore": 3709194, "time_total_s": 2657.2637617588043, "episodes_total": 1901, "done": true, "episode_len_mean": 684.43, "timesteps_this_iter": 35955, "iterations_since_restore": 100, "node_ip": "10.138.0.2", "time_since_restore": 2657.2637617588043, "hostname": "flow-main", "num_metric_batches_dropped": 0, "training_iteration": 100, "episode_reward_max": 736.5602302221562, "timestamp": 1557258048, "experiment_id": "5725e3aa5e244fbe8786613451f16d0c", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_min": 9.18077282415258, "system_level_velocity_max": 18.482212797956425, "outflow_rate_min": 462.8775347460858, "outflow_rate_mean": 1162.7792827106211, "outflow_rate_max": 1288.0780279720282, "cost2_min": -123.38637761652978, "system_level_velocity_mean": 12.55879418778014, "cost2_max": -20.260320236910538, "cost1_max": 400.3561420305135, "cost1_min": 27.556455713311106, "cost2_mean": -102.366267499513, "cost1_mean": 318.0566336073336}, "episode_reward_mean": 626.8898105229265}
