{"custom_metrics": {"cost1_max": 302.8485384080269, "system_level_velocity_min": 9.030931672336399, "outflow_rate_mean": 608.3211428571428, "cost2_mean": -94.96404323305066, "cost1_min": 226.89426690118552, "cost2_max": -84.5070329723257, "cost1_mean": 264.8714026546062, "system_level_velocity_max": 11.615852707108163, "outflow_rate_min": 475.8106285714286, "system_level_velocity_mean": 10.32339218972228, "cost2_min": -105.42105349377562, "outflow_rate_max": 740.8316571428571}, "time_since_restore": 51.22115874290466, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 51.22115874290466, "iterations_since_restore": 1, "timestamp": 1557250746, "training_iteration": 1, "episodes_total": 2, "policy_reward_mean": {}, "timesteps_total": 46533, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 51.22115874290466, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162ce550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162ce4e0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162ce518>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 2, "pid": 288, "episode_reward_mean": 395.1842856982708, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 46533, "timesteps_since_restore": 46533, "episode_reward_min": 335.25700868775635, "info": {"sample_time_ms": 39562.235, "update_time_ms": 1272.886, "num_steps_trained": 46533, "grad_time_ms": 10208.437, "load_time_ms": 54.908, "default": {"vf_loss": 1.2324565649032593, "vf_explained_var": 0.9150592684745789, "kl": 0.0011315374867990613, "policy_loss": -0.0011186875635758042, "cur_lr": 0.0005000000237487257, "total_loss": 1.2315641641616821, "entropy": 1.4252667427062988, "cur_kl_coeff": 0.20000003278255463}, "num_steps_sampled": 46533}, "episode_reward_max": 455.11156270878524, "hostname": "flow-main", "date": "2019-05-07_17-39-06"}
{"custom_metrics": {"cost1_max": 343.2017517831659, "system_level_velocity_min": 6.608355113481998, "outflow_rate_mean": 557.1178560296846, "cost2_mean": -102.11309408502768, "cost1_min": 166.3490419653583, "cost2_max": -79.86589474621482, "cost1_mean": 239.99752610692036, "system_level_velocity_max": 13.257310339059577, "outflow_rate_min": 273.89840000000004, "system_level_velocity_mean": 9.24967009999993, "cost2_min": -114.0903274499336, "outflow_rate_max": 893.4834805194805}, "time_since_restore": 79.54005098342896, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 79.54005098342896, "iterations_since_restore": 2, "timestamp": 1557250775, "training_iteration": 2, "episodes_total": 21, "policy_reward_mean": {}, "timesteps_total": 92774, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 28.318892240524292, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c4a8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c4e0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 19, "pid": 288, "episode_reward_mean": 394.19378823502495, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 46241, "timesteps_since_restore": 92774, "episode_reward_min": 334.3985632734139, "info": {"sample_time_ms": 28854.313, "update_time_ms": 640.373, "num_steps_trained": 92774, "grad_time_ms": 10128.97, "load_time_ms": 35.956, "default": {"vf_loss": 0.7271645069122314, "vf_explained_var": 0.9738024473190308, "kl": 0.003296267008408904, "policy_loss": -0.0011495373910292983, "cur_lr": 0.0005000000237487257, "total_loss": 0.7263445854187012, "entropy": 1.4241523742675781, "cur_kl_coeff": 0.10000001639127731}, "num_steps_sampled": 92774}, "episode_reward_max": 485.0052436051729, "hostname": "flow-main", "date": "2019-05-07_17-39-35"}
{"custom_metrics": {"cost1_max": 343.2017517831659, "system_level_velocity_min": 6.608355113481998, "outflow_rate_mean": 518.0251206114184, "cost2_mean": -100.75185226896279, "cost1_min": 35.80687609745235, "cost2_max": -25.914984605565362, "cost1_mean": 227.47422054123658, "system_level_velocity_max": 18.451396790945747, "outflow_rate_min": 273.89840000000004, "system_level_velocity_mean": 9.239175555911878, "cost2_min": -118.18385862616316, "outflow_rate_max": 893.4834805194805}, "time_since_restore": 107.23080348968506, "episode_len_mean": 684.2439024390244, "num_metric_batches_dropped": 0, "time_total_s": 107.23080348968506, "iterations_since_restore": 3, "timestamp": 1557250802, "training_iteration": 3, "episodes_total": 41, "policy_reward_mean": {}, "timesteps_total": 133234, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 27.690752506256104, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262908>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162628d0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "pid": 288, "episode_reward_mean": 372.60358243273737, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 40460, "timesteps_since_restore": 133234, "episode_reward_min": 60.930881710054116, "info": {"sample_time_ms": 25396.041, "update_time_ms": 429.67, "num_steps_trained": 133234, "grad_time_ms": 9788.731, "load_time_ms": 28.165, "default": {"vf_loss": 0.9566171169281006, "vf_explained_var": 0.9799401164054871, "kl": 0.006341578904539347, "policy_loss": -0.003721456741914153, "cur_lr": 0.0005000000237487257, "total_loss": 0.9532127976417542, "entropy": 1.4035414457321167, "cur_kl_coeff": 0.05000000819563866}, "num_steps_sampled": 133234}, "episode_reward_max": 485.0052436051729, "hostname": "flow-main", "date": "2019-05-07_17-40-02"}
{"custom_metrics": {"cost1_max": 343.2017517831659, "system_level_velocity_min": 6.608355113481998, "outflow_rate_mean": 528.1951137248544, "cost2_mean": -101.09497372944246, "cost1_min": 35.80687609745235, "cost2_max": -25.914984605565362, "cost1_mean": 232.0169485873801, "system_level_velocity_max": 18.451396790945747, "outflow_rate_min": 273.89840000000004, "system_level_velocity_mean": 9.366516848840968, "cost2_min": -118.18385862616316, "outflow_rate_max": 893.4834805194805}, "time_since_restore": 135.18449759483337, "episode_len_mean": 686.2553191489362, "num_metric_batches_dropped": 0, "time_total_s": 135.18449759483337, "iterations_since_restore": 4, "timestamp": 1557250830, "training_iteration": 4, "episodes_total": 47, "policy_reward_mean": {}, "timesteps_total": 180687, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 27.953694105148315, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273630>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162736a0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 6, "pid": 288, "episode_reward_mean": 376.2085130847081, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 47453, "timesteps_since_restore": 180687, "episode_reward_min": 60.930881710054116, "info": {"sample_time_ms": 23421.569, "update_time_ms": 324.772, "num_steps_trained": 180687, "grad_time_ms": 9926.073, "load_time_ms": 25.062, "default": {"vf_loss": 0.4729141592979431, "vf_explained_var": 0.9880416989326477, "kl": 0.0044529251754283905, "policy_loss": -0.0012639571214094758, "cur_lr": 0.0005000000237487257, "total_loss": 0.47187286615371704, "entropy": 1.3997799158096313, "cur_kl_coeff": 0.05000000447034836}, "num_steps_sampled": 180687}, "episode_reward_max": 496.44465820687356, "hostname": "flow-main", "date": "2019-05-07_17-40-30"}
{"custom_metrics": {"cost1_max": 343.2017517831659, "system_level_velocity_min": 6.608355113481998, "outflow_rate_mean": 512.3807169365738, "cost2_mean": -99.40079088715564, "cost1_min": 35.78144739044711, "cost2_max": -25.914984605565362, "cost1_mean": 227.28670049055026, "system_level_velocity_max": 19.01555329625962, "outflow_rate_min": 273.89840000000004, "system_level_velocity_mean": 9.33914371024919, "cost2_min": -118.18385862616316, "outflow_rate_max": 897.9508000000001}, "time_since_restore": 165.48823928833008, "episode_len_mean": 680.7014925373135, "num_metric_batches_dropped": 0, "time_total_s": 165.48823928833008, "iterations_since_restore": 5, "timestamp": 1557250861, "training_iteration": 5, "episodes_total": 67, "policy_reward_mean": {}, "timesteps_total": 226284, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 30.303741693496704, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273eb8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273e10>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "pid": 288, "episode_reward_mean": 366.8435164365128, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 45597, "timesteps_since_restore": 226284, "episode_reward_min": 55.718720576202266, "info": {"sample_time_ms": 22524.58, "update_time_ms": 261.726, "num_steps_trained": 226284, "grad_time_ms": 10187.864, "load_time_ms": 22.71, "default": {"vf_loss": 1.1432639360427856, "vf_explained_var": 0.9844260811805725, "kl": 0.0072184172458946705, "policy_loss": -0.0032260874286293983, "cur_lr": 0.0005000000237487257, "total_loss": 1.1402183771133423, "entropy": 1.4012359380722046, "cur_kl_coeff": 0.02500000409781933}, "num_steps_sampled": 226284}, "episode_reward_max": 496.44465820687356, "hostname": "flow-main", "date": "2019-05-07_17-41-01"}
{"custom_metrics": {"cost1_max": 343.2017517831659, "system_level_velocity_min": 6.608355113481998, "outflow_rate_mean": 515.9093184472258, "cost2_mean": -98.51653896077316, "cost1_min": 35.78144739044711, "cost2_max": -25.914984605565362, "cost1_mean": 230.27612968768483, "system_level_velocity_max": 19.01555329625962, "outflow_rate_min": 273.89840000000004, "system_level_velocity_mean": 9.364711222886323, "cost2_min": -118.86762004296656, "outflow_rate_max": 897.9508000000001}, "time_since_restore": 191.77988195419312, "episode_len_mean": 684.2317073170732, "num_metric_batches_dropped": 0, "time_total_s": 191.77988195419312, "iterations_since_restore": 6, "timestamp": 1557250887, "training_iteration": 6, "episodes_total": 82, "policy_reward_mean": {}, "timesteps_total": 268612, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 26.291642665863037, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cd68>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c320>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 15, "pid": 288, "episode_reward_mean": 369.4940642651637, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 42328, "timesteps_since_restore": 268612, "episode_reward_min": 55.718720576202266, "info": {"sample_time_ms": 21454.703, "update_time_ms": 219.736, "num_steps_trained": 268612, "grad_time_ms": 10171.96, "load_time_ms": 20.968, "default": {"vf_loss": 0.8244403004646301, "vf_explained_var": 0.9906087517738342, "kl": 0.010261960327625275, "policy_loss": -0.0035329852253198624, "cur_lr": 0.0005000000237487257, "total_loss": 0.8211638331413269, "entropy": 1.3991693258285522, "cur_kl_coeff": 0.025000005960464478}, "num_steps_sampled": 268612}, "episode_reward_max": 510.14658525704726, "hostname": "flow-main", "date": "2019-05-07_17-41-27"}
{"custom_metrics": {"cost1_max": 386.9629839144536, "system_level_velocity_min": 6.560681242340018, "outflow_rate_mean": 539.7678829419463, "cost2_mean": -96.2621130008743, "cost1_min": 20.89858902024802, "cost2_max": -18.833547317622653, "cost1_mean": 226.69574486488946, "system_level_velocity_max": 19.028309171338613, "outflow_rate_min": 273.89840000000004, "system_level_velocity_mean": 9.515387893378497, "cost2_min": -118.86762004296656, "outflow_rate_max": 1120.0803508491508}, "time_since_restore": 217.40260338783264, "episode_len_mean": 673.73, "num_metric_batches_dropped": 0, "time_total_s": 217.40260338783264, "iterations_since_restore": 7, "timestamp": 1557250913, "training_iteration": 7, "episodes_total": 102, "policy_reward_mean": {}, "timesteps_total": 308669, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 25.622721433639526, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162737f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273f28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273710>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "pid": 288, "episode_reward_mean": 368.8884435700877, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 40057, "timesteps_since_restore": 308669, "episode_reward_min": 38.085142932900915, "info": {"sample_time_ms": 20660.016, "update_time_ms": 189.835, "num_steps_trained": 308669, "grad_time_ms": 10091.955, "load_time_ms": 20.185, "default": {"vf_loss": 2.72464656829834, "vf_explained_var": 0.9654051661491394, "kl": 0.008569149300456047, "policy_loss": -0.0018973812693729997, "cur_lr": 0.0005000000237487257, "total_loss": 2.722963571548462, "entropy": 1.3774443864822388, "cur_kl_coeff": 0.02500000409781933}, "num_steps_sampled": 308669}, "episode_reward_max": 633.9236388305892, "hostname": "flow-main", "date": "2019-05-07_17-41-53"}
{"custom_metrics": {"cost1_max": 386.9629839144536, "system_level_velocity_min": 6.560681242340018, "outflow_rate_mean": 577.4652113575307, "cost2_mean": -94.56097132654538, "cost1_min": 20.89858902024802, "cost2_max": -18.833547317622653, "cost1_mean": 226.1026507872191, "system_level_velocity_max": 19.028309171338613, "outflow_rate_min": 277.3649142857143, "system_level_velocity_mean": 9.498635607892135, "cost2_min": -118.86762004296656, "outflow_rate_max": 1120.0803508491508}, "time_since_restore": 241.09217238426208, "episode_len_mean": 673.73, "num_metric_batches_dropped": 0, "time_total_s": 241.09217238426208, "iterations_since_restore": 8, "timestamp": 1557250936, "training_iteration": 8, "episodes_total": 120, "policy_reward_mean": {}, "timesteps_total": 347087, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 23.689568996429443, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262e80>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262fd0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 18, "pid": 288, "episode_reward_mean": 373.5798545747675, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38418, "timesteps_since_restore": 347087, "episode_reward_min": 38.085142932900915, "info": {"sample_time_ms": 19951.222, "update_time_ms": 167.102, "num_steps_trained": 347087, "grad_time_ms": 9906.432, "load_time_ms": 19.122, "default": {"vf_loss": 3.0734877586364746, "vf_explained_var": 0.9331358075141907, "kl": 0.015577942132949829, "policy_loss": -0.003897029208019376, "cur_lr": 0.0005000000237487257, "total_loss": 3.0699803829193115, "entropy": 1.3969203233718872, "cur_kl_coeff": 0.02500000409781933}, "num_steps_sampled": 347087}, "episode_reward_max": 633.9236388305892, "hostname": "flow-main", "date": "2019-05-07_17-42-16"}
{"custom_metrics": {"cost1_max": 386.9629839144536, "system_level_velocity_min": 6.560681242340018, "outflow_rate_mean": 630.5581833873687, "cost2_mean": -89.70440297502479, "cost1_min": 20.89858902024802, "cost2_max": -18.833547317622653, "cost1_mean": 228.8629072061279, "system_level_velocity_max": 19.028309171338613, "outflow_rate_min": 277.3649142857143, "system_level_velocity_mean": 9.430830860364257, "cost2_min": -118.86762004296656, "outflow_rate_max": 1120.0803508491508}, "time_since_restore": 265.85939621925354, "episode_len_mean": 680.19, "num_metric_batches_dropped": 0, "time_total_s": 265.85939621925354, "iterations_since_restore": 9, "timestamp": 1557250961, "training_iteration": 9, "episodes_total": 137, "policy_reward_mean": {}, "timesteps_total": 382915, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 24.767223834991455, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273d30>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273ef0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 17, "pid": 288, "episode_reward_mean": 377.9191561638908, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 35828, "timesteps_since_restore": 382915, "episode_reward_min": 38.085142932900915, "info": {"sample_time_ms": 19516.506, "update_time_ms": 149.375, "num_steps_trained": 382915, "grad_time_ms": 9765.887, "load_time_ms": 18.329, "default": {"vf_loss": 3.725135326385498, "vf_explained_var": 0.9439855813980103, "kl": 0.028577471151947975, "policy_loss": -0.007904437370598316, "cur_lr": 0.0005000000237487257, "total_loss": 3.7179458141326904, "entropy": 1.3663623332977295, "cur_kl_coeff": 0.02500000223517418}, "num_steps_sampled": 382915}, "episode_reward_max": 633.9236388305892, "hostname": "flow-main", "date": "2019-05-07_17-42-41"}
{"custom_metrics": {"cost1_max": 386.9629839144536, "system_level_velocity_min": 6.560681242340018, "outflow_rate_mean": 699.0101384905461, "cost2_mean": -86.24740681849738, "cost1_min": 20.89858902024802, "cost2_max": -18.833547317622653, "cost1_mean": 232.53347149825666, "system_level_velocity_max": 19.028309171338613, "outflow_rate_min": 304.3289142857143, "system_level_velocity_mean": 9.373129126125797, "cost2_min": -123.2726405554722, "outflow_rate_max": 1120.0803508491508}, "time_since_restore": 290.87145256996155, "episode_len_mean": 686.66, "num_metric_batches_dropped": 0, "time_total_s": 290.87145256996155, "iterations_since_restore": 10, "timestamp": 1557250986, "training_iteration": 10, "episodes_total": 158, "policy_reward_mean": {}, "timesteps_total": 419088, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 25.012056350708008, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162733c8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273da0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 21, "pid": 288, "episode_reward_mean": 393.1424952050319, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36173, "timesteps_since_restore": 419088, "episode_reward_min": 38.085142932900915, "info": {"sample_time_ms": 19209.463, "update_time_ms": 135.233, "num_steps_trained": 419088, "grad_time_ms": 9637.031, "load_time_ms": 17.763, "default": {"vf_loss": 5.075869560241699, "vf_explained_var": 0.8871102929115295, "kl": 0.02712719514966011, "policy_loss": -0.0074186669662594795, "cur_lr": 0.0005000000237487257, "total_loss": 5.0694684982299805, "entropy": 1.357584834098816, "cur_kl_coeff": 0.03749999776482582}, "num_steps_sampled": 419088}, "episode_reward_max": 633.9236388305892, "hostname": "flow-main", "date": "2019-05-07_17-43-06"}
{"custom_metrics": {"cost1_max": 386.9629839144536, "system_level_velocity_min": 6.560681242340018, "outflow_rate_mean": 771.3522370971644, "cost2_mean": -85.28806067100821, "cost1_min": 20.89858902024802, "cost2_max": -18.101369507463485, "cost1_mean": 237.02722198856043, "system_level_velocity_max": 19.028309171338613, "outflow_rate_min": 359.0809714285714, "system_level_velocity_mean": 9.687965853218804, "cost2_min": -131.20648812231136, "outflow_rate_max": 1120.0803508491508}, "time_since_restore": 315.1226255893707, "episode_len_mean": 680.11, "num_metric_batches_dropped": 0, "time_total_s": 315.1226255893707, "iterations_since_restore": 11, "timestamp": 1557251011, "training_iteration": 11, "episodes_total": 175, "policy_reward_mean": {}, "timesteps_total": 455754, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 24.25117301940918, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cc50>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c400>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 17, "pid": 288, "episode_reward_mean": 414.0789241128831, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36666, "timesteps_since_restore": 455754, "episode_reward_min": 38.085142932900915, "info": {"sample_time_ms": 16835.686, "update_time_ms": 8.7, "num_steps_trained": 455754, "grad_time_ms": 9449.977, "load_time_ms": 13.394, "default": {"vf_loss": 5.600128173828125, "vf_explained_var": 0.9005165100097656, "kl": 0.014008608646690845, "policy_loss": -0.003562775207683444, "cur_lr": 0.0005000000237487257, "total_loss": 5.597352981567383, "entropy": 1.3052284717559814, "cur_kl_coeff": 0.05625000596046448}, "num_steps_sampled": 455754}, "episode_reward_max": 633.9236388305892, "hostname": "flow-main", "date": "2019-05-07_17-43-31"}
{"custom_metrics": {"cost1_max": 363.8722759522558, "system_level_velocity_min": 6.916137355606471, "outflow_rate_mean": 840.8476725059179, "cost2_mean": -90.17699242629872, "cost1_min": 23.73906986921425, "cost2_max": -18.101369507463485, "cost1_mean": 243.5728418819356, "system_level_velocity_max": 19.028309171338613, "outflow_rate_min": 455.1660812385978, "system_level_velocity_mean": 9.706521067392226, "cost2_min": -155.2800310448951, "outflow_rate_max": 1126.4789658341658}, "time_since_restore": 341.3770945072174, "episode_len_mean": 686.81, "num_metric_batches_dropped": 0, "time_total_s": 341.3770945072174, "iterations_since_restore": 12, "timestamp": 1557251037, "training_iteration": 12, "episodes_total": 194, "policy_reward_mean": {}, "timesteps_total": 494694, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 26.25446891784668, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162768d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276fd0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276a20>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 19, "pid": 288, "episode_reward_mean": 447.1389342822474, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38940, "timesteps_since_restore": 494694, "episode_reward_min": 38.575191873852845, "info": {"sample_time_ms": 16685.784, "update_time_ms": 8.663, "num_steps_trained": 494694, "grad_time_ms": 9394.184, "load_time_ms": 13.185, "default": {"vf_loss": 7.241833209991455, "vf_explained_var": 0.8626466989517212, "kl": 0.010042786598205566, "policy_loss": -0.0026526274159550667, "cur_lr": 0.0005000000237487257, "total_loss": 7.23974609375, "entropy": 1.2456554174423218, "cur_kl_coeff": 0.05625000223517418}, "num_steps_sampled": 494694}, "episode_reward_max": 685.5262810842867, "hostname": "flow-main", "date": "2019-05-07_17-43-57"}
{"custom_metrics": {"cost1_max": 403.145059983901, "system_level_velocity_min": 6.916137355606471, "outflow_rate_mean": 896.1382345017071, "cost2_mean": -97.81469253218529, "cost1_min": 29.559103377069807, "cost2_max": -18.101369507463485, "cost1_mean": 253.48068636699966, "system_level_velocity_max": 18.256829088380684, "outflow_rate_min": 474.26619832421153, "system_level_velocity_mean": 10.022644376667996, "cost2_min": -162.36543474375603, "outflow_rate_max": 1146.6065922077921}, "time_since_restore": 367.4545543193817, "episode_len_mean": 686.97, "num_metric_batches_dropped": 0, "time_total_s": 367.4545543193817, "iterations_since_restore": 13, "timestamp": 1557251063, "training_iteration": 13, "episodes_total": 213, "policy_reward_mean": {}, "timesteps_total": 533931, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 26.077459812164307, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276cf8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276b70>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 19, "pid": 288, "episode_reward_mean": 479.41164805081877, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 39237, "timesteps_since_restore": 533931, "episode_reward_min": 48.7650108071312, "info": {"sample_time_ms": 16524.504, "update_time_ms": 8.693, "num_steps_trained": 533931, "grad_time_ms": 9392.766, "load_time_ms": 13.255, "default": {"vf_loss": 6.616285800933838, "vf_explained_var": 0.8972370624542236, "kl": 0.008060228079557419, "policy_loss": -0.0014997958205640316, "cur_lr": 0.0005000000237487257, "total_loss": 6.615239143371582, "entropy": 1.215354561805725, "cur_kl_coeff": 0.05625000596046448}, "num_steps_sampled": 533931}, "episode_reward_max": 685.5262810842867, "hostname": "flow-main", "date": "2019-05-07_17-44-23"}
{"custom_metrics": {"cost1_max": 416.4208870458626, "system_level_velocity_min": 6.916137355606471, "outflow_rate_mean": 943.507227205981, "cost2_mean": -107.31974536633669, "cost1_min": 29.559103377069807, "cost2_max": -18.101369507463485, "cost1_mean": 260.6017755276336, "system_level_velocity_max": 18.81481931397409, "outflow_rate_min": 474.26619832421153, "system_level_velocity_mean": 10.592359961977177, "cost2_min": -171.39660460442565, "outflow_rate_max": 1198.384690909091}, "time_since_restore": 392.14495062828064, "episode_len_mean": 674.02, "num_metric_batches_dropped": 0, "time_total_s": 392.14495062828064, "iterations_since_restore": 14, "timestamp": 1557251088, "training_iteration": 14, "episodes_total": 232, "policy_reward_mean": {}, "timesteps_total": 572625, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 24.690396308898926, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276cc0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276b00>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 19, "pid": 288, "episode_reward_mean": 508.5024075098099, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38694, "timesteps_since_restore": 572625, "episode_reward_min": 48.566100918851774, "info": {"sample_time_ms": 16362.979, "update_time_ms": 8.604, "num_steps_trained": 572625, "grad_time_ms": 9229.604, "load_time_ms": 12.908, "default": {"vf_loss": 6.730175495147705, "vf_explained_var": 0.9151864051818848, "kl": 0.008314860053360462, "policy_loss": -0.002307941671460867, "cur_lr": 0.0005000000237487257, "total_loss": 6.728335380554199, "entropy": 1.203730821609497, "cur_kl_coeff": 0.05625000223517418}, "num_steps_sampled": 572625}, "episode_reward_max": 728.693678216436, "hostname": "flow-main", "date": "2019-05-07_17-44-48"}
{"custom_metrics": {"cost1_max": 420.39891085010214, "system_level_velocity_min": 7.807538458142219, "outflow_rate_mean": 979.4793155535058, "cost2_mean": -116.17851560188637, "cost1_min": 25.461726400618936, "cost2_max": -18.101369507463485, "cost1_mean": 269.78018384078206, "system_level_velocity_max": 18.978035801812208, "outflow_rate_min": 456.78891906814533, "system_level_velocity_mean": 11.085814602095757, "cost2_min": -171.39660460442565, "outflow_rate_max": 1217.2569854145856}, "time_since_restore": 416.98708415031433, "episode_len_mean": 667.4, "num_metric_batches_dropped": 0, "time_total_s": 416.98708415031433, "iterations_since_restore": 15, "timestamp": 1557251113, "training_iteration": 15, "episodes_total": 248, "policy_reward_mean": {}, "timesteps_total": 611110, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 24.84213352203369, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162628d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162626d8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262eb8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 16, "pid": 288, "episode_reward_mean": 539.8480698867855, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38485, "timesteps_since_restore": 611110, "episode_reward_min": 42.65773264592922, "info": {"sample_time_ms": 16078.154, "update_time_ms": 8.693, "num_steps_trained": 611110, "grad_time_ms": 8971.644, "load_time_ms": 13.049, "default": {"vf_loss": 6.106199264526367, "vf_explained_var": 0.9188012480735779, "kl": 0.008999145589768887, "policy_loss": -0.0020582384895533323, "cur_lr": 0.0005000000237487257, "total_loss": 6.104647159576416, "entropy": 1.2216932773590088, "cur_kl_coeff": 0.05624999850988388}, "num_steps_sampled": 611110}, "episode_reward_max": 738.2596232406502, "hostname": "flow-main", "date": "2019-05-07_17-45-13"}
{"custom_metrics": {"cost1_max": 420.39891085010214, "system_level_velocity_min": 8.463973956524816, "outflow_rate_mean": 1015.3835718000337, "cost2_mean": -125.63113579817808, "cost1_min": 25.461726400618936, "cost2_max": -20.74121799424043, "cost1_mean": 279.242981920083, "system_level_velocity_max": 18.978035801812208, "outflow_rate_min": 456.78891906814533, "system_level_velocity_mean": 11.241206253873289, "cost2_min": -171.39660460442565, "outflow_rate_max": 1221.1177718281717}, "time_since_restore": 441.25013852119446, "episode_len_mean": 673.95, "num_metric_batches_dropped": 0, "time_total_s": 441.25013852119446, "iterations_since_restore": 16, "timestamp": 1557251137, "training_iteration": 16, "episodes_total": 266, "policy_reward_mean": {}, "timesteps_total": 649789, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 24.263054370880127, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276c88>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276710>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 18, "pid": 288, "episode_reward_mean": 570.7062078162259, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38679, "timesteps_since_restore": 649789, "episode_reward_min": 42.65773264592922, "info": {"sample_time_ms": 15978.412, "update_time_ms": 8.736, "num_steps_trained": 649789, "grad_time_ms": 8867.342, "load_time_ms": 13.071, "default": {"vf_loss": 6.270486831665039, "vf_explained_var": 0.921716034412384, "kl": 0.007248010020703077, "policy_loss": -0.0006475454429164529, "cur_lr": 0.0005000000237487257, "total_loss": 6.270246505737305, "entropy": 1.1985418796539307, "cur_kl_coeff": 0.05625000223517418}, "num_steps_sampled": 649789}, "episode_reward_max": 738.2596232406502, "hostname": "flow-main", "date": "2019-05-07_17-45-37"}
{"custom_metrics": {"cost1_max": 420.39891085010214, "system_level_velocity_min": 8.766671515890843, "outflow_rate_mean": 1039.7002190399678, "cost2_mean": -129.4411472016408, "cost1_min": 25.461726400618936, "cost2_max": -20.74121799424043, "cost1_mean": 287.9941170567706, "system_level_velocity_max": 18.978035801812208, "outflow_rate_min": 456.78891906814533, "system_level_velocity_mean": 11.740420136882529, "cost2_min": -171.39660460442565, "outflow_rate_max": 1221.1343332667332}, "time_since_restore": 465.95490980148315, "episode_len_mean": 667.59, "num_metric_batches_dropped": 0, "time_total_s": 465.95490980148315, "iterations_since_restore": 17, "timestamp": 1557251162, "training_iteration": 17, "episodes_total": 287, "policy_reward_mean": {}, "timesteps_total": 687608, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 24.704771280288696, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cb00>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626ccf8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 21, "pid": 288, "episode_reward_mean": 580.1902218246574, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37819, "timesteps_since_restore": 687608, "episode_reward_min": 42.65773264592922, "info": {"sample_time_ms": 15954.713, "update_time_ms": 8.438, "num_steps_trained": 687608, "grad_time_ms": 8801.758, "load_time_ms": 12.539, "default": {"vf_loss": 7.7366533279418945, "vf_explained_var": 0.9232090711593628, "kl": 0.007008884567767382, "policy_loss": -0.0011606455082073808, "cur_lr": 0.0005000000237487257, "total_loss": 7.735887050628662, "entropy": 1.1880651712417603, "cur_kl_coeff": 0.05625000596046448}, "num_steps_sampled": 687608}, "episode_reward_max": 738.2596232406502, "hostname": "flow-main", "date": "2019-05-07_17-46-02"}
{"custom_metrics": {"cost1_max": 420.39891085010214, "system_level_velocity_min": 9.109105090914587, "outflow_rate_mean": 1063.9747539620623, "cost2_mean": -131.95083321971245, "cost1_min": 25.461726400618936, "cost2_max": -20.74121799424043, "cost1_mean": 295.0463184111885, "system_level_velocity_max": 18.978035801812208, "outflow_rate_min": 456.78891906814533, "system_level_velocity_mean": 11.844205417409114, "cost2_min": -171.39660460442565, "outflow_rate_max": 1221.1343332667332}, "time_since_restore": 489.70430755615234, "episode_len_mean": 674.07, "num_metric_batches_dropped": 0, "time_total_s": 489.70430755615234, "iterations_since_restore": 18, "timestamp": 1557251185, "training_iteration": 18, "episodes_total": 304, "policy_reward_mean": {}, "timesteps_total": 726533, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 23.74939775466919, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276128>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276da0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 17, "pid": 288, "episode_reward_mean": 593.6895266242751, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38925, "timesteps_since_restore": 726533, "episode_reward_min": 42.65773264592922, "info": {"sample_time_ms": 15891.575, "update_time_ms": 8.545, "num_steps_trained": 726533, "grad_time_ms": 8870.967, "load_time_ms": 12.6, "default": {"vf_loss": 6.473511695861816, "vf_explained_var": 0.9198895692825317, "kl": 0.0050454349257051945, "policy_loss": -0.0017159143462777138, "cur_lr": 0.0005000000237487257, "total_loss": 6.472079753875732, "entropy": 1.2263840436935425, "cur_kl_coeff": 0.05625000223517418}, "num_steps_sampled": 726533}, "episode_reward_max": 738.2596232406502, "hostname": "flow-main", "date": "2019-05-07_17-46-25"}
{"custom_metrics": {"cost1_max": 420.39891085010214, "system_level_velocity_min": 9.109105090914587, "outflow_rate_mean": 1060.9053240004005, "cost2_mean": -133.9149195714092, "cost1_min": 25.461726400618936, "cost2_max": -20.74121799424043, "cost1_mean": 295.6163855797602, "system_level_velocity_max": 18.978035801812208, "outflow_rate_min": 456.78891906814533, "system_level_velocity_mean": 11.875525765280791, "cost2_min": -179.10912175655508, "outflow_rate_max": 1221.1343332667332}, "time_since_restore": 513.6814379692078, "episode_len_mean": 674.04, "num_metric_batches_dropped": 0, "time_total_s": 513.6814379692078, "iterations_since_restore": 19, "timestamp": 1557251209, "training_iteration": 19, "episodes_total": 320, "policy_reward_mean": {}, "timesteps_total": 765783, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 23.97713041305542, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273400>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 16, "pid": 288, "episode_reward_mean": 592.161744641442, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 39250, "timesteps_since_restore": 765783, "episode_reward_min": 42.65773264592922, "info": {"sample_time_ms": 15765.793, "update_time_ms": 8.489, "num_steps_trained": 765783, "grad_time_ms": 8916.205, "load_time_ms": 12.586, "default": {"vf_loss": 5.0733747482299805, "vf_explained_var": 0.9401649832725525, "kl": 0.012299836613237858, "policy_loss": -0.003270805347710848, "cur_lr": 0.0005000000237487257, "total_loss": 5.070795059204102, "entropy": 1.2090331315994263, "cur_kl_coeff": 0.05625000596046448}, "num_steps_sampled": 765783}, "episode_reward_max": 738.2596232406502, "hostname": "flow-main", "date": "2019-05-07_17-46-49"}
{"custom_metrics": {"cost1_max": 420.39891085010214, "system_level_velocity_min": 9.109105090914587, "outflow_rate_mean": 1062.0721583617637, "cost2_mean": -134.9949841896551, "cost1_min": 25.461726400618936, "cost2_max": -20.74121799424043, "cost1_mean": 299.6002349087396, "system_level_velocity_max": 18.978035801812208, "outflow_rate_min": 456.78891906814533, "system_level_velocity_mean": 11.871450904981826, "cost2_min": -179.10912175655508, "outflow_rate_max": 1221.1343332667332}, "time_since_restore": 539.1370115280151, "episode_len_mean": 680.49, "num_metric_batches_dropped": 0, "time_total_s": 539.1370115280151, "iterations_since_restore": 20, "timestamp": 1557251235, "training_iteration": 20, "episodes_total": 338, "policy_reward_mean": {}, "timesteps_total": 804576, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 25.455573558807373, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276be0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162763c8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 18, "pid": 288, "episode_reward_mean": 596.3074956439358, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38793, "timesteps_since_restore": 804576, "episode_reward_min": 42.65773264592922, "info": {"sample_time_ms": 15713.973, "update_time_ms": 8.601, "num_steps_trained": 804576, "grad_time_ms": 9009.202, "load_time_ms": 12.83, "default": {"vf_loss": 5.469690322875977, "vf_explained_var": 0.9542958736419678, "kl": 0.00906869862228632, "policy_loss": -0.002716367831453681, "cur_lr": 0.0005000000237487257, "total_loss": 5.467484474182129, "entropy": 1.1886930465698242, "cur_kl_coeff": 0.05625000223517418}, "num_steps_sampled": 804576}, "episode_reward_max": 738.2596232406502, "hostname": "flow-main", "date": "2019-05-07_17-47-15"}
{"custom_metrics": {"cost1_max": 407.3477531876531, "system_level_velocity_min": 9.36893137932994, "outflow_rate_mean": 1067.4357649672863, "cost2_mean": -139.48672837297167, "cost1_min": 31.59582914702112, "cost2_max": -25.494015330322576, "cost1_mean": 300.3729722521963, "system_level_velocity_max": 18.867622594404, "outflow_rate_min": 457.87482288505225, "system_level_velocity_mean": 11.740092941946255, "cost2_min": -179.10912175655508, "outflow_rate_max": 1221.1343332667332}, "time_since_restore": 564.5156393051147, "episode_len_mean": 687.11, "num_metric_batches_dropped": 0, "time_total_s": 564.5156393051147, "iterations_since_restore": 21, "timestamp": 1557251260, "training_iteration": 21, "episodes_total": 358, "policy_reward_mean": {}, "timesteps_total": 843498, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 25.37862777709961, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276518>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276358>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "pid": 288, "episode_reward_mean": 597.7803198074241, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38922, "timesteps_since_restore": 843498, "episode_reward_min": 50.4503861967317, "info": {"sample_time_ms": 15659.391, "update_time_ms": 8.599, "num_steps_trained": 843498, "grad_time_ms": 9174.895, "load_time_ms": 12.932, "default": {"vf_loss": 5.861433506011963, "vf_explained_var": 0.9310876727104187, "kl": 0.008622911758720875, "policy_loss": -0.0030859310645610094, "cur_lr": 0.0005000000237487257, "total_loss": 5.858832836151123, "entropy": 1.1824214458465576, "cur_kl_coeff": 0.05625000223517418}, "num_steps_sampled": 843498}, "episode_reward_max": 725.1702020843105, "hostname": "flow-main", "date": "2019-05-07_17-47-40"}
{"custom_metrics": {"cost1_max": 407.3477531876531, "system_level_velocity_min": 9.188359020219146, "outflow_rate_mean": 1060.5951662577372, "cost2_mean": -140.78704194505096, "cost1_min": 17.53698186211389, "cost2_max": -16.551871237610694, "cost1_mean": 296.6851543959443, "system_level_velocity_max": 19.48846111215443, "outflow_rate_min": 415.17295541871965, "system_level_velocity_mean": 11.79909935856993, "cost2_min": -179.10912175655508, "outflow_rate_max": 1272.3815280719277}, "time_since_restore": 589.8596005439758, "episode_len_mean": 680.37, "num_metric_batches_dropped": 0, "time_total_s": 589.8596005439758, "iterations_since_restore": 22, "timestamp": 1557251286, "training_iteration": 22, "episodes_total": 374, "policy_reward_mean": {}, "timesteps_total": 882053, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 25.343961238861084, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276b00>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276b38>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 16, "pid": 288, "episode_reward_mean": 594.1565466085369, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38555, "timesteps_since_restore": 882053, "episode_reward_min": 28.855991219569916, "info": {"sample_time_ms": 15549.403, "update_time_ms": 8.917, "num_steps_trained": 882053, "grad_time_ms": 9194.235, "load_time_ms": 12.607, "default": {"vf_loss": 6.944700717926025, "vf_explained_var": 0.9295355081558228, "kl": 0.00925323087722063, "policy_loss": -0.0025716200470924377, "cur_lr": 0.0005000000237487257, "total_loss": 6.942649841308594, "entropy": 1.1693733930587769, "cur_kl_coeff": 0.05625000596046448}, "num_steps_sampled": 882053}, "episode_reward_max": 725.1702020843105, "hostname": "flow-main", "date": "2019-05-07_17-48-06"}
{"custom_metrics": {"cost1_max": 407.3477531876531, "system_level_velocity_min": 8.2327466538243, "outflow_rate_mean": 1058.1359525367166, "cost2_mean": -140.94009059869182, "cost1_min": 17.53698186211389, "cost2_max": -16.18286452533236, "cost1_mean": 294.68766461187425, "system_level_velocity_max": 19.48846111215443, "outflow_rate_min": 415.17295541871965, "system_level_velocity_mean": 11.732828464094403, "cost2_min": -179.10912175655508, "outflow_rate_max": 1272.3815280719277}, "time_since_restore": 614.4233551025391, "episode_len_mean": 680.08, "num_metric_batches_dropped": 0, "time_total_s": 614.4233551025391, "iterations_since_restore": 23, "timestamp": 1557251310, "training_iteration": 23, "episodes_total": 393, "policy_reward_mean": {}, "timesteps_total": 920178, "experiment_id": "95b3b6ba738847c38b713b9ff54148d6", "time_this_iter_s": 24.563754558563232, "config": {"vf_clip_param": 1000000.0, "monitor": false, "lr_schedule": null, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "synchronize_filters": true, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162760b8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162761d0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "log_level": "INFO", "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "num_cpus_per_worker": 1, "input": "sampler", "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "entropy_coeff": 0.0, "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "squash_to_range": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "clip_rewards": null, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 19, "pid": 288, "episode_reward_mean": 592.2231747954695, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38125, "timesteps_since_restore": 920178, "episode_reward_min": 28.855991219569916, "info": {"sample_time_ms": 15370.519, "update_time_ms": 8.774, "num_steps_trained": 920178, "grad_time_ms": 9224.612, "load_time_ms": 12.418, "default": {"vf_loss": 6.987123966217041, "vf_explained_var": 0.9217745065689087, "kl": 0.009657024405896664, "policy_loss": -0.003973330371081829, "cur_lr": 0.0005000000237487257, "total_loss": 6.983694553375244, "entropy": 1.1762422323226929, "cur_kl_coeff": 0.05625000223517418}, "num_steps_sampled": 920178}, "episode_reward_max": 725.1702020843105, "hostname": "flow-main", "date": "2019-05-07_17-48-30"}
