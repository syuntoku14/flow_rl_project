{"custom_metrics": {"cost1_max": 194.0805058051381, "system_level_velocity_min": 7.536683096977125, "outflow_rate_mean": 480.6773142857143, "cost2_mean": -72.09600065194499, "cost1_min": 194.0805058051381, "outflow_rate_min": 480.6773142857143, "cost1_mean": 194.0805058051381, "system_level_velocity_max": 7.536683096977125, "cost2_max": -72.09600065194499, "system_level_velocity_mean": 7.536683096977125, "cost2_min": -72.09600065194499, "outflow_rate_max": 480.6773142857143}, "time_since_restore": 52.30449914932251, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 52.30449914932251, "iterations_since_restore": 1, "timestamp": 1557250747, "training_iteration": 1, "episodes_total": 1, "episode_reward_max": 410.1402959164344, "timesteps_total": 46760, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 52.30449914932251, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162cecf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162cec88>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162cecc0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 1, "timesteps_since_restore": 46760, "episode_reward_mean": 410.1402959164344, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 46760, "pid": 302, "episode_reward_min": 410.1402959164344, "info": {"sample_time_ms": 39835.284, "num_steps_sampled": 46760, "num_steps_trained": 46760, "grad_time_ms": 11054.351, "load_time_ms": 54.361, "default": {"vf_loss": 1.9459456205368042, "vf_explained_var": 0.8892884254455566, "kl": 0.0007177248480729759, "policy_loss": -0.0002584048197604716, "cur_lr": 0.0005000000237487257, "total_loss": 1.9458308219909668, "entropy": 1.4163206815719604, "cur_kl_coeff": 0.20000004768371582}, "update_time_ms": 1201.667}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-39-07"}
{"custom_metrics": {"cost1_max": 334.1428885767094, "system_level_velocity_min": 3.9012446572883444, "outflow_rate_mean": 574.5918216450218, "cost2_mean": -80.15876144310451, "cost1_min": 92.3664837810246, "outflow_rate_min": 340.1074285714286, "cost1_mean": 238.5546187755777, "system_level_velocity_max": 12.974518777113984, "cost2_max": -59.8837199156231, "system_level_velocity_mean": 9.210399160783538, "cost2_min": -99.02069704202515, "outflow_rate_max": 967.0351999999999}, "time_since_restore": 79.13834047317505, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 79.13834047317505, "iterations_since_restore": 2, "timestamp": 1557250774, "training_iteration": 2, "episodes_total": 21, "episode_reward_max": 623.7499653517522, "timesteps_total": 92416, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 26.83384132385254, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162626d8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262710>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "timesteps_since_restore": 92416, "episode_reward_mean": 494.1353748617664, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 45656, "pid": 302, "episode_reward_min": 367.179527379125, "info": {"sample_time_ms": 28833.35, "num_steps_sampled": 92416, "num_steps_trained": 92416, "grad_time_ms": 9980.143, "load_time_ms": 33.578, "default": {"vf_loss": 1.264785647392273, "vf_explained_var": 0.964819073677063, "kl": 0.006448691710829735, "policy_loss": -0.0024050134234130383, "cur_lr": 0.0005000000237487257, "total_loss": 1.2630254030227661, "entropy": 1.3982605934143066, "cur_kl_coeff": 0.10000001639127731}, "update_time_ms": 605.572}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-39-34"}
{"custom_metrics": {"cost1_max": 334.1428885767094, "system_level_velocity_min": 3.9012446572883444, "outflow_rate_mean": 526.8046492207792, "cost2_mean": -77.35762803885476, "cost1_min": 92.3664837810246, "outflow_rate_min": 178.6368, "cost1_mean": 230.55533525881583, "system_level_velocity_max": 12.974518777113984, "cost2_max": -52.92859960285124, "system_level_velocity_mean": 8.908879271721013, "cost2_min": -99.02069704202515, "outflow_rate_max": 967.0351999999999}, "time_since_restore": 105.33959412574768, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 105.33959412574768, "iterations_since_restore": 3, "timestamp": 1557250801, "training_iteration": 3, "episodes_total": 40, "episode_reward_max": 623.7499653517522, "timesteps_total": 134301, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 26.201253652572632, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273748>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 19, "timesteps_since_restore": 134301, "episode_reward_mean": 473.8896887891886, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 41885, "pid": 302, "episode_reward_min": 273.3538146701938, "info": {"sample_time_ms": 25322.697, "num_steps_sampled": 134301, "num_steps_trained": 134301, "grad_time_ms": 9257.939, "load_time_ms": 26.144, "default": {"vf_loss": 1.1218467950820923, "vf_explained_var": 0.9788408875465393, "kl": 0.002634227741509676, "policy_loss": -0.0011605294421315193, "cur_lr": 0.0005000000237487257, "total_loss": 1.120949625968933, "entropy": 1.4019668102264404, "cur_kl_coeff": 0.10000001639127731}, "update_time_ms": 405.957}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-40-01"}
{"custom_metrics": {"cost1_max": 404.34638758844324, "system_level_velocity_min": 3.9012446572883444, "outflow_rate_mean": 523.9338064758771, "cost2_mean": -75.9626890897305, "cost1_min": 92.3664837810246, "outflow_rate_min": 161.0434285714286, "cost1_mean": 231.57273236274582, "system_level_velocity_max": 15.427200928456616, "cost2_max": -43.01164228814702, "system_level_velocity_mean": 8.944102928934269, "cost2_min": -99.02069704202515, "outflow_rate_max": 1140.0363900099899}, "time_since_restore": 130.8007001876831, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 130.8007001876831, "iterations_since_restore": 4, "timestamp": 1557250826, "training_iteration": 4, "episodes_total": 51, "episode_reward_max": 740.0824410014836, "timesteps_total": 178076, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 25.461106061935425, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cbe0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cda0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c908>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 11, "timesteps_since_restore": 178076, "episode_reward_mean": 471.81460287017035, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 43775, "pid": 302, "episode_reward_min": 273.3538146701938, "info": {"sample_time_ms": 23347.478, "num_steps_sampled": 178076, "num_steps_trained": 178076, "grad_time_ms": 8930.946, "load_time_ms": 22.999, "default": {"vf_loss": 0.9706816673278809, "vf_explained_var": 0.9867199063301086, "kl": 0.005903452169150114, "policy_loss": -0.0028460007160902023, "cur_lr": 0.0005000000237487257, "total_loss": 0.9681307077407837, "entropy": 1.3816614151000977, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 306.349}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-40-26"}
{"custom_metrics": {"cost1_max": 404.34638758844324, "system_level_velocity_min": 3.9012446572883444, "outflow_rate_mean": 540.4856999507534, "cost2_mean": -76.76268297348615, "cost1_min": 92.3664837810246, "outflow_rate_min": 161.0434285714286, "cost1_mean": 234.11271157033727, "system_level_velocity_max": 15.427200928456616, "cost2_max": -43.01164228814702, "system_level_velocity_mean": 9.052508051619187, "cost2_min": -100.61186908422728, "outflow_rate_max": 1140.0363900099899}, "time_since_restore": 158.08939743041992, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 158.08939743041992, "iterations_since_restore": 5, "timestamp": 1557250853, "training_iteration": 5, "episodes_total": 71, "episode_reward_max": 740.0824410014836, "timesteps_total": 222476, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 27.288697242736816, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c390>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c4a8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "timesteps_since_restore": 222476, "episode_reward_mean": 480.9477993528797, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 44400, "pid": 302, "episode_reward_min": 273.3538146701938, "info": {"sample_time_ms": 22370.954, "num_steps_sampled": 222476, "num_steps_trained": 222476, "grad_time_ms": 8889.362, "load_time_ms": 21.81, "default": {"vf_loss": 1.3916016817092896, "vf_explained_var": 0.9816778898239136, "kl": 0.005568242631852627, "policy_loss": -0.002028600312769413, "cur_lr": 0.0005000000237487257, "total_loss": 1.389851450920105, "entropy": 1.390270709991455, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 246.339}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-40-53"}
{"custom_metrics": {"cost1_max": 404.34638758844324, "system_level_velocity_min": 3.9012446572883444, "outflow_rate_mean": 558.1293067870402, "cost2_mean": -77.72210341451346, "cost1_min": 92.3664837810246, "outflow_rate_min": 161.0434285714286, "cost1_mean": 234.5831745561614, "system_level_velocity_max": 15.427200928456616, "cost2_max": -43.01164228814702, "system_level_velocity_mean": 9.0710798224446, "cost2_min": -104.16304202111681, "outflow_rate_max": 1140.0363900099899}, "time_since_restore": 183.6041374206543, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 183.6041374206543, "iterations_since_restore": 6, "timestamp": 1557250879, "training_iteration": 6, "episodes_total": 81, "episode_reward_max": 740.0824410014836, "timesteps_total": 265642, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 25.514739990234375, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273a58>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162734e0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 10, "timesteps_since_restore": 265642, "episode_reward_mean": 490.1655800024334, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 43166, "pid": 302, "episode_reward_min": 273.3538146701938, "info": {"sample_time_ms": 21323.639, "num_steps_sampled": 265642, "num_steps_trained": 265642, "grad_time_ms": 8963.183, "load_time_ms": 20.811, "default": {"vf_loss": 1.770548939704895, "vf_explained_var": 0.9756554961204529, "kl": 0.00782825704663992, "policy_loss": -0.003171023679897189, "cur_lr": 0.0005000000237487257, "total_loss": 1.7677695751190186, "entropy": 1.3696506023406982, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 206.505}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-41-19"}
{"custom_metrics": {"cost1_max": 404.34638758844324, "system_level_velocity_min": 3.9012446572883444, "outflow_rate_mean": 583.1936495712621, "cost2_mean": -78.47219661052101, "cost1_min": 92.3664837810246, "outflow_rate_min": 161.0434285714286, "cost1_mean": 235.2985874254977, "system_level_velocity_max": 15.427200928456616, "cost2_max": -43.01164228814702, "system_level_velocity_mean": 9.101045579096178, "cost2_min": -104.16304202111681, "outflow_rate_max": 1140.0363900099899}, "time_since_restore": 208.27196311950684, "episode_len_mean": 700.0, "num_metric_batches_dropped": 0, "time_total_s": 208.27196311950684, "iterations_since_restore": 7, "timestamp": 1557250904, "training_iteration": 7, "episodes_total": 96, "episode_reward_max": 740.0824410014836, "timesteps_total": 306611, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 24.66782569885254, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262b00>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162624a8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 15, "timesteps_since_restore": 306611, "episode_reward_mean": 504.0286029229075, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 40969, "pid": 302, "episode_reward_min": 273.3538146701938, "info": {"sample_time_ms": 20366.972, "num_steps_sampled": 306611, "num_steps_trained": 306611, "grad_time_ms": 9104.207, "load_time_ms": 19.886, "default": {"vf_loss": 3.390615940093994, "vf_explained_var": 0.9560831189155579, "kl": 0.006137870252132416, "policy_loss": -0.0014013402396813035, "cur_lr": 0.0005000000237487257, "total_loss": 3.389521360397339, "entropy": 1.3673765659332275, "cur_kl_coeff": 0.05000000447034836}, "update_time_ms": 178.056}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-41-44"}
{"custom_metrics": {"cost1_max": 404.34638758844324, "system_level_velocity_min": 5.620839309930402, "outflow_rate_mean": 629.912550947697, "cost2_mean": -77.86584870007351, "cost1_min": 26.097470138026964, "outflow_rate_min": 161.0434285714286, "cost1_mean": 235.82831271616894, "system_level_velocity_max": 18.676208738927688, "cost2_max": -16.196905122091916, "system_level_velocity_mean": 9.295921052344331, "cost2_min": -105.9781495553002, "outflow_rate_max": 1140.0363900099899}, "time_since_restore": 234.0617687702179, "episode_len_mean": 693.39, "num_metric_batches_dropped": 0, "time_total_s": 234.0617687702179, "iterations_since_restore": 8, "timestamp": 1557250929, "training_iteration": 8, "episodes_total": 116, "episode_reward_max": 740.0824410014836, "timesteps_total": 346642, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 25.78980565071106, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c160>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "timesteps_since_restore": 346642, "episode_reward_mean": 521.2470192778485, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 40031, "pid": 302, "episode_reward_min": 47.1863293452506, "info": {"sample_time_ms": 19762.06, "num_steps_sampled": 346642, "num_steps_trained": 346642, "grad_time_ms": 9236.801, "load_time_ms": 18.895, "default": {"vf_loss": 3.988097667694092, "vf_explained_var": 0.9418861269950867, "kl": 0.011844898574054241, "policy_loss": -0.004633304663002491, "cur_lr": 0.0005000000237487257, "total_loss": 3.9840569496154785, "entropy": 1.3407036066055298, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 156.76}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-42-09"}
{"custom_metrics": {"cost1_max": 404.34638758844324, "system_level_velocity_min": 6.049586693900712, "outflow_rate_mean": 727.4204795191255, "cost2_mean": -84.60822901946702, "cost1_min": 26.097470138026964, "outflow_rate_min": 161.0434285714286, "cost1_mean": 241.98357682158976, "system_level_velocity_max": 18.676208738927688, "cost2_max": -16.196905122091916, "system_level_velocity_mean": 9.499507192945687, "cost2_min": -142.30163185469948, "outflow_rate_max": 1140.0363900099899}, "time_since_restore": 260.16595458984375, "episode_len_mean": 693.39, "num_metric_batches_dropped": 0, "time_total_s": 260.16595458984375, "iterations_since_restore": 9, "timestamp": 1557250955, "training_iteration": 9, "episodes_total": 136, "episode_reward_max": 795.1617955286155, "timesteps_total": 385895, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 26.104185819625854, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c320>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626ccc0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "timesteps_since_restore": 385895, "episode_reward_mean": 577.1130670530674, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 39253, "pid": 302, "episode_reward_min": 47.1863293452506, "info": {"sample_time_ms": 19189.134, "num_steps_sampled": 385895, "num_steps_trained": 385895, "grad_time_ms": 9478.11, "load_time_ms": 18.445, "default": {"vf_loss": 7.4102864265441895, "vf_explained_var": 0.8939677476882935, "kl": 0.006056306418031454, "policy_loss": -0.0015320263337343931, "cur_lr": 0.0005000000237487257, "total_loss": 7.4090576171875, "entropy": 1.3240655660629272, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 140.079}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-42-35"}
{"custom_metrics": {"cost1_max": 323.7552392993673, "system_level_velocity_min": 7.558352084437707, "outflow_rate_mean": 825.2237401345102, "cost2_mean": -93.34684068495756, "cost1_min": 26.097470138026964, "outflow_rate_min": 396.6651428571428, "cost1_mean": 250.01743048255943, "system_level_velocity_max": 18.676208738927688, "cost2_max": -16.196905122091916, "system_level_velocity_mean": 9.797121364233925, "cost2_min": -146.30265117822353, "outflow_rate_max": 1191.9842225774223}, "time_since_restore": 284.18320083618164, "episode_len_mean": 693.39, "num_metric_batches_dropped": 0, "time_total_s": 284.18320083618164, "iterations_since_restore": 10, "timestamp": 1557250980, "training_iteration": 10, "episodes_total": 156, "episode_reward_max": 860.9517932583084, "timesteps_total": 424463, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 24.01724624633789, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162736d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273a90>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273710>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "timesteps_since_restore": 424463, "episode_reward_mean": 638.0653929334085, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38568, "pid": 302, "episode_reward_min": 47.1863293452506, "info": {"sample_time_ms": 18751.103, "num_steps_sampled": 424463, "num_steps_trained": 424463, "grad_time_ms": 9441.262, "load_time_ms": 17.912, "default": {"vf_loss": 7.368856906890869, "vf_explained_var": 0.8748250007629395, "kl": 0.0051742782816290855, "policy_loss": -0.0010600563837215304, "cur_lr": 0.0005000000237487257, "total_loss": 7.36805534362793, "entropy": 1.30728018283844, "cur_kl_coeff": 0.050000011920928955}, "update_time_ms": 126.684}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-43-00"}
{"custom_metrics": {"cost1_max": 323.7552392993673, "system_level_velocity_min": 7.558352084437707, "outflow_rate_mean": 872.1376796190256, "cost2_mean": -97.57521173722571, "cost1_min": 26.097470138026964, "outflow_rate_min": 396.6651428571428, "cost1_mean": 253.13488269714406, "system_level_velocity_max": 18.676208738927688, "cost2_max": -16.196905122091916, "system_level_velocity_mean": 9.907039886945222, "cost2_min": -147.58716956729472, "outflow_rate_max": 1211.0013350649351}, "time_since_restore": 308.28368616104126, "episode_len_mean": 693.39, "num_metric_batches_dropped": 0, "time_total_s": 308.28368616104126, "iterations_since_restore": 11, "timestamp": 1557251004, "training_iteration": 11, "episodes_total": 168, "episode_reward_max": 897.651700141463, "timesteps_total": 463893, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 24.10048532485962, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162625c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262e48>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316262748>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 12, "timesteps_since_restore": 463893, "episode_reward_mean": 669.2240141804574, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 39430, "pid": 302, "episode_reward_min": 47.1863293452506, "info": {"sample_time_ms": 16225.914, "num_steps_sampled": 463893, "num_steps_trained": 463893, "grad_time_ms": 9277.457, "load_time_ms": 13.951, "default": {"vf_loss": 4.997217178344727, "vf_explained_var": 0.9235034584999084, "kl": 0.006429204251617193, "policy_loss": -0.0012918638531118631, "cur_lr": 0.0005000000237487257, "total_loss": 4.996246814727783, "entropy": 1.3052928447723389, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 7.34}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-43-24"}
{"custom_metrics": {"cost1_max": 323.7552392993673, "system_level_velocity_min": 7.558352084437707, "outflow_rate_mean": 934.8224656569878, "cost2_mean": -103.39774778856116, "cost1_min": 26.097470138026964, "outflow_rate_min": 457.0763826817826, "cost1_mean": 259.67995790301023, "system_level_velocity_max": 18.676208738927688, "cost2_max": -16.196905122091916, "system_level_velocity_mean": 10.135507203578083, "cost2_min": -147.58716956729472, "outflow_rate_max": 1211.0013350649351}, "time_since_restore": 333.21131706237793, "episode_len_mean": 693.39, "num_metric_batches_dropped": 0, "time_total_s": 333.21131706237793, "iterations_since_restore": 12, "timestamp": 1557251029, "training_iteration": 12, "episodes_total": 185, "episode_reward_max": 897.651700141463, "timesteps_total": 504397, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 24.92763090133667, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626ceb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c518>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c3c8>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 17, "timesteps_since_restore": 504397, "episode_reward_mean": 711.6496250268451, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 40504, "pid": 302, "episode_reward_min": 47.1863293452506, "info": {"sample_time_ms": 15940.048, "num_steps_sampled": 504397, "num_steps_trained": 504397, "grad_time_ms": 9372.326, "load_time_ms": 14.28, "default": {"vf_loss": 6.533513069152832, "vf_explained_var": 0.9054082632064819, "kl": 0.00569879962131381, "policy_loss": -0.0019046558300033212, "cur_lr": 0.0005000000237487257, "total_loss": 6.531893730163574, "entropy": 1.305657148361206, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 7.063}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-43-49"}
{"custom_metrics": {"cost1_max": 332.97562123020134, "system_level_velocity_min": 7.558352084437707, "outflow_rate_mean": 984.034286096548, "cost2_mean": -109.17620650723542, "cost1_min": 26.097470138026964, "outflow_rate_min": 457.0763826817826, "cost1_mean": 266.53774418476195, "system_level_velocity_max": 18.676208738927688, "cost2_max": -16.196905122091916, "system_level_velocity_mean": 10.384893033464056, "cost2_min": -157.41828505139202, "outflow_rate_max": 1211.0013350649351}, "time_since_restore": 359.66968393325806, "episode_len_mean": 693.39, "num_metric_batches_dropped": 0, "time_total_s": 359.66968393325806, "iterations_since_restore": 13, "timestamp": 1557251055, "training_iteration": 13, "episodes_total": 201, "episode_reward_max": 897.651700141463, "timesteps_total": 544134, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 26.458366870880127, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626ce48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c780>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cb00>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 16, "timesteps_since_restore": 544134, "episode_reward_mean": 739.7059270388261, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 39737, "pid": 302, "episode_reward_min": 47.1863293452506, "info": {"sample_time_ms": 15769.919, "num_steps_sampled": 544134, "num_steps_trained": 544134, "grad_time_ms": 9567.349, "load_time_ms": 14.707, "default": {"vf_loss": 6.951991558074951, "vf_explained_var": 0.9248781204223633, "kl": 0.006233546882867813, "policy_loss": -0.0016909297555685043, "cur_lr": 0.0005000000237487257, "total_loss": 6.950612545013428, "entropy": 1.2899888753890991, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 7.052}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-44-15"}
{"custom_metrics": {"cost1_max": 369.8714664210801, "system_level_velocity_min": 7.558352084437707, "outflow_rate_mean": 1023.7096780203224, "cost2_mean": -113.8324508197095, "cost1_min": 31.140877100482797, "outflow_rate_min": 473.73187828570696, "cost1_mean": 274.3172021086125, "system_level_velocity_max": 18.979644684889358, "cost2_max": -16.744555345707507, "system_level_velocity_mean": 10.844698359983175, "cost2_min": -157.41828505139202, "outflow_rate_max": 1272.787866933067}, "time_since_restore": 385.11220479011536, "episode_len_mean": 686.97, "num_metric_batches_dropped": 0, "time_total_s": 385.11220479011536, "iterations_since_restore": 14, "timestamp": 1557251081, "training_iteration": 14, "episodes_total": 222, "episode_reward_max": 936.3044100846047, "timesteps_total": 583215, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 25.4425208568573, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273f28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273710>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 21, "timesteps_since_restore": 583215, "episode_reward_mean": 765.4869444451679, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 39081, "pid": 302, "episode_reward_min": 56.37301364172775, "info": {"sample_time_ms": 15679.409, "num_steps_sampled": 583215, "num_steps_trained": 583215, "grad_time_ms": 9655.938, "load_time_ms": 14.658, "default": {"vf_loss": 10.623990058898926, "vf_explained_var": 0.88321852684021, "kl": 0.007539574056863785, "policy_loss": -0.0023629125207662582, "cur_lr": 0.0005000000237487257, "total_loss": 10.622004508972168, "entropy": 1.292952537536621, "cur_kl_coeff": 0.05000000447034836}, "update_time_ms": 6.916}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-44-41"}
{"custom_metrics": {"cost1_max": 369.8714664210801, "system_level_velocity_min": 8.752330730466, "outflow_rate_mean": 1047.0462388275153, "cost2_mean": -115.95833645319445, "cost1_min": 31.140877100482797, "outflow_rate_min": 473.73187828570696, "cost1_mean": 282.2049475216746, "system_level_velocity_max": 18.979644684889358, "cost2_max": -16.744555345707507, "system_level_velocity_mean": 11.168037999495061, "cost2_min": -157.41828505139202, "outflow_rate_max": 1272.787866933067}, "time_since_restore": 408.33957529067993, "episode_len_mean": 686.97, "num_metric_batches_dropped": 0, "time_total_s": 408.33957529067993, "iterations_since_restore": 15, "timestamp": 1557251104, "training_iteration": 15, "episodes_total": 239, "episode_reward_max": 936.3044100846047, "timesteps_total": 620938, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 23.227370500564575, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162768d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276a90>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276470>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 17, "timesteps_since_restore": 620938, "episode_reward_mean": 776.2874984639571, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37723, "pid": 302, "episode_reward_min": 56.37301364172775, "info": {"sample_time_ms": 15208.698, "num_steps_sampled": 620938, "num_steps_trained": 620938, "grad_time_ms": 9721.462, "load_time_ms": 14.294, "default": {"vf_loss": 8.403547286987305, "vf_explained_var": 0.9119027256965637, "kl": 0.010318201035261154, "policy_loss": -0.003854189533740282, "cur_lr": 0.0005000000237487257, "total_loss": 8.400209426879883, "entropy": 1.2928060293197632, "cur_kl_coeff": 0.05000000074505806}, "update_time_ms": 6.898}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-45-04"}
{"custom_metrics": {"cost1_max": 395.10179913108516, "system_level_velocity_min": 8.95847796172801, "outflow_rate_mean": 1056.5475744798628, "cost2_mean": -114.52755965185183, "cost1_min": 31.140877100482797, "outflow_rate_min": 473.73187828570696, "cost1_mean": 287.4822605549258, "system_level_velocity_max": 18.979644684889358, "cost2_max": -16.744555345707507, "system_level_velocity_mean": 11.379067876563616, "cost2_min": -157.41828505139202, "outflow_rate_max": 1272.787866933067}, "time_since_restore": 433.3423984050751, "episode_len_mean": 686.97, "num_metric_batches_dropped": 0, "time_total_s": 433.3423984050751, "iterations_since_restore": 16, "timestamp": 1557251129, "training_iteration": 16, "episodes_total": 258, "episode_reward_max": 936.3044100846047, "timesteps_total": 658757, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 25.00282311439514, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c278>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c160>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 19, "timesteps_since_restore": 658757, "episode_reward_mean": 772.5651600360433, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37819, "pid": 302, "episode_reward_min": 56.37301364172775, "info": {"sample_time_ms": 15166.476, "num_steps_sampled": 658757, "num_steps_trained": 658757, "grad_time_ms": 9713.406, "load_time_ms": 14.048, "default": {"vf_loss": 10.953879356384277, "vf_explained_var": 0.886709451675415, "kl": 0.006809263490140438, "policy_loss": -0.0017688500229269266, "cur_lr": 0.0005000000237487257, "total_loss": 10.952451705932617, "entropy": 1.295549988746643, "cur_kl_coeff": 0.05000000447034836}, "update_time_ms": 6.916}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-45-29"}
{"custom_metrics": {"cost1_max": 395.10179913108516, "system_level_velocity_min": 8.95847796172801, "outflow_rate_mean": 1058.1259148235192, "cost2_mean": -110.68748258961651, "cost1_min": 31.140877100482797, "outflow_rate_min": 473.73187828570696, "cost1_mean": 286.36717296636374, "system_level_velocity_max": 18.979644684889358, "cost2_max": -16.744555345707507, "system_level_velocity_mean": 11.351285942398965, "cost2_min": -157.41828505139202, "outflow_rate_max": 1272.787866933067}, "time_since_restore": 456.70005321502686, "episode_len_mean": 686.97, "num_metric_batches_dropped": 0, "time_total_s": 456.70005321502686, "iterations_since_restore": 17, "timestamp": 1557251152, "training_iteration": 17, "episodes_total": 278, "episode_reward_max": 936.3044100846047, "timesteps_total": 695223, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 23.357654809951782, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273748>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273da0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "timesteps_since_restore": 695223, "episode_reward_mean": 757.3543083084069, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36466, "pid": 302, "episode_reward_min": 56.37301364172775, "info": {"sample_time_ms": 15087.35, "num_steps_sampled": 695223, "num_steps_trained": 695223, "grad_time_ms": 9660.783, "load_time_ms": 14.184, "default": {"vf_loss": 13.794687271118164, "vf_explained_var": 0.8290622234344482, "kl": 0.008466114290058613, "policy_loss": -0.002201756229624152, "cur_lr": 0.0005000000237487257, "total_loss": 13.79290771484375, "entropy": 1.2991044521331787, "cur_kl_coeff": 0.05000000447034836}, "update_time_ms": 6.901}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-45-52"}
{"custom_metrics": {"cost1_max": 395.10179913108516, "system_level_velocity_min": 8.95847796172801, "outflow_rate_mean": 1050.4550143639788, "cost2_mean": -107.06859286717173, "cost1_min": 31.140877100482797, "outflow_rate_min": 473.73187828570696, "cost1_mean": 287.4629876475216, "system_level_velocity_max": 18.979644684889358, "cost2_max": -16.744555345707507, "system_level_velocity_mean": 11.41347423207906, "cost2_min": -153.22068451740478, "outflow_rate_max": 1272.787866933067}, "time_since_restore": 480.74513483047485, "episode_len_mean": 686.97, "num_metric_batches_dropped": 0, "time_total_s": 480.74513483047485, "iterations_since_restore": 18, "timestamp": 1557251176, "training_iteration": 18, "episodes_total": 294, "episode_reward_max": 936.3044100846047, "timesteps_total": 732031, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 24.045081615447998, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162736a0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273f98>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 16, "timesteps_since_restore": 732031, "episode_reward_mean": 743.411013717429, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 36808, "pid": 302, "episode_reward_min": 56.37301364172775, "info": {"sample_time_ms": 14977.295, "num_steps_sampled": 732031, "num_steps_trained": 732031, "grad_time_ms": 9596.699, "load_time_ms": 14.271, "default": {"vf_loss": 8.687906265258789, "vf_explained_var": 0.8900725841522217, "kl": 0.009153514169156551, "policy_loss": -0.004506404511630535, "cur_lr": 0.0005000000237487257, "total_loss": 8.683857917785645, "entropy": 1.2991197109222412, "cur_kl_coeff": 0.05000000074505806}, "update_time_ms": 6.812}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-46-16"}
{"custom_metrics": {"cost1_max": 395.10179913108516, "system_level_velocity_min": 8.95847796172801, "outflow_rate_mean": 1033.9143865219773, "cost2_mean": -100.18770972759582, "cost1_min": 20.11337300531863, "outflow_rate_min": 441.79929748631736, "cost1_mean": 282.8406086538214, "system_level_velocity_max": 19.525033362794087, "cost2_max": -16.05777522579343, "system_level_velocity_mean": 11.43051147519046, "cost2_min": -140.38714834139432, "outflow_rate_max": 1267.578135864136}, "time_since_restore": 506.41866540908813, "episode_len_mean": 680.31, "num_metric_batches_dropped": 0, "time_total_s": 506.41866540908813, "iterations_since_restore": 19, "timestamp": 1557251202, "training_iteration": 19, "episodes_total": 316, "episode_reward_max": 903.3474741236344, "timesteps_total": 769305, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 25.67353057861328, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626ce10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cfd0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 22, "timesteps_since_restore": 769305, "episode_reward_mean": 712.1818961661749, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37274, "pid": 302, "episode_reward_min": 32.82291744829592, "info": {"sample_time_ms": 15071.765, "num_steps_sampled": 769305, "num_steps_trained": 769305, "grad_time_ms": 9457.759, "load_time_ms": 14.04, "default": {"vf_loss": 15.245983123779297, "vf_explained_var": 0.8178979158401489, "kl": 0.01072629727423191, "policy_loss": -0.0037044479977339506, "cur_lr": 0.0005000000237487257, "total_loss": 15.242815017700195, "entropy": 1.302801489830017, "cur_kl_coeff": 0.05000000447034836}, "update_time_ms": 6.87}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-46-42"}
{"custom_metrics": {"cost1_max": 395.10179913108516, "system_level_velocity_min": 8.95847796172801, "outflow_rate_mean": 1039.1186899249342, "cost2_mean": -99.89973759452562, "cost1_min": 20.11337300531863, "outflow_rate_min": 441.79929748631736, "cost1_mean": 282.848015170953, "system_level_velocity_max": 19.525033362794087, "cost2_max": -16.05777522579343, "system_level_velocity_mean": 11.27404677801702, "cost2_min": -140.38714834139432, "outflow_rate_max": 1267.578135864136}, "time_since_restore": 529.8802065849304, "episode_len_mean": 686.84, "num_metric_batches_dropped": 0, "time_total_s": 529.8802065849304, "iterations_since_restore": 20, "timestamp": 1557251225, "training_iteration": 20, "episodes_total": 330, "episode_reward_max": 903.3474741236344, "timesteps_total": 807263, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 23.461541175842285, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626cb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c550>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c128>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 14, "timesteps_since_restore": 807263, "episode_reward_mean": 719.1700109180886, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37958, "pid": 302, "episode_reward_min": 32.82291744829592, "info": {"sample_time_ms": 14989.349, "num_steps_sampled": 807263, "num_steps_trained": 807263, "grad_time_ms": 9485.382, "load_time_ms": 13.883, "default": {"vf_loss": 11.409341812133789, "vf_explained_var": 0.8640151023864746, "kl": 0.011279754340648651, "policy_loss": -0.0027583062183111906, "cur_lr": 0.0005000000237487257, "total_loss": 11.407147407531738, "entropy": 1.2888038158416748, "cur_kl_coeff": 0.05000000447034836}, "update_time_ms": 7.004}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-47-05"}
{"custom_metrics": {"cost1_max": 395.10179913108516, "system_level_velocity_min": 9.437955436861978, "outflow_rate_mean": 1045.233001845838, "cost2_mean": -98.69486529837216, "cost1_min": 20.11337300531863, "outflow_rate_min": 441.79929748631736, "cost1_mean": 283.5590565635748, "system_level_velocity_max": 19.525033362794087, "cost2_max": -16.05777522579343, "system_level_velocity_mean": 11.454048436961324, "cost2_min": -137.7776909389724, "outflow_rate_max": 1267.578135864136}, "time_since_restore": 556.1161568164825, "episode_len_mean": 680.46, "num_metric_batches_dropped": 0, "time_total_s": 556.1161568164825, "iterations_since_restore": 21, "timestamp": 1557251252, "training_iteration": 21, "episodes_total": 352, "episode_reward_max": 903.3474741236344, "timesteps_total": 845321, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 26.235950231552124, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273fd0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273390>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 22, "timesteps_since_restore": 845321, "episode_reward_mean": 718.9501408444852, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 38058, "pid": 302, "episode_reward_min": 32.82291744829592, "info": {"sample_time_ms": 15195.296, "num_steps_sampled": 845321, "num_steps_trained": 845321, "grad_time_ms": 9492.691, "load_time_ms": 13.937, "default": {"vf_loss": 16.02322769165039, "vf_explained_var": 0.8305314183235168, "kl": 0.008569938130676746, "policy_loss": -0.002654977608472109, "cur_lr": 0.0005000000237487257, "total_loss": 16.0210018157959, "entropy": 1.2666747570037842, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 7.066}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-47-32"}
{"custom_metrics": {"cost1_max": 388.1471010946459, "system_level_velocity_min": 9.511610622096635, "outflow_rate_mean": 1054.1414071285553, "cost2_mean": -98.30019334835644, "cost1_min": 20.11337300531863, "outflow_rate_min": 441.79929748631736, "cost1_mean": 287.8462767463317, "system_level_velocity_max": 19.525033362794087, "cost2_max": -16.05777522579343, "system_level_velocity_mean": 11.608223382791564, "cost2_min": -136.37745345991996, "outflow_rate_max": 1325.6763140859139}, "time_since_restore": 581.4512236118317, "episode_len_mean": 680.46, "num_metric_batches_dropped": 0, "time_total_s": 581.4512236118317, "iterations_since_restore": 22, "timestamp": 1557251277, "training_iteration": 22, "episodes_total": 369, "episode_reward_max": 892.0230398096948, "timesteps_total": 882355, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 25.33506679534912, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316273710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162734e0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb3162732b0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 17, "timesteps_since_restore": 882355, "episode_reward_mean": 721.8331048124268, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37034, "pid": 302, "episode_reward_min": 32.82291744829592, "info": {"sample_time_ms": 15263.938, "num_steps_sampled": 882355, "num_steps_trained": 882355, "grad_time_ms": 9463.945, "load_time_ms": 13.357, "default": {"vf_loss": 11.591713905334473, "vf_explained_var": 0.8933268189430237, "kl": 0.009202859364449978, "policy_loss": -0.002786761149764061, "cur_lr": 0.0005000000237487257, "total_loss": 11.589387893676758, "entropy": 1.2754974365234375, "cur_kl_coeff": 0.05000000447034836}, "update_time_ms": 7.14}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-47-57"}
{"custom_metrics": {"cost1_max": 440.14180466505803, "system_level_velocity_min": 9.298469358613527, "outflow_rate_mean": 1078.3192710726116, "cost2_mean": -100.77682992922104, "cost1_min": 20.11337300531863, "outflow_rate_min": 441.79929748631736, "cost1_mean": 294.3467835593108, "system_level_velocity_max": 19.525033362794087, "cost2_max": -16.05777522579343, "system_level_velocity_mean": 11.839844341049757, "cost2_min": -136.37745345991996, "outflow_rate_max": 1350.6153414585413}, "time_since_restore": 606.3899841308594, "episode_len_mean": 680.46, "num_metric_batches_dropped": 0, "time_total_s": 606.3899841308594, "iterations_since_restore": 23, "timestamp": 1557251302, "training_iteration": 23, "episodes_total": 389, "episode_reward_max": 892.0230398096948, "timesteps_total": 919728, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 24.93876051902771, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276b70>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb316276be0>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 20, "timesteps_since_restore": 919728, "episode_reward_mean": 734.6851287213556, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37373, "pid": 302, "episode_reward_min": 32.82291744829592, "info": {"sample_time_ms": 15159.909, "num_steps_sampled": 919728, "num_steps_trained": 919728, "grad_time_ms": 9415.274, "load_time_ms": 12.828, "default": {"vf_loss": 17.070743560791016, "vf_explained_var": 0.8604339957237244, "kl": 0.009241430088877678, "policy_loss": -0.0035915260668843985, "cur_lr": 0.0005000000237487257, "total_loss": 17.06761360168457, "entropy": 1.2669328451156616, "cur_kl_coeff": 0.05000000447034836}, "update_time_ms": 7.447}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-48-22"}
{"custom_metrics": {"cost1_max": 440.14180466505803, "system_level_velocity_min": 9.298469358613527, "outflow_rate_mean": 1090.503589960053, "cost2_mean": -101.05947248583445, "cost1_min": 20.11337300531863, "outflow_rate_min": 441.79929748631736, "cost1_mean": 298.20484385365097, "system_level_velocity_max": 19.525033362794087, "cost2_max": -16.05777522579343, "system_level_velocity_mean": 12.160663802635392, "cost2_min": -136.37745345991996, "outflow_rate_max": 1350.6153414585413}, "time_since_restore": 631.9800848960876, "episode_len_mean": 673.92, "num_metric_batches_dropped": 0, "time_total_s": 631.9800848960876, "iterations_since_restore": 24, "timestamp": 1557251328, "training_iteration": 24, "episodes_total": 410, "episode_reward_max": 946.1447019418209, "timesteps_total": 956948, "experiment_id": "2b169ea3e94a43a99f9c13bbc9894708", "time_this_iter_s": 25.59010076522827, "config": {"clip_rewards": null, "synchronize_filters": true, "monitor": false, "lr_schedule": null, "vf_clip_param": 1000000.0, "optimizer": {}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "vf_loss_coeff": 1.0, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 1700,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1530.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 170.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "train_batch_size": 30000, "num_gpus_per_worker": 0, "num_cpus_for_driver": 1, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}, "use_gae": true, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb31626c470>"}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:7.0", "num_cpus_per_worker": 1, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "entropy_coeff": 0.0, "lambda": 0.97, "sample_async": false, "compress_observations": false, "input_evaluation": null, "straggler_mitigation": false, "clip_param": 0.3, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_max_file_size": 67108864, "num_gpus": 0, "input": "sampler", "horizon": 1500, "collect_metrics_timeout": 180, "output": null, "log_level": "INFO", "output_compress_columns": ["obs", "new_obs"], "sample_batch_size": 200, "clip_actions": false, "kl_target": 0.01, "lr": 0.0005, "vf_share_layers": false, "custom_resources_per_worker": {}, "sgd_minibatch_size": 128, "simple_optimizer": false, "observation_filter": "NoFilter", "num_workers": 20, "model": {"zero_mean": true, "custom_preprocessor": null, "lstm_use_prev_action_reward": false, "custom_options": {}, "fcnet_activation": "tanh", "dim": 84, "framestack": true, "free_log_std": false, "max_seq_len": 20, "conv_activation": "relu", "use_lstm": false, "squash_to_range": false, "custom_model": null, "channel_major": false, "lstm_cell_size": 256, "grayscale": false, "conv_filters": null, "fcnet_hiddens": [100, 50, 25]}, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind"}, "episodes_this_iter": 21, "timesteps_since_restore": 956948, "episode_reward_mean": 742.1404284856752, "done": false, "node_ip": "10.138.0.2", "timesteps_this_iter": 37220, "pid": 302, "episode_reward_min": 32.82291744829592, "info": {"sample_time_ms": 15129.085, "num_steps_sampled": 956948, "num_steps_trained": 956948, "grad_time_ms": 9459.573, "load_time_ms": 12.596, "default": {"vf_loss": 16.905059814453125, "vf_explained_var": 0.8527197241783142, "kl": 0.00908462330698967, "policy_loss": -0.0022463041823357344, "cur_lr": 0.0005000000237487257, "total_loss": 16.903270721435547, "entropy": 1.24783456325531, "cur_kl_coeff": 0.05000000819563866}, "update_time_ms": 8.228}, "policy_reward_mean": {}, "hostname": "flow-main", "date": "2019-05-07_17-48-48"}
